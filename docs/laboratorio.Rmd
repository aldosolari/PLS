---
title: "Laboratorio Statistico con R"
output:
  xaringan::moon_reader:
    lib_dir: libs
    nature:
      highlightLanguage: R
      countIncrementalSlides: false
      highlightLines: true    
---

```{r startup, include = FALSE, message = FALSE, warning = FALSE}
knitr::opts_chunk$set(echo = T, 
                      eval=T, 
                      message=F, 
                      warning=F, 
                      error=F, 
                      comment=NA, 
                      cache=F)
```


# Importare i dati

```{r}
dati <- read.csv("https://raw.githubusercontent.com/aldosolari/PLS/master/docs/dati.csv")
```



---

# Visualizzare i dati

```{r, eval=FALSE}
View(dati)
```

---

# Matrice dei dati

```{r}
dim(dati)
names(dati)
```

---

class: center, middle

# Numero di risposte corrette

---

# Numero di risposte corrette

```{r}
dati$corrette
```

---

# Numero di risposte corrette

* Dobbiamo cercare di sintetizzare i dati in qualche modo!

* La **variabile** "numero di risposte corrette" può assume i valori
$$0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10$$

* Se contiamo quante volte ciascun valore compare nell’insieme di dati (cioè con quale frequenza compare), otteniamo la **distribuzione di
frequenza** della variabile "numero di risposte corrette"

---

# Distribuzione di frequenza

```{r, eval=FALSE}
table(dati$corrette)
```

```{r, echo=FALSE}
knitr::kable(table(dati$corrette), "html")
```

---

# Frequenze relative

Frequenze relative = Frequenze / Numero di osservazioni

```{r, eval=FALSE}
n = nrow(dati)
table(dati$corrette)/n
```

```{r, echo=FALSE}
n = nrow(dati)
knitr::kable(round(table(dati$corrette)/n,3), "html")
```

---

# Diagramma a bastoncini

```{r}
plot(table(dati$corrette))
```

---

# Valori ordinati

```{r}
sort(dati$corrette)
```

---

# Indici di sintesi

```{r}
summary(dati$corrette)
```

---

# Diagramma a scatola con baffi 

```{r}
boxplot(dati$corrette, horizontal = TRUE)
```

---

class: center, middle

# Rispondendo a caso

Come giudicate la distribuzione del numero di risposte corrette? Qual è il termine di paragone? Rispondendo completamente a caso a tutte le domande, quante risposte corrette ci dobbiamo aspettare?

---

# Rispondendo a caso

```{r}
rbinom(n, size = 10, prob=1/3)
```

---

# La variabile aleatoria Binomiale

$$X \sim \mathrm{Binomiale}(n,p)$$

* $n$ = numero di prove

* $p$ = probabilità di successo in ciascuna prova

* La media o valore atteso di $X$ è pari a

$$n \times p = 10 \times \frac{1}{3} \approx 3.3$$
---

```{r}
plot(table(dati$corrette)/n)
binomiale = dbinom(0:10, size=10, prob=1/3)
lines( (0:10)+.2, binomiale, type="h", col=2)
```

---

```{r}
corretteacaso = rbinom(n, size = 10, prob=1/3)
summary(corretteacaso)
summary(dati$corrette)
```

---

```{r}
boxplot(dati$corrette,corretteacaso, col=2:3, horizontal = TRUE)
```

---

class: center, middle

# Q1: Scolarizzazione delle bambine nei Paesi a basso reddito



---

```{r}
# frequenze assolute
table(dati$Q1)
# frequenze relative
table(dati$Q1)/n
# % di risposte corrette
mean(dati$Q1=="60%")
```


---

```{r}
plot(dati$Q1, col=c(0,0,2))
abline(h=n/3)
```

---

class: center, middle

% di risposte corrette

Qual è stata la domanda più difficile? La più facile?

---



```{r}
pcorrette <- colMeans(dati[,paste("G",1:10, sep="")])
barplot(rbind(pcorrette,1-pcorrette))
abline(h=1/3)
```

---

class: center, middle

# Rappresentazioni grafiche

---

# Diagramma a torta

```{r}
pie(table(dati$sesso))
```

---

# Diagramma a barre

```{r}
barplot(table(dati$zodiac))
```

---

# Istogramma

```{r}
hist(dati$anno)
```

---

class: center, middle

Come varia il numero di risposte corrette rispetto al segno zodiacale?

---

```{r}
aggregate(corrette ~ zodiaco, dati, FUN=median)
```


---

```{r}
boxplot(corrette ~ zodiaco, dati)
```

---

class: center, middle

Come varia il prezzo medio auto tedesche rispetto all’ancoraggio?

---

```{r}
plot(auto ~ anchor_auto, dati)
```

---

class: center, middle

Come varia l'età alla morte di Gandhi rispetto all’ancoraggio?

---

```{r}
plot(gandhi ~ anchor_gandhi, dati)
abline(h=78)
```

---

class: center, middle

Come varia la % Paesi Africani all’ONU rispetto all'ancoraggio?

---

```{r}
cifre_classi = cut(dati$cifre, breaks = seq(0,100,10))
plot(ONU ~ cifre_classi, dati)
```

---

```{r}
plot(ONU ~ cifre, dati)
abline(lm(ONU ~ as.numeric(cifre), dati))
```

