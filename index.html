<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang xml:lang>

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1" />
  <meta name="generator" content="radix" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

  <!--radix_placeholder_meta_tags-->
  <title>Piano Lauree Scientifiche</title>
  
  <meta property="description" itemprop="description" content="**Laboratorio di Statistica**, Università degli Studi di Milano-Bicocca" />
  
  
  <!--  https://schema.org/Article -->
  <meta property="article:published" itemprop="datePublished" content="2019-02-18" />
  <meta property="article:created" itemprop="dateCreated" content="2019-02-18" />
  <meta name="article:author" content="Aldo Solari" />
  <meta name="article:author" content="Laura Terzera" />
  <meta name="article:author" content="Stefano Barberis, Alice Giampino, Luca Danese, Pietro Meoni, Samuele Cassinari" />
  
  <!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
  <meta property="og:title" content="Piano Lauree Scientifiche" />
  <meta property="og:type" content="article" />
  <meta property="og:description" content="**Laboratorio di Statistica**, Università degli Studi di Milano-Bicocca" />
  <meta property="og:locale" content="en_US" />
  
  <!--  https://dev.twitter.com/cards/types/summary -->
  <meta property="twitter:card" content="summary" />
  <meta property="twitter:title" content="Piano Lauree Scientifiche" />
  <meta property="twitter:description" content="**Laboratorio di Statistica**, Università degli Studi di Milano-Bicocca" />
  
  <!--/radix_placeholder_meta_tags-->
  <!--radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-rmarkdown-metadata">
  {"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","description","author","date","output"]}},"value":[{"type":"character","attributes":{},"value":["Piano Lauree Scientifiche"]},{"type":"character","attributes":{},"value":["**Laboratorio di Statistica**, Università degli Studi di Milano-Bicocca \n"]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","url","affiliation","affiliation_url"]}},"value":[{"type":"character","attributes":{},"value":["Aldo Solari"]},{"type":"character","attributes":{},"value":["https://aldosolari.github.io/"]},{"type":"character","attributes":{},"value":["DEMS"]},{"type":"character","attributes":{},"value":["https://www.unimib.it/ateneo/dipartimenti-e-scuole/alla-scoperta-%E2%80%A6/dipartimento-economia-metodi-quantitativi-e-strategie-impresa"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","affiliation","affiliation_url"]}},"value":[{"type":"character","attributes":{},"value":["Laura Terzera"]},{"type":"character","attributes":{},"value":["DISMEQ"]},{"type":"character","attributes":{},"value":["https://www.dismeq.unimib.it/it"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","affiliation"]}},"value":[{"type":"character","attributes":{},"value":["Stefano Barberis, Alice Giampino, Luca Danese, Pietro Meoni, Samuele Cassinari"]},{"type":"character","attributes":{},"value":["Tutor"]}]}]},{"type":"character","attributes":{},"value":["2019-02-18"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["radix::radix_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["toc","toc_depth"]}},"value":[{"type":"logical","attributes":{},"value":[true]},{"type":"integer","attributes":{},"value":[1]}]}]}]}
  </script>
  <!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"list","attributes":{},"value":[]}
  </script>
  <!--radix_placeholder_navigation_in_header-->
  <!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->
  
  <style type="text/css">
  
  body {
    background-color: white;
  }
  
  .pandoc-table {
    width: 100%;
  }
  
  .pandoc-table>caption {
    margin-bottom: 10px;
  }
  
  .pandoc-table th:not([align]) {
    text-align: left;
  }
  
  .pagedtable-footer {
    font-size: 15px;
  }
  
  .html-widget {
    margin-bottom: 2.0em;
  }
  
  .l-screen-inset {
    padding-right: 16px;
  }
  
  .l-screen .caption {
    margin-left: 10px;
  }
  
  .shaded {
    background: rgb(247, 247, 247);
    padding-top: 20px;
    padding-bottom: 20px;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  }
  
  .shaded .html-widget {
    margin-bottom: 0;
    border: 1px solid rgba(0, 0, 0, 0.1);
  }
  
  .shaded .shaded-content {
    background: white;
  }
  
  .text-output {
    margin-top: 0;
    line-height: 1.5em;
  }
  
  .hidden {
    display: none !important;
  }
  
  d-article {
    padding-bottom: 30px;
  }
  
  d-appendix {
    padding-top: 30px;
  }
  
  d-article>p>img {
    width: 100%;
  }
  
  d-article iframe {
    border: 1px solid rgba(0, 0, 0, 0.1);
    margin-bottom: 2.0em;
    width: 100%;
  }
  
  figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }
  
  /* CSS for table of contents */
  
  .d-toc {
    color: rgba(0,0,0,0.8);
    font-size: 0.8em;
    line-height: 1em;
  }
  
  .d-toc-header {
    font-size: 0.6rem;
    font-weight: 400;
    color: rgba(0, 0, 0, 0.5);
    text-transform: uppercase;
    margin-top: 0;
    margin-bottom: 1.3em;
  }
  
  .d-toc a {
    border-bottom: none;
  }
  
  .d-toc ul {
    padding-left: 0;
  }
  
  .d-toc li>ul {
    padding-top: 0.8em;
    padding-left: 16px;
    margin-bottom: 0.6em;
  }
  
  .d-toc ul,
  .d-toc li {
    list-style-type: none;
  }
  
  .d-toc li {
    margin-bottom: 0.9em;
  }
  
  .d-toc-separator {
    margin-top: 20px;
    margin-bottom: 2em;
  }
  
  .d-article-with-toc {
    border-top: none;
    padding-top: 0;
  }
  
  
  
  /* Tweak code blocks (note that this CSS is repeated above in an injection
     into the d-code shadow dom) */
  
  d-code {
    overflow-x: auto !important;
  }
  
  pre.d-code code.d-code {
    padding-left: 10px;
    font-size: 12px;
    border-left: 2px solid rgba(0,0,0,0.1);
  }
  
  pre.text-output {
  
    font-size: 12px;
    color: black;
    background: none;
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;
  
    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;
  
    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }
  
  @media(min-width: 768px) {
  
  d-code {
    overflow-x: visible !important;
  }
  
  pre.d-code code.d-code  {
      padding-left: 18px;
      font-size: 14px;
  }
  pre.text-output {
    font-size: 14px;
  }
  }
  
  /* Figure */
  
  .figure {
    position: relative;
    margin-bottom: 2.5em;
    margin-top: 1.5em;
  }
  
  .figure img {
    width: 100%;
  }
  
  .figure .caption {
    color: rgba(0, 0, 0, 0.6);
    font-size: 12px;
    line-height: 1.5em;
  }
  
  .figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }
  
  .figure .caption a {
    color: rgba(0, 0, 0, 0.6);
  }
  
  .figure .caption b,
  .figure .caption strong, {
    font-weight: 600;
    color: rgba(0, 0, 0, 1.0);
  }
  
  
  
  /* Tweak 1000px media break to show more text */
  
  @media(min-width: 1000px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 16px;
    }
  
    .grid {
      grid-column-gap: 16px;
    }
  
    d-article {
      font-size: 1.06rem;
      line-height: 1.7em;
    }
    figure .caption, .figure .caption, figure figcaption {
      font-size: 13px;
    }
  }
  
  @media(min-width: 1180px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 32px;
    }
  
    .grid {
      grid-column-gap: 32px;
    }
  }
  
  
  /* Get the citation styles for the appendix (not auto-injected on render since
     we do our own rendering of the citation appendix) */
  
  d-appendix .citation-appendix,
  .d-appendix .citation-appendix {
    font-size: 11px;
    line-height: 15px;
    border-left: 1px solid rgba(0, 0, 0, 0.1);
    padding-left: 18px;
    border: 1px solid rgba(0,0,0,0.1);
    background: rgba(0, 0, 0, 0.02);
    padding: 10px 18px;
    border-radius: 3px;
    color: rgba(150, 150, 150, 1);
    overflow: hidden;
    margin-top: -12px;
    white-space: pre-wrap;
    word-wrap: break-word;
  }
  
  
  /* Social footer */
  
  .social_footer {
    margin-top: 30px;
    margin-bottom: 0;
    color: rgba(0,0,0,0.67);
  }
  
  .disqus-comments {
    margin-right: 30px;
  }
  
  .disqus-comment-count {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
    cursor: pointer;
  }
  
  #disqus_thread {
    margin-top: 30px;
  }
  
  .article-sharing a {
    border-bottom: none;
    margin-right: 8px;
  }
  
  .article-sharing a:hover {
    border-bottom: none;
  }
  
  .sidebar-section.subscribe {
    font-size: 12px;
    line-height: 1.6em;
  }
  
  .subscribe p {
    margin-bottom: 0.5em;
  }
  
  
  .article-footer .subscribe {
    font-size: 15px;
    margin-top: 45px;
  }
  
  
  /* Improve display for browsers without grid (IE/Edge <= 15) */
  
  .downlevel {
    line-height: 1.6em;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
    margin: 0;
  }
  
  .downlevel .d-title {
    padding-top: 6rem;
    padding-bottom: 1.5rem;
  }
  
  .downlevel .d-title h1 {
    font-size: 50px;
    font-weight: 700;
    line-height: 1.1em;
    margin: 0 0 0.5rem;
  }
  
  .downlevel .d-title p {
    font-weight: 300;
    font-size: 1.2rem;
    line-height: 1.55em;
    margin-top: 0;
  }
  
  .downlevel .d-byline {
    padding-top: 0.8em;
    padding-bottom: 0.8em;
    font-size: 0.8rem;
    line-height: 1.8em;
  }
  
  .downlevel .section-separator {
    border: none;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
  }
  
  .downlevel .d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
    padding-top: 1rem;
    padding-bottom: 2rem;
  }
  
  
  .downlevel .d-appendix {
    padding-left: 0;
    padding-right: 0;
    max-width: none;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.5);
    padding-top: 40px;
    padding-bottom: 48px;
  }
  
  .downlevel .footnotes ol {
    padding-left: 13px;
  }
  
  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
    padding-left: 40px;
    padding-right: 40px;
  }
  
  @media(min-width: 768px) {
    .downlevel .base-grid,
    .downlevel .distill-header,
    .downlevel .d-title,
    .downlevel .d-abstract,
    .downlevel .d-article,
    .downlevel .d-appendix,
    .downlevel .distill-appendix,
    .downlevel .d-byline,
    .downlevel .d-footnote-list,
    .downlevel .d-citation-list,
    .downlevel .distill-footer,
    .downlevel .appendix-bottom,
    .downlevel .posts-container {
    padding-left: 150px;
    padding-right: 150px;
    max-width: 900px;
  }
  }
  
  .downlevel pre code {
    display: block;
    border-left: 2px solid rgba(0, 0, 0, .1);
    padding: 0 0 0 20px;
    font-size: 14px;
  }
  
  .downlevel code, .downlevel pre {
    color: black;
    background: none;
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;
  
    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;
  
    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }
  
  </style>
  
  <script type="application/javascript">
  
  function is_downlevel_browser() {
    if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                   window.navigator.userAgent)) {
      return true;
    } else {
      return window.load_distill_framework === undefined;
    }
  }
  
  // show body when load is complete
  function on_load_complete() {
  
    // set body to visible
    document.body.style.visibility = 'visible';
  
    // force redraw for leaflet widgets
    if (window.HTMLWidgets) {
      var maps = window.HTMLWidgets.findAll(".leaflet");
      $.each(maps, function(i, el) {
        var map = this.getMap();
        map.invalidateSize();
        map.eachLayer(function(layer) {
          if (layer instanceof L.TileLayer)
            layer.redraw();
        });
      });
    }
  
    // trigger 'shown' so htmlwidgets resize
    $('d-article').trigger('shown');
  }
  
  function init_distill() {
  
    init_common();
  
    // create front matter
    var front_matter = $('<d-front-matter></d-front-matter>');
    $('#distill-front-matter').wrap(front_matter);
  
    // create d-title
    $('.d-title').changeElementType('d-title');
  
    // create d-byline
    var byline = $('<d-byline></d-byline>');
    $('.d-byline').replaceWith(byline);
  
    // create d-article
    var article = $('<d-article></d-article>');
    $('.d-article').wrap(article).children().unwrap();
  
    // move posts container into article
    $('.posts-container').appendTo($('d-article'));
  
    // create d-appendix
    $('.d-appendix').changeElementType('d-appendix');
  
    // create d-bibliography
    var bibliography = $('<d-bibliography></d-bibliography>');
    $('#distill-bibliography').wrap(bibliography);
  
    // flag indicating that we have appendix items
    var appendix = $('.appendix-bottom').children('h3').length > 0;
  
    // replace citations with <d-cite>
    $('.citation').each(function(i, val) {
      appendix = true;
      var cites = $(this).attr('data-cites').split(" ");
      var dt_cite = $('<d-cite></d-cite>');
      dt_cite.attr('key', cites.join());
      $(this).replaceWith(dt_cite);
    });
    // remove refs
    $('#refs').remove();
  
    // replace footnotes with <d-footnote>
    $('.footnote-ref').each(function(i, val) {
      appendix = true;
      var href = $(this).attr('href');
      var id = href.replace('#', '');
      var fn = $('#' + id);
      var fn_p = $('#' + id + '>p');
      fn_p.find('.footnote-back').remove();
      var text = fn_p.html();
      var dtfn = $('<d-footnote></d-footnote>');
      dtfn.html(text);
      $(this).replaceWith(dtfn);
    });
    // remove footnotes
    $('.footnotes').remove();
  
    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      var id = $(this).attr('id');
      $('.d-toc a[href="#' + id + '"]').parent().remove();
      appendix = true;
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
    });
  
    // show d-appendix if we have appendix content
    $("d-appendix").css('display', appendix ? 'grid' : 'none');
  
    // replace code blocks with d-code
    $('pre>code').each(function(i, val) {
      var code = $(this);
      var pre = code.parent();
      var clz = "";
      var language = pre.attr('class');
      if (language) {
        // map unknown languages to "clike" (without this they just dissapear)
        if ($.inArray(language, ["bash", "clike", "css", "go", "html",
                                 "javascript", "js", "julia", "lua", "markdown",
                                 "markup", "mathml", "python", "svg", "xml"]) == -1)
          language = "clike";
        language = ' language="' + language + '"';
        var dt_code = $('<d-code block' + language + clz + '></d-code>');
        dt_code.text(code.text());
        pre.replaceWith(dt_code);
      } else {
        code.addClass('text-output').unwrap().changeElementType('pre');
      }
    });
  
    // localize layout chunks to just output
    $('.layout-chunk').each(function(i, val) {
  
      // capture layout
      var layout = $(this).attr('data-layout');
  
      // apply layout to markdown level block elements
      var elements = $(this).children().not('d-code, pre.text-output, script');
      elements.each(function(i, el) {
        var layout_div = $('<div class="' + layout + '"></div>');
        if (layout_div.hasClass('shaded')) {
          var shaded_content = $('<div class="shaded-content"></div>');
          $(this).wrap(shaded_content);
          $(this).parent().wrap(layout_div);
        } else {
          $(this).wrap(layout_div);
        }
      });
  
  
      // unwrap the layout-chunk div
      $(this).children().unwrap();
    });
  
    // load distill framework
    load_distill_framework();
  
    // wait for window.distillRunlevel == 4 to do post processing
    function distill_post_process() {
  
      if (!window.distillRunlevel || window.distillRunlevel < 4)
        return;
  
      // hide author/affiliations entirely if we have no authors
      var front_matter = JSON.parse($("#distill-front-matter").html());
      var have_authors = front_matter.authors && front_matter.authors.length > 0;
      if (!have_authors)
        $('d-byline').addClass('hidden');
  
      // table of contents
      if (have_authors) // adjust border if we are in authors
        $('.d-toc').parent().addClass('d-article-with-toc');
  
      // strip links that point to #
      $('.authors-affiliations').find('a[href="#"]').removeAttr('href');
  
      // hide elements of author/affiliations grid that have no value
      function hide_byline_column(caption) {
        $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
      }
  
      // affiliations
      var have_affiliations = false;
      for (var i = 0; i<front_matter.authors.length; ++i) {
        var author = front_matter.authors[i];
        if (author.affiliation !== "&nbsp;") {
          have_affiliations = true;
          break;
        }
      }
      if (!have_affiliations)
        $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');
  
      // published date
      if (!front_matter.publishedDate)
        hide_byline_column("Published");
  
      // document object identifier
      var doi = $('d-byline').find('h3:contains("DOI")');
      var doi_p = doi.next().empty();
      if (!front_matter.doi) {
        // if we have a citation and valid citationText then link to that
        if ($('#citation').length > 0 && front_matter.citationText) {
          doi.html('Citation');
          $('<a href="#citation"></a>')
            .text(front_matter.citationText)
            .appendTo(doi_p);
        } else {
          hide_byline_column("DOI");
        }
      } else {
        $('<a></a>')
           .attr('href', "https://doi.org/" + front_matter.doi)
           .html(front_matter.doi)
           .appendTo(doi_p);
      }
  
       // change plural form of authors/affiliations
      if (front_matter.authors.length === 1) {
        var grid = $('.authors-affiliations');
        grid.children('h3:contains("Authors")').text('Author');
        grid.children('h3:contains("Affiliations")').text('Affiliation');
      }
  
      // inject pre code styles (can't do this with a global stylesheet b/c a shadow root is used)
      $('d-code').each(function(i, val) {
        var style = document.createElement('style');
        style.innerHTML = 'pre code { padding-left: 10px; font-size: 12px; border-left: 2px solid rgba(0,0,0,0.1); } ' +
                          '@media(min-width: 768px) { pre code { padding-left: 18px; font-size: 14px; } }';
        if (this.shadowRoot)
          this.shadowRoot.appendChild(style);
      });
  
      // move appendix-bottom entries to the bottom
      $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
      $('.appendix-bottom').remove();
  
      // clear polling timer
      clearInterval(tid);
  
      // show body now that everything is ready
      on_load_complete();
    }
  
    var tid = setInterval(distill_post_process, 50);
    distill_post_process();
  
  }
  
  function init_downlevel() {
  
    init_common();
  
     // insert hr after d-title
    $('.d-title').after($('<hr class="section-separator"/>'));
  
    // check if we have authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;
  
    // manage byline/border
    if (!have_authors)
      $('.d-byline').remove();
    $('.d-byline').after($('<hr class="section-separator"/>'));
    $('.d-byline a').remove();
  
    // remove toc
    $('.d-toc-header').remove();
    $('.d-toc').remove();
    $('.d-toc-separator').remove();
  
    // move appendix elements
    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
    });
  
  
    // inject headers into references and footnotes
    var refs_header = $('<h3></h3>');
    refs_header.text('References');
    $('#refs').prepend(refs_header);
  
    var footnotes_header = $('<h3></h3');
    footnotes_header.text('Footnotes');
    $('.footnotes').children('hr').first().replaceWith(footnotes_header);
  
    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
    $('.appendix-bottom').remove();
  
    // remove appendix if it's empty
    if ($('.d-appendix').children().length === 0)
      $('.d-appendix').remove();
  
    // prepend separator above appendix
    $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));
  
    // trim code
    $('pre>code').each(function(i, val) {
      $(this).html($.trim($(this).html()));
    });
  
    // move posts-container right before article
    $('.posts-container').insertBefore($('.d-article'));
  
    $('body').addClass('downlevel');
  
    on_load_complete();
  }
  
  
  function init_common() {
  
    // jquery plugin to change element types
    (function($) {
      $.fn.changeElementType = function(newType) {
        var attrs = {};
  
        $.each(this[0].attributes, function(idx, attr) {
          attrs[attr.nodeName] = attr.nodeValue;
        });
  
        this.replaceWith(function() {
          return $("<" + newType + "/>", attrs).append($(this).contents());
        });
      };
    })(jQuery);
  
    // prevent underline for linked images
    $('a > img').parent().css({'border-bottom' : 'none'});
  
    // mark non-body figures created by knitr chunks as 100% width
    $('.layout-chunk').each(function(i, val) {
      var figures = $(this).find('img, .html-widget');
      if ($(this).attr('data-layout') !== "l-body") {
        figures.css('width', '100%');
      } else {
        figures.css('max-width', '100%');
        figures.filter("[width]").each(function(i, val) {
          var fig = $(this);
          fig.css('width', fig.attr('width') + 'px');
        });
  
      }
    });
  
    // auto-append index.html to post-preview links in file: protocol
    // and in rstudio ide preview
    $('.post-preview').each(function(i, val) {
      if (window.location.protocol === "file:")
        $(this).attr('href', $(this).attr('href') + "index.html");
    });
  
    // get rid of index.html references in header
    if (window.location.protocol !== "file:") {
      $('.radix-site-header a[href]').each(function(i,val) {
        $(this).attr('href', $(this).attr('href').replace("index.html", "./"));
      });
    }
  
    // add class to pandoc style tables
    $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
    $('.kable-table').children('table').addClass('pandoc-table');
  
    // add figcaption style to table captions
    $('caption').parent('table').addClass("figcaption");
  
    // initialize posts list
    if (window.init_posts_list)
      window.init_posts_list();
  
    // implmement disqus comment link
    $('.disqus-comment-count').click(function() {
      window.headroom_prevent_pin = true;
      $('#disqus_thread').toggleClass('hidden');
      if (!$('#disqus_thread').hasClass('hidden')) {
        var offset = $(this).offset();
        $(window).resize();
        $('html, body').animate({
          scrollTop: offset.top - 35
        });
      }
    });
  }
  
  document.addEventListener('DOMContentLoaded', function() {
    if (is_downlevel_browser())
      init_downlevel();
    else
      window.addEventListener('WebComponentsReady', init_distill);
  });
  
  </script>
  
  <!--/radix_placeholder_distill-->
  <script>/*! jQuery v1.11.3 | (c) 2005, 2015 jQuery Foundation, Inc. | jquery.org/license */
!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k={},l="1.11.3",m=function(a,b){return new m.fn.init(a,b)},n=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,o=/^-ms-/,p=/-([\da-z])/gi,q=function(a,b){return b.toUpperCase()};m.fn=m.prototype={jquery:l,constructor:m,selector:"",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=m.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return m.each(this,a,b)},map:function(a){return this.pushStack(m.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},m.extend=m.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||m.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(e=arguments[h]))for(d in e)a=g[d],c=e[d],g!==c&&(j&&c&&(m.isPlainObject(c)||(b=m.isArray(c)))?(b?(b=!1,f=a&&m.isArray(a)?a:[]):f=a&&m.isPlainObject(a)?a:{},g[d]=m.extend(j,f,c)):void 0!==c&&(g[d]=c));return g},m.extend({expando:"jQuery"+(l+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===m.type(a)},isArray:Array.isArray||function(a){return"array"===m.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!m.isArray(a)&&a-parseFloat(a)+1>=0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},isPlainObject:function(a){var b;if(!a||"object"!==m.type(a)||a.nodeType||m.isWindow(a))return!1;try{if(a.constructor&&!j.call(a,"constructor")&&!j.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}if(k.ownLast)for(b in a)return j.call(a,b);for(b in a);return void 0===b||j.call(a,b)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?h[i.call(a)]||"object":typeof a},globalEval:function(b){b&&m.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(o,"ms-").replace(p,q)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=r(a);if(c){if(g){for(;f>e;e++)if(d=b.apply(a[e],c),d===!1)break}else for(e in a)if(d=b.apply(a[e],c),d===!1)break}else if(g){for(;f>e;e++)if(d=b.call(a[e],e,a[e]),d===!1)break}else for(e in a)if(d=b.call(a[e],e,a[e]),d===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(n,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(r(Object(a))?m.merge(c,"string"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){var d;if(b){if(g)return g.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){var c=+b.length,d=0,e=a.length;while(c>d)a[e++]=b[d++];if(c!==c)while(void 0!==b[d])a[e++]=b[d++];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,f=0,g=a.length,h=r(a),i=[];if(h)for(;g>f;f++)d=b(a[f],f,c),null!=d&&i.push(d);else for(f in a)d=b(a[f],f,c),null!=d&&i.push(d);return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return"string"==typeof b&&(f=a[b],b=a,a=f),m.isFunction(a)?(c=d.call(arguments,2),e=function(){return a.apply(b||this,c.concat(d.call(arguments)))},e.guid=a.guid=a.guid||m.guid++,e):void 0},now:function(){return+new Date},support:k}),m.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){h["[object "+b+"]"]=b.toLowerCase()});function r(a){var b="length"in a&&a.length,c=m.type(a);return"function"===c||m.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var s=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=ha(),z=ha(),A=ha(),B=function(a,b){return a===b&&(l=!0),0},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",N=M.replace("w","w#"),O="\\["+L+"*("+M+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+N+"))|)"+L+"*\\]",P=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+O+")*)|.*)\\)|)",Q=new RegExp(L+"+","g"),R=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),S=new RegExp("^"+L+"*,"+L+"*"),T=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),U=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),V=new RegExp(P),W=new RegExp("^"+N+"$"),X={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M.replace("w","w*")+")"),ATTR:new RegExp("^"+O),PSEUDO:new RegExp("^"+P),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,$=/^[^{]+\{\s*\[native \w/,_=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,aa=/[+~]/,ba=/'|\\/g,ca=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),da=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},ea=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType}catch(fa){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function ga(a,b,d,e){var f,h,j,k,l,o,r,s,w,x;if((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,d=d||[],k=b.nodeType,"string"!=typeof a||!a||1!==k&&9!==k&&11!==k)return d;if(!e&&p){if(11!==k&&(f=_.exec(a)))if(j=f[1]){if(9===k){if(h=b.getElementById(j),!h||!h.parentNode)return d;if(h.id===j)return d.push(h),d}else if(b.ownerDocument&&(h=b.ownerDocument.getElementById(j))&&t(b,h)&&h.id===j)return d.push(h),d}else{if(f[2])return H.apply(d,b.getElementsByTagName(a)),d;if((j=f[3])&&c.getElementsByClassName)return H.apply(d,b.getElementsByClassName(j)),d}if(c.qsa&&(!q||!q.test(a))){if(s=r=u,w=b,x=1!==k&&a,1===k&&"object"!==b.nodeName.toLowerCase()){o=g(a),(r=b.getAttribute("id"))?s=r.replace(ba,"\\$&"):b.setAttribute("id",s),s="[id='"+s+"'] ",l=o.length;while(l--)o[l]=s+ra(o[l]);w=aa.test(a)&&pa(b.parentNode)||b,x=o.join(",")}if(x)try{return H.apply(d,w.querySelectorAll(x)),d}catch(y){}finally{r||b.removeAttribute("id")}}}return i(a.replace(R,"$1"),b,d,e)}function ha(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function ia(a){return a[u]=!0,a}function ja(a){var b=n.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ka(a,b){var c=a.split("|"),e=a.length;while(e--)d.attrHandle[c[e]]=b}function la(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function na(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function oa(a){return ia(function(b){return b=+b,ia(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function pa(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}c=ga.support={},f=ga.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=ga.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=g.documentElement,e=g.defaultView,e&&e!==e.top&&(e.addEventListener?e.addEventListener("unload",ea,!1):e.attachEvent&&e.attachEvent("onunload",ea)),p=!f(g),c.attributes=ja(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ja(function(a){return a.appendChild(g.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=$.test(g.getElementsByClassName),c.getById=ja(function(a){return o.appendChild(a).id=u,!g.getElementsByName||!g.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ca,da);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ca,da);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=$.test(g.querySelectorAll))&&(ja(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\f]' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+L+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+L+"*(?:value|"+K+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),ja(function(a){var b=g.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+L+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=$.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ja(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",P)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=$.test(o.compareDocumentPosition),t=b||$.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===g||a.ownerDocument===v&&t(v,a)?-1:b===g||b.ownerDocument===v&&t(v,b)?1:k?J(k,a)-J(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,h=[a],i=[b];if(!e||!f)return a===g?-1:b===g?1:e?-1:f?1:k?J(k,a)-J(k,b):0;if(e===f)return la(a,b);c=a;while(c=c.parentNode)h.unshift(c);c=b;while(c=c.parentNode)i.unshift(c);while(h[d]===i[d])d++;return d?la(h[d],i[d]):h[d]===v?-1:i[d]===v?1:0},g):n},ga.matches=function(a,b){return ga(a,null,null,b)},ga.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(U,"='$1']"),!(!c.matchesSelector||!p||r&&r.test(b)||q&&q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return ga(b,n,null,[a]).length>0},ga.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},ga.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},ga.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},ga.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=ga.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=ga.selectors={cacheLength:50,createPseudo:ia,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ca,da),a[3]=(a[3]||a[4]||a[5]||"").replace(ca,da),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||ga.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&ga.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return X.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&V.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ca,da).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+L+")"+a+"("+L+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=ga.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(Q," ")+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){while(p){l=b;while(l=l[p])if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){k=q[u]||(q[u]={}),j=k[a]||[],n=j[0]===w&&j[1],m=j[0]===w&&j[2],l=n&&q.childNodes[n];while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if(1===l.nodeType&&++m&&l===b){k[a]=[w,n,m];break}}else if(s&&(j=(b[u]||(b[u]={}))[a])&&j[0]===w)m=j[1];else while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if((h?l.nodeName.toLowerCase()===r:1===l.nodeType)&&++m&&(s&&((l[u]||(l[u]={}))[a]=[w,m]),l===b))break;return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||ga.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ia(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=J(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ia(function(a){var b=[],c=[],d=h(a.replace(R,"$1"));return d[u]?ia(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ia(function(a){return function(b){return ga(a,b).length>0}}),contains:ia(function(a){return a=a.replace(ca,da),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ia(function(a){return W.test(a||"")||ga.error("unsupported lang: "+a),a=a.replace(ca,da).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Z.test(a.nodeName)},input:function(a){return Y.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:oa(function(){return[0]}),last:oa(function(a,b){return[b-1]}),eq:oa(function(a,b,c){return[0>c?c+b:c]}),even:oa(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:oa(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:oa(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:oa(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=ma(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=na(b);function qa(){}qa.prototype=d.filters=d.pseudos,d.setFilters=new qa,g=ga.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){(!c||(e=S.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=T.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(R," ")}),h=h.slice(c.length));for(g in d.filter)!(e=X[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?ga.error(a):z(a,i).slice(0)};function ra(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function sa(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[w,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(i=b[u]||(b[u]={}),(h=i[d])&&h[0]===w&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function ta(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function ua(a,b,c){for(var d=0,e=b.length;e>d;d++)ga(a,b[d],c);return c}function va(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function wa(a,b,c,d,e,f){return d&&!d[u]&&(d=wa(d)),e&&!e[u]&&(e=wa(e,f)),ia(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ua(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:va(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=va(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?J(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=va(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)})}function xa(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=sa(function(a){return a===b},h,!0),l=sa(function(a){return J(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f>i;i++)if(c=d.relative[a[i].type])m=[sa(ta(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++)if(d.relative[a[e].type])break;return wa(i>1&&ta(m),i>1&&ra(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(R,"$1"),c,e>i&&xa(a.slice(i,e)),f>e&&xa(a=a.slice(e)),f>e&&ra(a))}m.push(c)}return ta(m)}function ya(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,m,o,p=0,q="0",r=f&&[],s=[],t=j,u=f||e&&d.find.TAG("*",k),v=w+=null==t?1:Math.random()||.1,x=u.length;for(k&&(j=g!==n&&g);q!==x&&null!=(l=u[q]);q++){if(e&&l){m=0;while(o=a[m++])if(o(l,g,h)){i.push(l);break}k&&(w=v)}c&&((l=!o&&l)&&p--,f&&r.push(l))}if(p+=q,c&&q!==p){m=0;while(o=b[m++])o(r,s,g,h);if(f){if(p>0)while(q--)r[q]||s[q]||(s[q]=F.call(i));s=va(s)}H.apply(i,s),k&&!f&&s.length>0&&p+b.length>1&&ga.uniqueSort(i)}return k&&(w=v,j=t),r};return c?ia(f):f}return h=ga.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--)f=xa(b[c]),f[u]?d.push(f):e.push(f);f=A(a,ya(e,d)),f.selector=a}return f},i=ga.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(ca,da),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=X.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type])break;if((m=d.find[l])&&(f=m(k.matches[0].replace(ca,da),aa.test(j[0].type)&&pa(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&ra(j),!a)return H.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,aa.test(a)&&pa(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ja(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),ja(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||ka("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ja(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||ka("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ja(function(a){return null==a.getAttribute("disabled")})||ka(K,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),ga}(a);m.find=s,m.expr=s.selectors,m.expr[":"]=m.expr.pseudos,m.unique=s.uniqueSort,m.text=s.getText,m.isXMLDoc=s.isXML,m.contains=s.contains;var t=m.expr.match.needsContext,u=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,v=/^.[^:#\[\.,]*$/;function w(a,b,c){if(m.isFunction(b))return m.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return m.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(v.test(b))return m.filter(b,a,c);b=m.filter(b,a)}return m.grep(a,function(a){return m.inArray(a,b)>=0!==c})}m.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?m.find.matchesSelector(d,a)?[d]:[]:m.find.matches(a,m.grep(b,function(a){return 1===a.nodeType}))},m.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if("string"!=typeof a)return this.pushStack(m(a).filter(function(){for(b=0;e>b;b++)if(m.contains(d[b],this))return!0}));for(b=0;e>b;b++)m.find(a,d[b],c);return c=this.pushStack(e>1?m.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},filter:function(a){return this.pushStack(w(this,a||[],!1))},not:function(a){return this.pushStack(w(this,a||[],!0))},is:function(a){return!!w(this,"string"==typeof a&&t.test(a)?m(a):a||[],!1).length}});var x,y=a.document,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,A=m.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(c="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:z.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||x).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof m?b[0]:b,m.merge(this,m.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:y,!0)),u.test(c[1])&&m.isPlainObject(b))for(c in b)m.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}if(d=y.getElementById(c[2]),d&&d.parentNode){if(d.id!==c[2])return x.find(a);this.length=1,this[0]=d}return this.context=y,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):m.isFunction(a)?"undefined"!=typeof x.ready?x.ready(a):a(m):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),m.makeArray(a,this))};A.prototype=m.fn,x=m(y);var B=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};m.extend({dir:function(a,b,c){var d=[],e=a[b];while(e&&9!==e.nodeType&&(void 0===c||1!==e.nodeType||!m(e).is(c)))1===e.nodeType&&d.push(e),e=e[b];return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),m.fn.extend({has:function(a){var b,c=m(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++)if(m.contains(this,c[b]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=t.test(a)||"string"!=typeof a?m(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&m.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?m.unique(f):f)},index:function(a){return a?"string"==typeof a?m.inArray(this[0],m(a)):m.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(m.unique(m.merge(this.get(),m(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function D(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}m.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return m.dir(a,"parentNode")},parentsUntil:function(a,b,c){return m.dir(a,"parentNode",c)},next:function(a){return D(a,"nextSibling")},prev:function(a){return D(a,"previousSibling")},nextAll:function(a){return m.dir(a,"nextSibling")},prevAll:function(a){return m.dir(a,"previousSibling")},nextUntil:function(a,b,c){return m.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return m.dir(a,"previousSibling",c)},siblings:function(a){return m.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return m.sibling(a.firstChild)},contents:function(a){return m.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:m.merge([],a.childNodes)}},function(a,b){m.fn[a]=function(c,d){var e=m.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=m.filter(d,e)),this.length>1&&(C[a]||(e=m.unique(e)),B.test(a)&&(e=e.reverse())),this.pushStack(e)}});var E=/\S+/g,F={};function G(a){var b=F[a]={};return m.each(a.match(E)||[],function(a,c){b[c]=!0}),b}m.Callbacks=function(a){a="string"==typeof a?F[a]||G(a):m.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(c=a.memory&&l,d=!0,f=g||0,g=0,e=h.length,b=!0;h&&e>f;f++)if(h[f].apply(l[0],l[1])===!1&&a.stopOnFalse){c=!1;break}b=!1,h&&(i?i.length&&j(i.shift()):c?h=[]:k.disable())},k={add:function(){if(h){var d=h.length;!function f(b){m.each(b,function(b,c){var d=m.type(c);"function"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&"string"!==d&&f(c)})}(arguments),b?e=h.length:c&&(g=d,j(c))}return this},remove:function(){return h&&m.each(arguments,function(a,c){var d;while((d=m.inArray(c,h,d))>-1)h.splice(d,1),b&&(e>=d&&e--,f>=d&&f--)}),this},has:function(a){return a?m.inArray(a,h)>-1:!(!h||!h.length)},empty:function(){return h=[],e=0,this},disable:function(){return h=i=c=void 0,this},disabled:function(){return!h},lock:function(){return i=void 0,c||k.disable(),this},locked:function(){return!i},fireWith:function(a,c){return!h||d&&!i||(c=c||[],c=[a,c.slice?c.slice():c],b?i.push(c):j(c)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!d}};return k},m.extend({Deferred:function(a){var b=[["resolve","done",m.Callbacks("once memory"),"resolved"],["reject","fail",m.Callbacks("once memory"),"rejected"],["notify","progress",m.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return m.Deferred(function(c){m.each(b,function(b,f){var g=m.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&m.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?m.extend(a,d):d}},e={};return d.pipe=d.then,m.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&m.isFunction(a.promise)?e:0,g=1===f?a:m.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(e>1)for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++)c[b]&&m.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f;return f||g.resolveWith(k,c),g.promise()}});var H;m.fn.ready=function(a){return m.ready.promise().done(a),this},m.extend({isReady:!1,readyWait:1,holdReady:function(a){a?m.readyWait++:m.ready(!0)},ready:function(a){if(a===!0?!--m.readyWait:!m.isReady){if(!y.body)return setTimeout(m.ready);m.isReady=!0,a!==!0&&--m.readyWait>0||(H.resolveWith(y,[m]),m.fn.triggerHandler&&(m(y).triggerHandler("ready"),m(y).off("ready")))}}});function I(){y.addEventListener?(y.removeEventListener("DOMContentLoaded",J,!1),a.removeEventListener("load",J,!1)):(y.detachEvent("onreadystatechange",J),a.detachEvent("onload",J))}function J(){(y.addEventListener||"load"===event.type||"complete"===y.readyState)&&(I(),m.ready())}m.ready.promise=function(b){if(!H)if(H=m.Deferred(),"complete"===y.readyState)setTimeout(m.ready);else if(y.addEventListener)y.addEventListener("DOMContentLoaded",J,!1),a.addEventListener("load",J,!1);else{y.attachEvent("onreadystatechange",J),a.attachEvent("onload",J);var c=!1;try{c=null==a.frameElement&&y.documentElement}catch(d){}c&&c.doScroll&&!function e(){if(!m.isReady){try{c.doScroll("left")}catch(a){return setTimeout(e,50)}I(),m.ready()}}()}return H.promise(b)};var K="undefined",L;for(L in m(k))break;k.ownLast="0"!==L,k.inlineBlockNeedsLayout=!1,m(function(){var a,b,c,d;c=y.getElementsByTagName("body")[0],c&&c.style&&(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),typeof b.style.zoom!==K&&(b.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",k.inlineBlockNeedsLayout=a=3===b.offsetWidth,a&&(c.style.zoom=1)),c.removeChild(d))}),function(){var a=y.createElement("div");if(null==k.deleteExpando){k.deleteExpando=!0;try{delete a.test}catch(b){k.deleteExpando=!1}}a=null}(),m.acceptData=function(a){var b=m.noData[(a.nodeName+" ").toLowerCase()],c=+a.nodeType||1;return 1!==c&&9!==c?!1:!b||b!==!0&&a.getAttribute("classid")===b};var M=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,N=/([A-Z])/g;function O(a,b,c){if(void 0===c&&1===a.nodeType){var d="data-"+b.replace(N,"-$1").toLowerCase();if(c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:M.test(c)?m.parseJSON(c):c}catch(e){}m.data(a,b,c)}else c=void 0}return c}function P(a){var b;for(b in a)if(("data"!==b||!m.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;

return!0}function Q(a,b,d,e){if(m.acceptData(a)){var f,g,h=m.expando,i=a.nodeType,j=i?m.cache:a,k=i?a[h]:a[h]&&h;if(k&&j[k]&&(e||j[k].data)||void 0!==d||"string"!=typeof b)return k||(k=i?a[h]=c.pop()||m.guid++:h),j[k]||(j[k]=i?{}:{toJSON:m.noop}),("object"==typeof b||"function"==typeof b)&&(e?j[k]=m.extend(j[k],b):j[k].data=m.extend(j[k].data,b)),g=j[k],e||(g.data||(g.data={}),g=g.data),void 0!==d&&(g[m.camelCase(b)]=d),"string"==typeof b?(f=g[b],null==f&&(f=g[m.camelCase(b)])):f=g,f}}function R(a,b,c){if(m.acceptData(a)){var d,e,f=a.nodeType,g=f?m.cache:a,h=f?a[m.expando]:m.expando;if(g[h]){if(b&&(d=c?g[h]:g[h].data)){m.isArray(b)?b=b.concat(m.map(b,m.camelCase)):b in d?b=[b]:(b=m.camelCase(b),b=b in d?[b]:b.split(" ")),e=b.length;while(e--)delete d[b[e]];if(c?!P(d):!m.isEmptyObject(d))return}(c||(delete g[h].data,P(g[h])))&&(f?m.cleanData([a],!0):k.deleteExpando||g!=g.window?delete g[h]:g[h]=null)}}}m.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return a=a.nodeType?m.cache[a[m.expando]]:a[m.expando],!!a&&!P(a)},data:function(a,b,c){return Q(a,b,c)},removeData:function(a,b){return R(a,b)},_data:function(a,b,c){return Q(a,b,c,!0)},_removeData:function(a,b){return R(a,b,!0)}}),m.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=m.data(f),1===f.nodeType&&!m._data(f,"parsedAttrs"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=m.camelCase(d.slice(5)),O(f,d,e[d])));m._data(f,"parsedAttrs",!0)}return e}return"object"==typeof a?this.each(function(){m.data(this,a)}):arguments.length>1?this.each(function(){m.data(this,a,b)}):f?O(f,a,m.data(f,a)):void 0},removeData:function(a){return this.each(function(){m.removeData(this,a)})}}),m.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=m._data(a,b),c&&(!d||m.isArray(c)?d=m._data(a,b,m.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=m.queue(a,b),d=c.length,e=c.shift(),f=m._queueHooks(a,b),g=function(){m.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return m._data(a,c)||m._data(a,c,{empty:m.Callbacks("once memory").add(function(){m._removeData(a,b+"queue"),m._removeData(a,c)})})}}),m.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?m.queue(this[0],a):void 0===b?this:this.each(function(){var c=m.queue(this,a,b);m._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&m.dequeue(this,a)})},dequeue:function(a){return this.each(function(){m.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=m.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)c=m._data(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var S=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,T=["Top","Right","Bottom","Left"],U=function(a,b){return a=b||a,"none"===m.css(a,"display")||!m.contains(a.ownerDocument,a)},V=m.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===m.type(c)){e=!0;for(h in c)m.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,m.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(m(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},W=/^(?:checkbox|radio)$/i;!function(){var a=y.createElement("input"),b=y.createElement("div"),c=y.createDocumentFragment();if(b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",k.leadingWhitespace=3===b.firstChild.nodeType,k.tbody=!b.getElementsByTagName("tbody").length,k.htmlSerialize=!!b.getElementsByTagName("link").length,k.html5Clone="<:nav></:nav>"!==y.createElement("nav").cloneNode(!0).outerHTML,a.type="checkbox",a.checked=!0,c.appendChild(a),k.appendChecked=a.checked,b.innerHTML="<textarea>x</textarea>",k.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,c.appendChild(b),b.innerHTML="<input type='radio' checked='checked' name='t'/>",k.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,k.noCloneEvent=!0,b.attachEvent&&(b.attachEvent("onclick",function(){k.noCloneEvent=!1}),b.cloneNode(!0).click()),null==k.deleteExpando){k.deleteExpando=!0;try{delete b.test}catch(d){k.deleteExpando=!1}}}(),function(){var b,c,d=y.createElement("div");for(b in{submit:!0,change:!0,focusin:!0})c="on"+b,(k[b+"Bubbles"]=c in a)||(d.setAttribute(c,"t"),k[b+"Bubbles"]=d.attributes[c].expando===!1);d=null}();var X=/^(?:input|select|textarea)$/i,Y=/^key/,Z=/^(?:mouse|pointer|contextmenu)|click/,$=/^(?:focusinfocus|focusoutblur)$/,_=/^([^.]*)(?:\.(.+)|)$/;function aa(){return!0}function ba(){return!1}function ca(){try{return y.activeElement}catch(a){}}m.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,n,o,p,q,r=m._data(a);if(r){c.handler&&(i=c,c=i.handler,e=i.selector),c.guid||(c.guid=m.guid++),(g=r.events)||(g=r.events={}),(k=r.handle)||(k=r.handle=function(a){return typeof m===K||a&&m.event.triggered===a.type?void 0:m.event.dispatch.apply(k.elem,arguments)},k.elem=a),b=(b||"").match(E)||[""],h=b.length;while(h--)f=_.exec(b[h])||[],o=q=f[1],p=(f[2]||"").split(".").sort(),o&&(j=m.event.special[o]||{},o=(e?j.delegateType:j.bindType)||o,j=m.event.special[o]||{},l=m.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&m.expr.match.needsContext.test(e),namespace:p.join(".")},i),(n=g[o])||(n=g[o]=[],n.delegateCount=0,j.setup&&j.setup.call(a,d,p,k)!==!1||(a.addEventListener?a.addEventListener(o,k,!1):a.attachEvent&&a.attachEvent("on"+o,k))),j.add&&(j.add.call(a,l),l.handler.guid||(l.handler.guid=c.guid)),e?n.splice(n.delegateCount++,0,l):n.push(l),m.event.global[o]=!0);a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,n,o,p,q,r=m.hasData(a)&&m._data(a);if(r&&(k=r.events)){b=(b||"").match(E)||[""],j=b.length;while(j--)if(h=_.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=m.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,n=k[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=f=n.length;while(f--)g=n[f],!e&&q!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(n.splice(f,1),g.selector&&n.delegateCount--,l.remove&&l.remove.call(a,g));i&&!n.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||m.removeEvent(a,o,r.handle),delete k[o])}else for(o in k)m.event.remove(a,o+b[j],c,d,!0);m.isEmptyObject(k)&&(delete r.handle,m._removeData(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,k,l,n,o=[d||y],p=j.call(b,"type")?b.type:b,q=j.call(b,"namespace")?b.namespace.split("."):[];if(h=l=d=d||y,3!==d.nodeType&&8!==d.nodeType&&!$.test(p+m.event.triggered)&&(p.indexOf(".")>=0&&(q=p.split("."),p=q.shift(),q.sort()),g=p.indexOf(":")<0&&"on"+p,b=b[m.expando]?b:new m.Event(p,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=q.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+q.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:m.makeArray(c,[b]),k=m.event.special[p]||{},e||!k.trigger||k.trigger.apply(d,c)!==!1)){if(!e&&!k.noBubble&&!m.isWindow(d)){for(i=k.delegateType||p,$.test(i+p)||(h=h.parentNode);h;h=h.parentNode)o.push(h),l=h;l===(d.ownerDocument||y)&&o.push(l.defaultView||l.parentWindow||a)}n=0;while((h=o[n++])&&!b.isPropagationStopped())b.type=n>1?i:k.bindType||p,f=(m._data(h,"events")||{})[b.type]&&m._data(h,"handle"),f&&f.apply(h,c),f=g&&h[g],f&&f.apply&&m.acceptData(h)&&(b.result=f.apply(h,c),b.result===!1&&b.preventDefault());if(b.type=p,!e&&!b.isDefaultPrevented()&&(!k._default||k._default.apply(o.pop(),c)===!1)&&m.acceptData(d)&&g&&d[p]&&!m.isWindow(d)){l=d[g],l&&(d[g]=null),m.event.triggered=p;try{d[p]()}catch(r){}m.event.triggered=void 0,l&&(d[g]=l)}return b.result}},dispatch:function(a){a=m.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(m._data(this,"events")||{})[a.type]||[],k=m.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=m.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,g=0;while((e=f.handlers[g++])&&!a.isImmediatePropagationStopped())(!a.namespace_re||a.namespace_re.test(e.namespace))&&(a.handleObj=e,a.data=e.data,c=((m.event.special[e.origType]||{}).handle||e.handler).apply(f.elem,i),void 0!==c&&(a.result=c)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!=this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(e=[],f=0;h>f;f++)d=b[f],c=d.selector+" ",void 0===e[c]&&(e[c]=d.needsContext?m(c,this).index(i)>=0:m.find(c,this,null,[i]).length),e[c]&&e.push(d);e.length&&g.push({elem:i,handlers:e})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},fix:function(a){if(a[m.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];g||(this.fixHooks[e]=g=Z.test(e)?this.mouseHooks:Y.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new m.Event(f),b=d.length;while(b--)c=d[b],a[c]=f[c];return a.target||(a.target=f.srcElement||y),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,f):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button,g=b.fromElement;return null==a.pageX&&null!=b.clientX&&(d=a.target.ownerDocument||y,e=d.documentElement,c=d.body,a.pageX=b.clientX+(e&&e.scrollLeft||c&&c.scrollLeft||0)-(e&&e.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||c&&c.scrollTop||0)-(e&&e.clientTop||c&&c.clientTop||0)),!a.relatedTarget&&g&&(a.relatedTarget=g===a.target?b.toElement:g),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==ca()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){return this===ca()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return m.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return m.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=m.extend(new m.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?m.event.trigger(e,null,b):m.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},m.removeEvent=y.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]===K&&(a[d]=null),a.detachEvent(d,c))},m.Event=function(a,b){return this instanceof m.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?aa:ba):this.type=a,b&&m.extend(this,b),this.timeStamp=a&&a.timeStamp||m.now(),void(this[m.expando]=!0)):new m.Event(a,b)},m.Event.prototype={isDefaultPrevented:ba,isPropagationStopped:ba,isImmediatePropagationStopped:ba,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=aa,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=aa,a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=aa,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},m.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){m.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!m.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),k.submitBubbles||(m.event.special.submit={setup:function(){return m.nodeName(this,"form")?!1:void m.event.add(this,"click._submit keypress._submit",function(a){var b=a.target,c=m.nodeName(b,"input")||m.nodeName(b,"button")?b.form:void 0;c&&!m._data(c,"submitBubbles")&&(m.event.add(c,"submit._submit",function(a){a._submit_bubble=!0}),m._data(c,"submitBubbles",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&m.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return m.nodeName(this,"form")?!1:void m.event.remove(this,"._submit")}}),k.changeBubbles||(m.event.special.change={setup:function(){return X.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(m.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),m.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),m.event.simulate("change",this,a,!0)})),!1):void m.event.add(this,"beforeactivate._change",function(a){var b=a.target;X.test(b.nodeName)&&!m._data(b,"changeBubbles")&&(m.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||m.event.simulate("change",this.parentNode,a,!0)}),m._data(b,"changeBubbles",!0))})},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return m.event.remove(this,"._change"),!X.test(this.nodeName)}}),k.focusinBubbles||m.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){m.event.simulate(b,a.target,m.event.fix(a),!0)};m.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=m._data(d,b);e||d.addEventListener(a,c,!0),m._data(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=m._data(d,b)-1;e?m._data(d,b,e):(d.removeEventListener(a,c,!0),m._removeData(d,b))}}}),m.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(f in a)this.on(f,b,c,a[f],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=ba;else if(!d)return this;return 1===e&&(g=d,d=function(a){return m().off(a),g.apply(this,arguments)},d.guid=g.guid||(g.guid=m.guid++)),this.each(function(){m.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,m(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=ba),this.each(function(){m.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){m.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?m.event.trigger(a,b,c,!0):void 0}});function da(a){var b=ea.split("|"),c=a.createDocumentFragment();if(c.createElement)while(b.length)c.createElement(b.pop());return c}var ea="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",fa=/ jQuery\d+="(?:null|\d+)"/g,ga=new RegExp("<(?:"+ea+")[\\s/>]","i"),ha=/^\s+/,ia=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ja=/<([\w:]+)/,ka=/<tbody/i,la=/<|&#?\w+;/,ma=/<(?:script|style|link)/i,na=/checked\s*(?:[^=]|=\s*.checked.)/i,oa=/^$|\/(?:java|ecma)script/i,pa=/^true\/(.*)/,qa=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ra={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:k.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},sa=da(y),ta=sa.appendChild(y.createElement("div"));ra.optgroup=ra.option,ra.tbody=ra.tfoot=ra.colgroup=ra.caption=ra.thead,ra.th=ra.td;function ua(a,b){var c,d,e=0,f=typeof a.getElementsByTagName!==K?a.getElementsByTagName(b||"*"):typeof a.querySelectorAll!==K?a.querySelectorAll(b||"*"):void 0;if(!f)for(f=[],c=a.childNodes||a;null!=(d=c[e]);e++)!b||m.nodeName(d,b)?f.push(d):m.merge(f,ua(d,b));return void 0===b||b&&m.nodeName(a,b)?m.merge([a],f):f}function va(a){W.test(a.type)&&(a.defaultChecked=a.checked)}function wa(a,b){return m.nodeName(a,"table")&&m.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function xa(a){return a.type=(null!==m.find.attr(a,"type"))+"/"+a.type,a}function ya(a){var b=pa.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function za(a,b){for(var c,d=0;null!=(c=a[d]);d++)m._data(c,"globalEval",!b||m._data(b[d],"globalEval"))}function Aa(a,b){if(1===b.nodeType&&m.hasData(a)){var c,d,e,f=m._data(a),g=m._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;e>d;d++)m.event.add(b,c,h[c][d])}g.data&&(g.data=m.extend({},g.data))}}function Ba(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!k.noCloneEvent&&b[m.expando]){e=m._data(b);for(d in e.events)m.removeEvent(b,d,e.handle);b.removeAttribute(m.expando)}"script"===c&&b.text!==a.text?(xa(b).text=a.text,ya(b)):"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),k.html5Clone&&a.innerHTML&&!m.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&W.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.defaultSelected=b.selected=a.defaultSelected:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}}m.extend({clone:function(a,b,c){var d,e,f,g,h,i=m.contains(a.ownerDocument,a);if(k.html5Clone||m.isXMLDoc(a)||!ga.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(ta.innerHTML=a.outerHTML,ta.removeChild(f=ta.firstChild)),!(k.noCloneEvent&&k.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||m.isXMLDoc(a)))for(d=ua(f),h=ua(a),g=0;null!=(e=h[g]);++g)d[g]&&Ba(e,d[g]);if(b)if(c)for(h=h||ua(a),d=d||ua(f),g=0;null!=(e=h[g]);g++)Aa(e,d[g]);else Aa(a,f);return d=ua(f,"script"),d.length>0&&za(d,!i&&ua(a,"script")),d=h=e=null,f},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,l,n=a.length,o=da(b),p=[],q=0;n>q;q++)if(f=a[q],f||0===f)if("object"===m.type(f))m.merge(p,f.nodeType?[f]:f);else if(la.test(f)){h=h||o.appendChild(b.createElement("div")),i=(ja.exec(f)||["",""])[1].toLowerCase(),l=ra[i]||ra._default,h.innerHTML=l[1]+f.replace(ia,"<$1></$2>")+l[2],e=l[0];while(e--)h=h.lastChild;if(!k.leadingWhitespace&&ha.test(f)&&p.push(b.createTextNode(ha.exec(f)[0])),!k.tbody){f="table"!==i||ka.test(f)?"<table>"!==l[1]||ka.test(f)?0:h:h.firstChild,e=f&&f.childNodes.length;while(e--)m.nodeName(j=f.childNodes[e],"tbody")&&!j.childNodes.length&&f.removeChild(j)}m.merge(p,h.childNodes),h.textContent="";while(h.firstChild)h.removeChild(h.firstChild);h=o.lastChild}else p.push(b.createTextNode(f));h&&o.removeChild(h),k.appendChecked||m.grep(ua(p,"input"),va),q=0;while(f=p[q++])if((!d||-1===m.inArray(f,d))&&(g=m.contains(f.ownerDocument,f),h=ua(o.appendChild(f),"script"),g&&za(h),c)){e=0;while(f=h[e++])oa.test(f.type||"")&&c.push(f)}return h=null,o},cleanData:function(a,b){for(var d,e,f,g,h=0,i=m.expando,j=m.cache,l=k.deleteExpando,n=m.event.special;null!=(d=a[h]);h++)if((b||m.acceptData(d))&&(f=d[i],g=f&&j[f])){if(g.events)for(e in g.events)n[e]?m.event.remove(d,e):m.removeEvent(d,e,g.handle);j[f]&&(delete j[f],l?delete d[i]:typeof d.removeAttribute!==K?d.removeAttribute(i):d[i]=null,c.push(f))}}}),m.fn.extend({text:function(a){return V(this,function(a){return void 0===a?m.text(this):this.empty().append((this[0]&&this[0].ownerDocument||y).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=wa(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=wa(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?m.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||m.cleanData(ua(c)),c.parentNode&&(b&&m.contains(c.ownerDocument,c)&&za(ua(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){1===a.nodeType&&m.cleanData(ua(a,!1));while(a.firstChild)a.removeChild(a.firstChild);a.options&&m.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return m.clone(this,a,b)})},html:function(a){return V(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a)return 1===b.nodeType?b.innerHTML.replace(fa,""):void 0;if(!("string"!=typeof a||ma.test(a)||!k.htmlSerialize&&ga.test(a)||!k.leadingWhitespace&&ha.test(a)||ra[(ja.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(ia,"<$1></$2>");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(m.cleanData(ua(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,m.cleanData(ua(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,l=this.length,n=this,o=l-1,p=a[0],q=m.isFunction(p);if(q||l>1&&"string"==typeof p&&!k.checkClone&&na.test(p))return this.each(function(c){var d=n.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)});if(l&&(i=m.buildFragment(a,this[0].ownerDocument,!1,this),c=i.firstChild,1===i.childNodes.length&&(i=c),c)){for(g=m.map(ua(i,"script"),xa),f=g.length;l>j;j++)d=i,j!==o&&(d=m.clone(d,!0,!0),f&&m.merge(g,ua(d,"script"))),b.call(this[j],d,j);if(f)for(h=g[g.length-1].ownerDocument,m.map(g,ya),j=0;f>j;j++)d=g[j],oa.test(d.type||"")&&!m._data(d,"globalEval")&&m.contains(h,d)&&(d.src?m._evalUrl&&m._evalUrl(d.src):m.globalEval((d.text||d.textContent||d.innerHTML||"").replace(qa,"")));i=c=null}return this}}),m.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){m.fn[a]=function(a){for(var c,d=0,e=[],g=m(a),h=g.length-1;h>=d;d++)c=d===h?this:this.clone(!0),m(g[d])[b](c),f.apply(e,c.get());return this.pushStack(e)}});var Ca,Da={};function Ea(b,c){var d,e=m(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:m.css(e[0],"display");return e.detach(),f}function Fa(a){var b=y,c=Da[a];return c||(c=Ea(a,b),"none"!==c&&c||(Ca=(Ca||m("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=(Ca[0].contentWindow||Ca[0].contentDocument).document,b.write(),b.close(),c=Ea(a,b),Ca.detach()),Da[a]=c),c}!function(){var a;k.shrinkWrapBlocks=function(){if(null!=a)return a;a=!1;var b,c,d;return c=y.getElementsByTagName("body")[0],c&&c.style?(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),typeof b.style.zoom!==K&&(b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",b.appendChild(y.createElement("div")).style.width="5px",a=3!==b.offsetWidth),c.removeChild(d),a):void 0}}();var Ga=/^margin/,Ha=new RegExp("^("+S+")(?!px)[a-z%]+$","i"),Ia,Ja,Ka=/^(top|right|bottom|left)$/;a.getComputedStyle?(Ia=function(b){return b.ownerDocument.defaultView.opener?b.ownerDocument.defaultView.getComputedStyle(b,null):a.getComputedStyle(b,null)},Ja=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Ia(a),g=c?c.getPropertyValue(b)||c[b]:void 0,c&&(""!==g||m.contains(a.ownerDocument,a)||(g=m.style(a,b)),Ha.test(g)&&Ga.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0===g?g:g+""}):y.documentElement.currentStyle&&(Ia=function(a){return a.currentStyle},Ja=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Ia(a),g=c?c[b]:void 0,null==g&&h&&h[b]&&(g=h[b]),Ha.test(g)&&!Ka.test(b)&&(d=h.left,e=a.runtimeStyle,f=e&&e.left,f&&(e.left=a.currentStyle.left),h.left="fontSize"===b?"1em":g,g=h.pixelLeft+"px",h.left=d,f&&(e.left=f)),void 0===g?g:g+""||"auto"});function La(a,b){return{get:function(){var c=a();if(null!=c)return c?void delete this.get:(this.get=b).apply(this,arguments)}}}!function(){var b,c,d,e,f,g,h;if(b=y.createElement("div"),b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",d=b.getElementsByTagName("a")[0],c=d&&d.style){c.cssText="float:left;opacity:.5",k.opacity="0.5"===c.opacity,k.cssFloat=!!c.cssFloat,b.style.backgroundClip="content-box",b.cloneNode(!0).style.backgroundClip="",k.clearCloneStyle="content-box"===b.style.backgroundClip,k.boxSizing=""===c.boxSizing||""===c.MozBoxSizing||""===c.WebkitBoxSizing,m.extend(k,{reliableHiddenOffsets:function(){return null==g&&i(),g},boxSizingReliable:function(){return null==f&&i(),f},pixelPosition:function(){return null==e&&i(),e},reliableMarginRight:function(){return null==h&&i(),h}});function i(){var b,c,d,i;c=y.getElementsByTagName("body")[0],c&&c.style&&(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),b.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",e=f=!1,h=!0,a.getComputedStyle&&(e="1%"!==(a.getComputedStyle(b,null)||{}).top,f="4px"===(a.getComputedStyle(b,null)||{width:"4px"}).width,i=b.appendChild(y.createElement("div")),i.style.cssText=b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",b.style.width="1px",h=!parseFloat((a.getComputedStyle(i,null)||{}).marginRight),b.removeChild(i)),b.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=b.getElementsByTagName("td"),i[0].style.cssText="margin:0;border:0;padding:0;display:none",g=0===i[0].offsetHeight,g&&(i[0].style.display="",i[1].style.display="none",g=0===i[0].offsetHeight),c.removeChild(d))}}}(),m.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var Ma=/alpha\([^)]*\)/i,Na=/opacity\s*=\s*([^)]*)/,Oa=/^(none|table(?!-c[ea]).+)/,Pa=new RegExp("^("+S+")(.*)$","i"),Qa=new RegExp("^([+-])=("+S+")","i"),Ra={position:"absolute",visibility:"hidden",display:"block"},Sa={letterSpacing:"0",fontWeight:"400"},Ta=["Webkit","O","Moz","ms"];function Ua(a,b){if(b in a)return b;var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=Ta.length;while(e--)if(b=Ta[e]+c,b in a)return b;return d}function Va(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=m._data(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&U(d)&&(f[g]=m._data(d,"olddisplay",Fa(d.nodeName)))):(e=U(d),(c&&"none"!==c||!e)&&m._data(d,"olddisplay",e?c:m.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function Wa(a,b,c){var d=Pa.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function Xa(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=m.css(a,c+T[f],!0,e)),d?("content"===c&&(g-=m.css(a,"padding"+T[f],!0,e)),"margin"!==c&&(g-=m.css(a,"border"+T[f]+"Width",!0,e))):(g+=m.css(a,"padding"+T[f],!0,e),"padding"!==c&&(g+=m.css(a,"border"+T[f]+"Width",!0,e)));return g}function Ya(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=Ia(a),g=k.boxSizing&&"border-box"===m.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=Ja(a,b,f),(0>e||null==e)&&(e=a.style[b]),Ha.test(e))return e;d=g&&(k.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Xa(a,b,c||(g?"border":"content"),d,f)+"px"}m.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Ja(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":k.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=m.camelCase(b),i=a.style;if(b=m.cssProps[h]||(m.cssProps[h]=Ua(i,h)),g=m.cssHooks[b]||m.cssHooks[h],void 0===c)return g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b];if(f=typeof c,"string"===f&&(e=Qa.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(m.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||m.cssNumber[h]||(c+="px"),k.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),!(g&&"set"in g&&void 0===(c=g.set(a,c,d)))))try{i[b]=c}catch(j){}}},css:function(a,b,c,d){var e,f,g,h=m.camelCase(b);return b=m.cssProps[h]||(m.cssProps[h]=Ua(a.style,h)),g=m.cssHooks[b]||m.cssHooks[h],g&&"get"in g&&(f=g.get(a,!0,c)),void 0===f&&(f=Ja(a,b,d)),"normal"===f&&b in Sa&&(f=Sa[b]),""===c||c?(e=parseFloat(f),c===!0||m.isNumeric(e)?e||0:f):f}}),m.each(["height","width"],function(a,b){m.cssHooks[b]={get:function(a,c,d){return c?Oa.test(m.css(a,"display"))&&0===a.offsetWidth?m.swap(a,Ra,function(){return Ya(a,b,d)}):Ya(a,b,d):void 0},set:function(a,c,d){var e=d&&Ia(a);return Wa(a,c,d?Xa(a,b,d,k.boxSizing&&"border-box"===m.css(a,"boxSizing",!1,e),e):0)}}}),k.opacity||(m.cssHooks.opacity={get:function(a,b){return Na.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=m.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,(b>=1||""===b)&&""===m.trim(f.replace(Ma,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||d&&!d.filter)||(c.filter=Ma.test(f)?f.replace(Ma,e):f+" "+e)}}),m.cssHooks.marginRight=La(k.reliableMarginRight,function(a,b){return b?m.swap(a,{display:"inline-block"},Ja,[a,"marginRight"]):void 0}),m.each({margin:"",padding:"",border:"Width"},function(a,b){m.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+T[d]+b]=f[d]||f[d-2]||f[0];return e}},Ga.test(a)||(m.cssHooks[a+b].set=Wa)}),m.fn.extend({css:function(a,b){return V(this,function(a,b,c){var d,e,f={},g=0;if(m.isArray(b)){for(d=Ia(a),e=b.length;e>g;g++)f[b[g]]=m.css(a,b[g],!1,d);return f}return void 0!==c?m.style(a,b,c):m.css(a,b)},a,b,arguments.length>1)},show:function(){return Va(this,!0)},hide:function(){return Va(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){U(this)?m(this).show():m(this).hide()})}});function Za(a,b,c,d,e){
return new Za.prototype.init(a,b,c,d,e)}m.Tween=Za,Za.prototype={constructor:Za,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(m.cssNumber[c]?"":"px")},cur:function(){var a=Za.propHooks[this.prop];return a&&a.get?a.get(this):Za.propHooks._default.get(this)},run:function(a){var b,c=Za.propHooks[this.prop];return this.options.duration?this.pos=b=m.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Za.propHooks._default.set(this),this}},Za.prototype.init.prototype=Za.prototype,Za.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=m.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){m.fx.step[a.prop]?m.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[m.cssProps[a.prop]]||m.cssHooks[a.prop])?m.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},Za.propHooks.scrollTop=Za.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},m.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},m.fx=Za.prototype.init,m.fx.step={};var $a,_a,ab=/^(?:toggle|show|hide)$/,bb=new RegExp("^(?:([+-])=|)("+S+")([a-z%]*)$","i"),cb=/queueHooks$/,db=[ib],eb={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=bb.exec(b),f=e&&e[3]||(m.cssNumber[a]?"":"px"),g=(m.cssNumber[a]||"px"!==f&&+d)&&bb.exec(m.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,m.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};function fb(){return setTimeout(function(){$a=void 0}),$a=m.now()}function gb(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b)c=T[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function hb(a,b,c){for(var d,e=(eb[b]||[]).concat(eb["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function ib(a,b,c){var d,e,f,g,h,i,j,l,n=this,o={},p=a.style,q=a.nodeType&&U(a),r=m._data(a,"fxshow");c.queue||(h=m._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,n.always(function(){n.always(function(){h.unqueued--,m.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[p.overflow,p.overflowX,p.overflowY],j=m.css(a,"display"),l="none"===j?m._data(a,"olddisplay")||Fa(a.nodeName):j,"inline"===l&&"none"===m.css(a,"float")&&(k.inlineBlockNeedsLayout&&"inline"!==Fa(a.nodeName)?p.zoom=1:p.display="inline-block")),c.overflow&&(p.overflow="hidden",k.shrinkWrapBlocks()||n.always(function(){p.overflow=c.overflow[0],p.overflowX=c.overflow[1],p.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],ab.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(q?"hide":"show")){if("show"!==e||!r||void 0===r[d])continue;q=!0}o[d]=r&&r[d]||m.style(a,d)}else j=void 0;if(m.isEmptyObject(o))"inline"===("none"===j?Fa(a.nodeName):j)&&(p.display=j);else{r?"hidden"in r&&(q=r.hidden):r=m._data(a,"fxshow",{}),f&&(r.hidden=!q),q?m(a).show():n.done(function(){m(a).hide()}),n.done(function(){var b;m._removeData(a,"fxshow");for(b in o)m.style(a,b,o[b])});for(d in o)g=hb(q?r[d]:0,d,n),d in r||(r[d]=g.start,q&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function jb(a,b){var c,d,e,f,g;for(c in a)if(d=m.camelCase(c),e=b[d],f=a[c],m.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=m.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function kb(a,b,c){var d,e,f=0,g=db.length,h=m.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=$a||fb(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:m.extend({},b),opts:m.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:$a||fb(),duration:c.duration,tweens:[],createTween:function(b,c){var d=m.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(jb(k,j.opts.specialEasing);g>f;f++)if(d=db[f].call(j,a,k,j.opts))return d;return m.map(k,hb,j),m.isFunction(j.opts.start)&&j.opts.start.call(a,j),m.fx.timer(m.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}m.Animation=m.extend(kb,{tweener:function(a,b){m.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],eb[c]=eb[c]||[],eb[c].unshift(b)},prefilter:function(a,b){b?db.unshift(a):db.push(a)}}),m.speed=function(a,b,c){var d=a&&"object"==typeof a?m.extend({},a):{complete:c||!c&&b||m.isFunction(a)&&a,duration:a,easing:c&&b||b&&!m.isFunction(b)&&b};return d.duration=m.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in m.fx.speeds?m.fx.speeds[d.duration]:m.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){m.isFunction(d.old)&&d.old.call(this),d.queue&&m.dequeue(this,d.queue)},d},m.fn.extend({fadeTo:function(a,b,c,d){return this.filter(U).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=m.isEmptyObject(a),f=m.speed(b,c,d),g=function(){var b=kb(this,m.extend({},a),f);(e||m._data(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=m.timers,g=m._data(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&cb.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&m.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=m._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=m.timers,g=d?d.length:0;for(c.finish=!0,m.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),m.each(["toggle","show","hide"],function(a,b){var c=m.fn[b];m.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(gb(b,!0),a,d,e)}}),m.each({slideDown:gb("show"),slideUp:gb("hide"),slideToggle:gb("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){m.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),m.timers=[],m.fx.tick=function(){var a,b=m.timers,c=0;for($a=m.now();c<b.length;c++)a=b[c],a()||b[c]!==a||b.splice(c--,1);b.length||m.fx.stop(),$a=void 0},m.fx.timer=function(a){m.timers.push(a),a()?m.fx.start():m.timers.pop()},m.fx.interval=13,m.fx.start=function(){_a||(_a=setInterval(m.fx.tick,m.fx.interval))},m.fx.stop=function(){clearInterval(_a),_a=null},m.fx.speeds={slow:600,fast:200,_default:400},m.fn.delay=function(a,b){return a=m.fx?m.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a,b,c,d,e;b=y.createElement("div"),b.setAttribute("className","t"),b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",d=b.getElementsByTagName("a")[0],c=y.createElement("select"),e=c.appendChild(y.createElement("option")),a=b.getElementsByTagName("input")[0],d.style.cssText="top:1px",k.getSetAttribute="t"!==b.className,k.style=/top/.test(d.getAttribute("style")),k.hrefNormalized="/a"===d.getAttribute("href"),k.checkOn=!!a.value,k.optSelected=e.selected,k.enctype=!!y.createElement("form").enctype,c.disabled=!0,k.optDisabled=!e.disabled,a=y.createElement("input"),a.setAttribute("value",""),k.input=""===a.getAttribute("value"),a.value="t",a.setAttribute("type","radio"),k.radioValue="t"===a.value}();var lb=/\r/g;m.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=m.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,m(this).val()):a,null==e?e="":"number"==typeof e?e+="":m.isArray(e)&&(e=m.map(e,function(a){return null==a?"":a+""})),b=m.valHooks[this.type]||m.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=m.valHooks[e.type]||m.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(lb,""):null==c?"":c)}}}),m.extend({valHooks:{option:{get:function(a){var b=m.find.attr(a,"value");return null!=b?b:m.trim(m.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(k.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&m.nodeName(c.parentNode,"optgroup"))){if(b=m(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=m.makeArray(b),g=e.length;while(g--)if(d=e[g],m.inArray(m.valHooks.option.get(d),f)>=0)try{d.selected=c=!0}catch(h){d.scrollHeight}else d.selected=!1;return c||(a.selectedIndex=-1),e}}}}),m.each(["radio","checkbox"],function(){m.valHooks[this]={set:function(a,b){return m.isArray(b)?a.checked=m.inArray(m(a).val(),b)>=0:void 0}},k.checkOn||(m.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var mb,nb,ob=m.expr.attrHandle,pb=/^(?:checked|selected)$/i,qb=k.getSetAttribute,rb=k.input;m.fn.extend({attr:function(a,b){return V(this,m.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){m.removeAttr(this,a)})}}),m.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===K?m.prop(a,b,c):(1===f&&m.isXMLDoc(a)||(b=b.toLowerCase(),d=m.attrHooks[b]||(m.expr.match.bool.test(b)?nb:mb)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=m.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void m.removeAttr(a,b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(E);if(f&&1===a.nodeType)while(c=f[e++])d=m.propFix[c]||c,m.expr.match.bool.test(c)?rb&&qb||!pb.test(c)?a[d]=!1:a[m.camelCase("default-"+c)]=a[d]=!1:m.attr(a,c,""),a.removeAttribute(qb?c:d)},attrHooks:{type:{set:function(a,b){if(!k.radioValue&&"radio"===b&&m.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),nb={set:function(a,b,c){return b===!1?m.removeAttr(a,c):rb&&qb||!pb.test(c)?a.setAttribute(!qb&&m.propFix[c]||c,c):a[m.camelCase("default-"+c)]=a[c]=!0,c}},m.each(m.expr.match.bool.source.match(/\w+/g),function(a,b){var c=ob[b]||m.find.attr;ob[b]=rb&&qb||!pb.test(b)?function(a,b,d){var e,f;return d||(f=ob[b],ob[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,ob[b]=f),e}:function(a,b,c){return c?void 0:a[m.camelCase("default-"+b)]?b.toLowerCase():null}}),rb&&qb||(m.attrHooks.value={set:function(a,b,c){return m.nodeName(a,"input")?void(a.defaultValue=b):mb&&mb.set(a,b,c)}}),qb||(mb={set:function(a,b,c){var d=a.getAttributeNode(c);return d||a.setAttributeNode(d=a.ownerDocument.createAttribute(c)),d.value=b+="","value"===c||b===a.getAttribute(c)?b:void 0}},ob.id=ob.name=ob.coords=function(a,b,c){var d;return c?void 0:(d=a.getAttributeNode(b))&&""!==d.value?d.value:null},m.valHooks.button={get:function(a,b){var c=a.getAttributeNode(b);return c&&c.specified?c.value:void 0},set:mb.set},m.attrHooks.contenteditable={set:function(a,b,c){mb.set(a,""===b?!1:b,c)}},m.each(["width","height"],function(a,b){m.attrHooks[b]={set:function(a,c){return""===c?(a.setAttribute(b,"auto"),c):void 0}}})),k.style||(m.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,b){return a.style.cssText=b+""}});var sb=/^(?:input|select|textarea|button|object)$/i,tb=/^(?:a|area)$/i;m.fn.extend({prop:function(a,b){return V(this,m.prop,a,b,arguments.length>1)},removeProp:function(a){return a=m.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(b){}})}}),m.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!m.isXMLDoc(a),f&&(b=m.propFix[b]||b,e=m.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=m.find.attr(a,"tabindex");return b?parseInt(b,10):sb.test(a.nodeName)||tb.test(a.nodeName)&&a.href?0:-1}}}}),k.hrefNormalized||m.each(["href","src"],function(a,b){m.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}),k.optSelected||(m.propHooks.selected={get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}}),m.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){m.propFix[this.toLowerCase()]=this}),k.enctype||(m.propFix.enctype="encoding");var ub=/[\t\r\n\f]/g;m.fn.extend({addClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j="string"==typeof a&&a;if(m.isFunction(a))return this.each(function(b){m(this).addClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(E)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ub," "):" ")){f=0;while(e=b[f++])d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=m.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j=0===arguments.length||"string"==typeof a&&a;if(m.isFunction(a))return this.each(function(b){m(this).removeClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(E)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ub," "):"")){f=0;while(e=b[f++])while(d.indexOf(" "+e+" ")>=0)d=d.replace(" "+e+" "," ");g=a?m.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(m.isFunction(a)?function(c){m(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c){var b,d=0,e=m(this),f=a.match(E)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else(c===K||"boolean"===c)&&(this.className&&m._data(this,"__className__",this.className),this.className=this.className||a===!1?"":m._data(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(ub," ").indexOf(b)>=0)return!0;return!1}}),m.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){m.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),m.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var vb=m.now(),wb=/\?/,xb=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;m.parseJSON=function(b){if(a.JSON&&a.JSON.parse)return a.JSON.parse(b+"");var c,d=null,e=m.trim(b+"");return e&&!m.trim(e.replace(xb,function(a,b,e,f){return c&&b&&(d=0),0===d?a:(c=e||b,d+=!f-!e,"")}))?Function("return "+e)():m.error("Invalid JSON: "+b)},m.parseXML=function(b){var c,d;if(!b||"string"!=typeof b)return null;try{a.DOMParser?(d=new DOMParser,c=d.parseFromString(b,"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(b))}catch(e){c=void 0}return c&&c.documentElement&&!c.getElementsByTagName("parsererror").length||m.error("Invalid XML: "+b),c};var yb,zb,Ab=/#.*$/,Bb=/([?&])_=[^&]*/,Cb=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Db=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Eb=/^(?:GET|HEAD)$/,Fb=/^\/\//,Gb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Hb={},Ib={},Jb="*/".concat("*");try{zb=location.href}catch(Kb){zb=y.createElement("a"),zb.href="",zb=zb.href}yb=Gb.exec(zb.toLowerCase())||[];function Lb(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(E)||[];if(m.isFunction(c))while(d=f[e++])"+"===d.charAt(0)?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function Mb(a,b,c,d){var e={},f=a===Ib;function g(h){var i;return e[h]=!0,m.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function Nb(a,b){var c,d,e=m.ajaxSettings.flatOptions||{};for(d in b)void 0!==b[d]&&((e[d]?a:c||(c={}))[d]=b[d]);return c&&m.extend(!0,a,c),a}function Ob(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])i.shift(),void 0===e&&(e=a.mimeType||b.getResponseHeader("Content-Type"));if(e)for(g in h)if(h[g]&&h[g].test(e)){i.unshift(g);break}if(i[0]in c)f=i[0];else{for(g in c){if(!i[0]||a.converters[g+" "+i[0]]){f=g;break}d||(d=g)}f=f||d}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function Pb(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}m.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:zb,type:"GET",isLocal:Db.test(yb[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Jb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":m.parseJSON,"text xml":m.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?Nb(Nb(a,m.ajaxSettings),b):Nb(m.ajaxSettings,a)},ajaxPrefilter:Lb(Hb),ajaxTransport:Lb(Ib),ajax:function(a,b){"object"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=m.ajaxSetup({},b),l=k.context||k,n=k.context&&(l.nodeType||l.jquery)?m(l):m.event,o=m.Deferred(),p=m.Callbacks("once memory"),q=k.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!j){j={};while(b=Cb.exec(f))j[b[1].toLowerCase()]=b[2]}b=j[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?f:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return i&&i.abort(b),x(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||zb)+"").replace(Ab,"").replace(Fb,yb[1]+"//"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=m.trim(k.dataType||"*").toLowerCase().match(E)||[""],null==k.crossDomain&&(c=Gb.exec(k.url.toLowerCase()),k.crossDomain=!(!c||c[1]===yb[1]&&c[2]===yb[2]&&(c[3]||("http:"===c[1]?"80":"443"))===(yb[3]||("http:"===yb[1]?"80":"443")))),k.data&&k.processData&&"string"!=typeof k.data&&(k.data=m.param(k.data,k.traditional)),Mb(Hb,k,b,v),2===t)return v;h=m.event&&k.global,h&&0===m.active++&&m.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!Eb.test(k.type),e=k.url,k.hasContent||(k.data&&(e=k.url+=(wb.test(e)?"&":"?")+k.data,delete k.data),k.cache===!1&&(k.url=Bb.test(e)?e.replace(Bb,"$1_="+vb++):e+(wb.test(e)?"&":"?")+"_="+vb++)),k.ifModified&&(m.lastModified[e]&&v.setRequestHeader("If-Modified-Since",m.lastModified[e]),m.etag[e]&&v.setRequestHeader("If-None-Match",m.etag[e])),(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",k.contentType),v.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+Jb+"; q=0.01":""):k.accepts["*"]);for(d in k.headers)v.setRequestHeader(d,k.headers[d]);if(k.beforeSend&&(k.beforeSend.call(l,v,k)===!1||2===t))return v.abort();u="abort";for(d in{success:1,error:1,complete:1})v[d](k[d]);if(i=Mb(Ib,k,b,v)){v.readyState=1,h&&n.trigger("ajaxSend",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort("timeout")},k.timeout));try{t=1,i.send(r,x)}catch(w){if(!(2>t))throw w;x(-1,w)}}else x(-1,"No Transport");function x(a,b,c,d){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),i=void 0,f=d||"",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,c&&(u=Ob(k,v,c)),u=Pb(k,u,v,j),j?(k.ifModified&&(w=v.getResponseHeader("Last-Modified"),w&&(m.lastModified[e]=w),w=v.getResponseHeader("etag"),w&&(m.etag[e]=w)),204===a||"HEAD"===k.type?x="nocontent":304===a?x="notmodified":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+"",j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,h&&n.trigger(j?"ajaxSuccess":"ajaxError",[v,k,j?r:s]),p.fireWith(l,[v,x]),h&&(n.trigger("ajaxComplete",[v,k]),--m.active||m.event.trigger("ajaxStop")))}return v},getJSON:function(a,b,c){return m.get(a,b,c,"json")},getScript:function(a,b){return m.get(a,void 0,b,"script")}}),m.each(["get","post"],function(a,b){m[b]=function(a,c,d,e){return m.isFunction(c)&&(e=e||d,d=c,c=void 0),m.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),m._evalUrl=function(a){return m.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},m.fn.extend({wrapAll:function(a){if(m.isFunction(a))return this.each(function(b){m(this).wrapAll(a.call(this,b))});if(this[0]){var b=m(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&1===a.firstChild.nodeType)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return this.each(m.isFunction(a)?function(b){m(this).wrapInner(a.call(this,b))}:function(){var b=m(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=m.isFunction(a);return this.each(function(c){m(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){m.nodeName(this,"body")||m(this).replaceWith(this.childNodes)}).end()}}),m.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0||!k.reliableHiddenOffsets()&&"none"===(a.style&&a.style.display||m.css(a,"display"))},m.expr.filters.visible=function(a){return!m.expr.filters.hidden(a)};var Qb=/%20/g,Rb=/\[\]$/,Sb=/\r?\n/g,Tb=/^(?:submit|button|image|reset|file)$/i,Ub=/^(?:input|select|textarea|keygen)/i;function Vb(a,b,c,d){var e;if(m.isArray(b))m.each(b,function(b,e){c||Rb.test(a)?d(a,e):Vb(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==m.type(b))d(a,b);else for(e in b)Vb(a+"["+e+"]",b[e],c,d)}m.param=function(a,b){var c,d=[],e=function(a,b){b=m.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=m.ajaxSettings&&m.ajaxSettings.traditional),m.isArray(a)||a.jquery&&!m.isPlainObject(a))m.each(a,function(){e(this.name,this.value)});else for(c in a)Vb(c,a[c],b,e);return d.join("&").replace(Qb,"+")},m.fn.extend({serialize:function(){return m.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=m.prop(this,"elements");return a?m.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!m(this).is(":disabled")&&Ub.test(this.nodeName)&&!Tb.test(a)&&(this.checked||!W.test(a))}).map(function(a,b){var c=m(this).val();return null==c?null:m.isArray(c)?m.map(c,function(a){return{name:b.name,value:a.replace(Sb,"\r\n")}}):{name:b.name,value:c.replace(Sb,"\r\n")}}).get()}}),m.ajaxSettings.xhr=void 0!==a.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&Zb()||$b()}:Zb;var Wb=0,Xb={},Yb=m.ajaxSettings.xhr();a.attachEvent&&a.attachEvent("onunload",function(){for(var a in Xb)Xb[a](void 0,!0)}),k.cors=!!Yb&&"withCredentials"in Yb,Yb=k.ajax=!!Yb,Yb&&m.ajaxTransport(function(a){if(!a.crossDomain||k.cors){var b;return{send:function(c,d){var e,f=a.xhr(),g=++Wb;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)void 0!==c[e]&&f.setRequestHeader(e,c[e]+"");f.send(a.hasContent&&a.data||null),b=function(c,e){var h,i,j;if(b&&(e||4===f.readyState))if(delete Xb[g],b=void 0,f.onreadystatechange=m.noop,e)4!==f.readyState&&f.abort();else{j={},h=f.status,"string"==typeof f.responseText&&(j.text=f.responseText);try{i=f.statusText}catch(k){i=""}h||!a.isLocal||a.crossDomain?1223===h&&(h=204):h=j.text?200:404}j&&d(h,i,j,f.getAllResponseHeaders())},a.async?4===f.readyState?setTimeout(b):f.onreadystatechange=Xb[g]=b:b()},abort:function(){b&&b(void 0,!0)}}}});function Zb(){try{return new a.XMLHttpRequest}catch(b){}}function $b(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}m.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return m.globalEval(a),a}}}),m.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),m.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=y.head||m("head")[0]||y.documentElement;return{send:function(d,e){b=y.createElement("script"),b.async=!0,a.scriptCharset&&(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,c){(c||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||e(200,"success"))},c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(void 0,!0)}}}});var _b=[],ac=/(=)\?(?=&|$)|\?\?/;m.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=_b.pop()||m.expando+"_"+vb++;return this[a]=!0,a}}),m.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(ac.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&ac.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=m.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(ac,"$1"+e):b.jsonp!==!1&&(b.url+=(wb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||m.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,_b.push(e)),g&&m.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),m.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||y;var d=u.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=m.buildFragment([a],b,e),e&&e.length&&m(e).remove(),m.merge([],d.childNodes))};var bc=m.fn.load;m.fn.load=function(a,b,c){if("string"!=typeof a&&bc)return bc.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=m.trim(a.slice(h,a.length)),a=a.slice(0,h)),m.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(f="POST"),g.length>0&&m.ajax({url:a,type:f,dataType:"html",data:b}).done(function(a){e=arguments,g.html(d?m("<div>").append(m.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,e||[a.responseText,b,a])}),this},m.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){m.fn[b]=function(a){return this.on(b,a)}}),m.expr.filters.animated=function(a){return m.grep(m.timers,function(b){return a===b.elem}).length};var cc=a.document.documentElement;function dc(a){return m.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}m.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=m.css(a,"position"),l=m(a),n={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=m.css(a,"top"),i=m.css(a,"left"),j=("absolute"===k||"fixed"===k)&&m.inArray("auto",[f,i])>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),m.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(n.top=b.top-h.top+g),null!=b.left&&(n.left=b.left-h.left+e),"using"in b?b.using.call(a,n):l.css(n)}},m.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){m.offset.setOffset(this,a,b)});var b,c,d={top:0,left:0},e=this[0],f=e&&e.ownerDocument;if(f)return b=f.documentElement,m.contains(b,e)?(typeof e.getBoundingClientRect!==K&&(d=e.getBoundingClientRect()),c=dc(f),{top:d.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0),left:d.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):d},position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return"fixed"===m.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),m.nodeName(a[0],"html")||(c=a.offset()),c.top+=m.css(a[0],"borderTopWidth",!0),c.left+=m.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-m.css(d,"marginTop",!0),left:b.left-c.left-m.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||cc;while(a&&!m.nodeName(a,"html")&&"static"===m.css(a,"position"))a=a.offsetParent;return a||cc})}}),m.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);m.fn[a]=function(d){return V(this,function(a,d,e){var f=dc(a);return void 0===e?f?b in f?f[b]:f.document.documentElement[d]:a[d]:void(f?f.scrollTo(c?m(f).scrollLeft():e,c?e:m(f).scrollTop()):a[d]=e)},a,d,arguments.length,null)}}),m.each(["top","left"],function(a,b){m.cssHooks[b]=La(k.pixelPosition,function(a,c){return c?(c=Ja(a,b),Ha.test(c)?m(a).position()[b]+"px":c):void 0})}),m.each({Height:"height",Width:"width"},function(a,b){m.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){m.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return V(this,function(b,c,d){var e;return m.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?m.css(b,c,g):m.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),m.fn.size=function(){return this.length},m.fn.andSelf=m.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return m});var ec=a.jQuery,fc=a.$;return m.noConflict=function(b){return a.$===m&&(a.$=fc),b&&a.jQuery===m&&(a.jQuery=ec),m},typeof b===K&&(a.jQuery=a.$=m),m});
</script>
  <script>/*!
 * Bowser - a browser detector
 * https://github.com/ded/bowser
 * MIT License | (c) Dustin Diaz 2015
 */
!function(e,t,n){typeof module!="undefined"&&module.exports?module.exports=n():typeof define=="function"&&define.amd?define(t,n):e[t]=n()}(this,"bowser",function(){function t(t){function n(e){var n=t.match(e);return n&&n.length>1&&n[1]||""}function r(e){var n=t.match(e);return n&&n.length>1&&n[2]||""}function N(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return undefined}}var i=n(/(ipod|iphone|ipad)/i).toLowerCase(),s=/like android/i.test(t),o=!s&&/android/i.test(t),u=/nexus\s*[0-6]\s*/i.test(t),a=!u&&/nexus\s*[0-9]+/i.test(t),f=/CrOS/.test(t),l=/silk/i.test(t),c=/sailfish/i.test(t),h=/tizen/i.test(t),p=/(web|hpw)os/i.test(t),d=/windows phone/i.test(t),v=/SamsungBrowser/i.test(t),m=!d&&/windows/i.test(t),g=!i&&!l&&/macintosh/i.test(t),y=!o&&!c&&!h&&!p&&/linux/i.test(t),b=r(/edg([ea]|ios)\/(\d+(\.\d+)?)/i),w=n(/version\/(\d+(\.\d+)?)/i),E=/tablet/i.test(t)&&!/tablet pc/i.test(t),S=!E&&/[^-]mobi/i.test(t),x=/xbox/i.test(t),T;/opera/i.test(t)?T={name:"Opera",opera:e,version:w||n(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr\/|opios/i.test(t)?T={name:"Opera",opera:e,version:n(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||w}:/SamsungBrowser/i.test(t)?T={name:"Samsung Internet for Android",samsungBrowser:e,version:w||n(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/coast/i.test(t)?T={name:"Opera Coast",coast:e,version:w||n(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/yabrowser/i.test(t)?T={name:"Yandex Browser",yandexbrowser:e,version:w||n(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(t)?T={name:"UC Browser",ucbrowser:e,version:n(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(t)?T={name:"Maxthon",maxthon:e,version:n(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(t)?T={name:"Epiphany",epiphany:e,version:n(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(t)?T={name:"Puffin",puffin:e,version:n(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(t)?T={name:"Sleipnir",sleipnir:e,version:n(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(t)?T={name:"K-Meleon",kMeleon:e,version:n(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:d?(T={name:"Windows Phone",osname:"Windows Phone",windowsphone:e},b?(T.msedge=e,T.version=b):(T.msie=e,T.version=n(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(t)?T={name:"Internet Explorer",msie:e,version:n(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:f?T={name:"Chrome",osname:"Chrome OS",chromeos:e,chromeBook:e,chrome:e,version:n(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/edg([ea]|ios)/i.test(t)?T={name:"Microsoft Edge",msedge:e,version:b}:/vivaldi/i.test(t)?T={name:"Vivaldi",vivaldi:e,version:n(/vivaldi\/(\d+(\.\d+)?)/i)||w}:c?T={name:"Sailfish",osname:"Sailfish OS",sailfish:e,version:n(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(t)?T={name:"SeaMonkey",seamonkey:e,version:n(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(t)?(T={name:"Firefox",firefox:e,version:n(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(t)&&(T.firefoxos=e,T.osname="Firefox OS")):l?T={name:"Amazon Silk",silk:e,version:n(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(t)?T={name:"PhantomJS",phantom:e,version:n(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(t)?T={name:"SlimerJS",slimer:e,version:n(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(t)||/rim\stablet/i.test(t)?T={name:"BlackBerry",osname:"BlackBerry OS",blackberry:e,version:w||n(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:p?(T={name:"WebOS",osname:"WebOS",webos:e,version:w||n(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(t)&&(T.touchpad=e)):/bada/i.test(t)?T={name:"Bada",osname:"Bada",bada:e,version:n(/dolfin\/(\d+(\.\d+)?)/i)}:h?T={name:"Tizen",osname:"Tizen",tizen:e,version:n(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||w}:/qupzilla/i.test(t)?T={name:"QupZilla",qupzilla:e,version:n(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||w}:/chromium/i.test(t)?T={name:"Chromium",chromium:e,version:n(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||w}:/chrome|crios|crmo/i.test(t)?T={name:"Chrome",chrome:e,version:n(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:o?T={name:"Android",version:w}:/safari|applewebkit/i.test(t)?(T={name:"Safari",safari:e},w&&(T.version=w)):i?(T={name:i=="iphone"?"iPhone":i=="ipad"?"iPad":"iPod"},w&&(T.version=w)):/googlebot/i.test(t)?T={name:"Googlebot",googlebot:e,version:n(/googlebot\/(\d+(\.\d+))/i)||w}:T={name:n(/^(.*)\/(.*) /),version:r(/^(.*)\/(.*) /)},!T.msedge&&/(apple)?webkit/i.test(t)?(/(apple)?webkit\/537\.36/i.test(t)?(T.name=T.name||"Blink",T.blink=e):(T.name=T.name||"Webkit",T.webkit=e),!T.version&&w&&(T.version=w)):!T.opera&&/gecko\//i.test(t)&&(T.name=T.name||"Gecko",T.gecko=e,T.version=T.version||n(/gecko\/(\d+(\.\d+)?)/i)),!T.windowsphone&&(o||T.silk)?(T.android=e,T.osname="Android"):!T.windowsphone&&i?(T[i]=e,T.ios=e,T.osname="iOS"):g?(T.mac=e,T.osname="macOS"):x?(T.xbox=e,T.osname="Xbox"):m?(T.windows=e,T.osname="Windows"):y&&(T.linux=e,T.osname="Linux");var C="";T.windows?C=N(n(/Windows ((NT|XP)( \d\d?.\d)?)/i)):T.windowsphone?C=n(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):T.mac?(C=n(/Mac OS X (\d+([_\.\s]\d+)*)/i),C=C.replace(/[_\s]/g,".")):i?(C=n(/os (\d+([_\s]\d+)*) like mac os x/i),C=C.replace(/[_\s]/g,".")):o?C=n(/android[ \/-](\d+(\.\d+)*)/i):T.webos?C=n(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):T.blackberry?C=n(/rim\stablet\sos\s(\d+(\.\d+)*)/i):T.bada?C=n(/bada\/(\d+(\.\d+)*)/i):T.tizen&&(C=n(/tizen[\/\s](\d+(\.\d+)*)/i)),C&&(T.osversion=C);var k=!T.windows&&C.split(".")[0];if(E||a||i=="ipad"||o&&(k==3||k>=4&&!S)||T.silk)T.tablet=e;else if(S||i=="iphone"||i=="ipod"||o||u||T.blackberry||T.webos||T.bada)T.mobile=e;return T.msedge||T.msie&&T.version>=10||T.yandexbrowser&&T.version>=15||T.vivaldi&&T.version>=1||T.chrome&&T.version>=20||T.samsungBrowser&&T.version>=4||T.firefox&&T.version>=20||T.safari&&T.version>=6||T.opera&&T.version>=10||T.ios&&T.osversion&&T.osversion.split(".")[0]>=6||T.blackberry&&T.version>=10.1||T.chromium&&T.version>=20?T.a=e:T.msie&&T.version<10||T.chrome&&T.version<20||T.firefox&&T.version<20||T.safari&&T.version<6||T.opera&&T.version<10||T.ios&&T.osversion&&T.osversion.split(".")[0]<6||T.chromium&&T.version<20?T.c=e:T.x=e,T}function r(e){return e.split(".").length}function i(e,t){var n=[],r;if(Array.prototype.map)return Array.prototype.map.call(e,t);for(r=0;r<e.length;r++)n.push(t(e[r]));return n}function s(e){var t=Math.max(r(e[0]),r(e[1])),n=i(e,function(e){var n=t-r(e);return e+=(new Array(n+1)).join(".0"),i(e.split("."),function(e){return(new Array(20-e.length)).join("0")+e}).reverse()});while(--t>=0){if(n[0][t]>n[1][t])return 1;if(n[0][t]!==n[1][t])return-1;if(t===0)return 0}}function o(e,r,i){var o=n;typeof r=="string"&&(i=r,r=void 0),r===void 0&&(r=!1),i&&(o=t(i));var u=""+o.version;for(var a in e)if(e.hasOwnProperty(a)&&o[a]){if(typeof e[a]!="string")throw new Error("Browser version in the minVersion map should be a string: "+a+": "+String(e));return s([u,e[a]])<0}return r}function u(e,t,n){return!o(e,t,n)}var e=!0,n=t(typeof navigator!="undefined"?navigator.userAgent||"":"");return n.test=function(e){for(var t=0;t<e.length;++t){var r=e[t];if(typeof r=="string"&&r in n)return!0}return!1},n.isUnsupportedBrowser=o,n.compareVersions=s,n.check=u,n._detect=t,n.detect=t,n})</script>
  <script>// webcomponents.js requires Set api which is not available in all browsers
if (typeof(Set) !== "undefined") {
/**
@license @nocompile
Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
(function(){/*

 Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
 This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
 The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
 The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
 Code distributed by Google as part of the polymer project is also
 subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
'use strict';var q,aa="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this,ba="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};function ca(){ca=function(){};aa.Symbol||(aa.Symbol=da)}var da=function(){var a=0;return function(b){return"jscomp_symbol_"+(b||"")+a++}}();
function ea(){ca();var a=aa.Symbol.iterator;a||(a=aa.Symbol.iterator=aa.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&ba(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return fa(this)}});ea=function(){}}function fa(a){var b=0;return ha(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})}function ha(a){ea();a={next:a};a[aa.Symbol.iterator]=function(){return this};return a}function ia(a){ea();var b=a[Symbol.iterator];return b?b.call(a):fa(a)}
function ja(a){for(var b,c=[];!(b=a.next()).done;)c.push(b.value);return c}
(function(){if(!function(){var a=document.createEvent("Event");a.initEvent("foo",!0,!0);a.preventDefault();return a.defaultPrevented}()){var a=Event.prototype.preventDefault;Event.prototype.preventDefault=function(){this.cancelable&&(a.call(this),Object.defineProperty(this,"defaultPrevented",{get:function(){return!0},configurable:!0}))}}var b=/Trident/.test(navigator.userAgent);if(!window.CustomEvent||b&&"function"!==typeof window.CustomEvent)window.CustomEvent=function(a,b){b=b||{};var c=document.createEvent("CustomEvent");
c.initCustomEvent(a,!!b.bubbles,!!b.cancelable,b.detail);return c},window.CustomEvent.prototype=window.Event.prototype;if(!window.Event||b&&"function"!==typeof window.Event){var c=window.Event;window.Event=function(a,b){b=b||{};var c=document.createEvent("Event");c.initEvent(a,!!b.bubbles,!!b.cancelable);return c};if(c)for(var d in c)window.Event[d]=c[d];window.Event.prototype=c.prototype}if(!window.MouseEvent||b&&"function"!==typeof window.MouseEvent){b=window.MouseEvent;window.MouseEvent=function(a,
b){b=b||{};var c=document.createEvent("MouseEvent");c.initMouseEvent(a,!!b.bubbles,!!b.cancelable,b.view||window,b.detail,b.screenX,b.screenY,b.clientX,b.clientY,b.ctrlKey,b.altKey,b.shiftKey,b.metaKey,b.button,b.relatedTarget);return c};if(b)for(d in b)window.MouseEvent[d]=b[d];window.MouseEvent.prototype=b.prototype}Array.from||(Array.from=function(a){return[].slice.call(a)});Object.assign||(Object.assign=function(a,b){for(var c=[].slice.call(arguments,1),d=0,e;d<c.length;d++)if(e=c[d])for(var f=
a,n=e,r=Object.getOwnPropertyNames(n),G=0;G<r.length;G++)e=r[G],f[e]=n[e];return a})})(window.WebComponents);(function(){function a(){}function b(a,b){if(!a.childNodes.length)return[];switch(a.nodeType){case Node.DOCUMENT_NODE:return G.call(a,b);case Node.DOCUMENT_FRAGMENT_NODE:return x.call(a,b);default:return r.call(a,b)}}var c="undefined"===typeof HTMLTemplateElement,d=!(document.createDocumentFragment().cloneNode()instanceof DocumentFragment),e=!1;/Trident/.test(navigator.userAgent)&&function(){function a(a,b){if(a instanceof DocumentFragment)for(var d;d=a.firstChild;)c.call(this,d,b);else c.call(this,
a,b);return a}e=!0;var b=Node.prototype.cloneNode;Node.prototype.cloneNode=function(a){a=b.call(this,a);this instanceof DocumentFragment&&(a.__proto__=DocumentFragment.prototype);return a};DocumentFragment.prototype.querySelectorAll=HTMLElement.prototype.querySelectorAll;DocumentFragment.prototype.querySelector=HTMLElement.prototype.querySelector;Object.defineProperties(DocumentFragment.prototype,{nodeType:{get:function(){return Node.DOCUMENT_FRAGMENT_NODE},configurable:!0},localName:{get:function(){},
configurable:!0},nodeName:{get:function(){return"#document-fragment"},configurable:!0}});var c=Node.prototype.insertBefore;Node.prototype.insertBefore=a;var d=Node.prototype.appendChild;Node.prototype.appendChild=function(b){b instanceof DocumentFragment?a.call(this,b,null):d.call(this,b);return b};var f=Node.prototype.removeChild,g=Node.prototype.replaceChild;Node.prototype.replaceChild=function(b,c){b instanceof DocumentFragment?(a.call(this,b,c),f.call(this,c)):g.call(this,b,c);return c};Document.prototype.createDocumentFragment=
function(){var a=this.createElement("df");a.__proto__=DocumentFragment.prototype;return a};var h=Document.prototype.importNode;Document.prototype.importNode=function(a,b){b=h.call(this,a,b||!1);a instanceof DocumentFragment&&(b.__proto__=DocumentFragment.prototype);return b}}();var f=Node.prototype.cloneNode,g=Document.prototype.createElement,h=Document.prototype.importNode,k=Node.prototype.removeChild,m=Node.prototype.appendChild,n=Node.prototype.replaceChild,r=Element.prototype.querySelectorAll,
G=Document.prototype.querySelectorAll,x=DocumentFragment.prototype.querySelectorAll,v=function(){if(!c){var a=document.createElement("template"),b=document.createElement("template");b.content.appendChild(document.createElement("div"));a.content.appendChild(b);a=a.cloneNode(!0);return 0===a.content.childNodes.length||0===a.content.firstChild.content.childNodes.length||d}}();if(c){var U=document.implementation.createHTMLDocument("template"),Dc=!0,xa=document.createElement("style");xa.textContent="template{display:none;}";
var Ec=document.head;Ec.insertBefore(xa,Ec.firstElementChild);a.prototype=Object.create(HTMLElement.prototype);var mf=!document.createElement("div").hasOwnProperty("innerHTML");a.R=function(b){if(!b.content&&b.namespaceURI===document.documentElement.namespaceURI){b.content=U.createDocumentFragment();for(var c;c=b.firstChild;)m.call(b.content,c);if(mf)b.__proto__=a.prototype;else if(b.cloneNode=function(b){return a.a(this,b)},Dc)try{p(b),Fc(b)}catch(zh){Dc=!1}a.b(b.content)}};var p=function(b){Object.defineProperty(b,
"innerHTML",{get:function(){return Gc(this)},set:function(b){U.body.innerHTML=b;for(a.b(U);this.content.firstChild;)k.call(this.content,this.content.firstChild);for(;U.body.firstChild;)m.call(this.content,U.body.firstChild)},configurable:!0})},Fc=function(a){Object.defineProperty(a,"outerHTML",{get:function(){return"<template>"+this.innerHTML+"</template>"},set:function(a){if(this.parentNode){U.body.innerHTML=a;for(a=this.ownerDocument.createDocumentFragment();U.body.firstChild;)m.call(a,U.body.firstChild);
n.call(this.parentNode,a,this)}else throw Error("Failed to set the 'outerHTML' property on 'Element': This element has no parent node.");},configurable:!0})};p(a.prototype);Fc(a.prototype);a.b=function(c){c=b(c,"template");for(var d=0,e=c.length,f;d<e&&(f=c[d]);d++)a.R(f)};document.addEventListener("DOMContentLoaded",function(){a.b(document)});Document.prototype.createElement=function(){var b=g.apply(this,arguments);"template"===b.localName&&a.R(b);return b};var nf=/[&\u00A0"]/g,kb=/[&\u00A0<>]/g,
l=function(a){switch(a){case "&":return"&amp;";case "<":return"&lt;";case ">":return"&gt;";case '"':return"&quot;";case "\u00a0":return"&nbsp;"}};xa=function(a){for(var b={},c=0;c<a.length;c++)b[a[c]]=!0;return b};var F=xa("area base br col command embed hr img input keygen link meta param source track wbr".split(" ")),of=xa("style script xmp iframe noembed noframes plaintext noscript".split(" ")),Gc=function(a,b){"template"===a.localName&&(a=a.content);for(var c="",d=b?b(a):a.childNodes,e=0,f=d.length,
g;e<f&&(g=d[e]);e++){a:{var h=g;var k=a;var m=b;switch(h.nodeType){case Node.ELEMENT_NODE:for(var n=h.localName,v="<"+n,r=h.attributes,p=0;k=r[p];p++)v+=" "+k.name+'="'+k.value.replace(nf,l)+'"';v+=">";h=F[n]?v:v+Gc(h,m)+"</"+n+">";break a;case Node.TEXT_NODE:h=h.data;h=k&&of[k.localName]?h:h.replace(kb,l);break a;case Node.COMMENT_NODE:h="\x3c!--"+h.data+"--\x3e";break a;default:throw window.console.error(h),Error("not implemented");}}c+=h}return c}}if(c||v){a.a=function(a,b){var c=f.call(a,!1);
this.R&&this.R(c);b&&(m.call(c.content,f.call(a.content,!0)),lb(c.content,a.content));return c};var lb=function(c,d){if(d.querySelectorAll&&(d=b(d,"template"),0!==d.length)){c=b(c,"template");for(var e=0,f=c.length,g,h;e<f;e++)h=d[e],g=c[e],a&&a.R&&a.R(h),n.call(g.parentNode,pf.call(h,!0),g)}},pf=Node.prototype.cloneNode=function(b){if(!e&&d&&this instanceof DocumentFragment)if(b)var c=qf.call(this.ownerDocument,this,!0);else return this.ownerDocument.createDocumentFragment();else this.nodeType===
Node.ELEMENT_NODE&&"template"===this.localName&&this.namespaceURI==document.documentElement.namespaceURI?c=a.a(this,b):c=f.call(this,b);b&&lb(c,this);return c},qf=Document.prototype.importNode=function(c,d){d=d||!1;if("template"===c.localName)return a.a(c,d);var e=h.call(this,c,d);if(d){lb(e,c);c=b(e,'script:not([type]),script[type="application/javascript"],script[type="text/javascript"]');for(var f,k=0;k<c.length;k++){f=c[k];d=g.call(document,"script");d.textContent=f.textContent;for(var m=f.attributes,
l=0,v;l<m.length;l++)v=m[l],d.setAttribute(v.name,v.value);n.call(f.parentNode,d,f)}}return e}}c&&(window.HTMLTemplateElement=a)})();var ka;Array.isArray?ka=Array.isArray:ka=function(a){return"[object Array]"===Object.prototype.toString.call(a)};var la=ka;var ma=0,na,oa="undefined"!==typeof window?window:void 0,pa=oa||{},qa=pa.MutationObserver||pa.WebKitMutationObserver,ra="undefined"===typeof self&&"undefined"!==typeof process&&"[object process]"==={}.toString.call(process),sa="undefined"!==typeof Uint8ClampedArray&&"undefined"!==typeof importScripts&&"undefined"!==typeof MessageChannel;function ta(){return"undefined"!==typeof na?function(){na(ua)}:va()}
function wa(){var a=0,b=new qa(ua),c=document.createTextNode("");b.observe(c,{characterData:!0});return function(){c.data=a=++a%2}}function ya(){var a=new MessageChannel;a.port1.onmessage=ua;return function(){return a.port2.postMessage(0)}}function va(){var a=setTimeout;return function(){return a(ua,1)}}var za=Array(1E3);function ua(){for(var a=0;a<ma;a+=2)(0,za[a])(za[a+1]),za[a]=void 0,za[a+1]=void 0;ma=0}var Aa,Ba;
if(ra)Ba=function(){return process.xb(ua)};else{var Ca;if(qa)Ca=wa();else{var Da;if(sa)Da=ya();else{var Ea;if(void 0===oa&&"function"===typeof require)try{var Fa=require("vertx");na=Fa.zb||Fa.yb;Ea=ta()}catch(a){Ea=va()}else Ea=va();Da=Ea}Ca=Da}Ba=Ca}Aa=Ba;function Ga(a,b){za[ma]=a;za[ma+1]=b;ma+=2;2===ma&&Aa()};function Ha(a,b){var c=this,d=new this.constructor(Ia);void 0===d[Ja]&&Ka(d);var e=c.o;if(e){var f=arguments[e-1];Ga(function(){return La(e,d,f,c.l)})}else Ma(c,d,a,b);return d};function Na(a){if(a&&"object"===typeof a&&a.constructor===this)return a;var b=new this(Ia);Oa(b,a);return b};var Ja=Math.random().toString(36).substring(16);function Ia(){}var Qa=new Pa;function Ra(a){try{return a.then}catch(b){return Qa.error=b,Qa}}function Sa(a,b,c,d){try{a.call(b,c,d)}catch(e){return e}}function Ta(a,b,c){Ga(function(a){var d=!1,f=Sa(c,b,function(c){d||(d=!0,b!==c?Oa(a,c):t(a,c))},function(b){d||(d=!0,u(a,b))});!d&&f&&(d=!0,u(a,f))},a)}function Ua(a,b){1===b.o?t(a,b.l):2===b.o?u(a,b.l):Ma(b,void 0,function(b){return Oa(a,b)},function(b){return u(a,b)})}
function Va(a,b,c){b.constructor===a.constructor&&c===Ha&&b.constructor.resolve===Na?Ua(a,b):c===Qa?(u(a,Qa.error),Qa.error=null):void 0===c?t(a,b):"function"===typeof c?Ta(a,b,c):t(a,b)}function Oa(a,b){if(a===b)u(a,new TypeError("You cannot resolve a promise with itself"));else{var c=typeof b;null===b||"object"!==c&&"function"!==c?t(a,b):Va(a,b,Ra(b))}}function Wa(a){a.xa&&a.xa(a.l);Xa(a)}function t(a,b){void 0===a.o&&(a.l=b,a.o=1,0!==a.U.length&&Ga(Xa,a))}
function u(a,b){void 0===a.o&&(a.o=2,a.l=b,Ga(Wa,a))}function Ma(a,b,c,d){var e=a.U,f=e.length;a.xa=null;e[f]=b;e[f+1]=c;e[f+2]=d;0===f&&a.o&&Ga(Xa,a)}function Xa(a){var b=a.U,c=a.o;if(0!==b.length){for(var d,e,f=a.l,g=0;g<b.length;g+=3)d=b[g],e=b[g+c],d?La(c,d,e,f):e(f);a.U.length=0}}function Pa(){this.error=null}var Ya=new Pa;
function La(a,b,c,d){var e="function"===typeof c;if(e){try{var f=c(d)}catch(m){Ya.error=m,f=Ya}if(f===Ya){var g=!0;var h=f.error;f.error=null}else var k=!0;if(b===f){u(b,new TypeError("A promises callback cannot return that same promise."));return}}else f=d,k=!0;void 0===b.o&&(e&&k?Oa(b,f):g?u(b,h):1===a?t(b,f):2===a&&u(b,f))}function Za(a,b){try{b(function(b){Oa(a,b)},function(b){u(a,b)})}catch(c){u(a,c)}}var $a=0;function Ka(a){a[Ja]=$a++;a.o=void 0;a.l=void 0;a.U=[]};function ab(a,b){this.Na=a;this.N=new a(Ia);this.N[Ja]||Ka(this.N);if(la(b))if(this.$=this.length=b.length,this.l=Array(this.length),0===this.length)t(this.N,this.l);else{this.length=this.length||0;for(a=0;void 0===this.o&&a<b.length;a++)bb(this,b[a],a);0===this.$&&t(this.N,this.l)}else u(this.N,Error("Array Methods must be provided an Array"))}
function bb(a,b,c){var d=a.Na,e=d.resolve;e===Na?(e=Ra(b),e===Ha&&void 0!==b.o?cb(a,b.o,c,b.l):"function"!==typeof e?(a.$--,a.l[c]=b):d===w?(d=new d(Ia),Va(d,b,e),db(a,d,c)):db(a,new d(function(a){return a(b)}),c)):db(a,e(b),c)}function cb(a,b,c,d){var e=a.N;void 0===e.o&&(a.$--,2===b?u(e,d):a.l[c]=d);0===a.$&&t(e,a.l)}function db(a,b,c){Ma(b,void 0,function(b){return cb(a,1,c,b)},function(b){return cb(a,2,c,b)})};function eb(a){return(new ab(this,a)).N};function fb(a){var b=this;return la(a)?new b(function(c,d){for(var e=a.length,f=0;f<e;f++)b.resolve(a[f]).then(c,d)}):new b(function(a,b){return b(new TypeError("You must pass an array to race."))})};function gb(a){var b=new this(Ia);u(b,a);return b};function w(a){this[Ja]=$a++;this.l=this.o=void 0;this.U=[];if(Ia!==a){if("function"!==typeof a)throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(this instanceof w)Za(this,a);else throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");}}w.prototype={constructor:w,then:Ha,a:function(a){return this.then(null,a)}};/*

Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
window.Promise||(window.Promise=w,w.prototype["catch"]=w.prototype.a,w.prototype.then=w.prototype.then,w.all=eb,w.race=fb,w.resolve=Na,w.reject=gb);/*

 Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
 This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
 The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
 The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
 Code distributed by Google as part of the polymer project is also
 subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
window.WebComponents=window.WebComponents||{flags:{}};var hb=document.querySelector('script[src*="webcomponents-bundle"]'),ib=/wc-(.+)/,y={};if(!y.noOpts){location.search.slice(1).split("&").forEach(function(a){a=a.split("=");var b;a[0]&&(b=a[0].match(ib))&&(y[b[1]]=a[1]||!0)});if(hb)for(var jb=0,mb;mb=hb.attributes[jb];jb++)"src"!==mb.name&&(y[mb.name]=mb.value||!0);if(y.log&&y.log.split){var nb=y.log.split(",");y.log={};nb.forEach(function(a){y.log[a]=!0})}else y.log={}}
window.WebComponents.flags=y;var ob=y.shadydom;ob&&(window.ShadyDOM=window.ShadyDOM||{},window.ShadyDOM.force=ob);var pb=y.register||y.ce;pb&&window.customElements&&(window.customElements.forcePolyfill=pb);/*

Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
function qb(){this.Da=this.root=null;this.da=!1;this.L=this.Z=this.pa=this.assignedSlot=this.assignedNodes=this.S=null;this.childNodes=this.nextSibling=this.previousSibling=this.lastChild=this.firstChild=this.parentNode=this.V=void 0;this.Ia=this.va=!1}qb.prototype.toJSON=function(){return{}};function z(a){a.ka||(a.ka=new qb);return a.ka}function A(a){return a&&a.ka};var B=window.ShadyDOM||{};B.Ua=!(!Element.prototype.attachShadow||!Node.prototype.getRootNode);var rb=Object.getOwnPropertyDescriptor(Node.prototype,"firstChild");B.I=!!(rb&&rb.configurable&&rb.get);B.Ba=B.force||!B.Ua;var sb=navigator.userAgent.match("Trident"),tb=navigator.userAgent.match("Edge");void 0===B.Fa&&(B.Fa=B.I&&(sb||tb));function ub(a){return(a=A(a))&&void 0!==a.firstChild}function C(a){return"ShadyRoot"===a.Oa}function vb(a){a=a.getRootNode();if(C(a))return a}
var wb=Element.prototype,xb=wb.matches||wb.matchesSelector||wb.mozMatchesSelector||wb.msMatchesSelector||wb.oMatchesSelector||wb.webkitMatchesSelector;function yb(a,b){if(a&&b)for(var c=Object.getOwnPropertyNames(b),d=0,e;d<c.length&&(e=c[d]);d++){var f=Object.getOwnPropertyDescriptor(b,e);f&&Object.defineProperty(a,e,f)}}function zb(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];for(d=0;d<c.length;d++)yb(a,c[d]);return a}function Ab(a,b){for(var c in b)a[c]=b[c]}
var Bb=document.createTextNode(""),Cb=0,Db=[];(new MutationObserver(function(){for(;Db.length;)try{Db.shift()()}catch(a){throw Bb.textContent=Cb++,a;}})).observe(Bb,{characterData:!0});function Eb(a){Db.push(a);Bb.textContent=Cb++}var Fb=!!document.contains;function Gb(a,b){for(;b;){if(b==a)return!0;b=b.parentNode}return!1};var Hb=[],Ib;function Jb(a){Ib||(Ib=!0,Eb(Kb));Hb.push(a)}function Kb(){Ib=!1;for(var a=!!Hb.length;Hb.length;)Hb.shift()();return a}Kb.list=Hb;function Lb(){this.a=!1;this.addedNodes=[];this.removedNodes=[];this.ca=new Set}function Mb(a){a.a||(a.a=!0,Eb(function(){Nb(a)}))}function Nb(a){if(a.a){a.a=!1;var b=a.takeRecords();b.length&&a.ca.forEach(function(a){a(b)})}}Lb.prototype.takeRecords=function(){if(this.addedNodes.length||this.removedNodes.length){var a=[{addedNodes:this.addedNodes,removedNodes:this.removedNodes}];this.addedNodes=[];this.removedNodes=[];return a}return[]};
function Ob(a,b){var c=z(a);c.S||(c.S=new Lb);c.S.ca.add(b);var d=c.S;return{La:b,P:d,Pa:a,takeRecords:function(){return d.takeRecords()}}}function Pb(a){var b=a&&a.P;b&&(b.ca.delete(a.La),b.ca.size||(z(a.Pa).S=null))}
function Qb(a,b){var c=b.getRootNode();return a.map(function(a){var b=c===a.target.getRootNode();if(b&&a.addedNodes){if(b=Array.from(a.addedNodes).filter(function(a){return c===a.getRootNode()}),b.length)return a=Object.create(a),Object.defineProperty(a,"addedNodes",{value:b,configurable:!0}),a}else if(b)return a}).filter(function(a){return a})};var D={},Rb=Element.prototype.insertBefore,Sb=Element.prototype.replaceChild,Tb=Element.prototype.removeChild,Ub=Element.prototype.setAttribute,Vb=Element.prototype.removeAttribute,Wb=Element.prototype.cloneNode,Xb=Document.prototype.importNode,Yb=Element.prototype.addEventListener,Zb=Element.prototype.removeEventListener,$b=Window.prototype.addEventListener,ac=Window.prototype.removeEventListener,bc=Element.prototype.dispatchEvent,cc=Node.prototype.contains||HTMLElement.prototype.contains,dc=Document.prototype.getElementById,
ec=Element.prototype.querySelector,fc=DocumentFragment.prototype.querySelector,gc=Document.prototype.querySelector,hc=Element.prototype.querySelectorAll,ic=DocumentFragment.prototype.querySelectorAll,jc=Document.prototype.querySelectorAll;D.appendChild=Element.prototype.appendChild;D.insertBefore=Rb;D.replaceChild=Sb;D.removeChild=Tb;D.setAttribute=Ub;D.removeAttribute=Vb;D.cloneNode=Wb;D.importNode=Xb;D.addEventListener=Yb;D.removeEventListener=Zb;D.eb=$b;D.fb=ac;D.dispatchEvent=bc;D.contains=cc;
D.getElementById=dc;D.ob=ec;D.sb=fc;D.mb=gc;D.querySelector=function(a){switch(this.nodeType){case Node.ELEMENT_NODE:return ec.call(this,a);case Node.DOCUMENT_NODE:return gc.call(this,a);default:return fc.call(this,a)}};D.pb=hc;D.tb=ic;D.nb=jc;D.querySelectorAll=function(a){switch(this.nodeType){case Node.ELEMENT_NODE:return hc.call(this,a);case Node.DOCUMENT_NODE:return jc.call(this,a);default:return ic.call(this,a)}};var kc=/[&\u00A0"]/g,lc=/[&\u00A0<>]/g;function mc(a){switch(a){case "&":return"&amp;";case "<":return"&lt;";case ">":return"&gt;";case '"':return"&quot;";case "\u00a0":return"&nbsp;"}}function nc(a){for(var b={},c=0;c<a.length;c++)b[a[c]]=!0;return b}var oc=nc("area base br col command embed hr img input keygen link meta param source track wbr".split(" ")),pc=nc("style script xmp iframe noembed noframes plaintext noscript".split(" "));
function qc(a,b){"template"===a.localName&&(a=a.content);for(var c="",d=b?b(a):a.childNodes,e=0,f=d.length,g;e<f&&(g=d[e]);e++){a:{var h=g;var k=a;var m=b;switch(h.nodeType){case Node.ELEMENT_NODE:for(var n=h.localName,r="<"+n,G=h.attributes,x=0;k=G[x];x++)r+=" "+k.name+'="'+k.value.replace(kc,mc)+'"';r+=">";h=oc[n]?r:r+qc(h,m)+"</"+n+">";break a;case Node.TEXT_NODE:h=h.data;h=k&&pc[k.localName]?h:h.replace(lc,mc);break a;case Node.COMMENT_NODE:h="\x3c!--"+h.data+"--\x3e";break a;default:throw window.console.error(h),
Error("not implemented");}}c+=h}return c};var E={},H=document.createTreeWalker(document,NodeFilter.SHOW_ALL,null,!1),I=document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT,null,!1);function rc(a){var b=[];H.currentNode=a;for(a=H.firstChild();a;)b.push(a),a=H.nextSibling();return b}E.parentNode=function(a){H.currentNode=a;return H.parentNode()};E.firstChild=function(a){H.currentNode=a;return H.firstChild()};E.lastChild=function(a){H.currentNode=a;return H.lastChild()};E.previousSibling=function(a){H.currentNode=a;return H.previousSibling()};
E.nextSibling=function(a){H.currentNode=a;return H.nextSibling()};E.childNodes=rc;E.parentElement=function(a){I.currentNode=a;return I.parentNode()};E.firstElementChild=function(a){I.currentNode=a;return I.firstChild()};E.lastElementChild=function(a){I.currentNode=a;return I.lastChild()};E.previousElementSibling=function(a){I.currentNode=a;return I.previousSibling()};E.nextElementSibling=function(a){I.currentNode=a;return I.nextSibling()};
E.children=function(a){var b=[];I.currentNode=a;for(a=I.firstChild();a;)b.push(a),a=I.nextSibling();return b};E.innerHTML=function(a){return qc(a,function(a){return rc(a)})};E.textContent=function(a){switch(a.nodeType){case Node.ELEMENT_NODE:case Node.DOCUMENT_FRAGMENT_NODE:a=document.createTreeWalker(a,NodeFilter.SHOW_TEXT,null,!1);for(var b="",c;c=a.nextNode();)b+=c.nodeValue;return b;default:return a.nodeValue}};var J={},sc=B.I,tc=[Node.prototype,Element.prototype,HTMLElement.prototype];function K(a){var b;a:{for(b=0;b<tc.length;b++){var c=tc[b];if(c.hasOwnProperty(a)){b=c;break a}}b=void 0}if(!b)throw Error("Could not find descriptor for "+a);return Object.getOwnPropertyDescriptor(b,a)}
var L=sc?{parentNode:K("parentNode"),firstChild:K("firstChild"),lastChild:K("lastChild"),previousSibling:K("previousSibling"),nextSibling:K("nextSibling"),childNodes:K("childNodes"),parentElement:K("parentElement"),previousElementSibling:K("previousElementSibling"),nextElementSibling:K("nextElementSibling"),innerHTML:K("innerHTML"),textContent:K("textContent"),firstElementChild:K("firstElementChild"),lastElementChild:K("lastElementChild"),children:K("children")}:{},uc=sc?{firstElementChild:Object.getOwnPropertyDescriptor(DocumentFragment.prototype,
"firstElementChild"),lastElementChild:Object.getOwnPropertyDescriptor(DocumentFragment.prototype,"lastElementChild"),children:Object.getOwnPropertyDescriptor(DocumentFragment.prototype,"children")}:{},vc=sc?{firstElementChild:Object.getOwnPropertyDescriptor(Document.prototype,"firstElementChild"),lastElementChild:Object.getOwnPropertyDescriptor(Document.prototype,"lastElementChild"),children:Object.getOwnPropertyDescriptor(Document.prototype,"children")}:{};J.Ca=L;J.rb=uc;J.lb=vc;J.parentNode=function(a){return L.parentNode.get.call(a)};
J.firstChild=function(a){return L.firstChild.get.call(a)};J.lastChild=function(a){return L.lastChild.get.call(a)};J.previousSibling=function(a){return L.previousSibling.get.call(a)};J.nextSibling=function(a){return L.nextSibling.get.call(a)};J.childNodes=function(a){return Array.prototype.slice.call(L.childNodes.get.call(a))};J.parentElement=function(a){return L.parentElement.get.call(a)};J.previousElementSibling=function(a){return L.previousElementSibling.get.call(a)};J.nextElementSibling=function(a){return L.nextElementSibling.get.call(a)};
J.innerHTML=function(a){return L.innerHTML.get.call(a)};J.textContent=function(a){return L.textContent.get.call(a)};J.children=function(a){switch(a.nodeType){case Node.DOCUMENT_FRAGMENT_NODE:a=uc.children.get.call(a);break;case Node.DOCUMENT_NODE:a=vc.children.get.call(a);break;default:a=L.children.get.call(a)}return Array.prototype.slice.call(a)};
J.firstElementChild=function(a){switch(a.nodeType){case Node.DOCUMENT_FRAGMENT_NODE:return uc.firstElementChild.get.call(a);case Node.DOCUMENT_NODE:return vc.firstElementChild.get.call(a);default:return L.firstElementChild.get.call(a)}};J.lastElementChild=function(a){switch(a.nodeType){case Node.DOCUMENT_FRAGMENT_NODE:return uc.lastElementChild.get.call(a);case Node.DOCUMENT_NODE:return vc.lastElementChild.get.call(a);default:return L.lastElementChild.get.call(a)}};var M=B.Fa?J:E;function wc(a){for(;a.firstChild;)a.removeChild(a.firstChild)}
var xc=B.I,yc=document.implementation.createHTMLDocument("inert"),zc=Object.getOwnPropertyDescriptor(Node.prototype,"isConnected"),Ac=zc&&zc.get,Bc=Object.getOwnPropertyDescriptor(Document.prototype,"activeElement"),Cc={parentElement:{get:function(){var a=A(this);(a=a&&a.parentNode)&&a.nodeType!==Node.ELEMENT_NODE&&(a=null);return void 0!==a?a:M.parentElement(this)},configurable:!0},parentNode:{get:function(){var a=A(this);a=a&&a.parentNode;return void 0!==a?a:M.parentNode(this)},configurable:!0},
nextSibling:{get:function(){var a=A(this);a=a&&a.nextSibling;return void 0!==a?a:M.nextSibling(this)},configurable:!0},previousSibling:{get:function(){var a=A(this);a=a&&a.previousSibling;return void 0!==a?a:M.previousSibling(this)},configurable:!0},nextElementSibling:{get:function(){var a=A(this);if(a&&void 0!==a.nextSibling){for(a=this.nextSibling;a&&a.nodeType!==Node.ELEMENT_NODE;)a=a.nextSibling;return a}return M.nextElementSibling(this)},configurable:!0},previousElementSibling:{get:function(){var a=
A(this);if(a&&void 0!==a.previousSibling){for(a=this.previousSibling;a&&a.nodeType!==Node.ELEMENT_NODE;)a=a.previousSibling;return a}return M.previousElementSibling(this)},configurable:!0}},Hc={className:{get:function(){return this.getAttribute("class")||""},set:function(a){this.setAttribute("class",a)},configurable:!0}},Ic={childNodes:{get:function(){if(ub(this)){var a=A(this);if(!a.childNodes){a.childNodes=[];for(var b=this.firstChild;b;b=b.nextSibling)a.childNodes.push(b)}var c=a.childNodes}else c=
M.childNodes(this);c.item=function(a){return c[a]};return c},configurable:!0},childElementCount:{get:function(){return this.children.length},configurable:!0},firstChild:{get:function(){var a=A(this);a=a&&a.firstChild;return void 0!==a?a:M.firstChild(this)},configurable:!0},lastChild:{get:function(){var a=A(this);a=a&&a.lastChild;return void 0!==a?a:M.lastChild(this)},configurable:!0},textContent:{get:function(){if(ub(this)){for(var a=[],b=0,c=this.childNodes,d;d=c[b];b++)d.nodeType!==Node.COMMENT_NODE&&
a.push(d.textContent);return a.join("")}return M.textContent(this)},set:function(a){if("undefined"===typeof a||null===a)a="";switch(this.nodeType){case Node.ELEMENT_NODE:case Node.DOCUMENT_FRAGMENT_NODE:if(!ub(this)&&xc){var b=this.firstChild;(b!=this.lastChild||b&&b.nodeType!=Node.TEXT_NODE)&&wc(this);J.Ca.textContent.set.call(this,a)}else wc(this),(0<a.length||this.nodeType===Node.ELEMENT_NODE)&&this.appendChild(document.createTextNode(a));break;default:this.nodeValue=a}},configurable:!0},firstElementChild:{get:function(){var a=
A(this);if(a&&void 0!==a.firstChild){for(a=this.firstChild;a&&a.nodeType!==Node.ELEMENT_NODE;)a=a.nextSibling;return a}return M.firstElementChild(this)},configurable:!0},lastElementChild:{get:function(){var a=A(this);if(a&&void 0!==a.lastChild){for(a=this.lastChild;a&&a.nodeType!==Node.ELEMENT_NODE;)a=a.previousSibling;return a}return M.lastElementChild(this)},configurable:!0},children:{get:function(){var a;ub(this)?a=Array.prototype.filter.call(this.childNodes,function(a){return a.nodeType===Node.ELEMENT_NODE}):
a=M.children(this);a.item=function(b){return a[b]};return a},configurable:!0},innerHTML:{get:function(){return ub(this)?qc("template"===this.localName?this.content:this):M.innerHTML(this)},set:function(a){var b="template"===this.localName?this.content:this;wc(b);var c=this.localName;c&&"template"!==c||(c="div");c=yc.createElement(c);for(xc?J.Ca.innerHTML.set.call(c,a):c.innerHTML=a;c.firstChild;)b.appendChild(c.firstChild)},configurable:!0}},Jc={shadowRoot:{get:function(){var a=A(this);return a&&
a.Da||null},configurable:!0}},Kc={activeElement:{get:function(){var a=Bc&&Bc.get?Bc.get.call(document):B.I?void 0:document.activeElement;if(a&&a.nodeType){var b=!!C(this);if(this===document||b&&this.host!==a&&D.contains.call(this.host,a)){for(b=vb(a);b&&b!==this;)a=b.host,b=vb(a);a=this===document?b?null:a:b===this?a:null}else a=null}else a=null;return a},set:function(){},configurable:!0}};
function N(a,b,c){for(var d in b){var e=Object.getOwnPropertyDescriptor(a,d);e&&e.configurable||!e&&c?Object.defineProperty(a,d,b[d]):c&&console.warn("Could not define",d,"on",a)}}function Lc(a){N(a,Cc);N(a,Hc);N(a,Ic);N(a,Kc)}
function Mc(){var a=Nc.prototype;a.__proto__=DocumentFragment.prototype;N(a,Cc,!0);N(a,Ic,!0);N(a,Kc,!0);Object.defineProperties(a,{nodeType:{value:Node.DOCUMENT_FRAGMENT_NODE,configurable:!0},nodeName:{value:"#document-fragment",configurable:!0},nodeValue:{value:null,configurable:!0}});["localName","namespaceURI","prefix"].forEach(function(b){Object.defineProperty(a,b,{value:void 0,configurable:!0})});["ownerDocument","baseURI","isConnected"].forEach(function(b){Object.defineProperty(a,b,{get:function(){return this.host[b]},
configurable:!0})})}var Oc=B.I?function(){}:function(a){var b=z(a);b.va||(b.va=!0,N(a,Cc,!0),N(a,Hc,!0))},Pc=B.I?function(){}:function(a){z(a).Ia||(N(a,Ic,!0),N(a,Jc,!0))};var Qc=M.childNodes;function Rc(a,b,c){Oc(a);c=c||null;var d=z(a),e=z(b),f=c?z(c):null;d.previousSibling=c?f.previousSibling:b.lastChild;if(f=A(d.previousSibling))f.nextSibling=a;if(f=A(d.nextSibling=c))f.previousSibling=a;d.parentNode=b;c?c===e.firstChild&&(e.firstChild=a):(e.lastChild=a,e.firstChild||(e.firstChild=a));e.childNodes=null}
function Sc(a,b){var c=z(a);if(void 0===c.firstChild)for(b=b||Qc(a),c.firstChild=b[0]||null,c.lastChild=b[b.length-1]||null,Pc(a),c=0;c<b.length;c++){var d=b[c],e=z(d);e.parentNode=a;e.nextSibling=b[c+1]||null;e.previousSibling=b[c-1]||null;Oc(d)}};var Tc=M.parentNode;
function Uc(a,b,c){if(b===a)throw Error("Failed to execute 'appendChild' on 'Node': The new child element contains the parent.");if(c){var d=A(c);d=d&&d.parentNode;if(void 0!==d&&d!==a||void 0===d&&Tc(c)!==a)throw Error("Failed to execute 'insertBefore' on 'Node': The node before which the new node is to be inserted is not a child of this node.");}if(c===b)return b;b.parentNode&&Vc(b.parentNode,b);var e,f;if(!b.__noInsertionPoint){if(f=e=vb(a)){var g;"slot"===b.localName?g=[b]:b.querySelectorAll&&
(g=b.querySelectorAll("slot"));f=g&&g.length?g:void 0}f&&(g=e,d=f,g.a=g.a||[],g.m=g.m||[],g.w=g.w||{},g.a.push.apply(g.a,[].concat(d instanceof Array?d:ja(ia(d)))))}("slot"===a.localName||f)&&(e=e||vb(a))&&Wc(e);if(ub(a)){e=c;Pc(a);f=z(a);void 0!==f.firstChild&&(f.childNodes=null);if(b.nodeType===Node.DOCUMENT_FRAGMENT_NODE){f=b.childNodes;for(g=0;g<f.length;g++)Rc(f[g],a,e);e=z(b);f=void 0!==e.firstChild?null:void 0;e.firstChild=e.lastChild=f;e.childNodes=f}else Rc(b,a,e);e=A(a);if(Xc(a)){Wc(e.root);
var h=!0}else e.root&&(h=!0)}h||(h=C(a)?a.host:a,c?(c=Yc(c),D.insertBefore.call(h,b,c)):D.appendChild.call(h,b));Zc(a,b);return b}
function Vc(a,b){if(b.parentNode!==a)throw Error("The node to be removed is not a child of this node: "+b);var c=vb(b),d=A(a);if(ub(a)){var e=z(b),f=z(a);b===f.firstChild&&(f.firstChild=e.nextSibling);b===f.lastChild&&(f.lastChild=e.previousSibling);var g=e.previousSibling,h=e.nextSibling;g&&(z(g).nextSibling=h);h&&(z(h).previousSibling=g);e.parentNode=e.previousSibling=e.nextSibling=void 0;void 0!==f.childNodes&&(f.childNodes=null);if(Xc(a)){Wc(d.root);var k=!0}}$c(b);if(c){(e=a&&"slot"===a.localName)&&
(k=!0);if(c.m){ad(c);f=c.w;for(v in f)for(g=f[v],h=0;h<g.length;h++){var m=g[h];if(Gb(b,m)){g.splice(h,1);var n=c.m.indexOf(m);0<=n&&c.m.splice(n,1);h--;n=A(m);if(m=n.L)for(var r=0;r<m.length;r++){var G=m[r],x=bd(G);x&&D.removeChild.call(x,G)}n.L=[];n.assignedNodes=[];n=!0}}var v=n}else v=void 0;(v||e)&&Wc(c)}k||(k=C(a)?a.host:a,(!d.root&&"slot"!==b.localName||k===Tc(b))&&D.removeChild.call(k,b));Zc(a,null,b);return b}
function $c(a){var b=A(a);if(b&&void 0!==b.V){b=a.childNodes;for(var c=0,d=b.length,e;c<d&&(e=b[c]);c++)$c(e)}if(a=A(a))a.V=void 0}function Yc(a){var b=a;a&&"slot"===a.localName&&(b=(b=(b=A(a))&&b.L)&&b.length?b[0]:Yc(a.nextSibling));return b}function Xc(a){return(a=(a=A(a))&&a.root)&&cd(a)}
function dd(a,b){if("slot"===b)a=a.parentNode,Xc(a)&&Wc(A(a).root);else if("slot"===a.localName&&"name"===b&&(b=vb(a))){if(b.m){var c=a.Ja,d=ed(a);if(d!==c){c=b.w[c];var e=c.indexOf(a);0<=e&&c.splice(e,1);c=b.w[d]||(b.w[d]=[]);c.push(a);1<c.length&&(b.w[d]=fd(c))}}Wc(b)}}function Zc(a,b,c){if(a=(a=A(a))&&a.S)b&&a.addedNodes.push(b),c&&a.removedNodes.push(c),Mb(a)}
function gd(a){if(a&&a.nodeType){var b=z(a),c=b.V;void 0===c&&(C(a)?(c=a,b.V=c):(c=(c=a.parentNode)?gd(c):a,D.contains.call(document.documentElement,a)&&(b.V=c)));return c}}function hd(a,b,c){var d=[];id(a.childNodes,b,c,d);return d}function id(a,b,c,d){for(var e=0,f=a.length,g;e<f&&(g=a[e]);e++){var h;if(h=g.nodeType===Node.ELEMENT_NODE){h=g;var k=b,m=c,n=d,r=k(h);r&&n.push(h);m&&m(r)?h=r:(id(h.childNodes,k,m,n),h=void 0)}if(h)break}}var jd=null;
function kd(a,b,c){jd||(jd=window.ShadyCSS&&window.ShadyCSS.ScopingShim);jd&&"class"===b?jd.setElementClass(a,c):(D.setAttribute.call(a,b,c),dd(a,b))}function ld(a,b){if(a.ownerDocument!==document)return D.importNode.call(document,a,b);var c=D.importNode.call(document,a,!1);if(b){a=a.childNodes;b=0;for(var d;b<a.length;b++)d=ld(a[b],!0),c.appendChild(d)}return c};var md="__eventWrappers"+Date.now(),nd={blur:!0,focus:!0,focusin:!0,focusout:!0,click:!0,dblclick:!0,mousedown:!0,mouseenter:!0,mouseleave:!0,mousemove:!0,mouseout:!0,mouseover:!0,mouseup:!0,wheel:!0,beforeinput:!0,input:!0,keydown:!0,keyup:!0,compositionstart:!0,compositionupdate:!0,compositionend:!0,touchstart:!0,touchend:!0,touchmove:!0,touchcancel:!0,pointerover:!0,pointerenter:!0,pointerdown:!0,pointermove:!0,pointerup:!0,pointercancel:!0,pointerout:!0,pointerleave:!0,gotpointercapture:!0,lostpointercapture:!0,
dragstart:!0,drag:!0,dragenter:!0,dragleave:!0,dragover:!0,drop:!0,dragend:!0,DOMActivate:!0,DOMFocusIn:!0,DOMFocusOut:!0,keypress:!0};function od(a,b){var c=[],d=a;for(a=a===window?window:a.getRootNode();d;)c.push(d),d=d.assignedSlot?d.assignedSlot:d.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&d.host&&(b||d!==a)?d.host:d.parentNode;c[c.length-1]===document&&c.push(window);return c}
function pd(a,b){if(!C)return a;a=od(a,!0);for(var c=0,d,e,f,g;c<b.length;c++)if(d=b[c],f=d===window?window:d.getRootNode(),f!==e&&(g=a.indexOf(f),e=f),!C(f)||-1<g)return d}
var qd={get composed(){!1!==this.isTrusted&&void 0===this.ha&&(this.ha=nd[this.type]);return this.ha||!1},composedPath:function(){this.ta||(this.ta=od(this.__target,this.composed));return this.ta},get target(){return pd(this.currentTarget,this.composedPath())},get relatedTarget(){if(!this.ja)return null;this.wa||(this.wa=od(this.ja,!0));return pd(this.currentTarget,this.wa)},stopPropagation:function(){Event.prototype.stopPropagation.call(this);this.ia=!0},stopImmediatePropagation:function(){Event.prototype.stopImmediatePropagation.call(this);
this.ia=this.Ha=!0}};function rd(a){function b(b,d){b=new a(b,d);b.ha=d&&!!d.composed;return b}Ab(b,a);b.prototype=a.prototype;return b}var sd={focus:!0,blur:!0};function td(a){return a.__target!==a.target||a.ja!==a.relatedTarget}function ud(a,b,c){if(c=b.__handlers&&b.__handlers[a.type]&&b.__handlers[a.type][c])for(var d=0,e;(e=c[d])&&(!td(a)||a.target!==a.relatedTarget)&&(e.call(b,a),!a.Ha);d++);}
function vd(a){var b=a.composedPath();Object.defineProperty(a,"currentTarget",{get:function(){return d},configurable:!0});for(var c=b.length-1;0<=c;c--){var d=b[c];ud(a,d,"capture");if(a.ia)return}Object.defineProperty(a,"eventPhase",{get:function(){return Event.AT_TARGET}});var e;for(c=0;c<b.length;c++){d=b[c];var f=A(d);f=f&&f.root;if(0===c||f&&f===e)if(ud(a,d,"bubble"),d!==window&&(e=d.getRootNode()),a.ia)break}}
function wd(a,b,c,d,e,f){for(var g=0;g<a.length;g++){var h=a[g],k=h.type,m=h.capture,n=h.once,r=h.passive;if(b===h.node&&c===k&&d===m&&e===n&&f===r)return g}return-1}
function xd(a,b,c){if(b){var d=typeof b;if("function"===d||"object"===d)if("object"!==d||b.handleEvent&&"function"===typeof b.handleEvent){if(c&&"object"===typeof c){var e=!!c.capture;var f=!!c.once;var g=!!c.passive}else e=!!c,g=f=!1;var h=c&&c.la||this,k=b[md];if(k){if(-1<wd(k,h,a,e,f,g))return}else b[md]=[];k=function(e){f&&this.removeEventListener(a,b,c);e.__target||yd(e);if(h!==this){var g=Object.getOwnPropertyDescriptor(e,"currentTarget");Object.defineProperty(e,"currentTarget",{get:function(){return h},
configurable:!0})}if(e.composed||-1<e.composedPath().indexOf(h))if(td(e)&&e.target===e.relatedTarget)e.eventPhase===Event.BUBBLING_PHASE&&e.stopImmediatePropagation();else if(e.eventPhase===Event.CAPTURING_PHASE||e.bubbles||e.target===h||h instanceof Window){var k="function"===d?b.call(h,e):b.handleEvent&&b.handleEvent(e);h!==this&&(g?(Object.defineProperty(e,"currentTarget",g),g=null):delete e.currentTarget);return k}};b[md].push({node:h,type:a,capture:e,once:f,passive:g,gb:k});sd[a]?(this.__handlers=
this.__handlers||{},this.__handlers[a]=this.__handlers[a]||{capture:[],bubble:[]},this.__handlers[a][e?"capture":"bubble"].push(k)):(this instanceof Window?D.eb:D.addEventListener).call(this,a,k,c)}}}
function zd(a,b,c){if(b){if(c&&"object"===typeof c){var d=!!c.capture;var e=!!c.once;var f=!!c.passive}else d=!!c,f=e=!1;var g=c&&c.la||this,h=void 0;var k=null;try{k=b[md]}catch(m){}k&&(e=wd(k,g,a,d,e,f),-1<e&&(h=k.splice(e,1)[0].gb,k.length||(b[md]=void 0)));(this instanceof Window?D.fb:D.removeEventListener).call(this,a,h||b,c);h&&sd[a]&&this.__handlers&&this.__handlers[a]&&(a=this.__handlers[a][d?"capture":"bubble"],h=a.indexOf(h),-1<h&&a.splice(h,1))}}
function Ad(){for(var a in sd)window.addEventListener(a,function(a){a.__target||(yd(a),vd(a))},!0)}function yd(a){a.__target=a.target;a.ja=a.relatedTarget;if(B.I){var b=Object.getPrototypeOf(a);if(!b.hasOwnProperty("__patchProto")){var c=Object.create(b);c.ib=b;yb(c,qd);b.__patchProto=c}a.__proto__=b.__patchProto}else yb(a,qd)}var Bd=rd(window.Event),Cd=rd(window.CustomEvent),Dd=rd(window.MouseEvent);function Ed(a,b){return{index:a,W:[],ba:b}}
function Fd(a,b,c,d){var e=0,f=0,g=0,h=0,k=Math.min(b-e,d-f);if(0==e&&0==f)a:{for(g=0;g<k;g++)if(a[g]!==c[g])break a;g=k}if(b==a.length&&d==c.length){h=a.length;for(var m=c.length,n=0;n<k-g&&Gd(a[--h],c[--m]);)n++;h=n}e+=g;f+=g;b-=h;d-=h;if(0==b-e&&0==d-f)return[];if(e==b){for(b=Ed(e,0);f<d;)b.W.push(c[f++]);return[b]}if(f==d)return[Ed(e,b-e)];k=e;g=f;d=d-g+1;h=b-k+1;b=Array(d);for(m=0;m<d;m++)b[m]=Array(h),b[m][0]=m;for(m=0;m<h;m++)b[0][m]=m;for(m=1;m<d;m++)for(n=1;n<h;n++)if(a[k+n-1]===c[g+m-1])b[m][n]=
b[m-1][n-1];else{var r=b[m-1][n]+1,G=b[m][n-1]+1;b[m][n]=r<G?r:G}k=b.length-1;g=b[0].length-1;d=b[k][g];for(a=[];0<k||0<g;)0==k?(a.push(2),g--):0==g?(a.push(3),k--):(h=b[k-1][g-1],m=b[k-1][g],n=b[k][g-1],r=m<n?m<h?m:h:n<h?n:h,r==h?(h==d?a.push(0):(a.push(1),d=h),k--,g--):r==m?(a.push(3),k--,d=m):(a.push(2),g--,d=n));a.reverse();b=void 0;k=[];for(g=0;g<a.length;g++)switch(a[g]){case 0:b&&(k.push(b),b=void 0);e++;f++;break;case 1:b||(b=Ed(e,0));b.ba++;e++;b.W.push(c[f]);f++;break;case 2:b||(b=Ed(e,
0));b.ba++;e++;break;case 3:b||(b=Ed(e,0)),b.W.push(c[f]),f++}b&&k.push(b);return k}function Gd(a,b){return a===b};var bd=M.parentNode,Hd=M.childNodes,Id={};function Jd(a){var b=[];do b.unshift(a);while(a=a.parentNode);return b}function Nc(a,b,c){if(a!==Id)throw new TypeError("Illegal constructor");this.Oa="ShadyRoot";a=Hd(b);this.host=b;this.b=c&&c.mode;Sc(b,a);c=A(b);c.root=this;c.Da="closed"!==this.b?this:null;c=z(this);c.firstChild=c.lastChild=c.parentNode=c.nextSibling=c.previousSibling=null;c.childNodes=[];this.aa=!1;this.a=this.w=this.m=null;c=0;for(var d=a.length;c<d;c++)D.removeChild.call(b,a[c])}
function Wc(a){a.aa||(a.aa=!0,Jb(function(){return Kd(a)}))}function Kd(a){for(var b;a;){a.aa&&(b=a);a:{var c=a;a=c.host.getRootNode();if(C(a))for(var d=c.host.childNodes,e=0;e<d.length;e++)if(c=d[e],"slot"==c.localName)break a;a=void 0}}b&&b._renderRoot()}
Nc.prototype._renderRoot=function(){this.aa=!1;if(this.m){ad(this);for(var a=0,b;a<this.m.length;a++){b=this.m[a];var c=A(b),d=c.assignedNodes;c.assignedNodes=[];c.L=[];if(c.pa=d)for(c=0;c<d.length;c++){var e=A(d[c]);e.Z=e.assignedSlot;e.assignedSlot===b&&(e.assignedSlot=null)}}for(b=this.host.firstChild;b;b=b.nextSibling)Ld(this,b);for(a=0;a<this.m.length;a++){b=this.m[a];d=A(b);if(!d.assignedNodes.length)for(c=b.firstChild;c;c=c.nextSibling)Ld(this,c,b);(c=(c=A(b.parentNode))&&c.root)&&cd(c)&&c._renderRoot();
Md(this,d.L,d.assignedNodes);if(c=d.pa){for(e=0;e<c.length;e++)A(c[e]).Z=null;d.pa=null;c.length>d.assignedNodes.length&&(d.da=!0)}d.da&&(d.da=!1,Nd(this,b))}a=this.m;b=[];for(d=0;d<a.length;d++)c=a[d].parentNode,(e=A(c))&&e.root||!(0>b.indexOf(c))||b.push(c);for(a=0;a<b.length;a++){d=b[a];c=d===this?this.host:d;e=[];d=d.childNodes;for(var f=0;f<d.length;f++){var g=d[f];if("slot"==g.localName){g=A(g).L;for(var h=0;h<g.length;h++)e.push(g[h])}else e.push(g)}d=void 0;f=Hd(c);g=Fd(e,e.length,f,f.length);
for(var k=h=0;h<g.length&&(d=g[h]);h++){for(var m=0,n;m<d.W.length&&(n=d.W[m]);m++)bd(n)===c&&D.removeChild.call(c,n),f.splice(d.index+k,1);k-=d.ba}for(k=0;k<g.length&&(d=g[k]);k++)for(h=f[d.index],m=d.index;m<d.index+d.ba;m++)n=e[m],D.insertBefore.call(c,n,h),f.splice(m,0,n)}}};function Ld(a,b,c){var d=z(b),e=d.Z;d.Z=null;c||(c=(a=a.w[b.slot||"__catchall"])&&a[0]);c?(z(c).assignedNodes.push(b),d.assignedSlot=c):d.assignedSlot=void 0;e!==d.assignedSlot&&d.assignedSlot&&(z(d.assignedSlot).da=!0)}
function Md(a,b,c){for(var d=0,e;d<c.length&&(e=c[d]);d++)if("slot"==e.localName){var f=A(e).assignedNodes;f&&f.length&&Md(a,b,f)}else b.push(c[d])}function Nd(a,b){D.dispatchEvent.call(b,new Event("slotchange"));b=A(b);b.assignedSlot&&Nd(a,b.assignedSlot)}function ad(a){if(a.a&&a.a.length){for(var b=a.a,c,d=0;d<b.length;d++){var e=b[d];Sc(e);Sc(e.parentNode);var f=ed(e);a.w[f]?(c=c||{},c[f]=!0,a.w[f].push(e)):a.w[f]=[e];a.m.push(e)}if(c)for(var g in c)a.w[g]=fd(a.w[g]);a.a=[]}}
function ed(a){var b=a.name||a.getAttribute("name")||"__catchall";return a.Ja=b}function fd(a){return a.sort(function(a,c){a=Jd(a);for(var b=Jd(c),e=0;e<a.length;e++){c=a[e];var f=b[e];if(c!==f)return a=Array.from(c.parentNode.childNodes),a.indexOf(c)-a.indexOf(f)}})}function cd(a){ad(a);return!(!a.m||!a.m.length)};function Od(a){var b=a.getRootNode();C(b)&&Kd(b);return(a=A(a))&&a.assignedSlot||null}
var Pd={addEventListener:xd.bind(window),removeEventListener:zd.bind(window)},Qd={addEventListener:xd,removeEventListener:zd,appendChild:function(a){return Uc(this,a)},insertBefore:function(a,b){return Uc(this,a,b)},removeChild:function(a){return Vc(this,a)},replaceChild:function(a,b){Uc(this,a,b);Vc(this,b);return a},cloneNode:function(a){if("template"==this.localName)var b=D.cloneNode.call(this,a);else if(b=D.cloneNode.call(this,!1),a){a=this.childNodes;for(var c=0,d;c<a.length;c++)d=a[c].cloneNode(!0),
b.appendChild(d)}return b},getRootNode:function(){return gd(this)},contains:function(a){return Gb(this,a)},dispatchEvent:function(a){Kb();return D.dispatchEvent.call(this,a)}};
Object.defineProperties(Qd,{isConnected:{get:function(){if(Ac&&Ac.call(this))return!0;if(this.nodeType==Node.DOCUMENT_FRAGMENT_NODE)return!1;var a=this.ownerDocument;if(Fb){if(D.contains.call(a,this))return!0}else if(a.documentElement&&D.contains.call(a.documentElement,this))return!0;for(a=this;a&&!(a instanceof Document);)a=a.parentNode||(C(a)?a.host:void 0);return!!(a&&a instanceof Document)},configurable:!0}});
var Rd={get assignedSlot(){return Od(this)}},Sd={querySelector:function(a){return hd(this,function(b){return xb.call(b,a)},function(a){return!!a})[0]||null},querySelectorAll:function(a,b){if(b){b=Array.prototype.slice.call(D.querySelectorAll(this,a));var c=this.getRootNode();return b.filter(function(a){return a.getRootNode()==c})}return hd(this,function(b){return xb.call(b,a)})}},Td={assignedNodes:function(a){if("slot"===this.localName){var b=this.getRootNode();C(b)&&Kd(b);return(b=A(this))?(a&&a.flatten?
b.L:b.assignedNodes)||[]:[]}}},Ud=zb({setAttribute:function(a,b){kd(this,a,b)},removeAttribute:function(a){D.removeAttribute.call(this,a);dd(this,a)},attachShadow:function(a){if(!this)throw"Must provide a host.";if(!a)throw"Not enough arguments.";return new Nc(Id,this,a)},get slot(){return this.getAttribute("slot")},set slot(a){kd(this,"slot",a)},get assignedSlot(){return Od(this)}},Sd,Td);Object.defineProperties(Ud,Jc);
var Vd=zb({importNode:function(a,b){return ld(a,b)},getElementById:function(a){return hd(this,function(b){return b.id==a},function(a){return!!a})[0]||null}},Sd);Object.defineProperties(Vd,{_activeElement:Kc.activeElement});
var Wd=HTMLElement.prototype.blur,Xd=zb({blur:function(){var a=A(this);(a=(a=a&&a.root)&&a.activeElement)?a.blur():Wd.call(this)}}),Yd={addEventListener:function(a,b,c){"object"!==typeof c&&(c={capture:!!c});c.la=this;this.host.addEventListener(a,b,c)},removeEventListener:function(a,b,c){"object"!==typeof c&&(c={capture:!!c});c.la=this;this.host.removeEventListener(a,b,c)},getElementById:function(a){return hd(this,function(b){return b.id==a},function(a){return!!a})[0]||null}};
function Zd(a,b){for(var c=Object.getOwnPropertyNames(b),d=0;d<c.length;d++){var e=c[d],f=Object.getOwnPropertyDescriptor(b,e);f.value?a[e]=f.value:Object.defineProperty(a,e,f)}};if(B.Ba){var ShadyDOM={inUse:B.Ba,patch:function(a){Pc(a);Oc(a);return a},isShadyRoot:C,enqueue:Jb,flush:Kb,settings:B,filterMutations:Qb,observeChildren:Ob,unobserveChildren:Pb,nativeMethods:D,nativeTree:M};window.ShadyDOM=ShadyDOM;window.Event=Bd;window.CustomEvent=Cd;window.MouseEvent=Dd;Ad();var $d=window.customElements&&window.customElements.nativeHTMLElement||HTMLElement;Zd(Nc.prototype,Yd);Zd(window.Node.prototype,Qd);Zd(window.Window.prototype,Pd);Zd(window.Text.prototype,Rd);Zd(window.DocumentFragment.prototype,
Sd);Zd(window.Element.prototype,Ud);Zd(window.Document.prototype,Vd);window.HTMLSlotElement&&Zd(window.HTMLSlotElement.prototype,Td);Zd($d.prototype,Xd);B.I&&(Lc(window.Node.prototype),Lc(window.Text.prototype),Lc(window.DocumentFragment.prototype),Lc(window.Element.prototype),Lc($d.prototype),Lc(window.Document.prototype),window.HTMLSlotElement&&Lc(window.HTMLSlotElement.prototype));Mc();window.ShadowRoot=Nc};var ae=new Set("annotation-xml color-profile font-face font-face-src font-face-uri font-face-format font-face-name missing-glyph".split(" "));function be(a){var b=ae.has(a);a=/^[a-z][.0-9_a-z]*-[\-.0-9_a-z]*$/.test(a);return!b&&a}function O(a){var b=a.isConnected;if(void 0!==b)return b;for(;a&&!(a.__CE_isImportDocument||a instanceof Document);)a=a.parentNode||(window.ShadowRoot&&a instanceof ShadowRoot?a.host:void 0);return!(!a||!(a.__CE_isImportDocument||a instanceof Document))}
function ce(a,b){for(;b&&b!==a&&!b.nextSibling;)b=b.parentNode;return b&&b!==a?b.nextSibling:null}
function de(a,b,c){c=void 0===c?new Set:c;for(var d=a;d;){if(d.nodeType===Node.ELEMENT_NODE){var e=d;b(e);var f=e.localName;if("link"===f&&"import"===e.getAttribute("rel")){d=e.import;if(d instanceof Node&&!c.has(d))for(c.add(d),d=d.firstChild;d;d=d.nextSibling)de(d,b,c);d=ce(a,e);continue}else if("template"===f){d=ce(a,e);continue}if(e=e.__CE_shadowRoot)for(e=e.firstChild;e;e=e.nextSibling)de(e,b,c)}d=d.firstChild?d.firstChild:ce(a,d)}}function P(a,b,c){a[b]=c};function ee(){this.a=new Map;this.M=new Map;this.F=[];this.c=!1}function fe(a,b,c){a.a.set(b,c);a.M.set(c.constructor,c)}function ge(a,b){a.c=!0;a.F.push(b)}function he(a,b){a.c&&de(b,function(b){return a.b(b)})}ee.prototype.b=function(a){if(this.c&&!a.__CE_patched){a.__CE_patched=!0;for(var b=0;b<this.F.length;b++)this.F[b](a)}};function Q(a,b){var c=[];de(b,function(a){return c.push(a)});for(b=0;b<c.length;b++){var d=c[b];1===d.__CE_state?a.connectedCallback(d):ie(a,d)}}
function R(a,b){var c=[];de(b,function(a){return c.push(a)});for(b=0;b<c.length;b++){var d=c[b];1===d.__CE_state&&a.disconnectedCallback(d)}}
function je(a,b,c){c=void 0===c?{}:c;var d=c.bb||new Set,e=c.ga||function(b){return ie(a,b)},f=[];de(b,function(b){if("link"===b.localName&&"import"===b.getAttribute("rel")){var c=b.import;c instanceof Node&&(c.__CE_isImportDocument=!0,c.__CE_hasRegistry=!0);c&&"complete"===c.readyState?c.__CE_documentLoadHandled=!0:b.addEventListener("load",function(){var c=b.import;if(!c.__CE_documentLoadHandled){c.__CE_documentLoadHandled=!0;var f=new Set(d);f.delete(c);je(a,c,{bb:f,ga:e})}})}else f.push(b)},d);
if(a.c)for(b=0;b<f.length;b++)a.b(f[b]);for(b=0;b<f.length;b++)e(f[b])}
function ie(a,b){if(void 0===b.__CE_state){var c=b.ownerDocument;if(c.defaultView||c.__CE_isImportDocument&&c.__CE_hasRegistry)if(c=a.a.get(b.localName)){c.constructionStack.push(b);var d=c.constructor;try{try{if(new d!==b)throw Error("The custom element constructor did not produce the element being upgraded.");}finally{c.constructionStack.pop()}}catch(g){throw b.__CE_state=2,g;}b.__CE_state=1;b.__CE_definition=c;if(c.attributeChangedCallback)for(c=c.observedAttributes,d=0;d<c.length;d++){var e=c[d],
f=b.getAttribute(e);null!==f&&a.attributeChangedCallback(b,e,null,f,null)}O(b)&&a.connectedCallback(b)}}}ee.prototype.connectedCallback=function(a){var b=a.__CE_definition;b.connectedCallback&&b.connectedCallback.call(a)};ee.prototype.disconnectedCallback=function(a){var b=a.__CE_definition;b.disconnectedCallback&&b.disconnectedCallback.call(a)};
ee.prototype.attributeChangedCallback=function(a,b,c,d,e){var f=a.__CE_definition;f.attributeChangedCallback&&-1<f.observedAttributes.indexOf(b)&&f.attributeChangedCallback.call(a,b,c,d,e)};function ke(a){var b=document;this.A=a;this.a=b;this.P=void 0;je(this.A,this.a);"loading"===this.a.readyState&&(this.P=new MutationObserver(this.b.bind(this)),this.P.observe(this.a,{childList:!0,subtree:!0}))}function le(a){a.P&&a.P.disconnect()}ke.prototype.b=function(a){var b=this.a.readyState;"interactive"!==b&&"complete"!==b||le(this);for(b=0;b<a.length;b++)for(var c=a[b].addedNodes,d=0;d<c.length;d++)je(this.A,c[d])};function me(){var a=this;this.b=this.a=void 0;this.c=new Promise(function(b){a.b=b;a.a&&b(a.a)})}me.prototype.resolve=function(a){if(this.a)throw Error("Already resolved.");this.a=a;this.b&&this.b(a)};function S(a){this.ma=!1;this.A=a;this.ra=new Map;this.na=function(a){return a()};this.Y=!1;this.oa=[];this.Ma=new ke(a)}q=S.prototype;
q.define=function(a,b){var c=this;if(!(b instanceof Function))throw new TypeError("Custom element constructors must be functions.");if(!be(a))throw new SyntaxError("The element name '"+a+"' is not valid.");if(this.A.a.get(a))throw Error("A custom element with name '"+a+"' has already been defined.");if(this.ma)throw Error("A custom element is already being defined.");this.ma=!0;try{var d=function(a){var b=e[a];if(void 0!==b&&!(b instanceof Function))throw Error("The '"+a+"' callback must be a function.");
return b},e=b.prototype;if(!(e instanceof Object))throw new TypeError("The custom element constructor's prototype is not an object.");var f=d("connectedCallback");var g=d("disconnectedCallback");var h=d("adoptedCallback");var k=d("attributeChangedCallback");var m=b.observedAttributes||[]}catch(n){return}finally{this.ma=!1}b={localName:a,constructor:b,connectedCallback:f,disconnectedCallback:g,adoptedCallback:h,attributeChangedCallback:k,observedAttributes:m,constructionStack:[]};fe(this.A,a,b);this.oa.push(b);
this.Y||(this.Y=!0,this.na(function(){return ne(c)}))};q.ga=function(a){je(this.A,a)};
function ne(a){if(!1!==a.Y){a.Y=!1;for(var b=a.oa,c=[],d=new Map,e=0;e<b.length;e++)d.set(b[e].localName,[]);je(a.A,document,{ga:function(b){if(void 0===b.__CE_state){var e=b.localName,f=d.get(e);f?f.push(b):a.A.a.get(e)&&c.push(b)}}});for(e=0;e<c.length;e++)ie(a.A,c[e]);for(;0<b.length;){var f=b.shift();e=f.localName;f=d.get(f.localName);for(var g=0;g<f.length;g++)ie(a.A,f[g]);(e=a.ra.get(e))&&e.resolve(void 0)}}}q.get=function(a){if(a=this.A.a.get(a))return a.constructor};
q.whenDefined=function(a){if(!be(a))return Promise.reject(new SyntaxError("'"+a+"' is not a valid custom element name."));var b=this.ra.get(a);if(b)return b.c;b=new me;this.ra.set(a,b);this.A.a.get(a)&&!this.oa.some(function(b){return b.localName===a})&&b.resolve(void 0);return b.c};q.Xa=function(a){le(this.Ma);var b=this.na;this.na=function(c){return a(function(){return b(c)})}};window.CustomElementRegistry=S;S.prototype.define=S.prototype.define;S.prototype.upgrade=S.prototype.ga;
S.prototype.get=S.prototype.get;S.prototype.whenDefined=S.prototype.whenDefined;S.prototype.polyfillWrapFlushCallback=S.prototype.Xa;var oe=window.Document.prototype.createElement,pe=window.Document.prototype.createElementNS,qe=window.Document.prototype.importNode,re=window.Document.prototype.prepend,se=window.Document.prototype.append,te=window.DocumentFragment.prototype.prepend,ue=window.DocumentFragment.prototype.append,ve=window.Node.prototype.cloneNode,we=window.Node.prototype.appendChild,xe=window.Node.prototype.insertBefore,ye=window.Node.prototype.removeChild,ze=window.Node.prototype.replaceChild,Ae=Object.getOwnPropertyDescriptor(window.Node.prototype,
"textContent"),Be=window.Element.prototype.attachShadow,Ce=Object.getOwnPropertyDescriptor(window.Element.prototype,"innerHTML"),De=window.Element.prototype.getAttribute,Ee=window.Element.prototype.setAttribute,Fe=window.Element.prototype.removeAttribute,Ge=window.Element.prototype.getAttributeNS,He=window.Element.prototype.setAttributeNS,Ie=window.Element.prototype.removeAttributeNS,Je=window.Element.prototype.insertAdjacentElement,Ke=window.Element.prototype.insertAdjacentHTML,Le=window.Element.prototype.prepend,
Me=window.Element.prototype.append,Ne=window.Element.prototype.before,Oe=window.Element.prototype.after,Pe=window.Element.prototype.replaceWith,Qe=window.Element.prototype.remove,Re=window.HTMLElement,Se=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,"innerHTML"),Te=window.HTMLElement.prototype.insertAdjacentElement,Ue=window.HTMLElement.prototype.insertAdjacentHTML;var Ve=new function(){};function We(){var a=Xe;window.HTMLElement=function(){function b(){var b=this.constructor,d=a.M.get(b);if(!d)throw Error("The custom element being constructed was not registered with `customElements`.");var e=d.constructionStack;if(0===e.length)return e=oe.call(document,d.localName),Object.setPrototypeOf(e,b.prototype),e.__CE_state=1,e.__CE_definition=d,a.b(e),e;d=e.length-1;var f=e[d];if(f===Ve)throw Error("The HTMLElement constructor was either called reentrantly for this constructor or called multiple times.");
e[d]=Ve;Object.setPrototypeOf(f,b.prototype);a.b(f);return f}b.prototype=Re.prototype;return b}()};function Ye(a,b,c){function d(b){return function(c){for(var d=[],e=0;e<arguments.length;++e)d[e-0]=arguments[e];e=[];for(var f=[],m=0;m<d.length;m++){var n=d[m];n instanceof Element&&O(n)&&f.push(n);if(n instanceof DocumentFragment)for(n=n.firstChild;n;n=n.nextSibling)e.push(n);else e.push(n)}b.apply(this,d);for(d=0;d<f.length;d++)R(a,f[d]);if(O(this))for(d=0;d<e.length;d++)f=e[d],f instanceof Element&&Q(a,f)}}void 0!==c.fa&&(b.prepend=d(c.fa));void 0!==c.append&&(b.append=d(c.append))};function Ze(){var a=Xe;P(Document.prototype,"createElement",function(b){if(this.__CE_hasRegistry){var c=a.a.get(b);if(c)return new c.constructor}b=oe.call(this,b);a.b(b);return b});P(Document.prototype,"importNode",function(b,c){b=qe.call(this,b,c);this.__CE_hasRegistry?je(a,b):he(a,b);return b});P(Document.prototype,"createElementNS",function(b,c){if(this.__CE_hasRegistry&&(null===b||"http://www.w3.org/1999/xhtml"===b)){var d=a.a.get(c);if(d)return new d.constructor}b=pe.call(this,b,c);a.b(b);return b});
Ye(a,Document.prototype,{fa:re,append:se})};function $e(){var a=Xe;function b(b,d){Object.defineProperty(b,"textContent",{enumerable:d.enumerable,configurable:!0,get:d.get,set:function(b){if(this.nodeType===Node.TEXT_NODE)d.set.call(this,b);else{var c=void 0;if(this.firstChild){var e=this.childNodes,h=e.length;if(0<h&&O(this)){c=Array(h);for(var k=0;k<h;k++)c[k]=e[k]}}d.set.call(this,b);if(c)for(b=0;b<c.length;b++)R(a,c[b])}}})}P(Node.prototype,"insertBefore",function(b,d){if(b instanceof DocumentFragment){var c=Array.prototype.slice.apply(b.childNodes);
b=xe.call(this,b,d);if(O(this))for(d=0;d<c.length;d++)Q(a,c[d]);return b}c=O(b);d=xe.call(this,b,d);c&&R(a,b);O(this)&&Q(a,b);return d});P(Node.prototype,"appendChild",function(b){if(b instanceof DocumentFragment){var c=Array.prototype.slice.apply(b.childNodes);b=we.call(this,b);if(O(this))for(var e=0;e<c.length;e++)Q(a,c[e]);return b}c=O(b);e=we.call(this,b);c&&R(a,b);O(this)&&Q(a,b);return e});P(Node.prototype,"cloneNode",function(b){b=ve.call(this,b);this.ownerDocument.__CE_hasRegistry?je(a,b):
he(a,b);return b});P(Node.prototype,"removeChild",function(b){var c=O(b),e=ye.call(this,b);c&&R(a,b);return e});P(Node.prototype,"replaceChild",function(b,d){if(b instanceof DocumentFragment){var c=Array.prototype.slice.apply(b.childNodes);b=ze.call(this,b,d);if(O(this))for(R(a,d),d=0;d<c.length;d++)Q(a,c[d]);return b}c=O(b);var f=ze.call(this,b,d),g=O(this);g&&R(a,d);c&&R(a,b);g&&Q(a,b);return f});Ae&&Ae.get?b(Node.prototype,Ae):ge(a,function(a){b(a,{enumerable:!0,configurable:!0,get:function(){for(var a=
[],b=0;b<this.childNodes.length;b++)a.push(this.childNodes[b].textContent);return a.join("")},set:function(a){for(;this.firstChild;)ye.call(this,this.firstChild);we.call(this,document.createTextNode(a))}})})};function af(a){var b=Element.prototype;function c(b){return function(c){for(var d=[],e=0;e<arguments.length;++e)d[e-0]=arguments[e];e=[];for(var h=[],k=0;k<d.length;k++){var m=d[k];m instanceof Element&&O(m)&&h.push(m);if(m instanceof DocumentFragment)for(m=m.firstChild;m;m=m.nextSibling)e.push(m);else e.push(m)}b.apply(this,d);for(d=0;d<h.length;d++)R(a,h[d]);if(O(this))for(d=0;d<e.length;d++)h=e[d],h instanceof Element&&Q(a,h)}}void 0!==Ne&&(b.before=c(Ne));void 0!==Ne&&(b.after=c(Oe));void 0!==
Pe&&P(b,"replaceWith",function(b){for(var c=[],d=0;d<arguments.length;++d)c[d-0]=arguments[d];d=[];for(var g=[],h=0;h<c.length;h++){var k=c[h];k instanceof Element&&O(k)&&g.push(k);if(k instanceof DocumentFragment)for(k=k.firstChild;k;k=k.nextSibling)d.push(k);else d.push(k)}h=O(this);Pe.apply(this,c);for(c=0;c<g.length;c++)R(a,g[c]);if(h)for(R(a,this),c=0;c<d.length;c++)g=d[c],g instanceof Element&&Q(a,g)});void 0!==Qe&&P(b,"remove",function(){var b=O(this);Qe.call(this);b&&R(a,this)})};function bf(){var a=Xe;function b(b,c){Object.defineProperty(b,"innerHTML",{enumerable:c.enumerable,configurable:!0,get:c.get,set:function(b){var d=this,e=void 0;O(this)&&(e=[],de(this,function(a){a!==d&&e.push(a)}));c.set.call(this,b);if(e)for(var f=0;f<e.length;f++){var g=e[f];1===g.__CE_state&&a.disconnectedCallback(g)}this.ownerDocument.__CE_hasRegistry?je(a,this):he(a,this);return b}})}function c(b,c){P(b,"insertAdjacentElement",function(b,d){var e=O(d);b=c.call(this,b,d);e&&R(a,d);O(b)&&Q(a,
d);return b})}function d(b,c){function d(b,c){for(var d=[];b!==c;b=b.nextSibling)d.push(b);for(c=0;c<d.length;c++)je(a,d[c])}P(b,"insertAdjacentHTML",function(a,b){a=a.toLowerCase();if("beforebegin"===a){var e=this.previousSibling;c.call(this,a,b);d(e||this.parentNode.firstChild,this)}else if("afterbegin"===a)e=this.firstChild,c.call(this,a,b),d(this.firstChild,e);else if("beforeend"===a)e=this.lastChild,c.call(this,a,b),d(e||this.firstChild,null);else if("afterend"===a)e=this.nextSibling,c.call(this,
a,b),d(this.nextSibling,e);else throw new SyntaxError("The value provided ("+String(a)+") is not one of 'beforebegin', 'afterbegin', 'beforeend', or 'afterend'.");})}Be&&P(Element.prototype,"attachShadow",function(a){return this.__CE_shadowRoot=a=Be.call(this,a)});Ce&&Ce.get?b(Element.prototype,Ce):Se&&Se.get?b(HTMLElement.prototype,Se):ge(a,function(a){b(a,{enumerable:!0,configurable:!0,get:function(){return ve.call(this,!0).innerHTML},set:function(a){var b="template"===this.localName,c=b?this.content:
this,d=oe.call(document,this.localName);for(d.innerHTML=a;0<c.childNodes.length;)ye.call(c,c.childNodes[0]);for(a=b?d.content:d;0<a.childNodes.length;)we.call(c,a.childNodes[0])}})});P(Element.prototype,"setAttribute",function(b,c){if(1!==this.__CE_state)return Ee.call(this,b,c);var d=De.call(this,b);Ee.call(this,b,c);c=De.call(this,b);a.attributeChangedCallback(this,b,d,c,null)});P(Element.prototype,"setAttributeNS",function(b,c,d){if(1!==this.__CE_state)return He.call(this,b,c,d);var e=Ge.call(this,
b,c);He.call(this,b,c,d);d=Ge.call(this,b,c);a.attributeChangedCallback(this,c,e,d,b)});P(Element.prototype,"removeAttribute",function(b){if(1!==this.__CE_state)return Fe.call(this,b);var c=De.call(this,b);Fe.call(this,b);null!==c&&a.attributeChangedCallback(this,b,c,null,null)});P(Element.prototype,"removeAttributeNS",function(b,c){if(1!==this.__CE_state)return Ie.call(this,b,c);var d=Ge.call(this,b,c);Ie.call(this,b,c);var e=Ge.call(this,b,c);d!==e&&a.attributeChangedCallback(this,c,d,e,b)});Te?
c(HTMLElement.prototype,Te):Je?c(Element.prototype,Je):console.warn("Custom Elements: `Element#insertAdjacentElement` was not patched.");Ue?d(HTMLElement.prototype,Ue):Ke?d(Element.prototype,Ke):console.warn("Custom Elements: `Element#insertAdjacentHTML` was not patched.");Ye(a,Element.prototype,{fa:Le,append:Me});af(a)};var cf=window.customElements;if(!cf||cf.forcePolyfill||"function"!=typeof cf.define||"function"!=typeof cf.get){var Xe=new ee;We();Ze();Ye(Xe,DocumentFragment.prototype,{fa:te,append:ue});$e();bf();document.__CE_hasRegistry=!0;var customElements=new S(Xe);Object.defineProperty(window,"customElements",{configurable:!0,enumerable:!0,value:customElements})};function df(){this.end=this.start=0;this.rules=this.parent=this.previous=null;this.cssText=this.parsedCssText="";this.atRule=!1;this.type=0;this.parsedSelector=this.selector=this.keyframesName=""}
function ef(a){a=a.replace(ff,"").replace(gf,"");var b=hf,c=a,d=new df;d.start=0;d.end=c.length;for(var e=d,f=0,g=c.length;f<g;f++)if("{"===c[f]){e.rules||(e.rules=[]);var h=e,k=h.rules[h.rules.length-1]||null;e=new df;e.start=f+1;e.parent=h;e.previous=k;h.rules.push(e)}else"}"===c[f]&&(e.end=f+1,e=e.parent||d);return b(d,a)}
function hf(a,b){var c=b.substring(a.start,a.end-1);a.parsedCssText=a.cssText=c.trim();a.parent&&(c=b.substring(a.previous?a.previous.end:a.parent.start,a.start-1),c=jf(c),c=c.replace(kf," "),c=c.substring(c.lastIndexOf(";")+1),c=a.parsedSelector=a.selector=c.trim(),a.atRule=0===c.indexOf("@"),a.atRule?0===c.indexOf("@media")?a.type=lf:c.match(rf)&&(a.type=sf,a.keyframesName=a.selector.split(kf).pop()):a.type=0===c.indexOf("--")?tf:uf);if(c=a.rules)for(var d=0,e=c.length,f;d<e&&(f=c[d]);d++)hf(f,
b);return a}function jf(a){return a.replace(/\\([0-9a-f]{1,6})\s/gi,function(a,c){a=c;for(c=6-a.length;c--;)a="0"+a;return"\\"+a})}
function vf(a,b,c){c=void 0===c?"":c;var d="";if(a.cssText||a.rules){var e=a.rules,f;if(f=e)f=e[0],f=!(f&&f.selector&&0===f.selector.indexOf("--"));if(f){f=0;for(var g=e.length,h;f<g&&(h=e[f]);f++)d=vf(h,b,d)}else b?b=a.cssText:(b=a.cssText,b=b.replace(wf,"").replace(xf,""),b=b.replace(yf,"").replace(zf,"")),(d=b.trim())&&(d="  "+d+"\n")}d&&(a.selector&&(c+=a.selector+" {\n"),c+=d,a.selector&&(c+="}\n\n"));return c}
var uf=1,sf=7,lf=4,tf=1E3,ff=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//gim,gf=/@import[^;]*;/gim,wf=/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?(?:[;\n]|$)/gim,xf=/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?{[^}]*?}(?:[;\n]|$)?/gim,yf=/@apply\s*\(?[^);]*\)?\s*(?:[;\n]|$)?/gim,zf=/[^;:]*?:[^;]*?var\([^;]*\)(?:[;\n]|$)?/gim,rf=/^@[^\s]*keyframes/,kf=/\s+/g;var T=!(window.ShadyDOM&&window.ShadyDOM.inUse),Af;function Bf(a){Af=a&&a.shimcssproperties?!1:T||!(navigator.userAgent.match(/AppleWebKit\/601|Edge\/15/)||!window.CSS||!CSS.supports||!CSS.supports("box-shadow","0 0 0 var(--foo)"))}window.ShadyCSS&&void 0!==window.ShadyCSS.nativeCss?Af=window.ShadyCSS.nativeCss:window.ShadyCSS?(Bf(window.ShadyCSS),window.ShadyCSS=void 0):Bf(window.WebComponents&&window.WebComponents.flags);var V=Af;var Cf=/(?:^|[;\s{]\s*)(--[\w-]*?)\s*:\s*(?:((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};{])+)|\{([^}]*)\}(?:(?=[;\s}])|$))/gi,Df=/(?:^|\W+)@apply\s*\(?([^);\n]*)\)?/gi,Ef=/(--[\w-]+)\s*([:,;)]|$)/gi,Ff=/(animation\s*:)|(animation-name\s*:)/,Gf=/@media\s(.*)/,Hf=/\{[^}]*\}/g;var If=new Set;function Jf(a,b){if(!a)return"";"string"===typeof a&&(a=ef(a));b&&Kf(a,b);return vf(a,V)}function Lf(a){!a.__cssRules&&a.textContent&&(a.__cssRules=ef(a.textContent));return a.__cssRules||null}function Mf(a){return!!a.parent&&a.parent.type===sf}function Kf(a,b,c,d){if(a){var e=!1,f=a.type;if(d&&f===lf){var g=a.selector.match(Gf);g&&(window.matchMedia(g[1]).matches||(e=!0))}f===uf?b(a):c&&f===sf?c(a):f===tf&&(e=!0);if((a=a.rules)&&!e){e=0;f=a.length;for(var h;e<f&&(h=a[e]);e++)Kf(h,b,c,d)}}}
function Nf(a,b,c,d){var e=document.createElement("style");b&&e.setAttribute("scope",b);e.textContent=a;Of(e,c,d);return e}var Pf=null;function Of(a,b,c){b=b||document.head;b.insertBefore(a,c&&c.nextSibling||b.firstChild);Pf?a.compareDocumentPosition(Pf)===Node.DOCUMENT_POSITION_PRECEDING&&(Pf=a):Pf=a}
function Qf(a,b){var c=a.indexOf("var(");if(-1===c)return b(a,"","","");a:{var d=0;var e=c+3;for(var f=a.length;e<f;e++)if("("===a[e])d++;else if(")"===a[e]&&0===--d)break a;e=-1}d=a.substring(c+4,e);c=a.substring(0,c);a=Qf(a.substring(e+1),b);e=d.indexOf(",");return-1===e?b(c,d.trim(),"",a):b(c,d.substring(0,e).trim(),d.substring(e+1).trim(),a)}function Rf(a,b){T?a.setAttribute("class",b):window.ShadyDOM.nativeMethods.setAttribute.call(a,"class",b)}
function Sf(a){var b=a.localName,c="";b?-1<b.indexOf("-")||(c=b,b=a.getAttribute&&a.getAttribute("is")||""):(b=a.is,c=a.extends);return{is:b,X:c}};function Tf(){}function Uf(a,b,c){var d=Vf;a.__styleScoped?a.__styleScoped=null:Wf(d,a,b||"",c)}function Wf(a,b,c,d){b.nodeType===Node.ELEMENT_NODE&&Xf(b,c,d);if(b="template"===b.localName?(b.content||b.jb).childNodes:b.children||b.childNodes)for(var e=0;e<b.length;e++)Wf(a,b[e],c,d)}
function Xf(a,b,c){if(b)if(a.classList)c?(a.classList.remove("style-scope"),a.classList.remove(b)):(a.classList.add("style-scope"),a.classList.add(b));else if(a.getAttribute){var d=a.getAttribute(Yf);c?d&&(b=d.replace("style-scope","").replace(b,""),Rf(a,b)):Rf(a,(d?d+" ":"")+"style-scope "+b)}}function Zf(a,b,c){var d=Vf,e=a.__cssBuild;T||"shady"===e?b=Jf(b,c):(a=Sf(a),b=$f(d,b,a.is,a.X,c)+"\n\n");return b.trim()}
function $f(a,b,c,d,e){var f=ag(c,d);c=c?bg+c:"";return Jf(b,function(b){b.c||(b.selector=b.G=cg(a,b,a.b,c,f),b.c=!0);e&&e(b,c,f)})}function ag(a,b){return b?"[is="+a+"]":a}function cg(a,b,c,d,e){var f=b.selector.split(dg);if(!Mf(b)){b=0;for(var g=f.length,h;b<g&&(h=f[b]);b++)f[b]=c.call(a,h,d,e)}return f.join(dg)}function eg(a){return a.replace(fg,function(a,c,d){-1<d.indexOf("+")?d=d.replace(/\+/g,"___"):-1<d.indexOf("___")&&(d=d.replace(/___/g,"+"));return":"+c+"("+d+")"})}
Tf.prototype.b=function(a,b,c){var d=!1;a=a.trim();var e=fg.test(a);e&&(a=a.replace(fg,function(a,b,c){return":"+b+"("+c.replace(/\s/g,"")+")"}),a=eg(a));a=a.replace(gg,hg+" $1");a=a.replace(ig,function(a,e,h){d||(a=jg(h,e,b,c),d=d||a.stop,e=a.Sa,h=a.value);return e+h});e&&(a=eg(a));return a};
function jg(a,b,c,d){var e=a.indexOf(kg);0<=a.indexOf(hg)?a=lg(a,d):0!==e&&(a=c?mg(a,c):a);c=!1;0<=e&&(b="",c=!0);if(c){var f=!0;c&&(a=a.replace(ng,function(a,b){return" > "+b}))}a=a.replace(og,function(a,b,c){return'[dir="'+c+'"] '+b+", "+b+'[dir="'+c+'"]'});return{value:a,Sa:b,stop:f}}function mg(a,b){a=a.split(pg);a[0]+=b;return a.join(pg)}
function lg(a,b){var c=a.match(qg);return(c=c&&c[2].trim()||"")?c[0].match(rg)?a.replace(qg,function(a,c,f){return b+f}):c.split(rg)[0]===b?c:sg:a.replace(hg,b)}function tg(a){a.selector===ug&&(a.selector="html")}Tf.prototype.c=function(a){return a.match(kg)?this.b(a,vg):mg(a.trim(),vg)};aa.Object.defineProperties(Tf.prototype,{a:{configurable:!0,enumerable:!0,get:function(){return"style-scope"}}});
var fg=/:(nth[-\w]+)\(([^)]+)\)/,vg=":not(.style-scope)",dg=",",ig=/(^|[\s>+~]+)((?:\[.+?\]|[^\s>+~=[])+)/g,rg=/[[.:#*]/,hg=":host",ug=":root",kg="::slotted",gg=new RegExp("^("+kg+")"),qg=/(:host)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))/,ng=/(?:::slotted)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))/,og=/(.*):dir\((?:(ltr|rtl))\)/,bg=".",pg=":",Yf="class",sg="should_not_match",Vf=new Tf;function wg(a,b,c,d){this.K=a||null;this.b=b||null;this.sa=c||[];this.T=null;this.X=d||"";this.a=this.H=this.O=null}function xg(a){return a?a.__styleInfo:null}function yg(a,b){return a.__styleInfo=b}wg.prototype.c=function(){return this.K};wg.prototype._getStyleRules=wg.prototype.c;function zg(a){var b=this.matches||this.matchesSelector||this.mozMatchesSelector||this.msMatchesSelector||this.oMatchesSelector||this.webkitMatchesSelector;return b&&b.call(this,a)}var Ag=navigator.userAgent.match("Trident");function Bg(){}function Cg(a){var b={},c=[],d=0;Kf(a,function(a){Dg(a);a.index=d++;a=a.B.cssText;for(var c;c=Ef.exec(a);){var e=c[1];":"!==c[2]&&(b[e]=!0)}},function(a){c.push(a)});a.b=c;a=[];for(var e in b)a.push(e);return a}
function Dg(a){if(!a.B){var b={},c={};Eg(a,c)&&(b.J=c,a.rules=null);b.cssText=a.parsedCssText.replace(Hf,"").replace(Cf,"");a.B=b}}function Eg(a,b){var c=a.B;if(c){if(c.J)return Object.assign(b,c.J),!0}else{c=a.parsedCssText;for(var d;a=Cf.exec(c);){d=(a[2]||a[3]).trim();if("inherit"!==d||"unset"!==d)b[a[1].trim()]=d;d=!0}return d}}
function Fg(a,b,c){b&&(b=0<=b.indexOf(";")?Gg(a,b,c):Qf(b,function(b,e,f,g){if(!e)return b+g;(e=Fg(a,c[e],c))&&"initial"!==e?"apply-shim-inherit"===e&&(e="inherit"):e=Fg(a,c[f]||f,c)||f;return b+(e||"")+g}));return b&&b.trim()||""}
function Gg(a,b,c){b=b.split(";");for(var d=0,e,f;d<b.length;d++)if(e=b[d]){Df.lastIndex=0;if(f=Df.exec(e))e=Fg(a,c[f[1]],c);else if(f=e.indexOf(":"),-1!==f){var g=e.substring(f);g=g.trim();g=Fg(a,g,c)||g;e=e.substring(0,f)+g}b[d]=e&&e.lastIndexOf(";")===e.length-1?e.slice(0,-1):e||""}return b.join(";")}
function Hg(a,b){var c={},d=[];Kf(a,function(a){a.B||Dg(a);var e=a.G||a.parsedSelector;b&&a.B.J&&e&&zg.call(b,e)&&(Eg(a,c),a=a.index,e=parseInt(a/32,10),d[e]=(d[e]||0)|1<<a%32)},null,!0);return{J:c,key:d}}
function Ig(a,b,c,d){b.B||Dg(b);if(b.B.J){var e=Sf(a);a=e.is;e=e.X;e=a?ag(a,e):"html";var f=b.parsedSelector,g=":host > *"===f||"html"===f,h=0===f.indexOf(":host")&&!g;"shady"===c&&(g=f===e+" > *."+e||-1!==f.indexOf("html"),h=!g&&0===f.indexOf(e));"shadow"===c&&(g=":host > *"===f||"html"===f,h=h&&!g);if(g||h)c=e,h&&(b.G||(b.G=cg(Vf,b,Vf.b,a?bg+a:"",e)),c=b.G||e),d({Za:c,Wa:h,wb:g})}}
function Jg(a,b){var c={},d={},e=b&&b.__cssBuild;Kf(b,function(b){Ig(a,b,e,function(e){zg.call(a.kb||a,e.Za)&&(e.Wa?Eg(b,c):Eg(b,d))})},null,!0);return{Ya:d,Va:c}}
function Kg(a,b,c,d){var e=Sf(b),f=ag(e.is,e.X),g=new RegExp("(?:^|[^.#[:])"+(b.extends?"\\"+f.slice(0,-1)+"\\]":f)+"($|[.:[\\s>+~])");e=xg(b).K;var h=Lg(e,d);return Zf(b,e,function(b){var e="";b.B||Dg(b);b.B.cssText&&(e=Gg(a,b.B.cssText,c));b.cssText=e;if(!T&&!Mf(b)&&b.cssText){var k=e=b.cssText;null==b.za&&(b.za=Ff.test(e));if(b.za)if(null==b.ea){b.ea=[];for(var r in h)k=h[r],k=k(e),e!==k&&(e=k,b.ea.push(r))}else{for(r=0;r<b.ea.length;++r)k=h[b.ea[r]],e=k(e);k=e}b.cssText=k;b.G=b.G||b.selector;
e="."+d;r=b.G.split(",");k=0;for(var G=r.length,x;k<G&&(x=r[k]);k++)r[k]=x.match(g)?x.replace(f,e):e+" "+x;b.selector=r.join(",")}})}function Lg(a,b){a=a.b;var c={};if(!T&&a)for(var d=0,e=a[d];d<a.length;e=a[++d]){var f=e,g=b;f.F=new RegExp("\\b"+f.keyframesName+"(?!\\B|-)","g");f.a=f.keyframesName+"-"+g;f.G=f.G||f.selector;f.selector=f.G.replace(f.keyframesName,f.a);c[e.keyframesName]=Mg(e)}return c}function Mg(a){return function(b){return b.replace(a.F,a.a)}}
function Ng(a,b){var c=Og,d=Lf(a);a.textContent=Jf(d,function(a){var d=a.cssText=a.parsedCssText;a.B&&a.B.cssText&&(d=d.replace(wf,"").replace(xf,""),a.cssText=Gg(c,d,b))})}aa.Object.defineProperties(Bg.prototype,{a:{configurable:!0,enumerable:!0,get:function(){return"x-scope"}}});var Og=new Bg;var Pg={},Qg=window.customElements;if(Qg&&!T){var Rg=Qg.define;Qg.define=function(a,b,c){var d=document.createComment(" Shady DOM styles for "+a+" "),e=document.head;e.insertBefore(d,(Pf?Pf.nextSibling:null)||e.firstChild);Pf=d;Pg[a]=d;Rg.call(Qg,a,b,c)}};function Sg(){this.cache={}}Sg.prototype.store=function(a,b,c,d){var e=this.cache[a]||[];e.push({J:b,styleElement:c,H:d});100<e.length&&e.shift();this.cache[a]=e};Sg.prototype.fetch=function(a,b,c){if(a=this.cache[a])for(var d=a.length-1;0<=d;d--){var e=a[d],f;a:{for(f=0;f<c.length;f++){var g=c[f];if(e.J[g]!==b[g]){f=!1;break a}}f=!0}if(f)return e}};function Tg(){}
function Ug(a){for(var b=0;b<a.length;b++){var c=a[b];if(c.target!==document.documentElement&&c.target!==document.head)for(var d=0;d<c.addedNodes.length;d++){var e=c.addedNodes[d];if(e.nodeType===Node.ELEMENT_NODE){var f=e.getRootNode();var g=e;var h=[];g.classList?h=Array.from(g.classList):g instanceof window.SVGElement&&g.hasAttribute("class")&&(h=g.getAttribute("class").split(/\s+/));g=h;h=g.indexOf(Vf.a);if((g=-1<h?g[h+1]:"")&&f===e.ownerDocument)Uf(e,g,!0);else if(f.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&
(f=f.host))if(f=Sf(f).is,g===f)for(e=window.ShadyDOM.nativeMethods.querySelectorAll.call(e,":not(."+Vf.a+")"),f=0;f<e.length;f++)Xf(e[f],g);else g&&Uf(e,g,!0),Uf(e,f)}}}}
if(!T){var Vg=new MutationObserver(Ug),Wg=function(a){Vg.observe(a,{childList:!0,subtree:!0})};if(window.customElements&&!window.customElements.polyfillWrapFlushCallback)Wg(document);else{var Xg=function(){Wg(document.body)};window.HTMLImports?window.HTMLImports.whenReady(Xg):requestAnimationFrame(function(){if("loading"===document.readyState){var a=function(){Xg();document.removeEventListener("readystatechange",a)};document.addEventListener("readystatechange",a)}else Xg()})}Tg=function(){Ug(Vg.takeRecords())}}
var Yg=Tg;var Zg={};var $g=Promise.resolve();function ah(a){if(a=Zg[a])a._applyShimCurrentVersion=a._applyShimCurrentVersion||0,a._applyShimValidatingVersion=a._applyShimValidatingVersion||0,a._applyShimNextVersion=(a._applyShimNextVersion||0)+1}function bh(a){return a._applyShimCurrentVersion===a._applyShimNextVersion}function ch(a){a._applyShimValidatingVersion=a._applyShimNextVersion;a.b||(a.b=!0,$g.then(function(){a._applyShimCurrentVersion=a._applyShimNextVersion;a.b=!1}))};var dh=new Sg;function W(){this.Aa={};this.c=document.documentElement;var a=new df;a.rules=[];this.F=yg(this.c,new wg(a));this.M=!1;this.b=this.a=null}q=W.prototype;q.Ga=function(){Yg()};q.Ta=function(a){return Lf(a)};q.ab=function(a){return Jf(a)};
q.prepareTemplate=function(a,b,c){if(!a.F){a.F=!0;a.name=b;a.extends=c;Zg[b]=a;var d=(d=a.content.querySelector("style"))?d.getAttribute("css-build")||"":"";var e=[];for(var f=a.content.querySelectorAll("style"),g=0;g<f.length;g++){var h=f[g];if(h.hasAttribute("shady-unscoped")){if(!T){var k=h.textContent;If.has(k)||(If.add(k),k=h.cloneNode(!0),document.head.appendChild(k));h.parentNode.removeChild(h)}}else e.push(h.textContent),h.parentNode.removeChild(h)}e=e.join("").trim();c={is:b,extends:c,hb:d};
T||Uf(a.content,b);eh(this);f=Df.test(e)||Cf.test(e);Df.lastIndex=0;Cf.lastIndex=0;e=ef(e);f&&V&&this.a&&this.a.transformRules(e,b);a._styleAst=e;a.M=d;d=[];V||(d=Cg(a._styleAst));if(!d.length||V)e=T?a.content:null,b=Pg[b],f=Zf(c,a._styleAst),b=f.length?Nf(f,c.is,e,b):void 0,a.a=b;a.c=d}};
function fh(a){!a.b&&window.ShadyCSS&&window.ShadyCSS.CustomStyleInterface&&(a.b=window.ShadyCSS.CustomStyleInterface,a.b.transformCallback=function(b){a.Ea(b)},a.b.validateCallback=function(){requestAnimationFrame(function(){(a.b.enqueued||a.M)&&a.flushCustomStyles()})})}function eh(a){!a.a&&window.ShadyCSS&&window.ShadyCSS.ApplyShim&&(a.a=window.ShadyCSS.ApplyShim,a.a.invalidCallback=ah);fh(a)}
q.flushCustomStyles=function(){eh(this);if(this.b){var a=this.b.processStyles();if(this.b.enqueued){if(V)for(var b=0;b<a.length;b++){var c=this.b.getStyleForCustomStyle(a[b]);if(c&&V&&this.a){var d=Lf(c);eh(this);this.a.transformRules(d);c.textContent=Jf(d)}}else for(gh(this,this.c,this.F),b=0;b<a.length;b++)(c=this.b.getStyleForCustomStyle(a[b]))&&Ng(c,this.F.O);this.b.enqueued=!1;this.M&&!V&&this.styleDocument()}}};
q.styleElement=function(a,b){var c=Sf(a).is,d=xg(a);if(!d){var e=Sf(a);d=e.is;e=e.X;var f=Pg[d];d=Zg[d];if(d){var g=d._styleAst;var h=d.c}d=yg(a,new wg(g,f,h,e))}a!==this.c&&(this.M=!0);b&&(d.T=d.T||{},Object.assign(d.T,b));if(V){if(d.T){b=d.T;for(var k in b)null===k?a.style.removeProperty(k):a.style.setProperty(k,b[k])}if(((k=Zg[c])||a===this.c)&&k&&k.a&&!bh(k)){if(bh(k)||k._applyShimValidatingVersion!==k._applyShimNextVersion)eh(this),this.a&&this.a.transformRules(k._styleAst,c),k.a.textContent=
Zf(a,d.K),ch(k);T&&(c=a.shadowRoot)&&(c.querySelector("style").textContent=Zf(a,d.K));d.K=k._styleAst}}else if(gh(this,a,d),d.sa&&d.sa.length){c=d;k=Sf(a).is;d=(b=dh.fetch(k,c.O,c.sa))?b.styleElement:null;g=c.H;(h=b&&b.H)||(h=this.Aa[k]=(this.Aa[k]||0)+1,h=k+"-"+h);c.H=h;h=c.H;e=Og;e=d?d.textContent||"":Kg(e,a,c.O,h);f=xg(a);var m=f.a;m&&!T&&m!==d&&(m._useCount--,0>=m._useCount&&m.parentNode&&m.parentNode.removeChild(m));T?f.a?(f.a.textContent=e,d=f.a):e&&(d=Nf(e,h,a.shadowRoot,f.b)):d?d.parentNode||
(Ag&&-1<e.indexOf("@media")&&(d.textContent=e),Of(d,null,f.b)):e&&(d=Nf(e,h,null,f.b));d&&(d._useCount=d._useCount||0,f.a!=d&&d._useCount++,f.a=d);h=d;T||(d=c.H,f=e=a.getAttribute("class")||"",g&&(f=e.replace(new RegExp("\\s*x-scope\\s*"+g+"\\s*","g")," ")),f+=(f?" ":"")+"x-scope "+d,e!==f&&Rf(a,f));b||dh.store(k,c.O,h,c.H)}};function hh(a,b){return(b=b.getRootNode().host)?xg(b)?b:hh(a,b):a.c}
function gh(a,b,c){a=hh(a,b);var d=xg(a);a=Object.create(d.O||null);var e=Jg(b,c.K);b=Hg(d.K,b).J;Object.assign(a,e.Va,b,e.Ya);b=c.T;for(var f in b)if((e=b[f])||0===e)a[f]=e;f=Og;b=Object.getOwnPropertyNames(a);for(e=0;e<b.length;e++)d=b[e],a[d]=Fg(f,a[d],a);c.O=a}q.styleDocument=function(a){this.styleSubtree(this.c,a)};
q.styleSubtree=function(a,b){var c=a.shadowRoot;(c||a===this.c)&&this.styleElement(a,b);if(b=c&&(c.children||c.childNodes))for(a=0;a<b.length;a++)this.styleSubtree(b[a]);else if(a=a.children||a.childNodes)for(b=0;b<a.length;b++)this.styleSubtree(a[b])};q.Ea=function(a){var b=this,c=Lf(a);Kf(c,function(a){if(T)tg(a);else{var c=Vf;a.selector=a.parsedSelector;tg(a);a.selector=a.G=cg(c,a,c.c,void 0,void 0)}V&&(eh(b),b.a&&b.a.transformRule(a))});V?a.textContent=Jf(c):this.F.K.rules.push(c)};
q.getComputedStyleValue=function(a,b){var c;V||(c=(xg(a)||xg(hh(this,a))).O[b]);return(c=c||window.getComputedStyle(a).getPropertyValue(b))?c.trim():""};q.$a=function(a,b){var c=a.getRootNode();b=b?b.split(/\s/):[];c=c.host&&c.host.localName;if(!c){var d=a.getAttribute("class");if(d){d=d.split(/\s/);for(var e=0;e<d.length;e++)if(d[e]===Vf.a){c=d[e+1];break}}}c&&b.push(Vf.a,c);V||(c=xg(a))&&c.H&&b.push(Og.a,c.H);Rf(a,b.join(" "))};q.Qa=function(a){return xg(a)};W.prototype.flush=W.prototype.Ga;
W.prototype.prepareTemplate=W.prototype.prepareTemplate;W.prototype.styleElement=W.prototype.styleElement;W.prototype.styleDocument=W.prototype.styleDocument;W.prototype.styleSubtree=W.prototype.styleSubtree;W.prototype.getComputedStyleValue=W.prototype.getComputedStyleValue;W.prototype.setElementClass=W.prototype.$a;W.prototype._styleInfoForNode=W.prototype.Qa;W.prototype.transformCustomStyleForDocument=W.prototype.Ea;W.prototype.getStyleAst=W.prototype.Ta;W.prototype.styleAstToString=W.prototype.ab;
W.prototype.flushCustomStyles=W.prototype.flushCustomStyles;Object.defineProperties(W.prototype,{nativeShadow:{get:function(){return T}},nativeCss:{get:function(){return V}}});var X=new W,ih,jh;window.ShadyCSS&&(ih=window.ShadyCSS.ApplyShim,jh=window.ShadyCSS.CustomStyleInterface);
window.ShadyCSS={ScopingShim:X,prepareTemplate:function(a,b,c){X.flushCustomStyles();X.prepareTemplate(a,b,c)},styleSubtree:function(a,b){X.flushCustomStyles();X.styleSubtree(a,b)},styleElement:function(a){X.flushCustomStyles();X.styleElement(a)},styleDocument:function(a){X.flushCustomStyles();X.styleDocument(a)},flushCustomStyles:function(){X.flushCustomStyles()},getComputedStyleValue:function(a,b){return X.getComputedStyleValue(a,b)},nativeCss:V,nativeShadow:T};ih&&(window.ShadyCSS.ApplyShim=ih);
jh&&(window.ShadyCSS.CustomStyleInterface=jh);(function(a){function b(a){""==a&&(f.call(this),this.h=!0);return a.toLowerCase()}function c(a){var b=a.charCodeAt(0);return 32<b&&127>b&&-1==[34,35,60,62,63,96].indexOf(b)?a:encodeURIComponent(a)}function d(a){var b=a.charCodeAt(0);return 32<b&&127>b&&-1==[34,35,60,62,96].indexOf(b)?a:encodeURIComponent(a)}function e(a,e,g){function h(a){kb.push(a)}var k=e||"scheme start",v=0,p="",x=!1,U=!1,kb=[];a:for(;(void 0!=a[v-1]||0==v)&&!this.h;){var l=a[v];switch(k){case "scheme start":if(l&&r.test(l))p+=
l.toLowerCase(),k="scheme";else if(e){h("Invalid scheme.");break a}else{p="";k="no scheme";continue}break;case "scheme":if(l&&G.test(l))p+=l.toLowerCase();else if(":"==l){this.g=p;p="";if(e)break a;void 0!==m[this.g]&&(this.D=!0);k="file"==this.g?"relative":this.D&&g&&g.g==this.g?"relative or authority":this.D?"authority first slash":"scheme data"}else if(e){void 0!=l&&h("Code point not allowed in scheme: "+l);break a}else{p="";v=0;k="no scheme";continue}break;case "scheme data":"?"==l?(this.u="?",
k="query"):"#"==l?(this.C="#",k="fragment"):void 0!=l&&"\t"!=l&&"\n"!=l&&"\r"!=l&&(this.qa+=c(l));break;case "no scheme":if(g&&void 0!==m[g.g]){k="relative";continue}else h("Missing scheme."),f.call(this),this.h=!0;break;case "relative or authority":if("/"==l&&"/"==a[v+1])k="authority ignore slashes";else{h("Expected /, got: "+l);k="relative";continue}break;case "relative":this.D=!0;"file"!=this.g&&(this.g=g.g);if(void 0==l){this.i=g.i;this.s=g.s;this.j=g.j.slice();this.u=g.u;this.v=g.v;this.f=g.f;
break a}else if("/"==l||"\\"==l)"\\"==l&&h("\\ is an invalid code point."),k="relative slash";else if("?"==l)this.i=g.i,this.s=g.s,this.j=g.j.slice(),this.u="?",this.v=g.v,this.f=g.f,k="query";else if("#"==l)this.i=g.i,this.s=g.s,this.j=g.j.slice(),this.u=g.u,this.C="#",this.v=g.v,this.f=g.f,k="fragment";else{k=a[v+1];var F=a[v+2];if("file"!=this.g||!r.test(l)||":"!=k&&"|"!=k||void 0!=F&&"/"!=F&&"\\"!=F&&"?"!=F&&"#"!=F)this.i=g.i,this.s=g.s,this.v=g.v,this.f=g.f,this.j=g.j.slice(),this.j.pop();k=
"relative path";continue}break;case "relative slash":if("/"==l||"\\"==l)"\\"==l&&h("\\ is an invalid code point."),k="file"==this.g?"file host":"authority ignore slashes";else{"file"!=this.g&&(this.i=g.i,this.s=g.s,this.v=g.v,this.f=g.f);k="relative path";continue}break;case "authority first slash":if("/"==l)k="authority second slash";else{h("Expected '/', got: "+l);k="authority ignore slashes";continue}break;case "authority second slash":k="authority ignore slashes";if("/"!=l){h("Expected '/', got: "+
l);continue}break;case "authority ignore slashes":if("/"!=l&&"\\"!=l){k="authority";continue}else h("Expected authority, got: "+l);break;case "authority":if("@"==l){x&&(h("@ already seen."),p+="%40");x=!0;for(l=0;l<p.length;l++)F=p[l],"\t"==F||"\n"==F||"\r"==F?h("Invalid whitespace in authority."):":"==F&&null===this.f?this.f="":(F=c(F),null!==this.f?this.f+=F:this.v+=F);p=""}else if(void 0==l||"/"==l||"\\"==l||"?"==l||"#"==l){v-=p.length;p="";k="host";continue}else p+=l;break;case "file host":if(void 0==
l||"/"==l||"\\"==l||"?"==l||"#"==l){2!=p.length||!r.test(p[0])||":"!=p[1]&&"|"!=p[1]?(0!=p.length&&(this.i=b.call(this,p),p=""),k="relative path start"):k="relative path";continue}else"\t"==l||"\n"==l||"\r"==l?h("Invalid whitespace in file host."):p+=l;break;case "host":case "hostname":if(":"!=l||U)if(void 0==l||"/"==l||"\\"==l||"?"==l||"#"==l){this.i=b.call(this,p);p="";k="relative path start";if(e)break a;continue}else"\t"!=l&&"\n"!=l&&"\r"!=l?("["==l?U=!0:"]"==l&&(U=!1),p+=l):h("Invalid code point in host/hostname: "+
l);else if(this.i=b.call(this,p),p="",k="port","hostname"==e)break a;break;case "port":if(/[0-9]/.test(l))p+=l;else if(void 0==l||"/"==l||"\\"==l||"?"==l||"#"==l||e){""!=p&&(p=parseInt(p,10),p!=m[this.g]&&(this.s=p+""),p="");if(e)break a;k="relative path start";continue}else"\t"==l||"\n"==l||"\r"==l?h("Invalid code point in port: "+l):(f.call(this),this.h=!0);break;case "relative path start":"\\"==l&&h("'\\' not allowed in path.");k="relative path";if("/"!=l&&"\\"!=l)continue;break;case "relative path":if(void 0!=
l&&"/"!=l&&"\\"!=l&&(e||"?"!=l&&"#"!=l))"\t"!=l&&"\n"!=l&&"\r"!=l&&(p+=c(l));else{"\\"==l&&h("\\ not allowed in relative path.");if(F=n[p.toLowerCase()])p=F;".."==p?(this.j.pop(),"/"!=l&&"\\"!=l&&this.j.push("")):"."==p&&"/"!=l&&"\\"!=l?this.j.push(""):"."!=p&&("file"==this.g&&0==this.j.length&&2==p.length&&r.test(p[0])&&"|"==p[1]&&(p=p[0]+":"),this.j.push(p));p="";"?"==l?(this.u="?",k="query"):"#"==l&&(this.C="#",k="fragment")}break;case "query":e||"#"!=l?void 0!=l&&"\t"!=l&&"\n"!=l&&"\r"!=l&&(this.u+=
d(l)):(this.C="#",k="fragment");break;case "fragment":void 0!=l&&"\t"!=l&&"\n"!=l&&"\r"!=l&&(this.C+=l)}v++}}function f(){this.v=this.qa=this.g="";this.f=null;this.s=this.i="";this.j=[];this.C=this.u="";this.D=this.h=!1}function g(a,b){void 0===b||b instanceof g||(b=new g(String(b)));this.Ra=a;f.call(this);a=a.replace(/^[ \t\r\n\f]+|[ \t\r\n\f]+$/g,"");e.call(this,a,null,b)}var h=!1;if(!a.qb)try{var k=new URL("b","http://a");k.pathname="c%20d";h="http://a/c%20d"===k.href}catch(v){}if(!h){var m=Object.create(null);
m.ftp=21;m.file=0;m.gopher=70;m.http=80;m.https=443;m.ws=80;m.wss=443;var n=Object.create(null);n["%2e"]=".";n[".%2e"]="..";n["%2e."]="..";n["%2e%2e"]="..";var r=/[a-zA-Z]/,G=/[a-zA-Z0-9\+\-\.]/;g.prototype={toString:function(){return this.href},get href(){if(this.h)return this.Ra;var a="";if(""!=this.v||null!=this.f)a=this.v+(null!=this.f?":"+this.f:"")+"@";return this.protocol+(this.D?"//"+a+this.host:"")+this.pathname+this.u+this.C},set href(a){f.call(this);e.call(this,a)},get protocol(){return this.g+
":"},set protocol(a){this.h||e.call(this,a+":","scheme start")},get host(){return this.h?"":this.s?this.i+":"+this.s:this.i},set host(a){!this.h&&this.D&&e.call(this,a,"host")},get hostname(){return this.i},set hostname(a){!this.h&&this.D&&e.call(this,a,"hostname")},get port(){return this.s},set port(a){!this.h&&this.D&&e.call(this,a,"port")},get pathname(){return this.h?"":this.D?"/"+this.j.join("/"):this.qa},set pathname(a){!this.h&&this.D&&(this.j=[],e.call(this,a,"relative path start"))},get search(){return this.h||
!this.u||"?"==this.u?"":this.u},set search(a){!this.h&&this.D&&(this.u="?","?"==a[0]&&(a=a.slice(1)),e.call(this,a,"query"))},get hash(){return this.h||!this.C||"#"==this.C?"":this.C},set hash(a){this.h||(this.C="#","#"==a[0]&&(a=a.slice(1)),e.call(this,a,"fragment"))},get origin(){var a;if(this.h||!this.g)return"";switch(this.g){case "data":case "file":case "javascript":case "mailto":return"null"}return(a=this.host)?this.g+"://"+a:""}};var x=a.URL;x&&(g.createObjectURL=function(a){return x.createObjectURL.apply(x,
arguments)},g.revokeObjectURL=function(a){x.revokeObjectURL(a)});a.URL=g}})(window);var kh={},lh=Object.create,mh=Object.defineProperties,nh=Object.defineProperty;function Y(a,b){b=void 0===b?{}:b;return{value:a,configurable:!!b.ya,writable:!!b.cb,enumerable:!!b.e}}var oh=void 0;try{oh=1===nh({},"y",{get:function(){return 1}}).y}catch(a){oh=!1}var ph={};function qh(a){a=String(a);for(var b="",c=0;ph[a+b];)b=c+=1;ph[a+b]=1;var d="Symbol("+a+""+b+")";oh&&nh(Object.prototype,d,{get:void 0,set:function(a){nh(this,d,Y(a,{ya:!0,cb:!0}))},configurable:!0,enumerable:!1});return d}
var rh=lh(null);function Z(a){if(this instanceof Z)throw new TypeError("Symbol is not a constructor");a=void 0===a?"":String(a);var b=qh(a);return oh?lh(rh,{ua:Y(a),Ka:Y(b)}):b}mh(Z,{"for":Y(function(a){a=String(a);if(kh[a])return kh[a];var b=Z(a);return kh[a]=b}),keyFor:Y(function(a){if(oh&&(!a||"Symbol"!==a[Z.toStringTag]))throw new TypeError(""+a+" is not a symbol");for(var b in kh)if(kh[b]===a)return oh?kh[b].ua:kh[b].substr(7,kh[b].length-8)})});
mh(Z,{ub:Y(Z("hasInstance")),vb:Y(Z("isConcatSpreadable")),iterator:Y(Z("iterator")),match:Y(Z("match")),replace:Y(Z("replace")),search:Y(Z("search")),Ab:Y(Z("species")),split:Y(Z("split")),Bb:Y(Z("toPrimitive")),toStringTag:Y(Z("toStringTag")),unscopables:Y(Z("unscopables"))});mh(rh,{constructor:Y(Z),toString:Y(function(){return this.Ka}),valueOf:Y(function(){return"Symbol("+this.ua+")"})});oh&&nh(rh,Z.toStringTag,Y("Symbol",{ya:!0}));var sh="function"===typeof Symbol?Symbol:Z;/*

Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
window.Symbol||(window.Symbol=sh,Array.prototype[sh.iterator]=function(){function a(a,e,h){for(;;)switch(b){case 0:c=0;case 1:if(!(c<d.length)){b=3;break}b=4;return{value:d[c],done:!1};case 4:if(1!=a){b=5;break}b=-1;throw h;case 5:case 2:c++;b=1;break;case 3:b=-1;default:return{value:void 0,done:!0}}}var b=0,c,d=this,e={next:function(b){return a(0,b,void 0)},throw:function(b){return a(1,void 0,b)},return:function(){throw Error("Not yet implemented");}};ea();e[Symbol.iterator]=function(){return this};
return e},Set.prototype[sh.iterator]=function(){function a(a,f,k){for(;;)switch(b){case 0:d=[],e.forEach(function(a){d.push(a)}),c=0;case 1:if(!(c<d.length)){b=3;break}b=4;return{value:d[c],done:!1};case 4:if(1!=a){b=5;break}b=-1;throw k;case 5:case 2:c++;b=1;break;case 3:b=-1;default:return{value:void 0,done:!0}}}var b=0,c,d,e=this,f={next:function(b){return a(0,b,void 0)},throw:function(b){return a(1,void 0,b)},return:function(){throw Error("Not yet implemented");}};ea();f[Symbol.iterator]=function(){return this};
return f},Map.prototype[sh.iterator]=function(){function a(a,f,k){for(;;)switch(b){case 0:d=[],e.forEach(function(a,b){d.push([b,a])}),c=0;case 1:if(!(c<d.length)){b=3;break}b=4;return{value:d[c],done:!1};case 4:if(1!=a){b=5;break}b=-1;throw k;case 5:case 2:c++;b=1;break;case 3:b=-1;default:return{value:void 0,done:!0}}}var b=0,c,d,e=this,f={next:function(b){return a(0,b,void 0)},throw:function(b){return a(1,void 0,b)},return:function(){throw Error("Not yet implemented");}};ea();f[Symbol.iterator]=
function(){return this};return f},String.prototype[sh.iterator]=function(){function a(a,e,h){for(;;)switch(b){case 0:c=0;case 1:if(!(c<d.length)){b=3;break}b=4;return{value:d[c],done:!1};case 4:if(1!=a){b=5;break}b=-1;throw h;case 5:case 2:c++;b=1;break;case 3:b=-1;default:return{value:void 0,done:!0}}}var b=0,c,d=this,e={next:function(b){return a(0,b,void 0)},throw:function(b){return a(1,void 0,b)},return:function(){throw Error("Not yet implemented");}};ea();e[Symbol.iterator]=function(){return this};
return e});var th=document.createElement("style");th.textContent="body {transition: opacity ease-in 0.2s; } \nbody[unresolved] {opacity: 0; display: block; overflow: hidden; position: relative; } \n";var uh=document.querySelector("head");uh.insertBefore(th,uh.firstChild);var vh=window.customElements,wh=!1,xh=null;vh.polyfillWrapFlushCallback&&vh.polyfillWrapFlushCallback(function(a){xh=a;wh&&a()});function yh(){window.HTMLTemplateElement.bootstrap&&window.HTMLTemplateElement.bootstrap(window.document);xh&&xh();wh=!0;window.WebComponents.ready=!0;document.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))}
"complete"!==document.readyState?(window.addEventListener("load",yh),window.addEventListener("DOMContentLoaded",function(){window.removeEventListener("load",yh);yh()})):yh();}).call(this);
}
</script>
  <script>function load_distill_framework() {

(function(e,t){'object'==typeof exports&&'undefined'!=typeof module?t():'function'==typeof define&&define.amd?define(t):t()})(this,function(){'use strict';function e(e,t){e.title=t.title,t.published&&(t.published instanceof Date?e.publishedDate=t.published:t.published.constructor===String&&(e.publishedDate=new Date(t.published))),t.publishedDate&&(t.publishedDate instanceof Date?e.publishedDate=t.publishedDate:t.publishedDate.constructor===String?e.publishedDate=new Date(t.publishedDate):console.error('Don\'t know what to do with published date: '+t.publishedDate)),e.description=t.description,e.authors=t.authors.map((e)=>new Jn(e)),e.katex=t.katex,e.password=t.password}function t(e=document){const t=new Set,n=e.querySelectorAll('d-cite');for(const a of n){const e=a.getAttribute('key').split(',');for(const n of e)t.add(n)}return[...t]}function n(e,t,n,a){if(null==e.author)return'';var i=e.author.split(' and ');let d=i.map((e)=>{if(e=e.trim(),-1!=e.indexOf(','))var n=e.split(',')[0].trim(),a=e.split(',')[1];else var n=e.split(' ').slice(-1)[0].trim(),a=e.split(' ').slice(0,-1).join(' ');var i='';return void 0!=a&&(i=a.trim().split(' ').map((e)=>e.trim()[0]),i=i.join('.')+'.'),t.replace('${F}',a).replace('${L}',n).replace('${I}',i)});if(1<i.length){var r=d.slice(0,i.length-1).join(n);return r+=(a||n)+d[i.length-1],r}return d[0]}function a(e){var t=e.journal||e.booktitle||'';if('volume'in e){var n=e.issue||e.number;n=void 0==n?'':'('+n+')',t+=', Vol '+e.volume+n}return'pages'in e&&(t+=', pp. '+e.pages),''!=t&&(t+='. '),'publisher'in e&&(t+=e.publisher,'.'!=t[t.length-1]&&(t+='.')),t}function i(e){if('url'in e){var t=e.url,n=/arxiv\.org\/abs\/([0-9\.]*)/.exec(t);if(null!=n&&(t=`http://arxiv.org/pdf/${n[1]}.pdf`),'.pdf'==t.slice(-4))var a='PDF';else if('.html'==t.slice(-5))var a='HTML';return` &ensp;<a href="${t}">[${a||'link'}]</a>`}return''}function d(e,t){return'doi'in e?`${t?'<br>':''} <a href="https://doi.org/${e.doi}" style="text-decoration:inherit;">DOI: ${e.doi}</a>`:''}function r(e){return'<span class="title">'+e.title+'</span> '}function o(e){if(e){var t=r(e);return t+=i(e)+'<br>',e.author&&(t+=n(e,'${L}, ${I}',', ',' and '),(e.year||e.date)&&(t+=', ')),t+=e.year||e.date?(e.year||e.date)+'. ':'. ',t+=a(e),t+=d(e),t}return'?'}function l(e){if(e){var t='';t+='<strong>'+e.title+'</strong>',t+=i(e),t+='<br>';var r=n(e,'${I} ${L}',', ')+'.',o=a(e).trim()+' '+e.year+'. '+d(e,!0);return t+=(r+o).length<In(40,e.title.length)?r+' '+o:r+'<br>'+o,t}return'?'}function s(e){const t=e.querySelector('script');if(t){const e=t.getAttribute('type');if('json'==e.split('/')[1]){const e=t.textContent;return JSON.parse(e)}console.error('Distill only supports JSON frontmatter tags anymore; no more YAML.')}else console.error('You added a frontmatter tag but did not provide a script tag with front matter data in it. Please take a look at our templates.');return{}}function c(){return-1!==['interactive','complete'].indexOf(document.readyState)}function u(e){const t='distill-prerendered-styles',n=e.getElementById(t);if(!n){const n=e.createElement('style');n.id=t,n.type='text/css';const a=e.createTextNode(ba);n.appendChild(a);const i=e.head.querySelector('script');e.head.insertBefore(n,i)}}function p(e,t){console.info('Runlevel 0: Polyfill required: '+e.name);const n=document.createElement('script');n.src=e.url,n.async=!1,t&&(n.onload=function(){t(e)}),n.onerror=function(){new Error('Runlevel 0: Polyfills failed to load script '+e.name)},document.head.appendChild(n)}function g(e,t){return t={exports:{}},e(t,t.exports),t.exports}function f(e){return e.replace(/[\t\n ]+/g,' ').replace(/{\\["^`.'acu~Hvs]( )?([a-zA-Z])}/g,(e,t,n)=>n).replace(/{\\([a-zA-Z])}/g,(e,t)=>t)}function b(e){const t=new Map,n=Ta.toJSON(e);for(const a of n){for(const[e,t]of Object.entries(a.entryTags))a.entryTags[e.toLowerCase()]=f(t);a.entryTags.type=a.entryType,t.set(a.citationKey,a.entryTags)}return t}function h(e){return`@article{${e.slug},
  author = {${e.bibtexAuthors}},
  title = {${e.title}},
  journal = {${e.journal.title}},
  year = {${e.publishedYear}},
  note = {${e.url}},
  doi = {${e.doi}}
}`}function m(e){return`
  <div class="byline grid">
    <div class="authors-affiliations grid">
      <h3>Authors</h3>
      <h3>Affiliations</h3>
      ${e.authors.map((e)=>`
        <p class="author">
          ${e.personalURL?`
            <a class="name" href="${e.personalURL}">${e.name}</a>`:`
            <div class="name">${e.name}</div>`}
        </p>
        <p class="affiliation">
          ${e.affiliationURL?`
            <a class="affiliation" href="${e.affiliationURL}">${e.affiliation}</a>`:`
            <div class="affiliation">${e.affiliation}</div>`}
        </p>
      `).join('')}
    </div>
    <div>
      <h3>Published</h3>
      ${e.publishedDate?`
        <p>${e.publishedMonth} ${e.publishedDay}, ${e.publishedYear}</p> `:`
        <p><em>Not published yet.</em></p>`}
    </div>
    <div>
      <h3>DOI</h3>
      ${e.doi?`
        <p><a href="https://doi.org/${e.doi}">${e.doi}</a></p>`:`
        <p><em>No DOI yet.</em></p>`}
    </div>
  </div>
`}function y(e,t,n=document){if(0<t.size){e.style.display='';let a=e.querySelector('.references');if(a)a.innerHTML='';else{const t=n.createElement('style');t.innerHTML=La,e.appendChild(t);const i=n.createElement('h3');i.id='references',i.textContent='References',e.appendChild(i),a=n.createElement('ol'),a.id='references-list',a.className='references',e.appendChild(a)}for(const[e,i]of t){const t=n.createElement('li');t.id=e,t.innerHTML=o(i),a.appendChild(t)}}else e.style.display='none'}function x(e,t){let n=`
  <style>

  d-toc {
    contain: layout style;
    display: block;
  }

  d-toc ul {
    padding-left: 0;
  }

  d-toc ul > ul {
    padding-left: 24px;
  }

  d-toc a {
    border-bottom: none;
    text-decoration: none;
  }

  </style>
  <nav role="navigation" class="table-of-contents"></nav>
  <h2>Table of contents</h2>
  <ul>`;for(const a of t){const e='D-TITLE'==a.parentElement.tagName,t=a.getAttribute('no-toc');if(e||t)continue;const i=a.textContent,d='#'+a.getAttribute('id');let r='<li><a href="'+d+'">'+i+'</a></li>';'H3'==a.tagName?r='<ul>'+r+'</ul>':r+='<br>',n+=r}n+='</ul></nav>',e.innerHTML=n}function k(e){return function(t,n){return Ka(e(t),n)}}function v(e,t,n){var a=(t-e)/Nn(0,n),i=Fn(Rn(a)/qn),d=a/On(10,i);return 0<=i?(d>=Za?10:d>=Ga?5:d>=ei?2:1)*On(10,i):-On(10,-i)/(d>=Za?10:d>=Ga?5:d>=ei?2:1)}function w(e,t,n){var a=jn(t-e)/Nn(0,n),i=On(10,Fn(Rn(a)/qn)),d=a/i;return d>=Za?i*=10:d>=Ga?i*=5:d>=ei&&(i*=2),t<e?-i:i}function _(e,t){var n=Object.create(e.prototype);for(var a in t)n[a]=t[a];return n}function S(){}function M(e){var t;return e=(e+'').trim().toLowerCase(),(t=li.exec(e))?(t=parseInt(t[1],16),new q(15&t>>8|240&t>>4,15&t>>4|240&t,(15&t)<<4|15&t,1)):(t=si.exec(e))?L(parseInt(t[1],16)):(t=ci.exec(e))?new q(t[1],t[2],t[3],1):(t=ui.exec(e))?new q(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=pi.exec(e))?U(t[1],t[2],t[3],t[4]):(t=gi.exec(e))?U(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=fi.exec(e))?R(t[1],t[2]/100,t[3]/100,1):(t=bi.exec(e))?R(t[1],t[2]/100,t[3]/100,t[4]):hi.hasOwnProperty(e)?L(hi[e]):'transparent'===e?new q(NaN,NaN,NaN,0):null}function L(e){return new q(255&e>>16,255&e>>8,255&e,1)}function U(e,t,n,i){return 0>=i&&(e=t=n=NaN),new q(e,t,n,i)}function j(e){return(e instanceof S||(e=M(e)),!e)?new q:(e=e.rgb(),new q(e.r,e.g,e.b,e.opacity))}function O(e,t,n,a){return 1===arguments.length?j(e):new q(e,t,n,null==a?1:a)}function q(e,t,n,a){this.r=+e,this.g=+t,this.b=+n,this.opacity=+a}function R(e,t,n,i){return 0>=i?e=t=n=NaN:0>=n||1<=n?e=t=NaN:0>=t&&(e=NaN),new P(e,t,n,i)}function N(e){if(e instanceof P)return new P(e.h,e.s,e.l,e.opacity);if(e instanceof S||(e=M(e)),!e)return new P;if(e instanceof P)return e;e=e.rgb();var t=e.r/255,n=e.g/255,a=e.b/255,i=In(t,n,a),d=Nn(t,n,a),r=NaN,c=d-i,s=(d+i)/2;return c?(r=t===d?(n-a)/c+6*(n<a):n===d?(a-t)/c+2:(t-n)/c+4,c/=0.5>s?d+i:2-d-i,r*=60):c=0<s&&1>s?0:r,new P(r,c,s,e.opacity)}function P(e,t,n,a){this.h=+e,this.s=+t,this.l=+n,this.opacity=+a}function F(e,t,n){return 255*(60>e?t+(n-t)*e/60:180>e?n:240>e?t+(n-t)*(240-e)/60:t)}function I(e){if(e instanceof H)return new H(e.l,e.a,e.b,e.opacity);if(e instanceof K){var t=e.h*mi;return new H(e.l,Ln(t)*e.c,Dn(t)*e.c,e.opacity)}e instanceof q||(e=j(e));var n=$(e.r),i=$(e.g),a=$(e.b),d=Y((0.4124564*n+0.3575761*i+0.1804375*a)/Kn),r=Y((0.2126729*n+0.7151522*i+0.072175*a)/Xn),o=Y((0.0193339*n+0.119192*i+0.9503041*a)/Yn);return new H(116*r-16,500*(d-r),200*(r-o),e.opacity)}function H(e,t,n,i){this.l=+e,this.a=+t,this.b=+n,this.opacity=+i}function Y(e){return e>wi?On(e,1/3):e/vi+Zn}function W(e){return e>ki?e*e*e:vi*(e-Zn)}function V(e){return 255*(0.0031308>=e?12.92*e:1.055*On(e,1/2.4)-0.055)}function $(e){return 0.04045>=(e/=255)?e/12.92:On((e+0.055)/1.055,2.4)}function z(e){if(e instanceof K)return new K(e.h,e.c,e.l,e.opacity);e instanceof H||(e=I(e));var t=En(e.b,e.a)*yi;return new K(0>t?t+360:t,Mn(e.a*e.a+e.b*e.b),e.l,e.opacity)}function K(e,t,n,a){this.h=+e,this.c=+t,this.l=+n,this.opacity=+a}function X(e){if(e instanceof Q)return new Q(e.h,e.s,e.l,e.opacity);e instanceof q||(e=j(e));var t=e.r/255,n=e.g/255,a=e.b/255,i=(Ti*a+E*t-_i*n)/(Ti+E-_i),d=a-i,r=(D*(n-i)-B*d)/C,o=Mn(r*r+d*d)/(D*i*(1-i)),l=o?En(r,d)*yi-120:NaN;return new Q(0>l?l+360:l,o,i,e.opacity)}function J(e,t,n,a){return 1===arguments.length?X(e):new Q(e,t,n,null==a?1:a)}function Q(e,t,n,a){this.h=+e,this.s=+t,this.l=+n,this.opacity=+a}function Z(e,n){return function(a){return e+a*n}}function G(e,n,a){return e=On(e,a),n=On(n,a)-e,a=1/a,function(i){return On(e+i*n,a)}}function ee(e){return 1==(e=+e)?te:function(t,n){return n-t?G(t,n,e):Si(isNaN(t)?n:t)}}function te(e,t){var n=t-e;return n?Z(e,n):Si(isNaN(e)?t:e)}function ne(e){return function(){return e}}function ae(e){return function(n){return e(n)+''}}function ie(e){return function t(n){function a(a,t){var i=e((a=J(a)).h,(t=J(t)).h),d=te(a.s,t.s),r=te(a.l,t.l),o=te(a.opacity,t.opacity);return function(e){return a.h=i(e),a.s=d(e),a.l=r(On(e,n)),a.opacity=o(e),a+''}}return n=+n,a.gamma=t,a}(1)}function de(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Fi(t)}function oe(e){return function(t,n){var i=e(t=+t,n=+n);return function(e){return e<=t?0:e>=n?1:i(e)}}}function le(e){return function(n,i){var d=e(n=+n,i=+i);return function(e){return 0>=e?n:1<=e?i:d(e)}}}function se(e,t,n,a){var i=e[0],d=e[1],r=t[0],o=t[1];return d<i?(i=n(d,i),r=a(o,r)):(i=n(i,d),r=a(r,o)),function(e){return r(i(e))}}function ce(e,t,n,a){var o=In(e.length,t.length)-1,l=Array(o),d=Array(o),r=-1;for(e[o]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++r<o;)l[r]=n(e[r],e[r+1]),d[r]=a(t[r],t[r+1]);return function(t){var n=Ja(e,t,1,o)-1;return d[n](l[n](t))}}function ue(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp())}function pe(e,t){function n(){return i=2<In(o.length,l.length)?ce:se,d=r=null,a}function a(t){return(d||(d=i(o,l,c?oe(e):e,s)))(+t)}var i,d,r,o=zi,l=zi,s=qi,c=!1;return a.invert=function(e){return(r||(r=i(l,o,de,c?le(t):t)))(+e)},a.domain=function(e){return arguments.length?(o=ai.call(e,Ii),n()):o.slice()},a.range=function(e){return arguments.length?(l=ii.call(e),n()):l.slice()},a.rangeRound=function(e){return l=ii.call(e),s=Ri,n()},a.clamp=function(e){return arguments.length?(c=!!e,n()):c},a.interpolate=function(e){return arguments.length?(s=e,n()):s},n()}function ge(e){return new fe(e)}function fe(e){if(!(t=Ki.exec(e)))throw new Error('invalid format: '+e);var t,n=t[1]||' ',a=t[2]||'>',i=t[3]||'-',d=t[4]||'',r=!!t[5],o=t[6]&&+t[6],l=!!t[7],s=t[8]&&+t[8].slice(1),c=t[9]||'';'n'===c?(l=!0,c='g'):!$i[c]&&(c=''),(r||'0'===n&&'='===a)&&(r=!0,n='0',a='='),this.fill=n,this.align=a,this.sign=i,this.symbol=d,this.zero=r,this.width=o,this.comma=l,this.precision=s,this.type=c}function be(e){var t=e.domain;return e.ticks=function(e){var n=t();return ti(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){return ad(t(),e,n)},e.nice=function(n){null==n&&(n=10);var a,i=t(),d=0,r=i.length-1,o=i[d],l=i[r];return l<o&&(a=o,o=l,l=a,a=d,d=r,r=a),a=v(o,l,n),0<a?(o=Fn(o/a)*a,l=Pn(l/a)*a,a=v(o,l,n)):0>a&&(o=Pn(o*a)/a,l=Fn(l*a)/a,a=v(o,l,n)),0<a?(i[d]=Fn(o/a)*a,i[r]=Pn(l/a)*a,t(i)):0>a&&(i[d]=Pn(o*a)/a,i[r]=Fn(l*a)/a,t(i)),e},e}function he(){var e=pe(de,Li);return e.copy=function(){return ue(e,he())},be(e)}function me(e,t,n,a){function i(t){return e(t=new Date(+t)),t}return i.floor=i,i.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},i.round=function(e){var t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=function(e,n){return t(e=new Date(+e),null==n?1:Fn(n)),e},i.range=function(n,a,d){var r=[];if(n=i.ceil(n),d=null==d?1:Fn(d),!(n<a)||!(0<d))return r;do r.push(new Date(+n));while((t(n,d),e(n),n<a));return r},i.filter=function(n){return me(function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},function(e,a){if(e>=e)if(0>a)for(;0>=++a;)for(;t(e,-1),!n(e););else for(;0<=--a;)for(;t(e,1),!n(e););})},n&&(i.count=function(t,a){return id.setTime(+t),dd.setTime(+a),e(id),e(dd),Fn(n(id,dd))},i.every=function(e){return e=Fn(e),isFinite(e)&&0<e?1<e?i.filter(a?function(t){return 0==a(t)%e}:function(t){return 0==i.count(0,t)%e}):i:null}),i}function ye(e){return me(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+7*t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ld)/ud})}function xe(e){return me(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+7*t)},function(e,t){return(t-e)/ud})}function ke(e){if(0<=e.y&&100>e.y){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ve(e){if(0<=e.y&&100>e.y){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function we(e){return{y:e,m:0,d:1,H:0,M:0,S:0,L:0}}function Ce(e){function t(e,t){return function(a){var d,r,o,l=[],s=-1,i=0,c=e.length;for(a instanceof Date||(a=new Date(+a));++s<c;)37===e.charCodeAt(s)&&(l.push(e.slice(i,s)),null==(r=Id[d=e.charAt(++s)])?r='e'===d?' ':'0':d=e.charAt(++s),(o=t[d])&&(d=o(a,r)),l.push(d),i=s+1);return l.push(e.slice(i,s)),l.join('')}}function n(e,t){return function(n){var r=we(1900),d=a(r,e,n+='',0);if(d!=n.length)return null;if('p'in r&&(r.H=r.H%12+12*r.p),'W'in r||'U'in r){'w'in r||(r.w='W'in r?1:0);var i='Z'in r?ve(we(r.y)).getUTCDay():t(we(r.y)).getDay();r.m=0,r.d='W'in r?(r.w+6)%7+7*r.W-(i+5)%7:r.w+7*r.U-(i+6)%7}return'Z'in r?(r.H+=0|r.Z/100,r.M+=r.Z%100,ve(r)):t(r)}}function a(e,t,a,d){for(var r,o,l=0,i=t.length,n=a.length;l<i;){if(d>=n)return-1;if(r=t.charCodeAt(l++),37===r){if(r=t.charAt(l++),o=_[r in Id?t.charAt(l++):r],!o||0>(d=o(e,a,d)))return-1;}else if(r!=a.charCodeAt(d++))return-1}return d}var r=e.dateTime,o=e.date,l=e.time,i=e.periods,s=e.days,c=e.shortDays,u=e.months,p=e.shortMonths,g=Se(i),f=Me(i),b=Se(s),h=Me(s),m=Se(c),y=Me(c),x=Se(u),k=Me(u),v=Se(p),w=Me(p),d={a:function(e){return c[e.getDay()]},A:function(e){return s[e.getDay()]},b:function(e){return p[e.getMonth()]},B:function(e){return u[e.getMonth()]},c:null,d:He,e:He,H:Ye,I:Be,j:We,L:Ve,m:$e,M:Ke,p:function(e){return i[+(12<=e.getHours())]},S:Xe,U:Je,w:Qe,W:Ze,x:null,X:null,y:Ge,Y:et,Z:tt,"%":ht},C={a:function(e){return c[e.getUTCDay()]},A:function(e){return s[e.getUTCDay()]},b:function(e){return p[e.getUTCMonth()]},B:function(e){return u[e.getUTCMonth()]},c:null,d:nt,e:nt,H:at,I:it,j:dt,L:rt,m:ot,M:lt,p:function(e){return i[+(12<=e.getUTCHours())]},S:st,U:ct,w:ut,W:pt,x:null,X:null,y:gt,Y:ft,Z:bt,"%":ht},_={a:function(e,t,a){var i=m.exec(t.slice(a));return i?(e.w=y[i[0].toLowerCase()],a+i[0].length):-1},A:function(e,t,a){var i=b.exec(t.slice(a));return i?(e.w=h[i[0].toLowerCase()],a+i[0].length):-1},b:function(e,t,a){var i=v.exec(t.slice(a));return i?(e.m=w[i[0].toLowerCase()],a+i[0].length):-1},B:function(e,t,a){var i=x.exec(t.slice(a));return i?(e.m=k[i[0].toLowerCase()],a+i[0].length):-1},c:function(e,t,n){return a(e,r,t,n)},d:qe,e:qe,H:Ne,I:Ne,j:Re,L:Ie,m:Oe,M:Pe,p:function(e,t,a){var i=g.exec(t.slice(a));return i?(e.p=f[i[0].toLowerCase()],a+i[0].length):-1},S:Fe,U:De,w:Ee,W:Le,x:function(e,t,n){return a(e,o,t,n)},X:function(e,t,n){return a(e,l,t,n)},y:Ae,Y:Ue,Z:je,"%":ze};return d.x=t(o,d),d.X=t(l,d),d.c=t(r,d),C.x=t(o,C),C.X=t(l,C),C.c=t(r,C),{format:function(e){var n=t(e+='',d);return n.toString=function(){return e},n},parse:function(e){var t=n(e+='',ke);return t.toString=function(){return e},t},utcFormat:function(e){var n=t(e+='',C);return n.toString=function(){return e},n},utcParse:function(e){var t=n(e,ve);return t.toString=function(){return e},t}}}function _e(e,t,n){var a=0>e?'-':'',i=(a?-e:e)+'',d=i.length;return a+(d<n?Array(n-d+1).join(t)+i:i)}function Te(e){return e.replace(Yd,'\\$&')}function Se(e){return new RegExp('^(?:'+e.map(Te).join('|')+')','i')}function Me(e){for(var t={},a=-1,i=e.length;++a<i;)t[e[a].toLowerCase()]=a;return t}function Ee(e,t,a){var i=zd.exec(t.slice(a,a+1));return i?(e.w=+i[0],a+i[0].length):-1}function De(e,t,a){var i=zd.exec(t.slice(a));return i?(e.U=+i[0],a+i[0].length):-1}function Le(e,t,a){var i=zd.exec(t.slice(a));return i?(e.W=+i[0],a+i[0].length):-1}function Ue(e,t,a){var i=zd.exec(t.slice(a,a+4));return i?(e.y=+i[0],a+i[0].length):-1}function Ae(e,t,a){var i=zd.exec(t.slice(a,a+2));return i?(e.y=+i[0]+(68<+i[0]?1900:2e3),a+i[0].length):-1}function je(e,t,a){var i=/^(Z)|([+-]\d\d)(?:\:?(\d\d))?/.exec(t.slice(a,a+6));return i?(e.Z=i[1]?0:-(i[2]+(i[3]||'00')),a+i[0].length):-1}function Oe(e,t,a){var i=zd.exec(t.slice(a,a+2));return i?(e.m=i[0]-1,a+i[0].length):-1}function qe(e,t,a){var i=zd.exec(t.slice(a,a+2));return i?(e.d=+i[0],a+i[0].length):-1}function Re(e,t,a){var i=zd.exec(t.slice(a,a+3));return i?(e.m=0,e.d=+i[0],a+i[0].length):-1}function Ne(e,t,a){var i=zd.exec(t.slice(a,a+2));return i?(e.H=+i[0],a+i[0].length):-1}function Pe(e,t,a){var i=zd.exec(t.slice(a,a+2));return i?(e.M=+i[0],a+i[0].length):-1}function Fe(e,t,a){var i=zd.exec(t.slice(a,a+2));return i?(e.S=+i[0],a+i[0].length):-1}function Ie(e,t,a){var i=zd.exec(t.slice(a,a+3));return i?(e.L=+i[0],a+i[0].length):-1}function ze(e,t,a){var i=Hd.exec(t.slice(a,a+1));return i?a+i[0].length:-1}function He(e,t){return _e(e.getDate(),t,2)}function Ye(e,t){return _e(e.getHours(),t,2)}function Be(e,t){return _e(e.getHours()%12||12,t,2)}function We(e,t){return _e(1+bd.count(_d(e),e),t,3)}function Ve(e,t){return _e(e.getMilliseconds(),t,3)}function $e(e,t){return _e(e.getMonth()+1,t,2)}function Ke(e,t){return _e(e.getMinutes(),t,2)}function Xe(e,t){return _e(e.getSeconds(),t,2)}function Je(e,t){return _e(hd.count(_d(e),e),t,2)}function Qe(e){return e.getDay()}function Ze(e,t){return _e(md.count(_d(e),e),t,2)}function Ge(e,t){return _e(e.getFullYear()%100,t,2)}function et(e,t){return _e(e.getFullYear()%1e4,t,4)}function tt(e){var t=e.getTimezoneOffset();return(0<t?'-':(t*=-1,'+'))+_e(0|t/60,'0',2)+_e(t%60,'0',2)}function nt(e,t){return _e(e.getUTCDate(),t,2)}function at(e,t){return _e(e.getUTCHours(),t,2)}function it(e,t){return _e(e.getUTCHours()%12||12,t,2)}function dt(e,t){return _e(1+Md.count(Rd(e),e),t,3)}function rt(e,t){return _e(e.getUTCMilliseconds(),t,3)}function ot(e,t){return _e(e.getUTCMonth()+1,t,2)}function lt(e,t){return _e(e.getUTCMinutes(),t,2)}function st(e,t){return _e(e.getUTCSeconds(),t,2)}function ct(e,t){return _e(Ed.count(Rd(e),e),t,2)}function ut(e){return e.getUTCDay()}function pt(e,t){return _e(Dd.count(Rd(e),e),t,2)}function gt(e,t){return _e(e.getUTCFullYear()%100,t,2)}function ft(e,t){return _e(e.getUTCFullYear()%1e4,t,4)}function bt(){return'+0000'}function ht(){return'%'}function mt(e){var a=e.length;return function(n){return e[Nn(0,In(a-1,Fn(n*a)))]}}function yt(){for(var e,t=0,a=arguments.length,n={};t<a;++t){if(!(e=arguments[t]+'')||e in n)throw new Error('illegal type: '+e);n[e]=[]}return new xt(n)}function xt(e){this._=e}function kt(e,n){return e.trim().split(/^|\s+/).map(function(e){var a='',d=e.indexOf('.');if(0<=d&&(a=e.slice(d+1),e=e.slice(0,d)),e&&!n.hasOwnProperty(e))throw new Error('unknown type: '+e);return{type:e,name:a}})}function vt(e,t){for(var a,d=0,i=e.length;d<i;++d)if((a=e[d]).name===t)return a.value}function wt(e,t,a){for(var d=0,i=e.length;d<i;++d)if(e[d].name===t){e[d]=er,e=e.slice(0,d).concat(e.slice(d+1));break}return null!=a&&e.push({name:t,value:a}),e}function Ct(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===tr&&t.documentElement.namespaceURI===tr?t.createElement(e):t.createElementNS(n,e)}}function _t(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Tt(e,t,n){return e=St(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function St(e,t,n){return function(a){var i=cr;cr=a;try{e.call(this,this.__data__,t,n)}finally{cr=i}}}function Mt(e){return e.trim().split(/^|\s+/).map(function(e){var n='',a=e.indexOf('.');return 0<=a&&(n=e.slice(a+1),e=e.slice(0,a)),{type:e,name:n}})}function Et(e){return function(){var t=this.__on;if(t){for(var n,a=0,d=-1,i=t.length;a<i;++a)(n=t[a],(!e.type||n.type===e.type)&&n.name===e.name)?this.removeEventListener(n.type,n.listener,n.capture):t[++d]=n;++d?t.length=d:delete this.__on}}}function Dt(e,t,n){var a=sr.hasOwnProperty(e.type)?Tt:St;return function(r,d,i){var l,o=this.__on,s=a(t,d,i);if(o)for(var c=0,u=o.length;c<u;++c)if((l=o[c]).type===e.type&&l.name===e.name)return this.removeEventListener(l.type,l.listener,l.capture),this.addEventListener(l.type,l.listener=s,l.capture=n),void(l.value=t);this.addEventListener(e.type,s,n),l={type:e.type,name:e.name,value:t,listener:s,capture:n},o?o.push(l):this.__on=[l]}}function Lt(e,t,n,a){var i=cr;e.sourceEvent=cr,cr=e;try{return t.apply(n,a)}finally{cr=i}}function Ut(){}function At(){return[]}function jt(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function Ot(e,t,n,a,d,r){for(var o,l=0,i=t.length,s=r.length;l<s;++l)(o=t[l])?(o.__data__=r[l],a[l]=o):n[l]=new jt(e,r[l]);for(;l<i;++l)(o=t[l])&&(d[l]=o)}function qt(e,t,n,a,d,r,o){var l,i,s,c={},u=t.length,p=r.length,g=Array(u);for(l=0;l<u;++l)(i=t[l])&&(g[l]=s=xr+o.call(i,i.__data__,l,t),s in c?d[l]=i:c[s]=i);for(l=0;l<p;++l)s=xr+o.call(e,r[l],l,r),(i=c[s])?(a[l]=i,i.__data__=r[l],c[s]=null):n[l]=new jt(e,r[l]);for(l=0;l<u;++l)(i=t[l])&&c[g[l]]===i&&(d[l]=i)}function Rt(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Nt(e){return function(){this.removeAttribute(e)}}function Pt(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Ft(e,t){return function(){this.setAttribute(e,t)}}function It(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function zt(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function Ht(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Yt(e){return function(){this.style.removeProperty(e)}}function Bt(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Wt(e,t,n){return function(){var a=t.apply(this,arguments);null==a?this.style.removeProperty(e):this.style.setProperty(e,a,n)}}function Vt(e,t){return e.style.getPropertyValue(t)||kr(e).getComputedStyle(e,null).getPropertyValue(t)}function $t(e){return function(){delete this[e]}}function Kt(e,t){return function(){this[e]=t}}function Xt(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function Jt(e){return e.trim().split(/^|\s+/)}function Qt(e){return e.classList||new Zt(e)}function Zt(e){this._node=e,this._names=Jt(e.getAttribute('class')||'')}function Gt(e,t){for(var a=Qt(e),d=-1,i=t.length;++d<i;)a.add(t[d])}function en(e,t){for(var a=Qt(e),d=-1,i=t.length;++d<i;)a.remove(t[d])}function tn(e){return function(){Gt(this,e)}}function nn(e){return function(){en(this,e)}}function an(e,t){return function(){(t.apply(this,arguments)?Gt:en)(this,e)}}function dn(){this.textContent=''}function rn(e){return function(){this.textContent=e}}function on(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?'':t}}function ln(){this.innerHTML=''}function sn(e){return function(){this.innerHTML=e}}function cn(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?'':t}}function un(){this.nextSibling&&this.parentNode.appendChild(this)}function pn(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function gn(){return null}function fn(){var e=this.parentNode;e&&e.removeChild(this)}function bn(e,t,n){var a=kr(e),i=a.CustomEvent;'function'==typeof i?i=new i(t,n):(i=a.document.createEvent('Event'),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function hn(e,t){return function(){return bn(this,e,t)}}function mn(e,t){return function(){return bn(this,e,t.apply(this,arguments))}}function yn(e,t){this._groups=e,this._parents=t}function xn(){cr.stopImmediatePropagation()}function kn(e,t){var n=e.document.documentElement,a=wr(e).on('dragstart.drag',null);t&&(a.on('click.drag',_r,!0),setTimeout(function(){a.on('click.drag',null)},0)),'onselectstart'in n?a.on('selectstart.drag',null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function vn(e,t,n,a,i,d,r,o,l,s){this.target=e,this.type=t,this.subject=n,this.identifier=a,this.active=i,this.x=d,this.y=r,this.dx=o,this.dy=l,this._=s}function wn(){return!cr.button}function Cn(){return this.parentNode}function _n(e){return null==e?{x:cr.x,y:cr.y}:e}function Tn(){return'ontouchstart'in this}function Sn(e){let t=Or;'undefined'!=typeof e.githubUrl&&(t+=`
    <h3 id="updates-and-corrections">Updates and Corrections</h3>
    <p>`,e.githubCompareUpdatesUrl&&(t+=`<a href="${e.githubCompareUpdatesUrl}">View all changes</a> to this article since it was first published.`),t+=`
    If you see mistakes or want to suggest changes, please <a href="${e.githubUrl+'/issues/new'}">create an issue on GitHub</a>. </p>
    `);const n=e.journal;return'undefined'!=typeof n&&'Distill'===n.title&&(t+=`
    <h3 id="reuse">Reuse</h3>
    <p>Diagrams and text are licensed under Creative Commons Attribution <a href="https://creativecommons.org/licenses/by/4.0/">CC-BY 4.0</a> with the <a class="github" href="${e.githubUrl}">source available on GitHub</a>, unless noted otherwise. The figures that have been reused from other sources don’t fall under this license and can be recognized by a note in their caption: “Figure from …”.</p>
    `),'undefined'!=typeof e.publishedDate&&(t+=`
    <h3 id="citation">Citation</h3>
    <p>For attribution in academic contexts, please cite this work as</p>
    <pre class="citation short">${e.concatenatedAuthors}, "${e.title}", Distill, ${e.publishedYear}.</pre>
    <p>BibTeX citation</p>
    <pre class="citation long">${h(e)}</pre>
    `),t}var Mn=Math.sqrt,En=Math.atan2,Dn=Math.sin,Ln=Math.cos,Un=Math.PI,An=Math.round,jn=Math.abs,On=Math.pow,qn=Math.LN10,Rn=Math.log,Nn=Math.max,Pn=Math.ceil,Fn=Math.floor,In=Math.min;const zn=['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],Hn=['Jan.','Feb.','March','April','May','June','July','Aug.','Sept.','Oct.','Nov.','Dec.'],Bn=(e)=>10>e?'0'+e:e,Wn=function(e){const t=zn[e.getDay()].substring(0,3),n=Bn(e.getDate()),a=Hn[e.getMonth()].substring(0,3),i=e.getFullYear().toString(),d=e.getUTCHours().toString(),r=e.getUTCMinutes().toString(),o=e.getUTCSeconds().toString();return`${t}, ${n} ${a} ${i} ${d}:${r}:${o} Z`},Vn=function(e){const t=Array.from(e).reduce((e,[t,n])=>Object.assign(e,{[t]:n}),{});return t},$n=function(e){const t=new Map;for(var n in e)e.hasOwnProperty(n)&&t.set(n,e[n]);return t};class Jn{constructor(e){this.name=e.author,this.personalURL=e.authorURL,this.affiliation=e.affiliation,this.affiliationURL=e.affiliationURL}get firstName(){const e=this.name.split(' ');return e.slice(0,e.length-1).join(' ')}get lastName(){const e=this.name.split(' ');return e[e.length-1]}}class Qn{constructor(){this.title='unnamed article',this.description='',this.authors=[],this.bibliography=new Map,this.bibliographyParsed=!1,this.citations=[],this.citationsCollected=!1,this.journal={},this.katex={},this.publishedDate=void 0}set url(e){this._url=e}get url(){if(this._url)return this._url;return this.distillPath&&this.journal.url?this.journal.url+'/'+this.distillPath:this.journal.url?this.journal.url:void 0}get githubUrl(){return this.githubPath?'https://github.com/'+this.githubPath:void 0}set previewURL(e){this._previewURL=e}get previewURL(){return this._previewURL?this._previewURL:this.url+'/thumbnail.jpg'}get publishedDateRFC(){return Wn(this.publishedDate)}get updatedDateRFC(){return Wn(this.updatedDate)}get publishedYear(){return this.publishedDate.getFullYear()}get publishedMonth(){return Hn[this.publishedDate.getMonth()]}get publishedDay(){return this.publishedDate.getDate()}get publishedMonthPadded(){return Bn(this.publishedDate.getMonth()+1)}get publishedDayPadded(){return Bn(this.publishedDate.getDate())}get publishedISODateOnly(){return this.publishedDate.toISOString().split('T')[0]}get volume(){const e=this.publishedYear-2015;if(1>e)throw new Error('Invalid publish date detected during computing volume');return e}get issue(){return this.publishedDate.getMonth()+1}get concatenatedAuthors(){if(2<this.authors.length)return this.authors[0].lastName+', et al.';return 2===this.authors.length?this.authors[0].lastName+' & '+this.authors[1].lastName:1===this.authors.length?this.authors[0].lastName:void 0}get bibtexAuthors(){return this.authors.map((e)=>{return e.lastName+', '+e.firstName}).join(' and ')}get slug(){let e='';return this.authors.length&&(e+=this.authors[0].lastName.toLowerCase(),e+=this.publishedYear,e+=this.title.split(' ')[0].toLowerCase()),e||'Untitled'}get bibliographyEntries(){return new Map(this.citations.map((e)=>{const t=this.bibliography.get(e);return[e,t]}))}set bibliography(e){e instanceof Map?this._bibliography=e:'object'==typeof e&&(this._bibliography=$n(e))}get bibliography(){return this._bibliography}static fromObject(e){const t=new Qn;return Object.assign(t,e),t}assignToObject(e){Object.assign(e,this),e.bibliography=Vn(this.bibliographyEntries),e.url=this.url,e.githubUrl=this.githubUrl,e.previewURL=this.previewURL,this.publishedDate&&(e.volume=this.volume,e.issue=this.issue,e.publishedDateRFC=this.publishedDateRFC,e.publishedYear=this.publishedYear,e.publishedMonth=this.publishedMonth,e.publishedDay=this.publishedDay,e.publishedMonthPadded=this.publishedMonthPadded,e.publishedDayPadded=this.publishedDayPadded),this.updatedDate&&(e.updatedDateRFC=this.updatedDateRFC),e.concatenatedAuthors=this.concatenatedAuthors,e.bibtexAuthors=this.bibtexAuthors,e.slug=this.slug}}const Gn=(e)=>{return class extends e{constructor(){super();const e={childList:!0,characterData:!0,subtree:!0},t=new MutationObserver(()=>{t.disconnect(),this.renderIfPossible(),t.observe(this,e)});t.observe(this,e)}connectedCallback(){super.connectedCallback(),this.renderIfPossible()}renderIfPossible(){this.textContent&&this.root&&this.renderContent()}renderContent(){console.error(`Your class ${this.constructor.name} must provide a custom renderContent() method!`)}}},ea=(e,t,n=!0)=>{return(a)=>{const i=document.createElement('template');return i.innerHTML=t,n&&'ShadyCSS'in window&&ShadyCSS.prepareTemplate(i,e),class extends a{static get is(){return e}constructor(){super(),this.clone=document.importNode(i.content,!0),n&&(this.attachShadow({mode:'open'}),this.shadowRoot.appendChild(this.clone))}connectedCallback(){n?'ShadyCSS'in window&&ShadyCSS.styleElement(this):this.insertBefore(this.clone,this.firstChild)}get root(){return n?this.shadowRoot:this}$(e){return this.root.querySelector(e)}$$(e){return this.root.querySelectorAll(e)}}}};var ta='span.katex-display {\n  text-align: left;\n  padding: 8px 0 8px 0;\n  margin: 0.5em 0 0.5em 1em;\n}\n\nspan.katex {\n  -webkit-font-smoothing: antialiased;\n  color: rgba(0, 0, 0, 0.8);\n  font-size: 1.18em;\n}\n';const na=function(e,t,n){let a=n,i=0;for(const d=e.length;a<t.length;){const n=t[a];if(0>=i&&t.slice(a,a+d)===e)return a;'\\'===n?a++:'{'===n?i++:'}'===n&&i--;a++}return-1},aa=function(e,t,n,a){const d=[];for(let r=0;r<e.length;r++)if('text'===e[r].type){const i=e[r].data;let o,l=!0,s=0;for(o=i.indexOf(t),-1!==o&&(s=o,d.push({type:'text',data:i.slice(0,s)}),l=!1);;){if(l){if(o=i.indexOf(t,s),-1===o)break;d.push({type:'text',data:i.slice(s,o)}),s=o}else{if(o=na(n,i,s+t.length),-1===o)break;d.push({type:'math',data:i.slice(s+t.length,o),rawData:i.slice(s,o+n.length),display:a}),s=o+n.length}l=!l}d.push({type:'text',data:i.slice(s)})}else d.push(e[r]);return d},ia=function(e,t){let n=[{type:'text',data:e}];for(let a=0;a<t.length;a++){const e=t[a];n=aa(n,e.left,e.right,e.display||!1)}return n},da=function(e,t){const n=ia(e,t.delimiters),a=document.createDocumentFragment();for(let d=0;d<n.length;d++)if('text'===n[d].type)a.appendChild(document.createTextNode(n[d].data));else{const e=document.createElement('d-math'),i=n[d].data;t.displayMode=n[d].display;try{e.textContent=i,t.displayMode&&e.setAttribute('block','')}catch(i){if(!(i instanceof katex.ParseError))throw i;t.errorCallback('KaTeX auto-render: Failed to parse `'+n[d].data+'` with ',i),a.appendChild(document.createTextNode(n[d].rawData));continue}a.appendChild(e)}return a},ra=function(e,t){for(let n=0;n<e.childNodes.length;n++){const a=e.childNodes[n];if(3===a.nodeType){const i=da(a.textContent,t);n+=i.childNodes.length-1,e.replaceChild(i,a)}else if(1===a.nodeType){const e=-1===t.ignoredTags.indexOf(a.nodeName.toLowerCase());e&&ra(a,t)}}},oa={delimiters:[{left:'$$',right:'$$',display:!0},{left:'\\[',right:'\\]',display:!0},{left:'\\(',right:'\\)',display:!1}],ignoredTags:['script','noscript','style','textarea','pre','code','svg'],errorCallback:function(e,t){console.error(e,t)}},la=function(e,t){if(!e)throw new Error('No element provided to render');const n=Object.assign({},oa,t);ra(e,n)},sa='<link rel="stylesheet" href="https://distill.pub/third-party/katex/katex.min.css" crossorigin="anonymous">',ca=ea('d-math',`
${sa}
<style>

:host {
  display: inline-block;
  contain: content;
}

:host([block]) {
  display: block;
}

${ta}
</style>
<span id='katex-container'></span>
`);class T extends Gn(ca(HTMLElement)){static set katexOptions(e){T._katexOptions=e,T.katexOptions.delimiters&&(T.katexAdded?T.katexLoadedCallback():T.addKatex())}static get katexOptions(){return T._katexOptions||(T._katexOptions={delimiters:[{left:'$$',right:'$$',display:!1}]}),T._katexOptions}static katexLoadedCallback(){const e=document.querySelectorAll('d-math');for(const t of e)t.renderContent();if(T.katexOptions.delimiters){const e=document.querySelector('d-article');la(e,T.katexOptions)}}static addKatex(){document.head.insertAdjacentHTML('beforeend',sa);const e=document.createElement('script');e.src='https://distill.pub/third-party/katex/katex.min.js',e.async=!0,e.onload=T.katexLoadedCallback,e.crossorigin='anonymous',document.head.appendChild(e),T.katexAdded=!0}get options(){const e={displayMode:this.hasAttribute('block')};return Object.assign(e,T.katexOptions)}connectedCallback(){super.connectedCallback(),T.katexAdded||T.addKatex()}renderContent(){if('undefined'!=typeof katex){const e=this.root.querySelector('#katex-container');katex.render(this.textContent,e,this.options)}}}T.katexAdded=!1,T.inlineMathRendered=!1,window.DMath=T;class ua extends HTMLElement{static get is(){return'd-front-matter'}constructor(){super();const e=new MutationObserver((e)=>{for(const t of e)if('SCRIPT'===t.target.nodeName||'characterData'===t.type){const e=s(this);this.notify(e)}});e.observe(this,{childList:!0,characterData:!0,subtree:!0})}notify(e){const t=new CustomEvent('onFrontMatterChanged',{detail:e,bubbles:!0});document.dispatchEvent(t)}}var pa=function(e,t){const n=e.body,a=n.querySelector('d-article');if(!a)return void console.warn('No d-article tag found; skipping adding optional components!');let i=e.querySelector('d-byline');i||(t.authors?(i=e.createElement('d-byline'),n.insertBefore(i,a)):console.warn('No authors found in front matter; please add them before submission!'));let d=e.querySelector('d-title');if(!d){let t=e.createElement('d-title');n.insertBefore(t,i)}let r=d.querySelector('h1');r||(r=e.createElement('h1'),r.textContent=t.title,d.insertBefore(r,d.firstChild));const o='undefined'!=typeof t.password;let l=n.querySelector('d-interstitial');if(o&&!l){const a='undefined'!=typeof window,i=a&&window.location.hostname.includes('localhost');a&&i||(l=e.createElement('d-interstitial'),l.password=t.password,n.insertBefore(l,n.firstChild))}else!o&&l&&l.parentElement.removeChild(this);let s=e.querySelector('d-appendix');s||(s=e.createElement('d-appendix'),e.body.appendChild(s));let c=e.querySelector('d-footnote-list');c||(c=e.createElement('d-footnote-list'),s.appendChild(c));let u=e.querySelector('d-citation-list');u||(u=e.createElement('d-citation-list'),s.appendChild(u))};const ga=new Qn,fa={frontMatter:ga,waitingOn:{bibliography:[],citations:[]},listeners:{onCiteKeyCreated(e){const[t,n]=e.detail;if(!ga.citationsCollected)return void fa.waitingOn.citations.push(()=>fa.listeners.onCiteKeyCreated(e));if(!ga.bibliographyParsed)return void fa.waitingOn.bibliography.push(()=>fa.listeners.onCiteKeyCreated(e));const a=n.map((e)=>ga.citations.indexOf(e));t.numbers=a;const i=n.map((e)=>ga.bibliography.get(e));t.entries=i},onCiteKeyChanged(){ga.citations=t(),ga.citationsCollected=!0;for(const e of fa.waitingOn.citations.slice())e();const e=document.querySelector('d-citation-list'),n=new Map(ga.citations.map((e)=>{return[e,ga.bibliography.get(e)]}));e.citations=n;const a=document.querySelectorAll('d-cite');for(const e of a){const t=e.keys,n=t.map((e)=>ga.citations.indexOf(e));e.numbers=n;const a=t.map((e)=>ga.bibliography.get(e));e.entries=a}},onCiteKeyRemoved(e){fa.listeners.onCiteKeyChanged(e)},onBibliographyChanged(e){const t=document.querySelector('d-citation-list'),n=e.detail;ga.bibliography=n,ga.bibliographyParsed=!0;for(const t of fa.waitingOn.bibliography.slice())t();if(!ga.citationsCollected)return void fa.waitingOn.citations.push(function(){fa.listeners.onBibliographyChanged({target:e.target,detail:e.detail})});if(t.hasAttribute('distill-prerendered'))console.info('Citation list was prerendered; not updating it.');else{const e=new Map(ga.citations.map((e)=>{return[e,ga.bibliography.get(e)]}));t.citations=e}},onFootnoteChanged(){const e=document.querySelector('d-footnote-list');if(e){const t=document.querySelectorAll('d-footnote');e.footnotes=t}},onFrontMatterChanged(t){const n=t.detail;e(ga,n);const a=document.querySelector('d-interstitial');a&&('undefined'==typeof ga.password?a.parentElement.removeChild(a):a.password=ga.password);const i=document.body.hasAttribute('distill-prerendered');if(!i&&c()){pa(document,ga);const e=document.querySelector('distill-appendix');e&&(e.frontMatter=ga);const t=document.querySelector('d-byline');t&&(t.frontMatter=ga),n.katex&&(T.katexOptions=n.katex)}},DOMContentLoaded(){if(fa.loaded)return void console.warn('Controller received DOMContentLoaded but was already loaded!');if(!c())return void console.warn('Controller received DOMContentLoaded before appropriate document.readyState!');fa.loaded=!0,console.log('Runlevel 4: Controller running DOMContentLoaded');const e=document.querySelector('d-front-matter'),n=s(e);fa.listeners.onFrontMatterChanged({detail:n}),ga.citations=t(),ga.citationsCollected=!0;for(const e of fa.waitingOn.citations.slice())e();if(ga.bibliographyParsed)for(const e of fa.waitingOn.bibliography.slice())e();const a=document.querySelector('d-footnote-list');if(a){const e=document.querySelectorAll('d-footnote');a.footnotes=e}}}};const ba='html {\n  font-size: 14px;\n\tline-height: 1.6em;\n  /* font-family: "Libre Franklin", "Helvetica Neue", sans-serif; */\n  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;\n  /*, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";*/\n  text-size-adjust: 100%;\n  -ms-text-size-adjust: 100%;\n  -webkit-text-size-adjust: 100%;\n}\n\n@media(min-width: 768px) {\n  html {\n    font-size: 16px;\n  }\n}\n\nbody {\n  margin: 0;\n}\n\na {\n  color: #004276;\n}\n\nfigure {\n  margin: 0;\n}\n\ntable {\n\tborder-collapse: collapse;\n\tborder-spacing: 0;\n}\n\ntable th {\n\ttext-align: left;\n}\n\ntable thead {\n  border-bottom: 1px solid rgba(0, 0, 0, 0.05);\n}\n\ntable thead th {\n  padding-bottom: 0.5em;\n}\n\ntable tbody :first-child td {\n  padding-top: 0.5em;\n}\n\npre {\n  overflow: auto;\n  max-width: 100%;\n}\n\np {\n  margin-top: 0;\n  margin-bottom: 1em;\n}\n\nsup, sub {\n  vertical-align: baseline;\n  position: relative;\n  top: -0.4em;\n  line-height: 1em;\n}\n\nsub {\n  top: 0.4em;\n}\n\n.kicker,\n.marker {\n  font-size: 15px;\n  font-weight: 600;\n  color: rgba(0, 0, 0, 0.5);\n}\n\n\n/* Headline */\n\n@media(min-width: 1024px) {\n  d-title h1 span {\n    display: block;\n  }\n}\n\n/* Figure */\n\nfigure {\n  position: relative;\n  margin-bottom: 2.5em;\n  margin-top: 1.5em;\n}\n\nfigcaption+figure {\n\n}\n\nfigure img {\n  width: 100%;\n}\n\nfigure svg text,\nfigure svg tspan {\n}\n\nfigcaption,\n.figcaption {\n  color: rgba(0, 0, 0, 0.6);\n  font-size: 12px;\n  line-height: 1.5em;\n}\n\n@media(min-width: 1024px) {\nfigcaption,\n.figcaption {\n    font-size: 13px;\n  }\n}\n\nfigure.external img {\n  background: white;\n  border: 1px solid rgba(0, 0, 0, 0.1);\n  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);\n  padding: 18px;\n  box-sizing: border-box;\n}\n\nfigcaption a {\n  color: rgba(0, 0, 0, 0.6);\n}\n\nfigcaption b,\nfigcaption strong, {\n  font-weight: 600;\n  color: rgba(0, 0, 0, 1.0);\n}\n'+'@supports not (display: grid) {\n  .base-grid,\n  distill-header,\n  d-title,\n  d-abstract,\n  d-article,\n  d-appendix,\n  distill-appendix,\n  d-byline,\n  d-footnote-list,\n  d-citation-list,\n  distill-footer {\n    display: block;\n    padding: 8px;\n  }\n}\n\n.base-grid,\ndistill-header,\nd-title,\nd-abstract,\nd-article,\nd-appendix,\ndistill-appendix,\nd-byline,\nd-footnote-list,\nd-citation-list,\ndistill-footer {\n  display: grid;\n  justify-items: stretch;\n  grid-template-columns: [screen-start] 8px [page-start kicker-start text-start gutter-start middle-start] 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr [text-end page-end gutter-end kicker-end middle-end] 8px [screen-end];\n  grid-column-gap: 8px;\n}\n\n.grid {\n  display: grid;\n  grid-column-gap: 8px;\n}\n\n@media(min-width: 768px) {\n  .base-grid,\n  distill-header,\n  d-title,\n  d-abstract,\n  d-article,\n  d-appendix,\n  distill-appendix,\n  d-byline,\n  d-footnote-list,\n  d-citation-list,\n  distill-footer {\n    grid-template-columns: [screen-start] 1fr [page-start kicker-start middle-start text-start] 45px 45px 45px 45px 45px 45px 45px 45px [ kicker-end text-end gutter-start] 45px [middle-end] 45px [page-end gutter-end] 1fr [screen-end];\n    grid-column-gap: 16px;\n  }\n\n  .grid {\n    grid-column-gap: 16px;\n  }\n}\n\n@media(min-width: 1000px) {\n  .base-grid,\n  distill-header,\n  d-title,\n  d-abstract,\n  d-article,\n  d-appendix,\n  distill-appendix,\n  d-byline,\n  d-footnote-list,\n  d-citation-list,\n  distill-footer {\n    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 50px [middle-start] 50px [text-start kicker-end] 50px 50px 50px 50px 50px 50px 50px 50px [text-end gutter-start] 50px [middle-end] 50px [page-end gutter-end] 1fr [screen-end];\n    grid-column-gap: 16px;\n  }\n\n  .grid {\n    grid-column-gap: 16px;\n  }\n}\n\n@media(min-width: 1180px) {\n  .base-grid,\n  distill-header,\n  d-title,\n  d-abstract,\n  d-article,\n  d-appendix,\n  distill-appendix,\n  d-byline,\n  d-footnote-list,\n  d-citation-list,\n  distill-footer {\n    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];\n    grid-column-gap: 32px;\n  }\n\n  .grid {\n    grid-column-gap: 32px;\n  }\n}\n\n\n\n\n.base-grid {\n  grid-column: screen;\n}\n\n/* .l-body,\nd-article > *  {\n  grid-column: text;\n}\n\n.l-page,\nd-title > *,\nd-figure {\n  grid-column: page;\n} */\n\n.l-gutter {\n  grid-column: gutter;\n}\n\n.l-text,\n.l-body {\n  grid-column: text;\n}\n\n.l-page {\n  grid-column: page;\n}\n\n.l-body-outset {\n  grid-column: middle;\n}\n\n.l-page-outset {\n  grid-column: page;\n}\n\n.l-screen {\n  grid-column: screen;\n}\n\n.l-screen-inset {\n  grid-column: screen;\n  padding-left: 16px;\n  padding-left: 16px;\n}\n\n\n/* Aside */\n\nd-article aside {\n  grid-column: gutter;\n  font-size: 12px;\n  line-height: 1.6em;\n  color: rgba(0, 0, 0, 0.6)\n}\n\n@media(min-width: 768px) {\n  aside {\n    grid-column: gutter;\n  }\n\n  .side {\n    grid-column: gutter;\n  }\n}\n'+'d-title {\n  padding: 2rem 0 1.5rem;\n  contain: layout style;\n  overflow-x: hidden;\n}\n\n@media(min-width: 768px) {\n  d-title {\n    padding: 4rem 0 1.5rem;\n  }\n}\n\nd-title h1 {\n  grid-column: text;\n  font-size: 40px;\n  font-weight: 700;\n  line-height: 1.1em;\n  margin: 0 0 0.5rem;\n}\n\n@media(min-width: 768px) {\n  d-title h1 {\n    font-size: 50px;\n  }\n}\n\nd-title p {\n  font-weight: 300;\n  font-size: 1.2rem;\n  line-height: 1.55em;\n  grid-column: text;\n}\n\nd-title .status {\n  margin-top: 0px;\n  font-size: 12px;\n  color: #009688;\n  opacity: 0.8;\n  grid-column: kicker;\n}\n\nd-title .status span {\n  line-height: 1;\n  display: inline-block;\n  padding: 6px 0;\n  border-bottom: 1px solid #80cbc4;\n  font-size: 11px;\n  text-transform: uppercase;\n}\n'+'d-byline {\n  contain: content;\n  overflow: hidden;\n  border-top: 1px solid rgba(0, 0, 0, 0.1);\n  font-size: 0.8rem;\n  line-height: 1.8em;\n  padding: 1.5rem 0;\n  min-height: 1.8em;\n}\n\n\nd-byline .byline {\n  grid-template-columns: 1fr 1fr;\n  grid-column: text;\n}\n\n@media(min-width: 768px) {\n  d-byline .byline {\n    grid-template-columns: 1fr 1fr 1fr 1fr;\n  }\n}\n\nd-byline .authors-affiliations {\n  grid-column-end: span 2;\n  grid-template-columns: 1fr 1fr;\n  margin-bottom: 1em;\n}\n\n@media(min-width: 768px) {\n  d-byline .authors-affiliations {\n    margin-bottom: 0;\n  }\n}\n\nd-byline h3 {\n  font-size: 0.6rem;\n  font-weight: 400;\n  color: rgba(0, 0, 0, 0.5);\n  margin: 0;\n  text-transform: uppercase;\n}\n\nd-byline p {\n  margin: 0;\n}\n\nd-byline a,\nd-article d-byline a {\n  color: rgba(0, 0, 0, 0.8);\n  text-decoration: none;\n  border-bottom: none;\n}\n\nd-article d-byline a:hover {\n  text-decoration: underline;\n  border-bottom: none;\n}\n\nd-byline p.author {\n  font-weight: 500;\n}\n\nd-byline .affiliations {\n\n}\n'+'d-article {\n  contain: layout style;\n  overflow-x: hidden;\n  border-top: 1px solid rgba(0, 0, 0, 0.1);\n  padding-top: 2rem;\n  color: rgba(0, 0, 0, 0.8);\n}\n\nd-article > * {\n  grid-column: text;\n}\n\n@media(min-width: 768px) {\n  d-article {\n    font-size: 16px;\n  }\n}\n\n@media(min-width: 1024px) {\n  d-article {\n    font-size: 1.06rem;\n    line-height: 1.7em;\n  }\n}\n\n\n/* H2 */\n\n\nd-article .marker {\n  text-decoration: none;\n  border: none;\n  counter-reset: section;\n  grid-column: kicker;\n  line-height: 1.7em;\n}\n\nd-article .marker:hover {\n  border: none;\n}\n\nd-article .marker span {\n  padding: 0 3px 4px;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.2);\n  position: relative;\n  top: 4px;\n}\n\nd-article .marker:hover span {\n  color: rgba(0, 0, 0, 0.7);\n  border-bottom: 1px solid rgba(0, 0, 0, 0.7);\n}\n\nd-article h2 {\n  font-weight: 600;\n  font-size: 24px;\n  line-height: 1.25em;\n  margin: 2rem 0 1.5rem 0;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n  padding-bottom: 1rem;\n}\n\n@media(min-width: 1024px) {\n  d-article h2 {\n    font-size: 36px;\n  }\n}\n\n/* H3 */\n\nd-article h3 {\n  font-weight: 700;\n  font-size: 18px;\n  line-height: 1.4em;\n  margin-bottom: 1em;\n  margin-top: 2em;\n}\n\n@media(min-width: 1024px) {\n  d-article h3 {\n    font-size: 20px;\n  }\n}\n\n/* H4 */\n\nd-article h4 {\n  font-weight: 600;\n  text-transform: uppercase;\n  font-size: 14px;\n  line-height: 1.4em;\n}\n\nd-article a {\n  color: inherit;\n}\n\nd-article p,\nd-article ul,\nd-article ol,\nd-article blockquote {\n  margin-top: 0;\n  margin-bottom: 1em;\n  margin-left: 0;\n  margin-right: 0;\n}\n\nd-article blockquote {\n  border-left: 2px solid rgba(0, 0, 0, 0.2);\n  padding-left: 2em;\n  font-style: italic;\n  color: rgba(0, 0, 0, 0.6);\n}\n\nd-article a {\n  border-bottom: 1px solid rgba(0, 0, 0, 0.4);\n  text-decoration: none;\n}\n\nd-article a:hover {\n  border-bottom: 1px solid rgba(0, 0, 0, 0.8);\n}\n\nd-article .link {\n  text-decoration: underline;\n  cursor: pointer;\n}\n\nd-article ul,\nd-article ol {\n  padding-left: 24px;\n}\n\nd-article li {\n  margin-bottom: 1em;\n  margin-left: 0;\n  padding-left: 0;\n}\n\nd-article li:last-child {\n  margin-bottom: 0;\n}\n\nd-article pre {\n  font-size: 14px;\n  margin-bottom: 20px;\n}\n\nd-article hr {\n  grid-column: screen;\n  width: 100%;\n  border: none;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n  margin-top: 60px;\n  margin-bottom: 60px;\n}\n\nd-article section {\n  margin-top: 60px;\n  margin-bottom: 60px;\n}\n\nd-article span.equation-mimic {\n  font-family: georgia;\n  font-size: 115%;\n  font-style: italic;\n}\n\nd-article > d-code,\nd-article section > d-code  {\n  display: block;\n}\n\nd-article > d-math[block],\nd-article section > d-math[block]  {\n  display: block;\n}\n\n@media (max-width: 768px) {\n  d-article > d-code,\n  d-article section > d-code,\n  d-article > d-math[block],\n  d-article section > d-math[block] {\n      overflow-x: scroll;\n      -ms-overflow-style: none;  // IE 10+\n      overflow: -moz-scrollbars-none;  // Firefox\n  }\n\n  d-article > d-code::-webkit-scrollbar,\n  d-article section > d-code::-webkit-scrollbar,\n  d-article > d-math[block]::-webkit-scrollbar,\n  d-article section > d-math[block]::-webkit-scrollbar {\n    display: none;  // Safari and Chrome\n  }\n}\n\nd-article .citation {\n  color: #668;\n  cursor: pointer;\n}\n\nd-include {\n  width: auto;\n  display: block;\n}\n\nd-figure {\n  contain: layout style;\n}\n\n/* KaTeX */\n\n.katex, .katex-prerendered {\n  contain: content;\n  display: inline-block;\n}\n\n/* Tables */\n\nd-article table {\n  border-collapse: collapse;\n  margin-bottom: 1.5rem;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.2);\n}\n\nd-article table th {\n  border-bottom: 1px solid rgba(0, 0, 0, 0.2);\n}\n\nd-article table td {\n  border-bottom: 1px solid rgba(0, 0, 0, 0.05);\n}\n\nd-article table tr:last-of-type td {\n  border-bottom: none;\n}\n\nd-article table th,\nd-article table td {\n  font-size: 15px;\n  padding: 2px 8px;\n}\n\nd-article table tbody :first-child td {\n  padding-top: 2px;\n}\n'+ta+'@media print {\n\n  @page {\n    size: 8in 11in;\n    @bottom-right {\n      content: counter(page) " of " counter(pages);\n    }\n  }\n\n  html {\n    /* no general margins -- CSS Grid takes care of those */\n  }\n\n  p, code {\n    page-break-inside: avoid;\n  }\n\n  h2, h3 {\n    page-break-after: avoid;\n  }\n\n  d-header {\n    visibility: hidden;\n  }\n\n  d-footer {\n    display: none!important;\n  }\n\n}\n',ha=[{name:'WebComponents',support:function(){return'customElements'in window&&'attachShadow'in Element.prototype&&'getRootNode'in Element.prototype&&'content'in document.createElement('template')&&'Promise'in window&&'from'in Array},url:'https://distill.pub/third-party/polyfills/webcomponents-lite.js'},{name:'IntersectionObserver',support:function(){return'IntersectionObserver'in window&&'IntersectionObserverEntry'in window},url:'https://distill.pub/third-party/polyfills/intersection-observer.js'}];class ma{static browserSupportsAllFeatures(){return ha.every((e)=>e.support())}static load(e){const t=function(t){t.loaded=!0,console.info('Runlevel 0: Polyfill has finished loading: '+t.name),ma.neededPolyfills.every((e)=>e.loaded)&&(console.info('Runlevel 0: All required polyfills have finished loading.'),console.info('Runlevel 0->1.'),window.distillRunlevel=1,e())};for(const n of ma.neededPolyfills)p(n,t)}static get neededPolyfills(){return ma._neededPolyfills||(ma._neededPolyfills=ha.filter((e)=>!e.support())),ma._neededPolyfills}}const ya=ea('d-abstract',`
<style>
  :host {
    font-size: 1.25rem;
    line-height: 1.6em;
    color: rgba(0, 0, 0, 0.7);
    -webkit-font-smoothing: antialiased;
  }

  ::slotted(p) {
    margin-top: 0;
    margin-bottom: 1em;
    grid-column: text-start / middle-end;
  }
  ${function(e){return`${e} {
      grid-column: left / text;
    }
  `}('d-abstract')}
</style>

<slot></slot>
`);class xa extends ya(HTMLElement){}const ka=ea('d-appendix',`
<style>

d-appendix {
  contain: layout style;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-top: 60px;
  margin-bottom: 0;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  color: rgba(0,0,0,0.5);
  padding-top: 60px;
  padding-bottom: 48px;
}

d-appendix h3 {
  grid-column: page-start / text-start;
  font-size: 15px;
  font-weight: 500;
  margin-top: 1em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.65);
}

d-appendix h3 + * {
  margin-top: 1em;
}

d-appendix ol {
  padding: 0 0 0 15px;
}

@media (min-width: 768px) {
  d-appendix ol {
    padding: 0 0 0 30px;
    margin-left: -30px;
  }
}

d-appendix li {
  margin-bottom: 1em;
}

d-appendix a {
  color: rgba(0, 0, 0, 0.6);
}

d-appendix > * {
  grid-column: text;
}

d-appendix > d-footnote-list,
d-appendix > d-citation-list,
d-appendix > distill-appendix {
  grid-column: screen;
}

</style>

`,!1);class va extends ka(HTMLElement){}const wa=/^\s*$/;class Ca extends HTMLElement{static get is(){return'd-article'}constructor(){super(),new MutationObserver((e)=>{for(const t of e)for(const e of t.addedNodes)switch(e.nodeName){case'#text':{const t=e.nodeValue;if(!wa.test(t)){console.warn('Use of unwrapped text in distill articles is discouraged as it breaks layout! Please wrap any text in a <span> or <p> tag. We found the following text: '+t);const n=document.createElement('span');n.innerHTML=e.nodeValue,e.parentNode.insertBefore(n,e),e.parentNode.removeChild(e)}}}}).observe(this,{childList:!0})}}var _a='undefined'==typeof window?'undefined'==typeof global?'undefined'==typeof self?{}:self:global:window,Ta=g(function(e,t){(function(e){function t(){this.months=['jan','feb','mar','apr','may','jun','jul','aug','sep','oct','nov','dec'],this.notKey=[',','{','}',' ','='],this.pos=0,this.input='',this.entries=[],this.currentEntry='',this.setInput=function(e){this.input=e},this.getEntries=function(){return this.entries},this.isWhitespace=function(e){return' '==e||'\r'==e||'\t'==e||'\n'==e},this.match=function(e,t){if((void 0==t||null==t)&&(t=!0),this.skipWhitespace(t),this.input.substring(this.pos,this.pos+e.length)==e)this.pos+=e.length;else throw'Token mismatch, expected '+e+', found '+this.input.substring(this.pos);this.skipWhitespace(t)},this.tryMatch=function(e,t){return(void 0==t||null==t)&&(t=!0),this.skipWhitespace(t),this.input.substring(this.pos,this.pos+e.length)==e},this.matchAt=function(){for(;this.input.length>this.pos&&'@'!=this.input[this.pos];)this.pos++;return!('@'!=this.input[this.pos])},this.skipWhitespace=function(e){for(;this.isWhitespace(this.input[this.pos]);)this.pos++;if('%'==this.input[this.pos]&&!0==e){for(;'\n'!=this.input[this.pos];)this.pos++;this.skipWhitespace(e)}},this.value_braces=function(){var e=0;this.match('{',!1);for(var t=this.pos,n=!1;;){if(!n)if('}'==this.input[this.pos]){if(0<e)e--;else{var a=this.pos;return this.match('}',!1),this.input.substring(t,a)}}else if('{'==this.input[this.pos])e++;else if(this.pos>=this.input.length-1)throw'Unterminated value';n='\\'==this.input[this.pos]&&!1==n,this.pos++}},this.value_comment=function(){for(var e='',t=0;!(this.tryMatch('}',!1)&&0==t);){if(e+=this.input[this.pos],'{'==this.input[this.pos]&&t++,'}'==this.input[this.pos]&&t--,this.pos>=this.input.length-1)throw'Unterminated value:'+this.input.substring(start);this.pos++}return e},this.value_quotes=function(){this.match('"',!1);for(var e=this.pos,t=!1;;){if(!t){if('"'==this.input[this.pos]){var n=this.pos;return this.match('"',!1),this.input.substring(e,n)}if(this.pos>=this.input.length-1)throw'Unterminated value:'+this.input.substring(e)}t='\\'==this.input[this.pos]&&!1==t,this.pos++}},this.single_value=function(){var e=this.pos;if(this.tryMatch('{'))return this.value_braces();if(this.tryMatch('"'))return this.value_quotes();var t=this.key();if(t.match('^[0-9]+$'))return t;if(0<=this.months.indexOf(t.toLowerCase()))return t.toLowerCase();throw'Value expected:'+this.input.substring(e)+' for key: '+t},this.value=function(){for(var e=[this.single_value()];this.tryMatch('#');)this.match('#'),e.push(this.single_value());return e.join('')},this.key=function(){for(var e=this.pos;;){if(this.pos>=this.input.length)throw'Runaway key';if(0<=this.notKey.indexOf(this.input[this.pos]))return this.input.substring(e,this.pos);this.pos++}},this.key_equals_value=function(){var e=this.key();if(this.tryMatch('=')){this.match('=');var t=this.value();return[e,t]}throw'... = value expected, equals sign missing:'+this.input.substring(this.pos)},this.key_value_list=function(){var e=this.key_equals_value();for(this.currentEntry.entryTags={},this.currentEntry.entryTags[e[0]]=e[1];this.tryMatch(',')&&(this.match(','),!this.tryMatch('}'));)e=this.key_equals_value(),this.currentEntry.entryTags[e[0]]=e[1]},this.entry_body=function(e){this.currentEntry={},this.currentEntry.citationKey=this.key(),this.currentEntry.entryType=e.substring(1),this.match(','),this.key_value_list(),this.entries.push(this.currentEntry)},this.directive=function(){return this.match('@'),'@'+this.key()},this.preamble=function(){this.currentEntry={},this.currentEntry.entryType='PREAMBLE',this.currentEntry.entry=this.value_comment(),this.entries.push(this.currentEntry)},this.comment=function(){this.currentEntry={},this.currentEntry.entryType='COMMENT',this.currentEntry.entry=this.value_comment(),this.entries.push(this.currentEntry)},this.entry=function(e){this.entry_body(e)},this.bibtex=function(){for(;this.matchAt();){var e=this.directive();this.match('{'),'@STRING'==e?this.string():'@PREAMBLE'==e?this.preamble():'@COMMENT'==e?this.comment():this.entry(e),this.match('}')}}}e.toJSON=function(e){var n=new t;return n.setInput(e),n.bibtex(),n.entries},e.toBibtex=function(e){var t='';for(var n in e){if(t+='@'+e[n].entryType,t+='{',e[n].citationKey&&(t+=e[n].citationKey+', '),e[n].entry&&(t+=e[n].entry),e[n].entryTags){var a='';for(var i in e[n].entryTags)0!=a.length&&(a+=', '),a+=i+'= {'+e[n].entryTags[i]+'}';t+=a}t+='}\n\n'}return t}})(t)});class Sa extends HTMLElement{static get is(){return'd-bibliography'}constructor(){super();const e=new MutationObserver((e)=>{for(const t of e)('SCRIPT'===t.target.nodeName||'characterData'===t.type)&&this.parseIfPossible()});e.observe(this,{childList:!0,characterData:!0,subtree:!0})}connectedCallback(){requestAnimationFrame(()=>{this.parseIfPossible()})}parseIfPossible(){const e=this.querySelector('script');if(e)if('text/bibtex'==e.type){const t=e.textContent;if(this.bibtex!==t){this.bibtex=t;const e=b(this.bibtex);this.notify(e)}}else if('text/json'==e.type){const t=new Map(JSON.parse(e.textContent));this.notify(t)}else console.warn('Unsupported bibliography script tag type: '+e.type)}notify(e){const t=new CustomEvent('onBibliographyChanged',{detail:e,bubbles:!0});this.dispatchEvent(t)}static get observedAttributes(){return['src']}receivedBibtex(e){const t=b(e.target.response);this.notify(t)}attributeChangedCallback(e,t,n){var a=new XMLHttpRequest;a.onload=(t)=>this.receivedBibtex(t),a.onerror=()=>console.warn(`Could not load Bibtex! (tried ${n})`),a.responseType='text',a.open('GET',n,!0),a.send()}}class Ma extends HTMLElement{static get is(){return'd-byline'}set frontMatter(e){this.innerHTML=m(e)}}const Ea=ea('d-cite',`
<style>

:host {
  display: inline-block;
}

.citation {
  display: inline-block;
  color: hsla(206, 90%, 20%, 0.7);
}

.citation-number {
  cursor: default;
  white-space: nowrap;
  font-family: -apple-system, BlinkMacSystemFont, "Roboto", Helvetica, sans-serif;
  font-size: 75%;
  color: hsla(206, 90%, 20%, 0.7);
  display: inline-block;
  line-height: 1.1em;
  text-align: center;
  position: relative;
  top: -2px;
  margin: 0 2px;
}

figcaption .citation-number {
  font-size: 11px;
  font-weight: normal;
  top: -2px;
  line-height: 1em;
}

d-hover-box {
  margin-top: 1.9em;
}

ul {
  margin: 0;
  padding: 0;
  list-style-type: none;
}

ul li {
  padding: 15px 10px 15px 10px;
  border-bottom: 1px solid rgba(0,0,0,0.1)
}

ul li:last-of-type {
  border-bottom: none;
}

</style>

<d-hover-box id="hover-box"></d-hover-box>

<div id="citation-" class="citation"><slot></slot><span class="citation-number"></span></div>
`);class Da extends Ea(HTMLElement){connectedCallback(){this.outerSpan=this.root.querySelector('#citation-'),this.innerSpan=this.root.querySelector('.citation-number'),this.hoverBox=this.root.querySelector('d-hover-box'),window.customElements.whenDefined('d-hover-box').then(()=>{this.hoverBox.listen(this)})}static get observedAttributes(){return['key']}attributeChangedCallback(e,t,n){const a=t?'onCiteKeyChanged':'onCiteKeyCreated',i=n.split(','),d={detail:[this,i],bubbles:!0},r=new CustomEvent(a,d);document.dispatchEvent(r)}set key(e){this.setAttribute('key',e)}get key(){return this.getAttribute('key')}get keys(){return this.getAttribute('key').split(',')}set numbers(e){const t=e.map((e)=>{return-1==e?'?':e+1+''}),n='['+t.join(', ')+']';this.innerSpan&&(this.innerSpan.textContent=n)}set entries(e){this.hoverBox&&(this.hoverBox.innerHTML=`<ul>
      ${e.map(l).map((e)=>`<li>${e}</li>`).join('\n')}
      </ul>`)}}const La=`
d-citation-list {
  contain: layout style;
}

d-citation-list .references {
  grid-column: text;
}

d-citation-list .references .title {
  font-weight: 500;
}
`;class Ua extends HTMLElement{static get is(){return'd-citation-list'}connectedCallback(){this.hasAttribute('distill-prerendered')||(this.style.display='none')}set citations(e){y(this,e)}}var Aa=g(function(e){var t='undefined'==typeof window?'undefined'!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{}:window,n=function(){var e=/\blang(?:uage)?-(\w+)\b/i,n=0,a=t.Prism={util:{encode:function(e){return e instanceof i?new i(e.type,a.util.encode(e.content),e.alias):'Array'===a.util.type(e)?e.map(a.util.encode):e.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/\u00a0/g,' ')},type:function(e){return Object.prototype.toString.call(e).match(/\[object (\w+)\]/)[1]},objId:function(e){return e.__id||Object.defineProperty(e,'__id',{value:++n}),e.__id},clone:function(e){var t=a.util.type(e);switch(t){case'Object':var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]=a.util.clone(e[i]));return n;case'Array':return e.map&&e.map(function(e){return a.util.clone(e)});}return e}},languages:{extend:function(e,t){var n=a.util.clone(a.languages[e]);for(var i in t)n[i]=t[i];return n},insertBefore:function(e,t,n,i){i=i||a.languages;var d=i[e];if(2==arguments.length){for(var r in n=arguments[1],n)n.hasOwnProperty(r)&&(d[r]=n[r]);return d}var o={};for(var l in d)if(d.hasOwnProperty(l)){if(l==t)for(var r in n)n.hasOwnProperty(r)&&(o[r]=n[r]);o[l]=d[l]}return a.languages.DFS(a.languages,function(t,n){n===i[e]&&t!=e&&(this[t]=o)}),i[e]=o},DFS:function(e,t,n,d){for(var r in d=d||{},e)e.hasOwnProperty(r)&&(t.call(e,r,e[r],n||r),'Object'!==a.util.type(e[r])||d[a.util.objId(e[r])]?'Array'===a.util.type(e[r])&&!d[a.util.objId(e[r])]&&(d[a.util.objId(e[r])]=!0,a.languages.DFS(e[r],t,r,d)):(d[a.util.objId(e[r])]=!0,a.languages.DFS(e[r],t,null,d)))}},plugins:{},highlightAll:function(e,t){var n={callback:t,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};a.hooks.run('before-highlightall',n);for(var d,r=n.elements||document.querySelectorAll(n.selector),o=0;d=r[o++];)a.highlightElement(d,!0===e,n.callback)},highlightElement:function(n,i,d){for(var r,o,l=n;l&&!e.test(l.className);)l=l.parentNode;l&&(r=(l.className.match(e)||[,''])[1].toLowerCase(),o=a.languages[r]),n.className=n.className.replace(e,'').replace(/\s+/g,' ')+' language-'+r,l=n.parentNode,/pre/i.test(l.nodeName)&&(l.className=l.className.replace(e,'').replace(/\s+/g,' ')+' language-'+r);var s=n.textContent,c={element:n,language:r,grammar:o,code:s};if(a.hooks.run('before-sanity-check',c),!c.code||!c.grammar)return c.code&&(c.element.textContent=c.code),void a.hooks.run('complete',c);if(a.hooks.run('before-highlight',c),i&&t.Worker){var u=new Worker(a.filename);u.onmessage=function(e){c.highlightedCode=e.data,a.hooks.run('before-insert',c),c.element.innerHTML=c.highlightedCode,d&&d.call(c.element),a.hooks.run('after-highlight',c),a.hooks.run('complete',c)},u.postMessage(JSON.stringify({language:c.language,code:c.code,immediateClose:!0}))}else c.highlightedCode=a.highlight(c.code,c.grammar,c.language),a.hooks.run('before-insert',c),c.element.innerHTML=c.highlightedCode,d&&d.call(n),a.hooks.run('after-highlight',c),a.hooks.run('complete',c)},highlight:function(e,t,n){var d=a.tokenize(e,t);return i.stringify(a.util.encode(d),n)},tokenize:function(e,t){var n=a.Token,d=[e],r=t.rest;if(r){for(var o in r)t[o]=r[o];delete t.rest}tokenloop:for(var o in t)if(t.hasOwnProperty(o)&&t[o]){var l=t[o];l='Array'===a.util.type(l)?l:[l];for(var s=0;s<l.length;++s){var c=l[s],u=c.inside,g=!!c.lookbehind,f=!!c.greedy,b=0,h=c.alias;if(f&&!c.pattern.global){var m=c.pattern.toString().match(/[imuy]*$/)[0];c.pattern=RegExp(c.pattern.source,m+'g')}c=c.pattern||c;for(var y,x=0,i=0;x<d.length;i+=d[x].length,++x){if(y=d[x],d.length>e.length)break tokenloop;if(!(y instanceof n)){c.lastIndex=0;var v=c.exec(y),w=1;if(!v&&f&&x!=d.length-1){if(c.lastIndex=i,v=c.exec(e),!v)break;for(var C=v.index+(g?v[1].length:0),_=v.index+v[0].length,T=x,k=i,p=d.length;T<p&&k<_;++T)k+=d[T].length,C>=k&&(++x,i=k);if(d[x]instanceof n||d[T-1].greedy)continue;w=T-x,y=e.slice(i,k),v.index-=i}if(v){g&&(b=v[1].length);var C=v.index+b,v=v[0].slice(b),_=C+v.length,S=y.slice(0,C),M=y.slice(_),E=[x,w];S&&E.push(S);var D=new n(o,u?a.tokenize(v,u):v,h,v,f);E.push(D),M&&E.push(M),Array.prototype.splice.apply(d,E)}}}}}return d},hooks:{all:{},add:function(e,t){var n=a.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=a.hooks.all[e];if(n&&n.length)for(var d,r=0;d=n[r++];)d(t)}}},i=a.Token=function(e,t,n,a,i){this.type=e,this.content=t,this.alias=n,this.length=0|(a||'').length,this.greedy=!!i};if(i.stringify=function(e,t,n){if('string'==typeof e)return e;if('Array'===a.util.type(e))return e.map(function(n){return i.stringify(n,t,e)}).join('');var d={type:e.type,content:i.stringify(e.content,t,n),tag:'span',classes:['token',e.type],attributes:{},language:t,parent:n};if('comment'==d.type&&(d.attributes.spellcheck='true'),e.alias){var r='Array'===a.util.type(e.alias)?e.alias:[e.alias];Array.prototype.push.apply(d.classes,r)}a.hooks.run('wrap',d);var l=Object.keys(d.attributes).map(function(e){return e+'="'+(d.attributes[e]||'').replace(/"/g,'&quot;')+'"'}).join(' ');return'<'+d.tag+' class="'+d.classes.join(' ')+'"'+(l?' '+l:'')+'>'+d.content+'</'+d.tag+'>'},!t.document)return t.addEventListener?(t.addEventListener('message',function(e){var n=JSON.parse(e.data),i=n.language,d=n.code,r=n.immediateClose;t.postMessage(a.highlight(d,a.languages[i],i)),r&&t.close()},!1),t.Prism):t.Prism;var d=document.currentScript||[].slice.call(document.getElementsByTagName('script')).pop();return d&&(a.filename=d.src,document.addEventListener&&!d.hasAttribute('data-manual')&&('loading'===document.readyState?document.addEventListener('DOMContentLoaded',a.highlightAll):window.requestAnimationFrame?window.requestAnimationFrame(a.highlightAll):window.setTimeout(a.highlightAll,16))),t.Prism}();e.exports&&(e.exports=n),'undefined'!=typeof _a&&(_a.Prism=n),n.languages.markup={comment:/<!--[\w\W]*?-->/,prolog:/<\?[\w\W]+?\?>/,doctype:/<!DOCTYPE[\w\W]+?>/i,cdata:/<!\[CDATA\[[\w\W]*?]]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\\1|\\?(?!\1)[\w\W])*\1|[^\s'">=]+))?)*\s*\/?>/i,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=(?:('|")[\w\W]*?(\1)|[^\s>]+)/i,inside:{punctuation:/[=>"']/}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:/&#?[\da-z]{1,8};/i},n.hooks.add('wrap',function(e){'entity'===e.type&&(e.attributes.title=e.content.replace(/&amp;/,'&'))}),n.languages.xml=n.languages.markup,n.languages.html=n.languages.markup,n.languages.mathml=n.languages.markup,n.languages.svg=n.languages.markup,n.languages.css={comment:/\/\*[\w\W]*?\*\//,atrule:{pattern:/@[\w-]+?.*?(;|(?=\s*\{))/i,inside:{rule:/@[\w-]+/}},url:/url\((?:(["'])(\\(?:\r\n|[\w\W])|(?!\1)[^\\\r\n])*\1|.*?)\)/i,selector:/[^\{\}\s][^\{\};]*?(?=\s*\{)/,string:{pattern:/("|')(\\(?:\r\n|[\w\W])|(?!\1)[^\\\r\n])*\1/,greedy:!0},property:/(\b|\B)[\w-]+(?=\s*:)/i,important:/\B!important\b/i,function:/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:]/},n.languages.css.atrule.inside.rest=n.util.clone(n.languages.css),n.languages.markup&&(n.languages.insertBefore('markup','tag',{style:{pattern:/(<style[\w\W]*?>)[\w\W]*?(?=<\/style>)/i,lookbehind:!0,inside:n.languages.css,alias:'language-css'}}),n.languages.insertBefore('inside','attr-value',{"style-attr":{pattern:/\s*style=("|').*?\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:n.languages.markup.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:n.languages.css}},alias:'language-css'}},n.languages.markup.tag)),n.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\w\W]*?\*\//,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0},{pattern:/(^|[^\\])#.*/,lookbehind:!0}],string:{pattern:/(["'])(\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[a-z0-9_\.\\]+/i,lookbehind:!0,inside:{punctuation:/(\.|\\)/}},keyword:/\b(if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(true|false)\b/,function:/[a-z\.0-9_]+(?=\()/i,number:/\b-?(?:0x[\da-f]+|\d*\.?\d+(?:e[+-]?\d+)?)\b/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/},n.languages.javascript=n.languages.extend('clike',{keyword:/\b(as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|var|void|while|with|yield)\b/,number:/\b-?(0x[\dA-Fa-f]+|0b[01]+|0o[0-7]+|\d*\.?\d+([Ee][+-]?\d+)?|NaN|Infinity)\b/,function:/[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*(?=\()/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*\*?|\/|~|\^|%|\.{3}/}),n.languages.insertBefore('javascript','keyword',{regex:{pattern:/(^|[^/])\/(?!\/)(\[.+?]|\\.|[^/\\\r\n])+\/[gimyu]{0,5}(?=\s*($|[\r\n,.;})]))/,lookbehind:!0,greedy:!0}}),n.languages.insertBefore('javascript','string',{"template-string":{pattern:/`(?:\\\\|\\?[^\\])*?`/,greedy:!0,inside:{interpolation:{pattern:/\$\{[^}]+\}/,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:'punctuation'},rest:n.languages.javascript}},string:/[\s\S]+/}}}),n.languages.markup&&n.languages.insertBefore('markup','tag',{script:{pattern:/(<script[\w\W]*?>)[\w\W]*?(?=<\/script>)/i,lookbehind:!0,inside:n.languages.javascript,alias:'language-javascript'}}),n.languages.js=n.languages.javascript,function(){'undefined'!=typeof self&&self.Prism&&self.document&&document.querySelector&&(self.Prism.fileHighlight=function(){var e={js:'javascript',py:'python',rb:'ruby',ps1:'powershell',psm1:'powershell',sh:'bash',bat:'batch',h:'c',tex:'latex'};Array.prototype.forEach&&Array.prototype.slice.call(document.querySelectorAll('pre[data-src]')).forEach(function(t){for(var a,i=t.getAttribute('data-src'),d=t,r=/\blang(?:uage)?-(?!\*)(\w+)\b/i;d&&!r.test(d.className);)d=d.parentNode;if(d&&(a=(t.className.match(r)||[,''])[1]),!a){var o=(i.match(/\.(\w+)$/)||[,''])[1];a=e[o]||o}var l=document.createElement('code');l.className='language-'+a,t.textContent='',l.textContent='Loading\u2026',t.appendChild(l);var s=new XMLHttpRequest;s.open('GET',i,!0),s.onreadystatechange=function(){4==s.readyState&&(400>s.status&&s.responseText?(l.textContent=s.responseText,n.highlightElement(l)):400<=s.status?l.textContent='\u2716 Error '+s.status+' while fetching file: '+s.statusText:l.textContent='\u2716 Error: File does not exist or is empty')},s.send(null)})},document.addEventListener('DOMContentLoaded',self.Prism.fileHighlight))}()});Prism.languages.python={"triple-quoted-string":{pattern:/"""[\s\S]+?"""|'''[\s\S]+?'''/,alias:'string'},comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0},string:{pattern:/("|')(?:\\\\|\\?[^\\\r\n])*?\1/,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_][a-zA-Z0-9_]*(?=\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)[a-z0-9_]+/i,lookbehind:!0},keyword:/\b(?:as|assert|async|await|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|pass|print|raise|return|try|while|with|yield)\b/,boolean:/\b(?:True|False)\b/,number:/\b-?(?:0[bo])?(?:(?:\d|0x[\da-f])[\da-f]*\.?\d*|\.\d+)(?:e[+-]?\d+)?j?\b/i,operator:/[-+%=]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]|\b(?:or|and|not)\b/,punctuation:/[{}[\];(),.:]/},Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\w\W]*?\*\//,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0},{pattern:/(^|[^\\])#.*/,lookbehind:!0}],string:{pattern:/(["'])(\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[a-z0-9_\.\\]+/i,lookbehind:!0,inside:{punctuation:/(\.|\\)/}},keyword:/\b(if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(true|false)\b/,function:/[a-z\.0-9_]+(?=\()/i,number:/\b-?(?:0x[\da-f]+|\d*\.?\d+(?:e[+-]?\d+)?)\b/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/},Prism.languages.lua={comment:/^#!.+|--(?:\[(=*)\[[\s\S]*?\]\1\]|.*)/m,string:{pattern:/(["'])(?:(?!\1)[^\\\r\n]|\\z(?:\r\n|\s)|\\(?:\r\n|[\s\S]))*\1|\[(=*)\[[\s\S]*?\]\2\]/,greedy:!0},number:/\b0x[a-f\d]+\.?[a-f\d]*(?:p[+-]?\d+)?\b|\b\d+(?:\.\B|\.?\d*(?:e[+-]?\d+)?\b)|\B\.\d+(?:e[+-]?\d+)?\b/i,keyword:/\b(?:and|break|do|else|elseif|end|false|for|function|goto|if|in|local|nil|not|or|repeat|return|then|true|until|while)\b/,function:/(?!\d)\w+(?=\s*(?:[({]))/,operator:[/[-+*%^&|#]|\/\/?|<[<=]?|>[>=]?|[=~]=?/,{pattern:/(^|[^.])\.\.(?!\.)/,lookbehind:!0}],punctuation:/[\[\](){},;]|\.+|:+/},function(e){var t={variable:[{pattern:/\$?\(\([\w\W]+?\)\)/,inside:{variable:[{pattern:/(^\$\(\([\w\W]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b-?(?:0x[\dA-Fa-f]+|\d*\.?\d+(?:[Ee]-?\d+)?)\b/,operator:/--?|-=|\+\+?|\+=|!=?|~|\*\*?|\*=|\/=?|%=?|<<=?|>>=?|<=?|>=?|==?|&&?|&=|\^=?|\|\|?|\|=|\?|:/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\([^)]+\)|`[^`]+`/,inside:{variable:/^\$\(|^`|\)$|`$/}},/\$(?:[a-z0-9_#\?\*!@]+|\{[^}]+\})/i]};e.languages.bash={shebang:{pattern:/^#!\s*\/bin\/bash|^#!\s*\/bin\/sh/,alias:'important'},comment:{pattern:/(^|[^"{\\])#.*/,lookbehind:!0},string:[{pattern:/((?:^|[^<])<<\s*)(?:"|')?(\w+?)(?:"|')?\s*\r?\n(?:[\s\S])*?\r?\n\2/g,lookbehind:!0,greedy:!0,inside:t},{pattern:/(["'])(?:\\\\|\\?[^\\])*?\1/g,greedy:!0,inside:t}],variable:t.variable,function:{pattern:/(^|\s|;|\||&)(?:alias|apropos|apt-get|aptitude|aspell|awk|basename|bash|bc|bg|builtin|bzip2|cal|cat|cd|cfdisk|chgrp|chmod|chown|chroot|chkconfig|cksum|clear|cmp|comm|command|cp|cron|crontab|csplit|cut|date|dc|dd|ddrescue|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|du|egrep|eject|enable|env|ethtool|eval|exec|expand|expect|export|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|getopts|git|grep|groupadd|groupdel|groupmod|groups|gzip|hash|head|help|hg|history|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|jobs|join|kill|killall|less|link|ln|locate|logname|logout|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|make|man|mkdir|mkfifo|mkisofs|mknod|more|most|mount|mtools|mtr|mv|mmv|nano|netstat|nice|nl|nohup|notify-send|npm|nslookup|open|op|passwd|paste|pathchk|ping|pkill|popd|pr|printcap|printenv|printf|ps|pushd|pv|pwd|quota|quotacheck|quotactl|ram|rar|rcp|read|readarray|readonly|reboot|rename|renice|remsync|rev|rm|rmdir|rsync|screen|scp|sdiff|sed|seq|service|sftp|shift|shopt|shutdown|sleep|slocate|sort|source|split|ssh|stat|strace|su|sudo|sum|suspend|sync|tail|tar|tee|test|time|timeout|times|touch|top|traceroute|trap|tr|tsort|tty|type|ulimit|umask|umount|unalias|uname|unexpand|uniq|units|unrar|unshar|uptime|useradd|userdel|usermod|users|uuencode|uudecode|v|vdir|vi|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yes|zip)(?=$|\s|;|\||&)/,lookbehind:!0},keyword:{pattern:/(^|\s|;|\||&)(?:let|:|\.|if|then|else|elif|fi|for|break|continue|while|in|case|function|select|do|done|until|echo|exit|return|set|declare)(?=$|\s|;|\||&)/,lookbehind:!0},boolean:{pattern:/(^|\s|;|\||&)(?:true|false)(?=$|\s|;|\||&)/,lookbehind:!0},operator:/&&?|\|\|?|==?|!=?|<<<?|>>|<=?|>=?|=~/,punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];]/};var n=t.variable[1].inside;n['function']=e.languages.bash['function'],n.keyword=e.languages.bash.keyword,n.boolean=e.languages.bash.boolean,n.operator=e.languages.bash.operator,n.punctuation=e.languages.bash.punctuation}(Prism),Prism.languages.go=Prism.languages.extend('clike',{keyword:/\b(break|case|chan|const|continue|default|defer|else|fallthrough|for|func|go(to)?|if|import|interface|map|package|range|return|select|struct|switch|type|var)\b/,builtin:/\b(bool|byte|complex(64|128)|error|float(32|64)|rune|string|u?int(8|16|32|64|)|uintptr|append|cap|close|complex|copy|delete|imag|len|make|new|panic|print(ln)?|real|recover)\b/,boolean:/\b(_|iota|nil|true|false)\b/,operator:/[*\/%^!=]=?|\+[=+]?|-[=-]?|\|[=|]?|&(?:=|&|\^=?)?|>(?:>=?|=)?|<(?:<=?|=|-)?|:=|\.\.\./,number:/\b(-?(0x[a-f\d]+|(\d+\.?\d*|\.\d+)(e[-+]?\d+)?)i?)\b/i,string:/("|'|`)(\\?.|\r|\n)*?\1/}),delete Prism.languages.go['class-name'],Prism.languages.markdown=Prism.languages.extend('markup',{}),Prism.languages.insertBefore('markdown','prolog',{blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:'punctuation'},code:[{pattern:/^(?: {4}|\t).+/m,alias:'keyword'},{pattern:/``.+?``|`[^`\n]+`/,alias:'keyword'}],title:[{pattern:/\w+.*(?:\r?\n|\r)(?:==+|--+)/,alias:'important',inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#+.+/m,lookbehind:!0,alias:'important',inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])([\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:'punctuation'},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:'punctuation'},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:'url'},bold:{pattern:/(^|[^\\])(\*\*|__)(?:(?:\r?\n|\r)(?!\r?\n|\r)|.)+?\2/,lookbehind:!0,inside:{punctuation:/^\*\*|^__|\*\*$|__$/}},italic:{pattern:/(^|[^\\])([*_])(?:(?:\r?\n|\r)(?!\r?\n|\r)|.)+?\2/,lookbehind:!0,inside:{punctuation:/^[*_]|[*_]$/}},url:{pattern:/!?\[[^\]]+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)| ?\[[^\]\n]*\])/,inside:{variable:{pattern:/(!?\[)[^\]]+(?=\]$)/,lookbehind:!0},string:{pattern:/"(?:\\.|[^"\\])*"(?=\)$)/}}}}),Prism.languages.markdown.bold.inside.url=Prism.util.clone(Prism.languages.markdown.url),Prism.languages.markdown.italic.inside.url=Prism.util.clone(Prism.languages.markdown.url),Prism.languages.markdown.bold.inside.italic=Prism.util.clone(Prism.languages.markdown.italic),Prism.languages.markdown.italic.inside.bold=Prism.util.clone(Prism.languages.markdown.bold),Prism.languages.julia={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0},string:/"""[\s\S]+?"""|'''[\s\S]+?'''|("|')(\\?.)*?\1/,keyword:/\b(abstract|baremodule|begin|bitstype|break|catch|ccall|const|continue|do|else|elseif|end|export|finally|for|function|global|if|immutable|import|importall|let|local|macro|module|print|println|quote|return|try|type|typealias|using|while)\b/,boolean:/\b(true|false)\b/,number:/\b-?(0[box])?(?:[\da-f]+\.?\d*|\.\d+)(?:[efp][+-]?\d+)?j?\b/i,operator:/\+=?|-=?|\*=?|\/[\/=]?|\\=?|\^=?|%=?|÷=?|!=?=?|&=?|\|[=>]?|\$=?|<(?:<=?|[=:])?|>(?:=|>>?=?)?|==?=?|[~≠≤≥]/,punctuation:/[{}[\];(),.:]/};const ja=ea('d-code',`
<style>

code {
  white-space: nowrap;
  background: rgba(0, 0, 0, 0.04);
  border-radius: 2px;
  padding: 4px 7px;
  font-size: 15px;
  color: rgba(0, 0, 0, 0.6);
}

pre code {
  display: block;
  border-left: 2px solid rgba(0, 0, 0, .1);
  padding: 0 0 0 36px;
}

${'/**\n * prism.js default theme for JavaScript, CSS and HTML\n * Based on dabblet (http://dabblet.com)\n * @author Lea Verou\n */\n\ncode[class*="language-"],\npre[class*="language-"] {\n\tcolor: black;\n\tbackground: none;\n\ttext-shadow: 0 1px white;\n\tfont-family: Consolas, Monaco, \'Andale Mono\', \'Ubuntu Mono\', monospace;\n\ttext-align: left;\n\twhite-space: pre;\n\tword-spacing: normal;\n\tword-break: normal;\n\tword-wrap: normal;\n\tline-height: 1.5;\n\n\t-moz-tab-size: 4;\n\t-o-tab-size: 4;\n\ttab-size: 4;\n\n\t-webkit-hyphens: none;\n\t-moz-hyphens: none;\n\t-ms-hyphens: none;\n\thyphens: none;\n}\n\npre[class*="language-"]::-moz-selection, pre[class*="language-"] ::-moz-selection,\ncode[class*="language-"]::-moz-selection, code[class*="language-"] ::-moz-selection {\n\ttext-shadow: none;\n\tbackground: #b3d4fc;\n}\n\npre[class*="language-"]::selection, pre[class*="language-"] ::selection,\ncode[class*="language-"]::selection, code[class*="language-"] ::selection {\n\ttext-shadow: none;\n\tbackground: #b3d4fc;\n}\n\n@media print {\n\tcode[class*="language-"],\n\tpre[class*="language-"] {\n\t\ttext-shadow: none;\n\t}\n}\n\n/* Code blocks */\npre[class*="language-"] {\n\tpadding: 1em;\n\tmargin: .5em 0;\n\toverflow: auto;\n}\n\n:not(pre) > code[class*="language-"],\npre[class*="language-"] {\n\tbackground: #f5f2f0;\n}\n\n/* Inline code */\n:not(pre) > code[class*="language-"] {\n\tpadding: .1em;\n\tborder-radius: .3em;\n\twhite-space: normal;\n}\n\n.token.comment,\n.token.prolog,\n.token.doctype,\n.token.cdata {\n\tcolor: slategray;\n}\n\n.token.punctuation {\n\tcolor: #999;\n}\n\n.namespace {\n\topacity: .7;\n}\n\n.token.property,\n.token.tag,\n.token.boolean,\n.token.number,\n.token.constant,\n.token.symbol,\n.token.deleted {\n\tcolor: #905;\n}\n\n.token.selector,\n.token.attr-name,\n.token.string,\n.token.char,\n.token.builtin,\n.token.inserted {\n\tcolor: #690;\n}\n\n.token.operator,\n.token.entity,\n.token.url,\n.language-css .token.string,\n.style .token.string {\n\tcolor: #a67f59;\n\tbackground: hsla(0, 0%, 100%, .5);\n}\n\n.token.atrule,\n.token.attr-value,\n.token.keyword {\n\tcolor: #07a;\n}\n\n.token.function {\n\tcolor: #DD4A68;\n}\n\n.token.regex,\n.token.important,\n.token.variable {\n\tcolor: #e90;\n}\n\n.token.important,\n.token.bold {\n\tfont-weight: bold;\n}\n.token.italic {\n\tfont-style: italic;\n}\n\n.token.entity {\n\tcursor: help;\n}\n'}
</style>

<code id="code-container"></code>

`);class Oa extends Gn(ja(HTMLElement)){renderContent(){if(this.languageName=this.getAttribute('language'),!this.languageName)return void console.warn('You need to provide a language attribute to your <d-code> block to let us know how to highlight your code; e.g.:\n <d-code language="python">zeros = np.zeros(shape)</d-code>.');const e=Aa.languages[this.languageName];if(void 0==e)return void console.warn(`Distill does not yet support highlighting your code block in "${this.languageName}'.`);let t=this.textContent;const n=this.shadowRoot.querySelector('#code-container');if(this.hasAttribute('block')){t=t.replace(/\n/,'');const e=t.match(/\s*/);if(t=t.replace(new RegExp('\n'+e,'g'),'\n'),t=t.trim(),n.parentNode instanceof ShadowRoot){const e=document.createElement('pre');this.shadowRoot.removeChild(n),e.appendChild(n),this.shadowRoot.appendChild(e)}}n.className=`language-${this.languageName}`,n.innerHTML=Aa.highlight(t,e)}}const qa=ea('d-footnote',`
<style>

d-math[block] {
  display: block;
}

:host {
}

sup {
  line-height: 1em;
  font-size: 0.75em;
  position: relative;
  top: -.5em;
  vertical-align: baseline;
}

span {
  color: hsla(206, 90%, 20%, 0.7);
  cursor: default;
}

.container {
  position: absolute;
  width: 100%;
  left: 0;
  z-index: 10000;
}

.footnote-container {
  padding: 10px;
}

</style>

<d-hover-box>
  <div class="footnote-container">
    <slot id="slot"></slot>
  </div>
</d-hover-box>

<sup>
  <span id="fn-" data-hover-ref=""></span>
</sup>

`);class Ra extends qa(HTMLElement){constructor(){super();const e=new MutationObserver(this.notify);e.observe(this,{childList:!0,characterData:!0,subtree:!0})}notify(){const e={detail:this,bubbles:!0},t=new CustomEvent('onFootnoteChanged',e);document.dispatchEvent(t)}connectedCallback(){this.hoverBox=this.root.querySelector('d-hover-box'),window.customElements.whenDefined('d-hover-box').then(()=>{this.hoverBox.listen(this)}),Ra.currentFootnoteId+=1;const e=Ra.currentFootnoteId.toString();this.root.host.id='d-footnote-'+e;const t='dt-fn-hover-box-'+e;this.hoverBox.id=t;const n=this.root.querySelector('#fn-');n.setAttribute('id','fn-'+e),n.setAttribute('data-hover-ref',t),n.textContent=e}}Ra.currentFootnoteId=0;const Na=ea('d-footnote-list',`
<style>

d-footnote-list {
  contain: layout style;
}

d-footnote-list > * {
  grid-column: text;
}

d-footnote-list a.footnote-backlink {
  color: rgba(0,0,0,0.3);
  padding-left: 0.5em;
}

</style>

<h3>Footnotes</h3>
<ol></ol>
`,!1);class Pa extends Na(HTMLElement){connectedCallback(){super.connectedCallback(),this.list=this.root.querySelector('ol'),this.root.style.display='none'}set footnotes(e){if(this.list.innerHTML='',e.length){this.root.style.display='';for(const t of e){const e=document.createElement('li');e.id=t.id+'-listing',e.innerHTML=t.innerHTML;const n=document.createElement('a');n.setAttribute('class','footnote-backlink'),n.textContent='[\u21A9]',n.href='#'+t.id,e.appendChild(n),this.list.appendChild(e)}}else this.root.style.display='none'}}const Fa=ea('d-hover-box',`
<style>

:host {
  position: absolute;
  width: 100%;
  left: 0;
  z-index: 10000;
  display: none;
}

.container {
  position: relative;
  width: 704px;
  max-width: 100vw;
  margin: 0 auto;
}

.panel {
  position: absolute;
  font-size: 1rem;
  line-height: 1.5em;
  top: 0;
  left: 0;
  width: 100%;
  border: 1px solid rgba(0, 0, 0, 0.1);
  background-color: rgb(250, 250, 250);
  box-shadow: 0 0 7px rgba(0, 0, 0, 0.1);
  border-radius: 4px;
  box-sizing: border-box;
}

</style>

<div class="container">
  <div class="panel">
    <slot></slot>
  </div>
</div>
`);class Ia extends Fa(HTMLElement){constructor(){super()}connectedCallback(){}listen(e){this.bindDivEvents(this),this.bindTriggerEvents(e)}bindDivEvents(e){e.addEventListener('mouseover',()=>{this.visible||this.showAtNode(e),this.stopTimeout()}),e.addEventListener('mouseout',()=>{this.extendTimeout(500)}),e.addEventListener('touchstart',(e)=>{e.stopPropagation()},{passive:!0}),document.body.addEventListener('touchstart',()=>{this.hide()},{passive:!0})}bindTriggerEvents(e){e.addEventListener('mouseover',()=>{this.visible||this.showAtNode(e),this.stopTimeout()}),e.addEventListener('mouseout',()=>{this.extendTimeout(300)}),e.addEventListener('touchstart',(t)=>{this.visible?this.hide():this.showAtNode(e),t.stopPropagation()},{passive:!0})}show(){this.visible=!0,this.style.display='block'}showAtNode(e){const t=e.getBoundingClientRect();this.show([t.right,t.bottom])}hide(){this.visible=!1,this.style.display='none',this.stopTimeout()}stopTimeout(){this.timeout&&clearTimeout(this.timeout)}extendTimeout(e){this.stopTimeout(),this.timeout=setTimeout(()=>{this.hide()},e)}}class za extends HTMLElement{static get is(){return'd-title'}}const Ha=ea('d-references',`
<style>
d-references {
  display: block;
}
</style>
`,!1);class Ya extends Ha(HTMLElement){}class Ba extends HTMLElement{static get is(){return'd-toc'}connectedCallback(){this.getAttribute('prerendered')||(window.onload=()=>{const e=document.querySelector('d-article'),t=e.querySelectorAll('h2, h3');x(this,t)})}}class Wa extends HTMLElement{static get is(){return'd-figure'}static get readyQueue(){return Wa._readyQueue||(Wa._readyQueue=[]),Wa._readyQueue}static addToReadyQueue(e){-1===Wa.readyQueue.indexOf(e)&&(Wa.readyQueue.push(e),Wa.runReadyQueue())}static runReadyQueue(){const e=Wa.readyQueue.sort((e,t)=>e._seenOnScreen-t._seenOnScreen).filter((e)=>!e._ready).pop();e&&(e.ready(),requestAnimationFrame(Wa.runReadyQueue))}constructor(){super(),this._ready=!1,this._onscreen=!1,this._offscreen=!0}connectedCallback(){this.loadsWhileScrolling=this.hasAttribute('loadsWhileScrolling'),Wa.marginObserver.observe(this),Wa.directObserver.observe(this)}disconnectedCallback(){Wa.marginObserver.unobserve(this),Wa.directObserver.unobserve(this)}static get marginObserver(){if(!Wa._marginObserver){const e=window.innerHeight,t=Fn(2*e),n=Wa.didObserveMarginIntersection,a=new IntersectionObserver(n,{rootMargin:t+'px 0px '+t+'px 0px',threshold:0.01});Wa._marginObserver=a}return Wa._marginObserver}static didObserveMarginIntersection(e){for(const t of e){const e=t.target;t.isIntersecting&&!e._ready&&Wa.addToReadyQueue(e)}}static get directObserver(){return Wa._directObserver||(Wa._directObserver=new IntersectionObserver(Wa.didObserveDirectIntersection,{rootMargin:'0px',threshold:[0,1]})),Wa._directObserver}static didObserveDirectIntersection(e){for(const t of e){const e=t.target;t.isIntersecting?(e._seenOnScreen=new Date,e._offscreen&&e.onscreen()):e._onscreen&&e.offscreen()}}addEventListener(e,t){super.addEventListener(e,t),'ready'===e&&-1!==Wa.readyQueue.indexOf(this)&&(this._ready=!1,Wa.runReadyQueue()),'onscreen'===e&&this.onscreen()}ready(){this._ready=!0,Wa.marginObserver.unobserve(this);const e=new CustomEvent('ready');this.dispatchEvent(e)}onscreen(){this._onscreen=!0,this._offscreen=!1;const e=new CustomEvent('onscreen');this.dispatchEvent(e)}offscreen(){this._onscreen=!1,this._offscreen=!0;const e=new CustomEvent('offscreen');this.dispatchEvent(e)}}if('undefined'!=typeof window){Wa.isScrolling=!1;let e;window.addEventListener('scroll',()=>{Wa.isScrolling=!0,clearTimeout(e),e=setTimeout(()=>{Wa.isScrolling=!1,Wa.runReadyQueue()},500)},!0)}const Va=ea('d-interstitial',`
<style>

.overlay {
  position: fixed;
  width: 100%;
  height: 100%;
  top: 0;
  left: 0;
  background: white;

  opacity: 1;
  visibility: visible;

  display: flex;
  flex-flow: column;
  justify-content: center;
  z-index: 2147483647 /* MaxInt32 */

}

.container {
  position: relative;
  margin-left: auto;
  margin-right: auto;
  max-width: 420px;
  padding: 2em;
}

h1 {
  text-decoration: underline;
  text-decoration-color: hsl(0,100%,40%);
  -webkit-text-decoration-color: hsl(0,100%,40%);
  margin-bottom: 1em;
  line-height: 1.5em;
}

input[type="password"] {
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  -webkit-box-shadow: none;
  -moz-box-shadow: none;
  box-shadow: none;
  -webkit-border-radius: none;
  -moz-border-radius: none;
  -ms-border-radius: none;
  -o-border-radius: none;
  border-radius: none;
  outline: none;

  font-size: 18px;
  background: none;
  width: 25%;
  padding: 10px;
  border: none;
  border-bottom: solid 2px #999;
  transition: border .3s;
}

input[type="password"]:focus {
  border-bottom: solid 2px #333;
}

input[type="password"].wrong {
  border-bottom: solid 2px hsl(0,100%,40%);
}

p small {
  color: #888;
}

.logo {
  position: relative;
  font-size: 1.5em;
  margin-bottom: 3em;
}

.logo svg {
  width: 36px;
  position: relative;
  top: 6px;
  margin-right: 2px;
}

.logo svg path {
  fill: none;
  stroke: black;
  stroke-width: 2px;
}

</style>

<div class="overlay">
  <div class="container">
    <h1>This article is in review.</h1>
    <p>Do not share this URL or the contents of this article. Thank you!</p>
    <input id="interstitial-password-input" type="password" name="password" autofocus/>
    <p><small>Enter the password we shared with you as part of the review process to view the article.</small></p>
  </div>
</div>
`);class $a extends Va(HTMLElement){connectedCallback(){if(this.shouldRemoveSelf())this.parentElement.removeChild(this);else{const e=this.root.querySelector('#interstitial-password-input');e.oninput=(e)=>this.passwordChanged(e)}}passwordChanged(e){const t=e.target.value;t===this.password&&(console.log('Correct password entered.'),this.parentElement.removeChild(this),'undefined'!=typeof Storage&&(console.log('Saved that correct password was entered.'),localStorage.setItem(this.localStorageIdentifier(),'true')))}shouldRemoveSelf(){return window&&window.location.hostname==='distill.pub'?(console.warn('Interstitial found on production, hiding it.'),!0):'undefined'!=typeof Storage&&'true'===localStorage.getItem(this.localStorageIdentifier())&&(console.log('Loaded that correct password was entered before; skipping interstitial.'),!0)}localStorageIdentifier(){return'distill-drafts'+(window?window.location.pathname:'-')+'interstitial-password-correct'}}var Ka=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN},Xa=function(e){return 1===e.length&&(e=k(e)),{left:function(t,n,a,i){for(null==a&&(a=0),null==i&&(i=t.length);a<i;){var d=a+i>>>1;0>e(t[d],n)?a=d+1:i=d}return a},right:function(t,n,a,i){for(null==a&&(a=0),null==i&&(i=t.length);a<i;){var d=a+i>>>1;0<e(t[d],n)?i=d:a=d+1}return a}}}(Ka),Ja=Xa.right,Qa=function(e,t,a){e=+e,t=+t,a=2>(i=arguments.length)?(t=e,e=0,1):3>i?1:+a;for(var d=-1,i=0|Nn(0,Pn((t-e)/a)),n=Array(i);++d<i;)n[d]=e+d*a;return n},Za=7.0710678118654755,Ga=3.1622776601683795,ei=1.4142135623730951,ti=function(e,t,a){var d,r,n,o,l=-1;if(t=+t,e=+e,a=+a,e===t&&0<a)return[e];if((d=t<e)&&(r=e,e=t,t=r),0===(o=v(e,t,a))||!isFinite(o))return[];if(0<o)for(e=Pn(e/o),t=Fn(t/o),n=Array(r=Pn(t-e+1));++l<r;)n[l]=(e+l)*o;else for(e=Fn(e*o),t=Pn(t*o),n=Array(r=Pn(e-t+1));++l<r;)n[l]=(e-l)/o;return d&&n.reverse(),n},ni=Array.prototype,ai=ni.map,ii=ni.slice,di=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e},ri=0.7,oi=1/ri,li=/^#([0-9a-f]{3})$/,si=/^#([0-9a-f]{6})$/,ci=/^rgb\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*\)$/,ui=/^rgb\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*\)$/,pi=/^rgba\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,gi=/^rgba\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,fi=/^hsl\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*\)$/,bi=/^hsla\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,hi={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};di(S,M,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+''}}),di(q,O,_(S,{brighter:function(e){return e=null==e?oi:On(oi,e),new q(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?ri:On(ri,e),new q(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&255>=this.r&&0<=this.g&&255>=this.g&&0<=this.b&&255>=this.b&&0<=this.opacity&&1>=this.opacity},toString:function(){var e=this.opacity;return e=isNaN(e)?1:Nn(0,In(1,e)),(1===e?'rgb(':'rgba(')+Nn(0,In(255,An(this.r)||0))+', '+Nn(0,In(255,An(this.g)||0))+', '+Nn(0,In(255,An(this.b)||0))+(1===e?')':', '+e+')')}})),di(P,function(e,t,n,a){return 1===arguments.length?N(e):new P(e,t,n,null==a?1:a)},_(S,{brighter:function(e){return e=null==e?oi:On(oi,e),new P(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?ri:On(ri,e),new P(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(0>this.h),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,a=n+(0.5>n?n:1-n)*t,i=2*n-a;return new q(F(240<=e?e-240:e+120,i,a),F(e,i,a),F(120>e?e+240:e-120,i,a),this.opacity)},displayable:function(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity}}));var mi=Un/180,yi=180/Un,xi=18,Kn=0.95047,Xn=1,Yn=1.08883,Zn=4/29,ki=6/29,vi=3*ki*ki,wi=ki*ki*ki;di(H,function(e,t,n,a){return 1===arguments.length?I(e):new H(e,t,n,null==a?1:a)},_(S,{brighter:function(e){return new H(this.l+xi*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new H(this.l-xi*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return e=Xn*W(e),t=Kn*W(t),n=Yn*W(n),new q(V(3.2404542*t-1.5371385*e-0.4985314*n),V(-0.969266*t+1.8760108*e+0.041556*n),V(0.0556434*t-0.2040259*e+1.0572252*n),this.opacity)}})),di(K,function(e,t,n,a){return 1===arguments.length?z(e):new K(e,t,n,null==a?1:a)},_(S,{brighter:function(e){return new K(this.h,this.c,this.l+xi*(null==e?1:e),this.opacity)},darker:function(e){return new K(this.h,this.c,this.l-xi*(null==e?1:e),this.opacity)},rgb:function(){return I(this).rgb()}}));var Ci=-0.14861,A=+1.78277,B=-0.29227,C=-0.90649,D=+1.97294,E=D*C,_i=D*A,Ti=A*B-C*Ci;di(Q,J,_(S,{brighter:function(e){return e=null==e?oi:On(oi,e),new Q(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?ri:On(ri,e),new Q(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*mi,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),a=Ln(e),i=Dn(e);return new q(255*(t+n*(Ci*a+A*i)),255*(t+n*(B*a+C*i)),255*(t+n*(D*a)),this.opacity)}}));var Si=function(e){return function(){return e}},Mi=function e(t){function n(e,t){var n=a((e=O(e)).r,(t=O(t)).r),i=a(e.g,t.g),d=a(e.b,t.b),r=te(e.opacity,t.opacity);return function(a){return e.r=n(a),e.g=i(a),e.b=d(a),e.opacity=r(a),e+''}}var a=ee(t);return n.gamma=e,n}(1),Ei=function(e,t){var n,a=t?t.length:0,i=e?In(a,e.length):0,d=Array(a),r=Array(a);for(n=0;n<i;++n)d[n]=qi(e[n],t[n]);for(;n<a;++n)r[n]=t[n];return function(e){for(n=0;n<i;++n)r[n]=d[n](e);return r}},Di=function(e,n){var i=new Date;return e=+e,n-=e,function(a){return i.setTime(e+n*a),i}},Li=function(e,n){return e=+e,n-=e,function(a){return e+n*a}},Ui=function(e,t){var n,d={},i={};for(n in(null===e||'object'!=typeof e)&&(e={}),(null===t||'object'!=typeof t)&&(t={}),t)n in e?d[n]=qi(e[n],t[n]):i[n]=t[n];return function(e){for(n in d)i[n]=d[n](e);return i}},Ai=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ji=new RegExp(Ai.source,'g'),Oi=function(e,n){var t,a,d,r=Ai.lastIndex=ji.lastIndex=0,o=-1,l=[],s=[];for(e+='',n+='';(t=Ai.exec(e))&&(a=ji.exec(n));)(d=a.index)>r&&(d=n.slice(r,d),l[o]?l[o]+=d:l[++o]=d),(t=t[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,s.push({i:o,x:Li(t,a)})),r=ji.lastIndex;return r<n.length&&(d=n.slice(r),l[o]?l[o]+=d:l[++o]=d),2>l.length?s[0]?ae(s[0].x):ne(n):(n=s.length,function(e){for(var t,a=0;a<n;++a)l[(t=s[a]).i]=t.x(e);return l.join('')})},qi=function(e,n){var a,i=typeof n;return null==n||'boolean'==i?Si(n):('number'==i?Li:'string'==i?(a=M(n))?(n=a,Mi):Oi:n instanceof M?Mi:n instanceof Date?Di:Array.isArray(n)?Ei:'function'!=typeof n.valueOf&&'function'!=typeof n.toString||isNaN(n)?Ui:Li)(e,n)},Ri=function(e,n){return e=+e,n-=e,function(a){return An(e+n*a)}};ie(function(e,t){var n=t-e;return n?Z(e,180<n||-180>n?n-360*An(n/360):n):Si(isNaN(e)?t:e)});var Ni,Pi=ie(te),Fi=function(e){return function(){return e}},Ii=function(e){return+e},zi=[0,1],Hi=function(e,t){if(0>(n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf('e')))return null;var n,a=e.slice(0,n);return[1<a.length?a[0]+a.slice(2):a,+e.slice(n+1)]},Yi=function(e){return e=Hi(jn(e)),e?e[1]:NaN},Bi=function(e,n){return function(a,d){for(var r=a.length,i=[],t=0,o=e[0],l=0;0<r&&0<o&&(l+o+1>d&&(o=Nn(1,d-l)),i.push(a.substring(r-=o,r+o)),!((l+=o+1)>d));)o=e[t=(t+1)%e.length];return i.reverse().join(n)}},Wi=function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}},Vi=function(e,t){var n=Hi(e,t);if(!n)return e+'';var a=n[0],i=n[1];return 0>i?'0.'+Array(-i).join('0')+a:a.length>i+1?a.slice(0,i+1)+'.'+a.slice(i+1):a+Array(i-a.length+2).join('0')},$i={"":function(e,t){e=e.toPrecision(t);out:for(var a,d=e.length,n=1,i=-1;n<d;++n)switch(e[n]){case'.':i=a=n;break;case'0':0===i&&(i=n),a=n;break;case'e':break out;default:0<i&&(i=0);}return 0<i?e.slice(0,i)+e.slice(a+1):e},"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return An(e).toString(2)},c:function(e){return e+''},d:function(e){return An(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return An(e).toString(8)},p:function(e,t){return Vi(100*e,t)},r:Vi,s:function(e,t){var a=Hi(e,t);if(!a)return e+'';var r=a[0],o=a[1],l=o-(Ni=3*Nn(-8,In(8,Fn(o/3))))+1,i=r.length;return l===i?r:l>i?r+Array(l-i+1).join('0'):0<l?r.slice(0,l)+'.'+r.slice(l):'0.'+Array(1-l).join('0')+Hi(e,Nn(0,t+l-1))[0]},X:function(e){return An(e).toString(16).toUpperCase()},x:function(e){return An(e).toString(16)}},Ki=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;ge.prototype=fe.prototype,fe.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?'0':'')+(null==this.width?'':Nn(1,0|this.width))+(this.comma?',':'')+(null==this.precision?'':'.'+Nn(0,0|this.precision))+this.type};var re,Xi,Ji,Qi=function(e){return e},Zi=['y','z','a','f','p','n','\xB5','m','','k','M','G','T','P','E','Z','Y'],Gi=function(e){function t(e){function t(e){var t,i,n,c=h,k=m;if('c'===b)k=y(e)+k,e='';else{e=+e;var v=0>e;if(e=y(jn(e),f),v&&0==+e&&(v=!1),c=(v?'('===s?s:'-':'-'===s||'('===s?'':s)+c,k=k+('s'===b?Zi[8+Ni/3]:'')+(v&&'('===s?')':''),x)for(t=-1,i=e.length;++t<i;)if(n=e.charCodeAt(t),48>n||57<n){k=(46===n?d+e.slice(t+1):e.slice(t))+k,e=e.slice(0,t);break}}g&&!u&&(e=a(e,Infinity));var w=c.length+e.length+k.length,C=w<p?Array(p-w+1).join(o):'';switch(g&&u&&(e=a(C+e,C.length?p-k.length:Infinity),C=''),l){case'<':e=c+e+k+C;break;case'=':e=c+C+e+k;break;case'^':e=C.slice(0,w=C.length>>1)+c+e+k+C.slice(w);break;default:e=C+c+e+k;}return r(e)}e=ge(e);var o=e.fill,l=e.align,s=e.sign,c=e.symbol,u=e.zero,p=e.width,g=e.comma,f=e.precision,b=e.type,h='$'===c?n[0]:'#'===c&&/[boxX]/.test(b)?'0'+b.toLowerCase():'',m='$'===c?n[1]:/[%p]/.test(b)?i:'',y=$i[b],x=!b||/[defgprs%]/.test(b);return f=null==f?b?6:12:/[gprs]/.test(b)?Nn(1,In(21,f)):Nn(0,In(20,f)),t.toString=function(){return e+''},t}var a=e.grouping&&e.thousands?Bi(e.grouping,e.thousands):Qi,n=e.currency,d=e.decimal,r=e.numerals?Wi(e.numerals):Qi,i=e.percent||'%';return{format:t,formatPrefix:function(n,a){var i=t((n=ge(n),n.type='f',n)),d=3*Nn(-8,In(8,Fn(Yi(a)/3))),r=On(10,-d),o=Zi[8+d/3];return function(e){return i(r*e)+o}}}};(function(e){return re=Gi(e),Xi=re.format,Ji=re.formatPrefix,re})({decimal:'.',thousands:',',grouping:[3],currency:['$','']});var ed=function(e){return Nn(0,-Yi(jn(e)))},td=function(e,t){return Nn(0,3*Nn(-8,In(8,Fn(Yi(t)/3)))-Yi(jn(e)))},nd=function(e,t){return e=jn(e),t=jn(t)-e,Nn(0,Yi(t)-Yi(e))+1},ad=function(e,t,n){var a,i=e[0],d=e[e.length-1],r=w(i,d,null==t?10:t);switch(n=ge(null==n?',f':n),n.type){case's':{var o=Nn(jn(i),jn(d));return null!=n.precision||isNaN(a=td(r,o))||(n.precision=a),Ji(n,o)}case'':case'e':case'g':case'p':case'r':{null!=n.precision||isNaN(a=nd(r,Nn(jn(i),jn(d))))||(n.precision=a-('e'===n.type));break}case'f':case'%':{null!=n.precision||isNaN(a=ed(r))||(n.precision=a-2*('%'===n.type));break}}return Xi(n)},id=new Date,dd=new Date,rd=me(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});rd.every=function(e){return e=Fn(e),isFinite(e)&&0<e?1<e?me(function(t){t.setTime(Fn(t/e)*e)},function(t,n){t.setTime(+t+n*e)},function(t,n){return(n-t)/e}):rd:null};var od=1e3,ld=6e4,sd=36e5,cd=864e5,ud=6048e5,pd=me(function(e){e.setTime(Fn(e/od)*od)},function(e,t){e.setTime(+e+t*od)},function(e,t){return(t-e)/od},function(e){return e.getUTCSeconds()}),gd=me(function(e){e.setTime(Fn(e/ld)*ld)},function(e,t){e.setTime(+e+t*ld)},function(e,t){return(t-e)/ld},function(e){return e.getMinutes()}),fd=me(function(e){var t=e.getTimezoneOffset()*ld%sd;0>t&&(t+=sd),e.setTime(Fn((+e-t)/sd)*sd+t)},function(e,t){e.setTime(+e+t*sd)},function(e,t){return(t-e)/sd},function(e){return e.getHours()}),bd=me(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ld)/cd},function(e){return e.getDate()-1}),hd=ye(0),md=ye(1),yd=ye(2),xd=ye(3),kd=ye(4),vd=ye(5),wd=ye(6),Cd=me(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())},function(e){return e.getMonth()}),_d=me(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});_d.every=function(e){return isFinite(e=Fn(e))&&0<e?me(function(t){t.setFullYear(Fn(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n*e)}):null};var Td=me(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+t*ld)},function(e,t){return(t-e)/ld},function(e){return e.getUTCMinutes()}),Sd=me(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+t*sd)},function(e,t){return(t-e)/sd},function(e){return e.getUTCHours()}),Md=me(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/cd},function(e){return e.getUTCDate()-1}),Ed=xe(0),Dd=xe(1),Ld=xe(2),Ud=xe(3),Ad=xe(4),jd=xe(5),Od=xe(6),qd=me(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())},function(e){return e.getUTCMonth()}),Rd=me(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});Rd.every=function(e){return isFinite(e=Fn(e))&&0<e?me(function(t){t.setUTCFullYear(Fn(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null};var Nd,Pd,Fd,Id={0:'0',"-":'',_:' '},zd=/^\s*\d+/,Hd=/^%/,Yd=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;(function(e){return Nd=Ce(e),Pd=Nd.utcFormat,Fd=Nd.utcParse,Nd})({dateTime:'%x, %X',date:'%-m/%-d/%Y',time:'%-I:%M:%S %p',periods:['AM','PM'],days:['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],shortDays:['Sun','Mon','Tue','Wed','Thu','Fri','Sat'],months:['January','February','March','April','May','June','July','August','September','October','November','December'],shortMonths:['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec']});var Bd='%Y-%m-%dT%H:%M:%S.%LZ',Wd=Date.prototype.toISOString?function(e){return e.toISOString()}:Pd(Bd),Vd=+new Date('2000-01-01T00:00:00.000Z')?function(e){var t=new Date(e);return isNaN(t)?null:t}:Fd(Bd),$d=function(e){return e.match(/.{6}/g).map(function(e){return'#'+e})};$d('1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf'),$d('393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6'),$d('3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9'),$d('1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5'),Pi(J(300,0.5,0),J(-240,0.5,1));var Kd=Pi(J(-100,0.75,0.35),J(80,1.5,0.8)),Xd=Pi(J(260,0.75,0.35),J(80,1.5,0.8)),Jd=J();mt($d('44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725'));var Qd=mt($d('00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf')),Zd=mt($d('00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4')),Gd=mt($d('0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921')),er={value:function(){}};xt.prototype=yt.prototype={constructor:xt,on:function(e,a){var d,t=this._,r=kt(e+'',t),o=-1,i=r.length;if(2>arguments.length){for(;++o<i;)if((d=(e=r[o]).type)&&(d=vt(t[d],e.name)))return d;return}if(null!=a&&'function'!=typeof a)throw new Error('invalid callback: '+a);for(;++o<i;)if(d=(e=r[o]).type)t[d]=wt(t[d],e.name,a);else if(null==a)for(d in t)t[d]=wt(t[d],e.name,null);return this},copy:function(){var e={},n=this._;for(var a in n)e[a]=n[a].slice();return new xt(e)},call:function(e,a){if(0<(d=arguments.length-2))for(var d,n,t=Array(d),r=0;r<d;++r)t[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error('unknown type: '+e);for(n=this._[e],r=0,d=n.length;r<d;++r)n[r].value.apply(a,t)},apply:function(e,a,d){if(!this._.hasOwnProperty(e))throw new Error('unknown type: '+e);for(var r=this._[e],t=0,i=r.length;t<i;++t)r[t].value.apply(a,d)}};var tr='http://www.w3.org/1999/xhtml',nr={svg:'http://www.w3.org/2000/svg',xhtml:tr,xlink:'http://www.w3.org/1999/xlink',xml:'http://www.w3.org/XML/1998/namespace',xmlns:'http://www.w3.org/2000/xmlns/'},ar=function(e){var t=e+='',n=t.indexOf(':');return 0<=n&&'xmlns'!==(t=e.slice(0,n))&&(e=e.slice(n+1)),nr.hasOwnProperty(t)?{space:nr[t],local:e}:e},ir=function(e){var t=ar(e);return(t.local?_t:Ct)(t)},dr=function(e){return function(){return this.matches(e)}};if('undefined'!=typeof document){var rr=document.documentElement;if(!rr.matches){var or=rr.webkitMatchesSelector||rr.msMatchesSelector||rr.mozMatchesSelector||rr.oMatchesSelector;dr=function(e){return function(){return or.call(this,e)}}}}var lr=dr,sr={},cr=null;if('undefined'!=typeof document){var ur=document.documentElement;'onmouseenter'in ur||(sr={mouseenter:'mouseover',mouseleave:'mouseout'})}var pr=function(){for(var e,t=cr;e=t.sourceEvent;)t=e;return t},gr=function(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var a=n.createSVGPoint();return a.x=t.clientX,a.y=t.clientY,a=a.matrixTransform(e.getScreenCTM().inverse()),[a.x,a.y]}var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]},fr=function(e){var t=pr();return t.changedTouches&&(t=t.changedTouches[0]),gr(e,t)},br=function(e){return null==e?Ut:function(){return this.querySelector(e)}},hr=function(e){return null==e?At:function(){return this.querySelectorAll(e)}},mr=function(e){return Array(e.length)};jt.prototype={constructor:jt,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var yr=function(e){return function(){return e}},xr='$',kr=function(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView};Zt.prototype={add:function(e){var t=this._names.indexOf(e);0>t&&(this._names.push(e),this._node.setAttribute('class',this._names.join(' ')))},remove:function(e){var t=this._names.indexOf(e);0<=t&&(this._names.splice(t,1),this._node.setAttribute('class',this._names.join(' ')))},contains:function(e){return 0<=this._names.indexOf(e)}};var vr=[null];yn.prototype=function(){return new yn([[document.documentElement]],vr)}.prototype={constructor:yn,select:function(e){'function'!=typeof e&&(e=br(e));for(var t=this._groups,a=t.length,d=Array(a),r=0;r<a;++r)for(var o,l,s=t[r],c=s.length,n=d[r]=Array(c),u=0;u<c;++u)(o=s[u])&&(l=e.call(o,o.__data__,u,s))&&('__data__'in o&&(l.__data__=o.__data__),n[u]=l);return new yn(d,this._parents)},selectAll:function(e){'function'!=typeof e&&(e=hr(e));for(var t=this._groups,a=t.length,d=[],r=[],o=0;o<a;++o)for(var l,s=t[o],c=s.length,n=0;n<c;++n)(l=s[n])&&(d.push(e.call(l,l.__data__,n,s)),r.push(l));return new yn(d,r)},filter:function(e){'function'!=typeof e&&(e=lr(e));for(var t=this._groups,a=t.length,d=Array(a),r=0;r<a;++r)for(var o,l=t[r],s=l.length,n=d[r]=[],c=0;c<s;++c)(o=l[c])&&e.call(o,o.__data__,c,l)&&n.push(o);return new yn(d,this._parents)},data:function(e,t){if(!e)return g=Array(this.size()),s=-1,this.each(function(e){g[++s]=e}),g;var n=t?qt:Ot,a=this._parents,i=this._groups;'function'!=typeof e&&(e=yr(e));for(var d=i.length,r=Array(d),o=Array(d),l=Array(d),s=0;s<d;++s){var c=a[s],u=i[s],p=u.length,g=e.call(c,c&&c.__data__,s,a),f=g.length,b=o[s]=Array(f),h=r[s]=Array(f),m=l[s]=Array(p);n(c,u,b,h,m,g,t);for(var y,x,k=0,v=0;k<f;++k)if(y=b[k]){for(k>=v&&(v=k+1);!(x=h[v])&&++v<f;);y._next=x||null}}return r=new yn(r,a),r._enter=o,r._exit=l,r},enter:function(){return new yn(this._enter||this._groups.map(mr),this._parents)},exit:function(){return new yn(this._exit||this._groups.map(mr),this._parents)},merge:function(e){for(var t=this._groups,a=e._groups,d=t.length,r=a.length,o=In(d,r),l=Array(d),s=0;s<o;++s)for(var c,u=t[s],p=a[s],g=u.length,n=l[s]=Array(g),f=0;f<g;++f)(c=u[f]||p[f])&&(n[f]=c);for(;s<d;++s)l[s]=t[s];return new yn(l,this._parents)},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var a,d=e[t],r=d.length-1,i=d[r];0<=--r;)(a=d[r])&&(i&&i!==a.nextSibling&&i.parentNode.insertBefore(a,i),i=a);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=Rt);for(var a=this._groups,d=a.length,r=Array(d),o=0;o<d;++o){for(var l,s=a[o],c=s.length,n=r[o]=Array(c),u=0;u<c;++u)(l=s[u])&&(n[u]=l);n.sort(t)}return new yn(r,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){var e=Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e},node:function(){for(var e=this._groups,t=0,a=e.length;t<a;++t)for(var d,r=e[t],o=0,i=r.length;o<i;++o)if(d=r[o],d)return d;return null},size:function(){var e=0;return this.each(function(){++e}),e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,a=0,d=t.length;a<d;++a)for(var r,o=t[a],l=0,i=o.length;l<i;++l)(r=o[l])&&e.call(r,r.__data__,l,o);return this},attr:function(e,t){var n=ar(e);if(2>arguments.length){var a=this.node();return n.local?a.getAttributeNS(n.space,n.local):a.getAttribute(n)}return this.each((null==t?n.local?Pt:Nt:'function'==typeof t?n.local?Ht:zt:n.local?It:Ft)(n,t))},style:function(e,t,n){return 1<arguments.length?this.each((null==t?Yt:'function'==typeof t?Wt:Bt)(e,t,null==n?'':n)):Vt(this.node(),e)},property:function(e,t){return 1<arguments.length?this.each((null==t?$t:'function'==typeof t?Xt:Kt)(e,t)):this.node()[e]},classed:function(e,t){var a=Jt(e+'');if(2>arguments.length){for(var d=Qt(this.node()),r=-1,i=a.length;++r<i;)if(!d.contains(a[r]))return!1;return!0}return this.each(('function'==typeof t?an:t?tn:nn)(a,t))},text:function(e){return arguments.length?this.each(null==e?dn:('function'==typeof e?on:rn)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?ln:('function'==typeof e?cn:sn)(e)):this.node().innerHTML},raise:function(){return this.each(un)},lower:function(){return this.each(pn)},append:function(e){var t='function'==typeof e?e:ir(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(e,t){var n='function'==typeof e?e:ir(e),a=null==t?gn:'function'==typeof t?t:br(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),a.apply(this,arguments)||null)})},remove:function(){return this.each(fn)},datum:function(e){return arguments.length?this.property('__data__',e):this.node().__data__},on:function(e,a,d){var r,i,t=Mt(e+''),l=t.length;if(2>arguments.length){var n=this.node().__on;if(n)for(var s,o=0,c=n.length;o<c;++o)for(r=0,s=n[o];r<l;++r)if((i=t[r]).type===s.type&&i.name===s.name)return s.value;return}for(n=a?Dt:Et,null==d&&(d=!1),r=0;r<l;++r)this.each(n(t[r],a,d));return this},dispatch:function(e,t){return this.each(('function'==typeof t?mn:hn)(e,t))}};var wr=function(e){return'string'==typeof e?new yn([[document.querySelector(e)]],[document.documentElement]):new yn([[e]],vr)},Cr=function(e,t,a){3>arguments.length&&(a=t,t=pr().changedTouches);for(var d,r=0,i=t?t.length:0;r<i;++r)if((d=t[r]).identifier===a)return gr(e,d);return null},_r=function(){cr.preventDefault(),cr.stopImmediatePropagation()},Tr=function(e){var t=e.document.documentElement,n=wr(e).on('dragstart.drag',_r,!0);'onselectstart'in t?n.on('selectstart.drag',_r,!0):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect='none')},Sr=function(e){return function(){return e}};vn.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var Mr=function(){function e(e){e.on('mousedown.drag',t).filter(b).on('touchstart.drag',i).on('touchmove.drag',d).on('touchend.drag touchcancel.drag',r).style('touch-action','none').style('-webkit-tap-highlight-color','rgba(0,0,0,0)')}function t(){if(!u&&p.apply(this,arguments)){var e=o('mouse',g.apply(this,arguments),fr,this,arguments);e&&(wr(cr.view).on('mousemove.drag',n,!0).on('mouseup.drag',a,!0),Tr(cr.view),xn(),c=!1,l=cr.clientX,s=cr.clientY,e('start'))}}function n(){if(_r(),!c){var e=cr.clientX-l,t=cr.clientY-s;c=e*e+t*t>x}h.mouse('drag')}function a(){wr(cr.view).on('mousemove.drag mouseup.drag',null),kn(cr.view,c),_r(),h.mouse('end')}function i(){if(p.apply(this,arguments)){var e,t,a=cr.changedTouches,i=g.apply(this,arguments),d=a.length;for(e=0;e<d;++e)(t=o(a[e].identifier,i,Cr,this,arguments))&&(xn(),t('start'))}}function d(){var e,t,a=cr.changedTouches,i=a.length;for(e=0;e<i;++e)(t=h[a[e].identifier])&&(_r(),t('drag'))}function r(){var e,t,a=cr.changedTouches,i=a.length;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),e=0;e<i;++e)(t=h[a[e].identifier])&&(xn(),t('end'))}function o(t,a,i,d,r){var o,l,s,c=i(a,t),u=m.copy();return Lt(new vn(e,'beforestart',o,t,y,c[0],c[1],0,0,u),function(){return null!=(cr.subject=o=f.apply(d,r))&&(l=o.x-c[0]||0,s=o.y-c[1]||0,!0)})?function p(g){var f,n=c;switch(g){case'start':h[t]=p,f=y++;break;case'end':delete h[t],--y;case'drag':c=i(a,t),f=y;}Lt(new vn(e,g,o,t,f,c[0]+l,c[1]+s,c[0]-n[0],c[1]-n[1],u),u.apply,u,[g,d,r])}:void 0}var l,s,c,u,p=wn,g=Cn,f=_n,b=Tn,h={},m=yt('start','drag','end'),y=0,x=0;return e.filter=function(t){return arguments.length?(p='function'==typeof t?t:Sr(!!t),e):p},e.container=function(t){return arguments.length?(g='function'==typeof t?t:Sr(t),e):g},e.subject=function(t){return arguments.length?(f='function'==typeof t?t:Sr(t),e):f},e.touchable=function(t){return arguments.length?(b='function'==typeof t?t:Sr(!!t),e):b},e.on=function(){var t=m.on.apply(m,arguments);return t===m?e:t},e.clickDistance=function(t){return arguments.length?(x=(t=+t)*t,e):Mn(x)},e};const Er=ea('d-slider',`
<style>
  :host {
    position: relative;
    display: inline-block;
  }

  :host(:focus) {
    outline: none;
  }

  .background {
    padding: 9px 0;
    color: white;
    position: relative;
  }

  .track {
    height: 3px;
    width: 100%;
    border-radius: 2px;
    background-color: hsla(0, 0%, 0%, 0.2);
  }

  .track-fill {
    position: absolute;
    top: 9px;
    height: 3px;
    border-radius: 4px;
    background-color: hsl(24, 100%, 50%);
  }

  .knob-container {
    position: absolute;
    top: 10px;
  }

  .knob {
    position: absolute;
    top: -6px;
    left: -6px;
    width: 13px;
    height: 13px;
    background-color: hsl(24, 100%, 50%);
    border-radius: 50%;
    transition-property: transform;
    transition-duration: 0.18s;
    transition-timing-function: ease;
  }
  .mousedown .knob {
    transform: scale(1.5);
  }

  .knob-highlight {
    position: absolute;
    top: -6px;
    left: -6px;
    width: 13px;
    height: 13px;
    background-color: hsla(0, 0%, 0%, 0.1);
    border-radius: 50%;
    transition-property: transform;
    transition-duration: 0.18s;
    transition-timing-function: ease;
  }

  .focus .knob-highlight {
    transform: scale(2);
  }

  .ticks {
    position: absolute;
    top: 16px;
    height: 4px;
    width: 100%;
    z-index: -1;
  }

  .ticks .tick {
    position: absolute;
    height: 100%;
    border-left: 1px solid hsla(0, 0%, 0%, 0.2);
  }

</style>

  <div class='background'>
    <div class='track'></div>
    <div class='track-fill'></div>
    <div class='knob-container'>
      <div class='knob-highlight'></div>
      <div class='knob'></div>
    </div>
    <div class='ticks'></div>
  </div>
`),Dr={left:37,up:38,right:39,down:40,pageUp:33,pageDown:34,end:35,home:36};class Lr extends Er(HTMLElement){connectedCallback(){this.connected=!0,this.setAttribute('role','slider'),this.hasAttribute('tabindex')||this.setAttribute('tabindex',0),this.mouseEvent=!1,this.knob=this.root.querySelector('.knob-container'),this.background=this.root.querySelector('.background'),this.trackFill=this.root.querySelector('.track-fill'),this.track=this.root.querySelector('.track'),this.min=this.min?this.min:0,this.max=this.max?this.max:100,this.scale=he().domain([this.min,this.max]).range([0,1]).clamp(!0),this.origin=this.origin===void 0?this.min:this.origin,this.step=this.step?this.step:1,this.update(this.value?this.value:0),this.ticks=!!this.ticks&&this.ticks,this.renderTicks(),this.drag=Mr().container(this.background).on('start',()=>{this.mouseEvent=!0,this.background.classList.add('mousedown'),this.changeValue=this.value,this.dragUpdate()}).on('drag',()=>{this.dragUpdate()}).on('end',()=>{this.mouseEvent=!1,this.background.classList.remove('mousedown'),this.dragUpdate(),this.changeValue!==this.value&&this.dispatchChange(),this.changeValue=this.value}),this.drag(wr(this.background)),this.addEventListener('focusin',()=>{this.mouseEvent||this.background.classList.add('focus')}),this.addEventListener('focusout',()=>{this.background.classList.remove('focus')}),this.addEventListener('keydown',this.onKeyDown)}static get observedAttributes(){return['min','max','value','step','ticks','origin','tickValues','tickLabels']}attributeChangedCallback(e,t,n){isNaN(n)||void 0===n||null===n||('min'==e&&(this.min=+n,this.setAttribute('aria-valuemin',this.min)),'max'==e&&(this.max=+n,this.setAttribute('aria-valuemax',this.max)),'value'==e&&this.update(+n),'origin'==e&&(this.origin=+n),'step'==e&&0<n&&(this.step=+n),'ticks'==e&&(this.ticks=!(''!==n)||n))}onKeyDown(e){this.changeValue=this.value;let t=!1;switch(e.keyCode){case Dr.left:case Dr.down:this.update(this.value-this.step),t=!0;break;case Dr.right:case Dr.up:this.update(this.value+this.step),t=!0;break;case Dr.pageUp:this.update(this.value+10*this.step),t=!0;break;case Dr.pageDown:this.update(this.value+10*this.step),t=!0;break;case Dr.home:this.update(this.min),t=!0;break;case Dr.end:this.update(this.max),t=!0;break;default:}t&&(this.background.classList.add('focus'),e.preventDefault(),e.stopPropagation(),this.changeValue!==this.value&&this.dispatchChange())}validateValueRange(e,t,n){return Nn(In(t,n),e)}quantizeValue(e,t){return An(e/t)*t}dragUpdate(){const e=this.background.getBoundingClientRect(),t=cr.x,n=e.width;this.update(this.scale.invert(t/n))}update(e){let t=e;'any'!==this.step&&(t=this.quantizeValue(e,this.step)),t=this.validateValueRange(this.min,this.max,t),this.connected&&(this.knob.style.left=100*this.scale(t)+'%',this.trackFill.style.width=100*this.scale(this.min+jn(t-this.origin))+'%',this.trackFill.style.left=100*this.scale(In(t,this.origin))+'%'),this.value!==t&&(this.value=t,this.setAttribute('aria-valuenow',this.value),this.dispatchInput())}dispatchChange(){const t=new Event('change');this.dispatchEvent(t,{})}dispatchInput(){const t=new Event('input');this.dispatchEvent(t,{})}renderTicks(){const e=this.root.querySelector('.ticks');if(!1!==this.ticks){let t=[];t=0<this.ticks?this.scale.ticks(this.ticks):'any'===this.step?this.scale.ticks():Qa(this.min,this.max+1e-6,this.step),t.forEach((t)=>{const n=document.createElement('div');n.classList.add('tick'),n.style.left=100*this.scale(t)+'%',e.appendChild(n)})}else e.style.display='none'}}var Ur='<svg viewBox="-607 419 64 64">\n  <path d="M-573.4,478.9c-8,0-14.6-6.4-14.6-14.5s14.6-25.9,14.6-40.8c0,14.9,14.6,32.8,14.6,40.8S-565.4,478.9-573.4,478.9z"/>\n</svg>\n';const Ar=ea('distill-header',`
<style>
distill-header {
  position: relative;
  height: 60px;
  background-color: hsl(200, 60%, 15%);
  width: 100%;
  box-sizing: border-box;
  z-index: 2;
  color: rgba(0, 0, 0, 0.8);
  border-bottom: 1px solid rgba(0, 0, 0, 0.08);
  box-shadow: 0 1px 6px rgba(0, 0, 0, 0.05);
}
distill-header .content {
  height: 70px;
  grid-column: page;
}
distill-header a {
  font-size: 16px;
  height: 60px;
  line-height: 60px;
  text-decoration: none;
  color: rgba(255, 255, 255, 0.8);
  padding: 22px 0;
}
distill-header a:hover {
  color: rgba(255, 255, 255, 1);
}
distill-header svg {
  width: 24px;
  position: relative;
  top: 4px;
  margin-right: 2px;
}
@media(min-width: 1080px) {
  distill-header {
    height: 70px;
  }
  distill-header a {
    height: 70px;
    line-height: 70px;
    padding: 28px 0;
  }
  distill-header .logo {
  }
}
distill-header svg path {
  fill: none;
  stroke: rgba(255, 255, 255, 0.8);
  stroke-width: 3px;
}
distill-header .logo {
  font-size: 17px;
  font-weight: 200;
}
distill-header .nav {
  float: right;
  font-weight: 300;
}
distill-header .nav a {
  font-size: 12px;
  margin-left: 24px;
  text-transform: uppercase;
}
</style>
<div class="content">
  <a href="/" class="logo">
    ${Ur}
    Distill
  </a>
  <nav class="nav">
    <a href="/about/">About</a>
    <a href="/prize/">Prize</a>
    <a href="/journal/">Submit</a>
  </nav>
</div>
`,!1);class jr extends Ar(HTMLElement){}const Or=`
<style>
  distill-appendix {
    contain: layout style;
  }

  distill-appendix .citation {
    font-size: 11px;
    line-height: 15px;
    border-left: 1px solid rgba(0, 0, 0, 0.1);
    padding-left: 18px;
    border: 1px solid rgba(0,0,0,0.1);
    background: rgba(0, 0, 0, 0.02);
    padding: 10px 18px;
    border-radius: 3px;
    color: rgba(150, 150, 150, 1);
    overflow: hidden;
    margin-top: -12px;
    white-space: pre-wrap;
    word-wrap: break-word;
  }

  distill-appendix > * {
    grid-column: text;
  }
</style>
`;class qr extends HTMLElement{static get is(){return'distill-appendix'}set frontMatter(e){this.innerHTML=Sn(e)}}const Rr=ea('distill-footer',`
<style>

:host {
  color: rgba(255, 255, 255, 0.5);
  font-weight: 300;
  padding: 2rem 0;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  background-color: hsl(180, 5%, 15%); /*hsl(200, 60%, 15%);*/
  text-align: left;
  contain: content;
}

.logo svg {
  width: 24px;
  position: relative;
  top: 4px;
  margin-right: 2px;
}

.logo svg path {
  fill: none;
  stroke: rgba(255, 255, 255, 0.8);
  stroke-width: 3px;
}

.logo {
  font-size: 17px;
  font-weight: 200;
  color: rgba(255, 255, 255, 0.8);
  text-decoration: none;
  margin-right: 6px;
}

.container {
  grid-column: text;
}

.nav {
  font-size: 0.9em;
  margin-top: 1.5em;
}

.nav a {
  color: rgba(255, 255, 255, 0.8);
  margin-right: 6px;
  text-decoration: none;
}

</style>

<div class='container'>

  <a href="/" class="logo">
    ${Ur}
    Distill
  </a> is dedicated to clear explanations of machine learning

  <div class="nav">
    <a href="https://distill.pub/about/">About</a>
    <a href="https://distill.pub/journal/">Submit</a>
    <a href="https://distill.pub/prize/">Prize</a>
    <a href="https://distill.pub/archive/">Archive</a>
    <a href="https://distill.pub/rss.xml">RSS</a>
    <a href="https://github.com/distillpub">GitHub</a>
    <a href="https://twitter.com/distillpub">Twitter</a>
    &nbsp;&nbsp;&nbsp;&nbsp; ISSN 2476-0757
  </div>

</div>

`);class Nr extends Rr(HTMLElement){}const Pr=function(){if(1>window.distillRunlevel)throw new Error('Insufficient Runlevel for Distill Template!');if('distillTemplateIsLoading'in window&&window.distillTemplateIsLoading)throw new Error('Runlevel 1: Distill Template is getting loaded more than once, aborting!');else window.distillTemplateIsLoading=!0,console.info('Runlevel 1: Distill Template has started loading.');u(document),console.info('Runlevel 1: Static Distill styles have been added.'),console.info('Runlevel 1->2.'),window.distillRunlevel+=1;for(const[e,t]of Object.entries(fa.listeners))'function'==typeof t?document.addEventListener(e,t):console.error('Runlevel 2: Controller listeners need to be functions!');console.info('Runlevel 2: We can now listen to controller events.'),console.info('Runlevel 2->3.'),window.distillRunlevel+=1;if(2>window.distillRunlevel)throw new Error('Insufficient Runlevel for adding custom elements!');const e=[xa,va,Ca,Sa,Ma,Da,Ua,Oa,Ra,Pa,ua,Ia,za,T,Ya,Ba,Wa,Lr,$a].concat([jr,qr,Nr]);for(const t of e)console.info('Runlevel 2: Registering custom element: '+t.is),customElements.define(t.is,t);console.info('Runlevel 3: Distill Template finished registering custom elements.'),console.info('Runlevel 3->4.'),window.distillRunlevel+=1,fa.listeners.DOMContentLoaded(),console.info('Runlevel 4: Distill Template initialisation complete.')};window.distillRunlevel=0,ma.browserSupportsAllFeatures()?(console.info('Runlevel 0: No need for polyfills.'),console.info('Runlevel 0->1.'),window.distillRunlevel+=1,Pr()):(console.info('Runlevel 0: Distill Template is loading polyfills.'),ma.load(Pr))});

}
</script>
  <!--radix_placeholder_site_in_header-->
  <!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"Piano Lauree Scientifiche","description":"**Laboratorio di Statistica**, Università degli Studi di Milano-Bicocca","authors":[{"author":"Aldo Solari","authorURL":"https://aldosolari.github.io/","affiliation":"DEMS","affiliationURL":"https://www.unimib.it/ateneo/dipartimenti-e-scuole/alla-scoperta-%E2%80%A6/dipartimento-economia-metodi-quantitativi-e-strategie-impresa"},{"author":"Laura Terzera","authorURL":"#","affiliation":"DISMEQ","affiliationURL":"https://www.dismeq.unimib.it/it"},{"author":"Stefano Barberis, Alice Giampino, Luca Danese, Pietro Meoni, Samuele Cassinari","authorURL":"#","affiliation":"Tutor","affiliationURL":"#"}],"publishedDate":"2019-02-18T00:00:00.000+01:00","citationText":"Solari, et al., 2019"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>Piano Lauree Scientifiche</h1>
<p><strong>Laboratorio di Statistica</strong>, Università degli Studi di Milano-Bicocca</p>
</div>

<div class="d-byline">
  Aldo Solari <a href="https://aldosolari.github.io/" class="uri">https://aldosolari.github.io/</a> (DEMS)<a href="https://www.unimib.it/ateneo/dipartimenti-e-scuole/alla-scoperta-%E2%80%A6/dipartimento-economia-metodi-quantitativi-e-strategie-impresa" class="uri">https://www.unimib.it/ateneo/dipartimenti-e-scuole/alla-scoperta-%E2%80%A6/dipartimento-economia-metodi-quantitativi-e-strategie-impresa</a>
  
,   Laura Terzera  (DISMEQ)<a href="https://www.dismeq.unimib.it/it" class="uri">https://www.dismeq.unimib.it/it</a>
  
,   Stefano Barberis, Alice Giampino, Luca Danese, Pietro Meoni, Samuele Cassinari  (Tutor)
  
<br />2019-02-18
</div>

<div class="d-article">
<h3 class="d-toc-header">Table of Contents</h3>
<nav class="d-toc" id="TOC">
<ul>
<li><a href="#la-visione-del-mondo-basata-sui-fatti">La visione del mondo basata sui fatti</a></li>
<li><a href="#le-statistiche-come-terapia">Le statistiche come terapia</a></li>
<li><a href="#le-scuole-coinvolte">Le scuole coinvolte</a></li>
<li><a href="#il-pls-di-statistica">Il PLS di Statistica</a></li>
<li><a href="#i-laboratori-passati">I laboratori passati</a></li>
</ul>
</nav>
<hr class="d-toc-separator" />
<h1 id="la-visione-del-mondo-basata-sui-fatti">La visione del mondo basata sui fatti</h1>
<p>Il laboratorio di quest’anno prevede:</p>
<ul>
<li><p>l’utilizzo della statistica per interpretare un fenomeno di interesse sulla base dei dati;</p></li>
<li><p>l’analisi di un questionario sulla conoscenza degli aspetti socio-economici del mondo di oggi;</p></li>
<li><p>l’analisi dell’effetto ancoraggio.</p></li>
</ul>
<p>Secondo Carlo Rovelli</p>
<blockquote>
<p>Ragionamenti di tipo probabilistico e statistico sono uno strumento della ragione, potente e affilato. Non disporne ci lascia indifesi. Non avere chiarezza su nozioni come media, varianza, fluttuazioni e correlazioni è un pò come non sapere usare la moltiplicazione o la divisione.</p>
</blockquote>
<aside>
Estratto da “Domenica” del “Sole 24 Ore”, 20 Gennaio 2013. Tutti i diritti riservati.
</aside>
<p>Tuttavia i numeri non bastano da soli. Il mondo non si può capire senza numeri né soltanto con i numeri:</p>
<blockquote>
<p>In questo mondo incerto, chiedere certezze assolute è una sciocchezza. Chi esibisce risposte certe è di solito il meno affidabile. Ma non per questo siamo nel buio. Fra certezza e totale incertezza vi è un prezioso spazio intermedio, ed è in questo spazio intermedio che si svolgono la nostra vita e il nostro pensiero.</p>
</blockquote>
<p>Il laboratorio di quest’anno fa riferimento al libro <em>Factfulness</em>, sottotitolo: <em>Dieci ragioni per cui non capiamo il mondo e perché le cose vanno meglio</em>, dello statistico svedese Hans Rosling. Secondo Bill Gates:</p>
<div class="layout-chunk" data-layout="l-body">
<iframe src="https://www.youtube.com/embed/5uooRe07mYM" width="420" height="315" frameborder="0" allowfullscreen=""></iframe>
</div>
<aside>
Video pubblicato il 3 Aprile 2018 su <strong>gatesnotes</strong>: The blog of Bill Gates.
</aside>
<p>Hans Rosling è stato un medico, statistico e accademico svedese. Membro dell’Accademia di Svezia e del Karolinska Institutet, fondatore della sezione svedese di Medici senza frontiere e infine della fondazione Gapminder, ha vissuto vent’anni in Congo per studiare e combattere il konzo, una malattia epidemica paralizzante.</p>
<h1 id="le-statistiche-come-terapia">Le statistiche come terapia</h1>
<p>Per comprendere in modo efficace lo sviluppo socio-economico mondiale bisogna saper leggere i dati. Tutti parlano di come va il mondo, ma è raro vederlo fare con la forza dei numeri.</p>
<p>Rosling ci insegna ad avere una visione costruttiva del mondo, in cui il futuro torna serenamente, e con il supporto dei fatti, ad avere il segno +.</p>
<blockquote>
<p>Non va tutto male. Anzi, le cose non sono mai andate meglio; lo dicono i fatti. L’unico vero antidoto al luogo comune.</p>
</blockquote>
<aside>
Estratto dal libro <strong>Factfulness</strong>, Rizzoli.
</aside>
<p>Nel libro <em>Factfulness</em>, Rosling presenta la <em>Carta della Salute Mondiale</em>. Questo grafico è una sorta di mappa mondiale per la salute e la ricchezza. I punti cardinali Nord e Sud stanno per sani e malati. Est e Ovest stanno per ricchi e poveri.</p>
<p>Ogni Paese è rappresentato da una bolla, grande in relazione alla sua dimensione (numero di persone); la salute è misurata in termini di aspettativa di vita alla nascita (in anni), mentre la ricchezza è misurata come reddito pro capite, in dollari per anno adeguati all’inflazione.</p>
<p>Provate a cercare il vostro Paese per vedere chi sono i Paesi vicini con reddito e salute simili, e osservare l’evoluzione nel tempo:</p>
<head>
<p><style type="text/css">
@keyframes rotate-forever{0%{transform:rotate(0deg)}to{transform:rotate(359deg)}}.vzb-hidden,.vzb-tool .vzb-timeslider.vzb-playing .vzb-ts-btns .vzb-ts-btn-play,.vzb-tool .vzb-timeslider.vzb-ts-hide-play-button .vzb-ts-btns,.vzb-tool .vzb-timeslider.vzb-ts-loading .vzb-ts-btn-pause,.vzb-tool .vzb-timeslider.vzb-ts-loading .vzb-ts-btn-play,.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog .vzb-dialog-checkbox input[type=checkbox]{display:none!important}.vzb-invisible{visibility:hidden!important}.vzb-pointerevents-none{pointer-events:none!important}.vzb-blur{filter:blur(3px)}.vzb-transparent{opacity:0!important;pointer-events:none!important}.vzb-placeholder.vzb-loading-data:after,.vzb-placeholder.vzb-loading-first:after{background:url("data:image/svg+xml;content=utf8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20338%20338%22%3E%3Cg%20id%3D%22fidget-spinner--element%22%3E%3Cpath%20class%3D%22bearing%22%20fill%3D%22%239fbbc1%22%20d%3D%22M161.6%2084.2c2.3.5%204.7.9%207.1.9%202.4%200%204.8-.3%207.2-.9%203.2-.7%206.2-1.9%209-3.5%207.5-4.3%2012.8-11.3%2015.1-19.7%202.2-8.4%201.1-17.1-3.3-24.6-5.8-10-16.5-16.2-28.1-16.2-5.7%200-11.3%201.5-16.2%204.4-15.5%209-20.7%2028.8-11.8%2044.3%204.6%207.8%2012.3%2013.3%2021%2015.3zm-2-47.2c2.8-1.6%205.9-2.4%209.1-2.4%206.4%200%2012.4%203.5%2015.7%209%202.4%204.2%203.1%209.1%201.8%2013.7-1.2%204.7-4.2%208.6-8.4%2011-.6.4-1.2.7-1.9.9-2.3%201-4.7%201.5-7.2%201.5s-4.9-.5-7.2-1.5c-3.5-1.5-6.5-4.1-8.5-7.5-5-8.6-2-19.7%206.6-24.7z%22%2F%3E%3Cpath%20class%3D%22bearing%22%20fill%3D%22%239fbbc1%22%20d%3D%22M96.3%20211.1c-1.2-2.1-2.7-4-4.3-5.8-6.1-6.5-14.6-10.4-23.7-10.4-5.7%200-11.3%201.5-16.2%204.4-7.5%204.3-12.8%2011.3-15.1%2019.7-2.2%208.4-1.1%2017.1%203.3%2024.6%205.8%2010%2016.5%2016.2%2028.1%2016.2%205.7%200%2011.3-1.5%2016.2-4.4%207.5-4.3%2012.8-11.3%2015.1-19.7%201.6-6%201.4-12.2-.4-18-.9-2.3-1.8-4.5-3-6.6zM85.7%20232c-1.2%204.7-4.2%208.6-8.4%2011-2.8%201.6-5.9%202.4-9.1%202.4-6.4%200-12.4-3.5-15.7-9-2.4-4.2-3.1-9-1.8-13.7%201.2-4.7%204.2-8.6%208.4-11%202.8-1.6%205.9-2.4%209.1-2.4%203.9%200%207.7%201.3%2010.8%203.6%202%201.4%203.6%203.3%204.9%205.4%201.3%202.2%202%204.5%202.3%206.9.2%202.3.1%204.6-.5%206.8z%22%2F%3E%3Cpath%20class%3D%22bearing%22%20fill%3D%22%239fbbc1%22%20d%3D%22M269.8%20194.6c-5.7%200-11.3%201.5-16.2%204.4-2.9%201.7-5.4%203.7-7.6%206.1-3.3%203.5-5.7%207.8-7.1%2012.4-.1.4-.3.8-.4%201.2-2.2%208.4-1.1%2017.1%203.3%2024.6%205.8%2010%2016.5%2016.1%2028.1%2016.1%205.7%200%2011.3-1.5%2016.2-4.4%207.5-4.3%2012.8-11.3%2015.1-19.7%202.2-8.4%201.1-17.1-3.3-24.6-5.8-10-16.6-16.1-28.1-16.1zm17.5%2037c-1.2%204.7-4.2%208.6-8.4%2011-2.8%201.6-5.9%202.4-9.1%202.4-6.4%200-12.4-3.5-15.7-9-2-3.4-2.7-7.3-2.3-11.1.1-.9.2-1.8.4-2.6%201.1-4%203.5-7.4%206.7-9.8.6-.4%201.1-.9%201.7-1.2%202.8-1.6%205.9-2.4%209.1-2.4%206.4%200%2012.4%203.5%2015.7%209%202.5%204.2%203.1%209.1%201.9%2013.7z%22%2F%3E%3Cpath%20class%3D%22bearing%20middle-bearing%22%20fill%3D%22%239fbbc1%22%20d%3D%22M203.2%20178.1c2.4-9.2%201.2-18.7-3.6-26.9-5.3-9.1-14.3-15.3-24.8-17.1-2.3-.4-4.2-.6-5.9-.6-1.7%200-3.7.2-6%20.6-4.3.7-8.3%202.2-11.8%204.2-15%208.7-21.5%2026.8-15.4%2043.1.8%202.1%201.6%203.8%202.5%205.4.9%201.5%202%203.1%203.5%204.9%206.8%208.2%2016.8%2012.8%2027.3%2012.8%206.2%200%2012.4-1.7%2017.8-4.8%203.6-2.1%206.8-4.8%209.6-8.1%202.6-3.1%204.6-6.6%205.9-10.3.3-1.1.6-2.1.9-3.2z%22%2F%3E%3Cpath%20fill%3D%22%239fbbc1%22%20d%3D%22M312.4%20202.3c-6.7-11.6-17.9-19.8-30.7-23-.5-.1-47-10.3-63.5-38.8-16.6-28.6-2.3-74-2.2-74.4.1-.2.2-.5.2-.7%203.4-12.7%201.6-26-5-37.4-8.8-15.1-25.1-24.5-42.6-24.5-8.6%200-17.2%202.3-24.7%206.7-20.8%2012-29.4%2037-21.7%2058.9%202.8%2010.2%2011.5%2047-2.7%2071.7-16.5%2028.6-62.9%2038.9-63.4%2039v.1c-4.4%201.1-8.6%202.8-12.6%205.1-11.4%206.4-19.5%2017-22.9%2029.7-3.4%2012.7-1.6%2026%205%2037.3%208.8%2015.1%2025.1%2024.5%2042.6%2024.5%208.6%200%2017.2-2.3%2024.7-6.7%205.3-3.1%209.8-7%2013.5-11.6%208.7-8.6%2035.2-32.4%2062.5-32.4%2033%200%2065.1%2035.1%2065.5%2035.5l.2-.2c9.2%209.4%2021.9%2014.9%2035.3%2014.9%208.6%200%2017.2-2.3%2024.7-6.7%2023.4-13.3%2031.4-43.5%2017.8-67zM151.2%2022.4c5.3-3.1%2011.4-4.7%2017.5-4.7%2012.4%200%2024%206.7%2030.2%2017.4%204.7%208.1%205.9%2017.5%203.5%2026.5-2.4%209-8.2%2016.6-16.2%2021.2-3.2%201.9-6.7%203.1-10.3%203.9-2.4.5-4.8.8-7.2.8s-4.8-.3-7.1-.8c-9.6-2-18.1-8-23.1-16.6-1-1.8-1.9-3.7-2.6-5.5-.4-1-.6-1.9-.9-2.9-4-14.9%202.2-31.2%2016.2-39.3zM102%20236.3c-1.2%204.5-3.2%208.6-5.9%2012.2-.9%201.2-2%202.4-3.1%203.5-2.1%202.1-4.5%204-7.2%205.6-5.3%203.1-11.4%204.7-17.5%204.7-12.4%200-24-6.7-30.2-17.4-4.7-8.1-5.9-17.5-3.5-26.5%202.4-9%208.2-16.6%2016.2-21.2%205.3-3.1%2011.4-4.7%2017.5-4.7%2010%200%2019.4%204.4%2025.9%2011.6%201.6%201.8%203.1%203.7%204.3%205.8%201.2%202.1%202.2%204.3%202.9%206.6%202.1%206.3%202.3%2013.2.6%2019.8zm66.9-24.6c-12.8%200-24.7-5.8-32.8-15.4-1.5-1.8-3-3.8-4.2-5.8-1.2-2.1-2.2-4.3-3-6.5-7.1-19.1.3-41.2%2018.5-51.8%204.4-2.5%209.2-4.2%2014.2-5.1%202.4-.4%204.8-.7%207.2-.7%202.4%200%204.8.3%207.1.7%2012.4%202.1%2023.4%209.6%2029.8%2020.6%205.7%209.9%207.3%2021.4%204.3%2032.4-.3%201.3-.8%202.5-1.2%203.8-1.7%204.6-4.1%208.7-7.2%2012.4-3.2%203.8-7%207.2-11.5%209.8-6.3%203.6-13.7%205.6-21.2%205.6zm118.4%2045.5c-5.3%203.1-11.4%204.7-17.5%204.7-12.4%200-24-6.7-30.2-17.4-4.7-8.1-5.9-17.5-3.5-26.5l.6-1.8c1.5-4.6%203.9-8.9%207.1-12.4%202.4-2.7%205.3-5.1%208.5-7%205.3-3.1%2011.4-4.7%2017.5-4.7%2012.4%200%2024%206.7%2030.2%2017.4%209.7%2016.6%204%2038-12.7%2047.7z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E")}.vzb-placeholder.vzb-loading-data:after,.vzb-placeholder.vzb-loading-first:after,.vzb-tool .vzb-timeslider .vzb-ts-btn-loading .vzb-loader{height:50px;width:50px;position:absolute;top:50%;bottom:0;left:50%;content:" ";animation-timing-function:linear;animation-name:rotate-forever;animation-iteration-count:infinite;animation-duration:.8s;margin:-25px;z-index:9999}.vzb-tool .vzb-timeslider .vzb-ts-btn-loading .vzb-loader{border:4px solid rgba(96,120,137,.1);border-radius:100%;border-top:4px solid rgba(96,120,137,.6);display:inline-block}.vzb-placeholder{font-size:16px;font-variant:normal}.vzb-placeholder a,.vzb-placeholder div,.vzb-placeholder g,.vzb-placeholder h1,.vzb-placeholder h2,.vzb-placeholder h3,.vzb-placeholder h4,.vzb-placeholder h5,.vzb-placeholder h6,.vzb-placeholder i,.vzb-placeholder p,.vzb-placeholder span,.vzb-placeholder svg,.vzb-placeholder text{background:transparent;border:0;box-sizing:border-box;margin:0;outline:0;padding:0;vertical-align:baseline;white-space:nowrap}.vzb-placeholder button,.vzb-placeholder input,.vzb-placeholder keygen,.vzb-placeholder select,.vzb-placeholder textarea{font-size:16px}.vzb-placeholder *{-webkit-tap-highlight-color:rgba(0,0,0,0)!important}.vzb-tool .vzb-axislabeler,.vzb-tool .vzb-barchart{position:absolute;top:0;right:0;bottom:0;left:0;color:#666;height:100%;margin:0;overflow:hidden;width:100%}.vzb-tool .vzb-barchart .vzb-bc-axis-x text,.vzb-tool .vzb-barchart .vzb-bc-axis-y text,.vzb-tool.vzb-small .vzb-bc-axis-x,.vzb-tool.vzb-small .vzb-bc-axis-y{font-size:.8em}.vzb-tool.vzb-medium .vzb-bc-axis-x,.vzb-tool.vzb-medium .vzb-bc-axis-y{font-size:1em}.vzb-tool.vzb-large .vzb-bc-axis-x,.vzb-tool.vzb-large .vzb-bc-axis-y{font-size:1.24em}.vzb-tool .vzb-barchart .vzb-bc-axis-x text,.vzb-tool .vzb-barchart .vzb-bc-axis-y text{fill:currentColor;stroke:none}.vzb-tool .vzb-barchart .vzb-bc-axis-x-title,.vzb-tool .vzb-barchart .vzb-bc-axis-y-title,.vzb-tool .vzb-barchart .vzb-bc-year{color:#425663;cursor:pointer;fill:currentColor}.vzb-tool .vzb-barchart .vzb-bc-axis-x-title:hover,.vzb-tool .vzb-barchart .vzb-bc-axis-y-title:hover,.vzb-tool .vzb-barchart .vzb-bc-year:hover{text-decoration:underline}.vzb-tool.vzb-small .vzb-bc-axis-x-title,.vzb-tool.vzb-small .vzb-bc-axis-y-title,.vzb-tool.vzb-small .vzb-bc-year{font-size:1em}.vzb-tool.vzb-medium .vzb-bc-axis-x-title,.vzb-tool.vzb-medium .vzb-bc-axis-y-title,.vzb-tool.vzb-medium .vzb-bc-year{font-size:1.24em}.vzb-tool.vzb-large .vzb-bc-axis-x-title,.vzb-tool.vzb-large .vzb-bc-axis-y-title,.vzb-tool.vzb-large .vzb-bc-year{font-size:1.38em}.vzb-tool .vzb-barchart .vzb-bc-axis-x,.vzb-tool .vzb-barchart .vzb-bc-axis-y{color:#999;fill:none;stroke:#999}.vzb-tool .vzb-barchart .vzb-bc-axis-x line,.vzb-tool .vzb-barchart .vzb-bc-axis-x path,.vzb-tool .vzb-barchart .vzb-bc-axis-y line,.vzb-tool .vzb-barchart .vzb-bc-axis-y path{fill:none;shape-rendering:crispEdges;stroke:#999}.vzb-tool .vzb-barchart .vzb-bc-axis-x .tick-minor,.vzb-tool .vzb-barchart .vzb-bc-axis-x .tick line,.vzb-tool .vzb-barchart .vzb-bc-axis-y .tick-minor,.vzb-tool .vzb-barchart .vzb-bc-axis-y .tick line{stroke-dasharray:1 3}.vzb-tool .vzb-tool-dialogs .vzb-ip-holder .vzb-ip-info{cursor:pointer;opacity:.3;pointer-events:visible}.vzb-tool .vzb-tool-dialogs .vzb-ip-holder .vzb-ip-info path{fill:#607889;stroke:none}.vzb-tool .vzb-tool-dialogs .vzb-ip-holder .vzb-ip-info circle{fill:none;stroke:#607889}.vzb-tool .vzb-tool-dialogs .vzb-ip-holder .vzb-ip-info:hover{opacity:1}.vzb-placeholder{background-color:#fff;position:relative}.vzb-placeholder.vzb-loading-data:before,.vzb-placeholder.vzb-loading-first:before{background-color:#fff;bottom:0;content:" ";display:block;left:0;position:absolute;right:0;top:0;z-index:9998}.vzb-placeholder.vzb-loading-first>div{visibility:hidden}.vzb-placeholder.vzb-loading-data:before{filter:alpha(opacity=80);opacity:.8}.vzb-placeholder.vzb-force-fullscreen{position:fixed;top:0;right:0;bottom:0;left:0;display:block;height:auto!important;margin:0;width:auto!important;z-index:9997}.vzb-placeholder .vzb-icon{height:15px;width:15px}.vzb-placeholder .vzb-icon path{fill:#607889}.vzb-placeholder .fa{direction:ltr}.vzb-placeholder .vzb-error-message{position:absolute;top:0;right:0;height:100%;width:100%}.vzb-placeholder .vzb-error-message .vzb-error-message-background{background-color:#fdfdfd;height:100%;opacity:.4;width:100%}.vzb-placeholder .vzb-error-message .vzb-error-message-box{-ms-box-shadow:0 8px 15px rgba(0,0,0,.24);-o-box-shadow:0 8px 15px rgba(0,0,0,.24);box-shadow:0 8px 15px rgba(0,0,0,.24);z-index:9997;background-color:#fff;border-top:1px solid #f7f7f7;padding:30px 15px 10px;overflow:hidden;position:absolute;top:10%;left:5%;bottom:60px;width:90%;height:80%;text-align:center}.vzb-placeholder .vzb-error-message .vzb-error-message-close{cursor:pointer;fill:#607889;fill-opacity:.7;height:25px;position:absolute;right:5px;top:5px;width:25px}.vzb-rtl.vzb-placeholder .vzb-error-message .vzb-error-message-close{left:5px;right:auto}.vzb-placeholder .vzb-error-message .vzb-error-message-close:hover{fill-opacity:1}.vzb-placeholder .vzb-error-message .vzb-error-message-close svg{width:25px;height:25px}.vzb-placeholder .vzb-error-message a{cursor:pointer;text-decoration:underline}.vzb-placeholder .vzb-error-message p{max-width:600px;color:#999;white-space:normal;display:block;margin:auto;font-size:1em;line-height:1.5}.vzb-placeholder .vzb-error-message .vzb-error-message-expand,.vzb-placeholder .vzb-error-message .vzb-error-message-outro{font-size:.8em}.vzb-placeholder .vzb-error-message textarea{margin:10px;max-width:600px;min-height:60px;width:calc(100% - 30px);font-size:.625em;font-family:monospace}.vzb-dialog-scrollable{-webkit-overflow-scrolling:auto}.vzb-dialog-scrollable::-webkit-scrollbar{width:6px;-webkit-appearance:none}.vzb-dialog-scrollable::-webkit-scrollbar-thumb{background:#b6c3cc;border-radius:2px;cursor:pointer}.vzb-dialog-scrollable::-webkit-scrollbar-track{width:5px;background:#b6c3cc;border-radius:2px;background-clip:content-box;border:2px solid transparent}.vzb-tool{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:flex;position:relative;width:100%;height:100%;font-family:Lucida Sans Unicode,Lucida Grande,sans-serif;font-size:16px;overflow:hidden;direction:ltr}.vzb-tool .vzb-dynamic-background{font-family:Lucida Console,Monaco,monospace}.vzb-tool.vzb-rtl{direction:rtl}.vzb-tool .vzb-tool-title{position:absolute;top:0;right:0;left:0;background-color:#f2fafc;color:#666;display:none!important;font-size:.8em;height:8px;padding:10px}.vzb-tool .vzb-tool-stage{flex:1 auto;display:flex;flex-direction:column;direction:ltr;transform:translateZ(0)}.vzb-tool .vzb-tool-stage .vzb-tool-viz{flex:1 auto;position:relative}.vzb-tool .vzb-tool-stage .vzb-tool-time-speed-sliders{flex:0 0 50px;height:50px;display:flex}.vzb-tool .vzb-tool-stage .vzb-tool-time-speed-sliders .vzb-tool-timeslider{flex:1 1 auto}.vzb-tool .vzb-tool-stage .vzb-tool-time-speed-sliders .vzb-tool-stepped-speed-slider{flex:0 0 35px}.vzb-tool .vzb-tool-sidebar{display:flex;flex:0 0 auto;position:static}.vzb-tool .vzb-tool-sidebar .vzb-tool-dialogs{position:static}.vzb-tool .vzb-tool-sidebar .vzb-tool-buttonlist{flex:1 0 auto;background-color:#f2fafc;width:60px;overflow:hidden;white-space:normal;position:relative;text-align:center}.vzb-tool .vzb-tool-sidebar .vzb-tool-buttonlist button,.vzb-tool .vzb-tool-sidebar .vzb-tool-buttonlist input,.vzb-tool .vzb-tool-sidebar .vzb-tool-buttonlist keygen,.vzb-tool .vzb-tool-sidebar .vzb-tool-buttonlist select,.vzb-tool .vzb-tool-sidebar .vzb-tool-buttonlist textarea{font-family:Lucida Sans Unicode,Lucida Grande,sans-serif}.vzb-tool .vzb-tool-sidebar .vzb-tool-buttonlist:-webkit-scrollbar{display:none}.vzb-tool.vzb-buttonlist-off .vzb-tool-buttonlist,.vzb-tool.vzb-timeslider-off .vzb-tool-time-speed-sliders,.vzb-tool.vzb-title-off .vzb-tool-title{display:none}.vzb-tool.vzb-small .vzb-tool-stage .vzb-tool-time-speed-sliders{flex:0 0 40px;height:40px}.vzb-tool.vzb-small.vzb-portrait,.vzb-tool.vzb-small.vzb-portrait .vzb-tool-sidebar{flex-direction:column}.vzb-tool.vzb-small.vzb-portrait .vzb-tool-sidebar .vzb-tool-buttonlist{height:50px;width:auto;white-space:nowrap}.vzb-tool.vzb-small .vzb-tool-title{font-size:.8em;height:0}.vzb-tool.vzb-small.vzb-buttonlist-off .vzb-tool-buttonlist,.vzb-tool.vzb-small.vzb-timeslider-off .vzb-tool-time-speed-sliders{display:none}.vzb-tool.vzb-small .vzb-data-warning text{font-size:.625em}.vzb-tool.vzb-medium .vzb-tool-stage .vzb-tool-time-speed-sliders{flex:0 0 40px;height:40px}.vzb-tool.vzb-large.vzb-dialog-expand-true .vzb-tool-sidebar{flex-direction:column;flex:0 0 290px;max-width:290px}.vzb-tool.vzb-large.vzb-dialog-expand-true .vzb-tool-sidebar .vzb-tool-dialogs{flex:1 auto;display:flex;flex-direction:column;background-color:#f2fafc;overflow:hidden}.vzb-tool.vzb-large.vzb-dialog-expand-true .vzb-tool-sidebar .vzb-tool-buttonlist{flex:0 0 auto;width:290px;padding:2px 0 5px}.vzb-tool .vzb-tooltip{border-radius:3px;filter:alpha(opacity=90);opacity:.9;background:#666;color:#fff;font-size:1em;font-weight:300;padding:7px 10px;position:absolute;z-index:11}.vzb-tool .vzb-accordion{margin-top:1px}.vzb-tool .vzb-accordion .vzb-accordion-section{position:relative;transition:none;overflow:hidden;max-height:2.5em;padding-bottom:11px;width:auto;border:0}.vzb-tool .vzb-accordion .vzb-accordion-section .vzb-accordion-section-title>span:first-child{display:block;height:2em;vertical-align:middle;background-color:#f2fafc;cursor:pointer}.vzb-tool .vzb-accordion .vzb-accordion-section .vzb-accordion-section-title>span:first-child:after{transform:rotate(45deg);-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-ms-transform:rotate(45deg);-o-transform:rotate(45deg);content:"";position:absolute;top:.75em;right:.75em;width:5px;height:5px;border-right:1px solid #607889;border-top:1px solid #607889}.vzb-rtl.vzb-tool .vzb-accordion .vzb-accordion-section .vzb-accordion-section-title>span:first-child:after{transform:rotate(225deg);-webkit-transform:rotate(225deg);-moz-transform:rotate(225deg);-ms-transform:rotate(225deg);-o-transform:rotate(225deg);left:.75em;right:auto}.vzb-tool .vzb-accordion .vzb-accordion-section.vzb-accordion-active{max-height:none;transition:max-height .3s ease-in-out}.vzb-tool .vzb-accordion .vzb-accordion-section.vzb-accordion-active .vzb-accordion-section-title>span:first-child:after{transform:rotate(135deg);-webkit-transform:rotate(135deg);-moz-transform:rotate(135deg);-ms-transform:rotate(135deg);-o-transform:rotate(135deg)}.vzb-tool input[type=range]::-webkit-slider-runnable-track{background:transparent;cursor:pointer}.vzb-tool input[type=range]:focus::-webkit-slider-runnable-track{background:transparent}.vzb-tool input[type=range]::-moz-range-track{background:transparent;cursor:pointer;height:0;border:0}.vzb-tool input[type=range]::-ms-track{background:transparent;border-color:transparent;border-width:10px 0;color:transparent;cursor:pointer;height:0}.vzb-tool input[type=range]::-ms-fill-lower,.vzb-tool input[type=range]:focus::-ms-fill-lower{background:transparent}.vzb-tool input[type=range]::-ms-fill-upper,.vzb-tool input[type=range]:focus::-ms-fill-upper{background:transparent}.vzb-tool input[type=range]::-ms-tooltip{display:none}.vzb-tool input[type=range]::-moz-focus-outer{border:0}.vzb-tool button::-moz-focus-inner{padding:0;border:0}.vzb-tool .vzb-data-warning{cursor:pointer;fill:#fc6b38}.vzb-tool .vzb-data-warning path{fill:#fc6b38}.vzb-tool .vzb-data-warning text{text-transform:uppercase;font-size:.8em}.vzb-tool .vzb-data-warning:hover text{text-decoration:underline}.vzb-tool .vzb-colorpicker-svg{direction:ltr}.vzb-tool .vzb-timeslider{min-height:40px;position:relative}.vzb-tool .vzb-timeslider.vzb-ts-disabled{opacity:.4;pointer-events:none}.vzb-tool .vzb-timeslider.vzb-ts-disabled .vzb-ts-slider-slide .background{pointer-events:none}.vzb-tool .vzb-timeslider.vzb-ts-disabled .vzb-ts-slider-handle{visibility:hidden;pointer-events:none}.vzb-tool .vzb-timeslider .vzb-ts-btns{position:absolute;top:0;bottom:0;left:0;margin-left:5px;width:40px;pointer-events:none}.vzb-tool .vzb-timeslider .vzb-ts-btns .vzb-ts-btn{border-radius:40px;font-size:1em;width:40px;height:40px;background:#fff;display:block;border:0;padding:0;margin:5px;cursor:pointer;pointer-events:auto}.vzb-tool .vzb-timeslider .vzb-ts-btns .vzb-ts-btn .vzb-icon{width:40px;height:40px}.vzb-tool .vzb-timeslider .vzb-ts-btns .vzb-ts-btn .vzb-icon path{fill:#607889}.vzb-tool .vzb-timeslider .vzb-ts-btns .vzb-ts-btn.vzb-ts-btn-loading{background:#607889}.vzb-tool .vzb-timeslider .vzb-ts-btns .vzb-ts-btn.vzb-ts-btn-pause{display:none}.vzb-tool .vzb-timeslider .vzb-ts-btns .vzb-ts-btn:active,.vzb-tool .vzb-timeslider .vzb-ts-btns .vzb-ts-btn:focus{outline:none}.vzb-tool .vzb-timeslider .vzb-ts-btns .vzb-ts-btn:active path,.vzb-tool .vzb-timeslider .vzb-ts-btns .vzb-ts-btn:focus path{fill:#607889}.vzb-tool .vzb-timeslider .vzb-ts-slider-wrapper{position:absolute;top:0;right:9px;bottom:0;left:0}.vzb-tool .vzb-timeslider .vzb-ts-slider-wrapper .vzb-ts-slider{position:absolute;top:0;right:0;bottom:0;left:0;font-size:.8em;overflow:visible;color:#607889;width:100%;height:100%}.vzb-tool .vzb-timeslider .vzb-ts-slider-wrapper .vzb-ts-slider .background{cursor:pointer!important}.vzb-tool .vzb-timeslider .vzb-ts-slider-wrapper .vzb-ts-slider .vzb-ts-slider-axis{filter:alpha(opacity=60);opacity:.6;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;fill:#607889;font-weight:700;cursor:pointer}.vzb-tool .vzb-timeslider .vzb-ts-slider-wrapper .vzb-ts-slider .vzb-ts-slider-axis .vzb-axis-line{filter:alpha(opacity=100);opacity:1;fill:none;stroke:#607889;stroke-opacity:.1;stroke-width:5px;stroke-linecap:round}.vzb-tool .vzb-timeslider .vzb-ts-slider-wrapper .vzb-ts-slider .vzb-ts-slider-axis .tick{pointer-events:none;font-weight:400;color:#607889;opacity:.35}.vzb-tool .vzb-timeslider .vzb-ts-slider-wrapper .vzb-ts-slider .vzb-ts-slider-axis .tick text{fill:currentColor;font-size:.9em}.vzb-tool .vzb-timeslider .vzb-ts-slider-wrapper .vzb-ts-slider .vzb-ts-slider-progress{filter:alpha(opacity=60);opacity:.6;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;fill:#607889;font-weight:700;cursor:pointer}.vzb-tool .vzb-timeslider .vzb-ts-slider-wrapper .vzb-ts-slider .vzb-ts-slider-progress .domain{filter:alpha(opacity=100);opacity:1;fill:none;stroke:#607889;stroke-opacity:.2;stroke-width:5px}.vzb-tool .vzb-timeslider .vzb-ts-slider-wrapper .vzb-ts-slider .vzb-ts-slider-progress .rounded{stroke-linecap:round}.vzb-tool .vzb-timeslider .vzb-ts-slider-wrapper .vzb-ts-slider .vzb-ts-slider-select{filter:alpha(opacity=80);opacity:.8;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.vzb-tool .vzb-timeslider .vzb-ts-slider-wrapper .vzb-ts-slider .vzb-ts-slider-select .selected-end,.vzb-tool .vzb-timeslider .vzb-ts-slider-wrapper .vzb-ts-slider .vzb-ts-slider-select .selected-start{filter:alpha(opacity=100);opacity:1;fill:none;stroke:#607889;stroke-opacity:.8;stroke-width:5px;stroke-linecap:round}.vzb-tool .vzb-timeslider .vzb-ts-slider-wrapper .vzb-ts-slider .vzb-ts-slider-slide{pointer-events:stroke;stroke:#fff;stroke-opacity:0;stroke-linecap:round;cursor:pointer}.vzb-tool .vzb-timeslider .vzb-ts-slider-wrapper .vzb-ts-slider .vzb-ts-slider-handle{fill:#607889;stroke:#fff;stroke-width:4px}.vzb-tool .vzb-timeslider .vzb-ts-slider-wrapper .vzb-ts-slider .vzb-ts-slider-value{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:none;fill:#607889;font-weight:700}.vzb-tool .vzb-timeslider .vzb-ts-slider-wrapper .vzb-ts-slider .vzb-ts-slider-value.stroke{paint-order:stroke;stroke:#fff;stroke-opacity:.7;stroke-width:5px;stroke-linecap:butt;stroke-linejoin:miter}.vzb-tool .vzb-timeslider.vzb-playing.vzb-ts-show-value-when-drag-play .vzb-ts-slider-value{display:block!important}.vzb-tool .vzb-timeslider.vzb-playing .vzb-ts-btns .vzb-ts-btn-pause{display:block}.vzb-tool .vzb-timeslider.vzb-playing .vzb-ts-btns:hover .vzb-ts-btn-pause-tooltip{filter:alpha(opacity=100);opacity:1}.vzb-tool .vzb-timeslider.vzb-playing .vzb-ts-btns:hover .vzb-ts-btn-play-tooltip{filter:alpha(opacity=0);opacity:0}.vzb-tool .vzb-timeslider .vzb-ts-btn-loading{position:relative;display:none!important}.vzb-tool .vzb-timeslider .vzb-ts-btn-loading .vzb-loader{height:38px;width:38px;border-color:hsla(0,0%,100%,0);border-top-color:#fff;margin-top:-19px;margin-left:-19px}.vzb-tool .vzb-timeslider.vzb-ts-loading{filter:alpha(opacity=30);opacity:.3}.vzb-tool .vzb-timeslider.vzb-ts-loading .vzb-ts-btn-loading{display:block!important}.vzb-tool .vzb-timeslider.vzb-ts-hide-play-button .vzb-ts-slider-wrapper{position:absolute;top:5px;right:9px;bottom:5px;left:5px}.vzb-tool .vzb-timeslider.vzb-ts-dragging.vzb-ts-show-value-when-drag-play .vzb-ts-slider-value,.vzb-tool .vzb-timeslider.vzb-ts-show-value .vzb-ts-slider-value{display:block!important}.vzb-tool.vzb-small .vzb-timeslider .vzb-ts-btns .vzb-ts-btn{width:35px;height:35px;margin:0}.vzb-tool.vzb-small .vzb-timeslider .vzb-ts-btns .vzb-ts-btn .vzb-icon{width:35px;height:35px}.vzb-tool.vzb-small .vzb-timeslider .vzb-ts-btn-loading .vzb-loader{height:33px;width:33px;margin-top:-16.5px;margin-left:-16.5px}.vzb-tool.vzb-small .vzb-timeslider.vzb-ts-axis-aligned .vzb-ts-btns{position:absolute;top:0;right:0;bottom:5px;left:5px;width:20px;min-height:20px}.vzb-tool.vzb-small .vzb-timeslider.vzb-ts-axis-aligned .vzb-ts-btns .vzb-ts-btn{width:26px;height:26px;margin:0}.vzb-tool.vzb-small .vzb-timeslider.vzb-ts-axis-aligned .vzb-ts-btns .vzb-ts-btn .vzb-icon{width:26px;height:26px}.vzb-tool.vzb-small .vzb-timeslider.vzb-ts-axis-aligned .vzb-ts-btns .vzb-ts-btn.vzb-ts-btn-pause,.vzb-tool.vzb-small .vzb-timeslider.vzb-ts-axis-aligned .vzb-ts-btns .vzb-ts-btn.vzb-ts-btn-play{padding:0}.vzb-tool.vzb-small .vzb-timeslider.vzb-ts-axis-aligned .vzb-ts-slider-wrapper{position:absolute;top:0;right:0;bottom:5px;left:30px}.vzb-tool.vzb-medium .vzb-timeslider{min-height:40px}.vzb-tool.vzb-medium .vzb-timeslider .vzb-ts-slider{margin-left:5px}.vzb-tool.vzb-medium .vzb-timeslider .vzb-ts-slider-wrapper{margin-right:5px}.vzb-tool.vzb-medium .vzb-timeslider .vzb-ts-slider-wrapper .vzb-ts-slider-axis .vzb-axis-line{stroke-width:7px}.vzb-tool.vzb-medium .vzb-timeslider .vzb-ts-slider-wrapper .vzb-ts-slider-handle{stroke-width:5px}.vzb-tool.vzb-medium .vzb-timeslider .vzb-ts-btns{position:absolute;top:-10px;bottom:0;left:0}.vzb-tool.vzb-medium .vzb-timeslider .vzb-ts-btns .vzb-ts-btn{margin-left:auto;margin-right:15px}.vzb-tool.vzb-medium .vzb-timeslider.vzb-ts-axis-aligned .vzb-ts-btns{position:absolute;top:0;right:0;bottom:5px;left:5px}.vzb-tool.vzb-large .vzb-timeslider{min-height:50px}.vzb-tool.vzb-large .vzb-timeslider .vzb-ts-slider-wrapper{margin-right:5px}.vzb-tool.vzb-large .vzb-timeslider .vzb-ts-slider-wrapper .vzb-ts-slider{margin-left:5px;font-size:1em}.vzb-tool.vzb-large .vzb-timeslider .vzb-ts-slider-wrapper .vzb-ts-slider-axis .vzb-axis-line,.vzb-tool.vzb-large .vzb-timeslider .vzb-ts-slider-wrapper .vzb-ts-slider-progress .domain,.vzb-tool.vzb-large .vzb-timeslider .vzb-ts-slider-wrapper .vzb-ts-slider-select .selected-end,.vzb-tool.vzb-large .vzb-timeslider .vzb-ts-slider-wrapper .vzb-ts-slider-select .selected-start{stroke-width:9px}.vzb-tool.vzb-large .vzb-timeslider .vzb-ts-slider-wrapper .vzb-ts-slider-handle{stroke-width:6px}.vzb-tool.vzb-large .vzb-timeslider .vzb-ts-btns{position:absolute;top:-15px;right:0;bottom:0;left:0;width:60px;height:60px}.vzb-tool.vzb-large .vzb-timeslider .vzb-ts-btns .vzb-ts-btn{width:60px;height:60px;margin:0 15px 0 auto}.vzb-tool.vzb-large .vzb-timeslider .vzb-ts-btns .vzb-ts-btn .vzb-icon{width:60px;height:60px}.vzb-tool.vzb-large .vzb-timeslider.vzb-ts-axis-aligned .vzb-ts-btns{position:absolute;top:0;right:0;bottom:5px;left:5px}.vzb-tool.vzb-large .vzb-timeslider.vzb-ts-axis-aligned .vzb-ts-slider-wrapper{position:absolute;top:0;right:0;bottom:5px;left:0}.vzb-tool .vzb-dialog-shadow{-ms-box-shadow:0 8px 15px rgba(0,0,0,.24);-o-box-shadow:0 8px 15px rgba(0,0,0,.24);box-shadow:0 8px 15px rgba(0,0,0,.24);transition:.3s ease-in-out;border-top:1px solid #f7f7f7}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog{width:280px;margin:0;vertical-align:top;background-color:#fff;display:block;position:absolute;overflow:hidden}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog .vzb-dialog-title{color:#607889;font-size:1em;margin:48px 20px 15px;display:inline-block}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog .vzb-dialog-title span{vertical-align:middle}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog .vzb-dialog-title .vzb-ip-select{color:#425663;line-height:21px}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog .vzb-dialog-content{color:#666;font-family:Lucida Sans Unicode,Lucida Grande,sans-serif;font-size:.8em;overflow:hidden;overflow-y:auto;padding:0 20px 2px}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog .vzb-dialog-content.vzb-dialog-content-fixed{height:250px}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog .vzb-dialog-content input[type=radio],.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog .vzb-dialog-content input[type=radio]+span{cursor:pointer}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog .vzb-dialog-content input[type=radio][disabled=true]{cursor:default;opacity:.7}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog .vzb-dialog-content input[type=radio][disabled=true]+span{cursor:default;color:#9fbbc1;opacity:.7}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog input[type=search],.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog input[type=text]{border-radius:4px;-ms-box-sizing:border-box;-o-box-sizing:border-box;box-sizing:border-box;font-size:1em;border:1px solid hsla(0,0%,60%,.4);padding:9px;display:block;width:100%;outline:none;font-family:Lucida Sans Unicode,Lucida Grande,sans-serif}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog input[type=search]:focus,.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog input[type=text]:focus{border:1px solid hsla(0,0%,60%,.6)}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog input[type=search]{-webkit-appearance:none;-moz-appearance:none;display:inline-block;padding-right:14px;box-shadow:none}.vzb-rtl.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog input[type=search]{padding-left:14px;padding-right:9px}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog input[type=search]::-webkit-search-cancel-button,.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog input[type=search]::-webkit-search-decoration{-webkit-appearance:none}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog input[type=search]::-webkit-search-cancel-button{margin:0}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog input[type=search]::-ms-clear{display:none;margin:0}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog input[type=search]:not(:focus)~button[type=reset]{visibility:hidden}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog input[type=search]~button[type=reset]{-webkit-appearance:none;-moz-appearance:none;width:10px;margin-left:-18px;padding:3px 1px;border:0;outline:none;color:#4b98aa;background:#fff;transition:visibility .1s;cursor:pointer;font-size:12px;font-weight:900;opacity:.7}.vzb-rtl.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog input[type=search]~button[type=reset]{margin-left:0;margin-right:-18px}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog input[type=search]~button[type=reset]:hover{opacity:1;visibility:visible}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog input[type=search]~button[type=reset]:after{content:"\2715";position:relative}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog input[type=search]:not(:valid)~button[type=reset]{visibility:hidden}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog .vzb-dialog-buttons{display:flex;align-items:center;justify-content:space-around;padding:7px 20px}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog .vzb-dialog-buttons .vzb-dialog-control{flex:100 1 auto;width:auto;min-width:0;display:block}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog .vzb-dialog-control{display:table-cell;width:100%;vertical-align:middle}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog .vzb-dialog-control:first-child{padding-left:0}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog .vzb-dialog-control:last-child{padding-right:0}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog .vzb-dialog-button{display:table-cell;width:auto;cursor:pointer;padding:8px;color:#999;font-family:Lucida Sans Unicode,Lucida Grande,sans-serif;text-align:center;text-transform:uppercase}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog .vzb-dialog-button:first-child{padding-left:0}.vzb-rtl.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog .vzb-dialog-button:first-child{padding-left:8px;padding-right:0}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog .vzb-dialog-button:last-child{padding-right:0}.vzb-rtl.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog .vzb-dialog-button:last-child{padding-left:0;padding-right:8px}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog .vzb-dialog-button.vzb-label-primary{color:#607889;font-weight:700}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog .vzb-dialog-button:hover{color:#4b98aa}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog .vzb-dialog-br{border-top:1px solid #ededed;width:100%;height:28px;margin-top:28px}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog .thumb-tack-class{border-radius:50%;width:26px;height:26px;border:1px solid #cce6ed;display:inline-block;position:relative;float:right;margin-right:8px;margin-top:8px}.vzb-rtl.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog .thumb-tack-class{margin-left:8px;margin-right:0}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog .thumb-tack-class path{fill:#4b98aa}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog .thumb-tack-class-ico{position:absolute!important;left:7px!important;top:4px!important;cursor:pointer}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog .thumb-tack-class-ico-drag{cursor:move}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog .thumb-tack-class-ico-drag svg{transform:translate(4px,3.5px);-webkit-transform:translate(4px,3.5px);-moz-transform:translate(4px,3.5px);-ms-transform:translate(4px,3.5px);-o-transform:translate(4px,3.5px);cursor:move}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog .thumb-tack-class-ico-pin svg{transform:translate(4px,4px);-webkit-transform:translate(4px,4px);-moz-transform:translate(4px,4px);-ms-transform:translate(4px,4px);-o-transform:translate(4px,4px)}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog .thumb-tack-class-ico:before{color:#4b98aa!important}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog .vzb-dialog-checkbox{display:block;height:18px;margin:6px 0;position:relative}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog .vzb-dialog-checkbox label{position:absolute;top:0;padding-right:1px;white-space:nowrap;cursor:pointer;max-width:100%;text-indent:27px;line-height:22px;overflow:hidden;text-overflow:ellipsis;transition:color .3s}.vzb-rtl.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog .vzb-dialog-checkbox label{padding-left:1px;padding-right:0}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog .vzb-dialog-checkbox label.vzb-find-item-brokendata{color:#9fbbc1;text-decoration:line-through}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog .vzb-dialog-checkbox label:before{position:absolute;top:0;left:0;border-radius:4px;content:"";cursor:pointer;width:18px;height:18px;background:#f2fafc;border:1px solid rgba(96,120,137,.2)}.vzb-rtl.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog .vzb-dialog-checkbox label:before{left:auto;right:0}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog .vzb-dialog-checkbox label:after{position:absolute;top:5px;left:5px;filter:alpha(opacity=0);opacity:0;transform:rotate(-45deg);-webkit-transform:rotate(-45deg);-moz-transform:rotate(-45deg);-ms-transform:rotate(-45deg);-o-transform:rotate(-45deg);content:"";width:8px;height:4px;background:transparent;border:3px solid #607889;border-top:0;border-right:0}.vzb-rtl.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog .vzb-dialog-checkbox label:after{left:auto;right:5px}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog .vzb-dialog-checkbox input[type=checkbox]:checked+label:before{border:1px solid rgba(96,120,137,.5)}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog .vzb-dialog-checkbox input[type=checkbox]:checked+label:after{filter:alpha(opacity=100);opacity:1}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog.notransition{transition:max-height}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog .vzb-dialog-sublabel{color:#607889;font-weight:700;margin-bottom:16px}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog .vzb-dialog-sublabel .vzb-ip-select{color:#425663;font-weight:400}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog .vzb-dialog-paragraph{margin-bottom:20px}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog.pinned .thumb-tack-class-ico-pin{background-color:#4b98aa;border:1px solid #4b98aa}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog.pinned .thumb-tack-class-ico-pin path{fill:#fff}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog.pinned .thumb-tack-class-ico:before{color:#fff!important}.vzb-tool .vzb-tool-dialogs:not(.vzb-no-hover) .vzb-dialog-checkbox label:hover:after{filter:alpha(opacity=30);opacity:.3}.vzb-tool .vzb-tool-dialogs .vzb-top-dialog{visibility:hidden}.vzb-tool .vzb-tool-dialogs .vzb-top-dialog.vzb-popup{z-index:-2}.vzb-tool .vzb-tool-dialogs .vzb-top-dialog.vzb-popup.vzb-active{z-index:20;visibility:visible}.vzb-tool .vzb-tool-dialogs .vzb-top-dialog.vzb-popup>.vzb-dialog-modal{display:flex;flex-direction:column}.vzb-tool .vzb-tool-dialogs .vzb-top-dialog.vzb-popup>.vzb-dialog-modal>.thumb-tack-class{position:absolute;right:0}.vzb-rtl.vzb-tool .vzb-tool-dialogs .vzb-top-dialog.vzb-popup>.vzb-dialog-modal>.thumb-tack-class{left:0;right:auto}.vzb-tool .vzb-tool-dialogs .vzb-top-dialog.vzb-popup>.vzb-dialog-modal>.thumb-tack-class.thumb-tack-class-ico-drag{right:34px}.vzb-rtl.vzb-tool .vzb-tool-dialogs .vzb-top-dialog.vzb-popup>.vzb-dialog-modal>.thumb-tack-class.thumb-tack-class-ico-drag{left:34px;right:auto}.vzb-tool .vzb-tool-dialogs .vzb-top-dialog.vzb-popup>.vzb-dialog-modal>.vzb-dialog-buttons,.vzb-tool .vzb-tool-dialogs .vzb-top-dialog.vzb-popup>.vzb-dialog-modal>.vzb-dialog-title{flex:none}.vzb-tool .vzb-tool-dialogs .vzb-top-dialog.vzb-popup>.vzb-dialog-modal>.vzb-dialog-buttons .vzb-dialog-button{flex:1 1 auto;display:block}.vzb-tool .vzb-tool-dialogs .vzb-top-dialog.vzb-popup>.vzb-dialog-modal>.vzb-dialog-content{flex:1 1 auto}.vzb-tool .vzb-tool-dialogs .vzb-moreoptions{position:static;box-shadow:none}.vzb-tool .vzb-tool-dialogs .vzb-moreoptions .vzb-dialog-modal>.thumb-tack-class.thumb-tack-class-ico-drag,.vzb-tool .vzb-tool-dialogs .vzb-moreoptions .vzb-dialog-modal>.thumb-tack-class.thumb-tack-class-ico-pin{display:none}.vzb-tool .vzb-tool-dialogs .vzb-moreoptions .vzb-dialog-modal>.vzb-dialog-title{display:block;position:relative;margin:0 0 20px;padding:0}.vzb-tool .vzb-tool-dialogs .vzb-moreoptions .vzb-dialog-modal>.vzb-dialog-title .vzb-ip-holder{margin-top:25px;margin-left:15px;margin-right:10px}.vzb-rtl.vzb-tool .vzb-tool-dialogs .vzb-moreoptions .vzb-dialog-modal>.vzb-dialog-title .vzb-ip-holder{margin-left:10px;margin-right:15px}.vzb-tool .vzb-tool-dialogs .vzb-moreoptions .vzb-dialog-modal>.vzb-dialog-content{font-size:1em;padding-bottom:10px}.vzb-tool .vzb-tool-dialogs .vzb-moreoptions .vzb-dialog-modal>.vzb-dialog-buttons{padding-top:0;padding-bottom:0}.vzb-tool .vzb-tool-dialogs .vzb-moreoptions .vzb-dialog-modal>.vzb-dialog-buttons [data-click=closeDialog]{display:none}.vzb-tool .vzb-tool-dialogs .vzb-slider-holder{margin:0 auto;position:relative}.vzb-tool .vzb-tool-dialogs .vzb-slider-holder .vzb-slider-svg{max-width:100%;max-height:100%;margin:0 auto;display:block;position:relative}.vzb-tool .vzb-tool-dialogs .vzb-slider-holder .vzb-slider{fill:#000}.vzb-tool .vzb-tool-dialogs .vzb-slider-holder .vzb-slider .vzb-slider-thumb-badge{fill:#607889;stroke:#fff;stroke-width:2px;stroke-linejoin:round;stroke-opacity:1}.vzb-tool .vzb-tool-dialogs .vzb-slider-holder .vzb-slider .overlay{fill-opacity:.1;cursor:pointer!important}.vzb-tool .vzb-tool-dialogs .vzb-slider-holder .vzb-slider .selection{fill:unset;fill-opacity:.125;stroke-width:0;cursor:col-resize!important}.vzb-tool .vzb-tool-dialogs .vzb-slider-holder .vzb-slider .handle{cursor:pointer!important}.vzb-tool .vzb-tool-dialogs.vzb-large .vzb-slider-holder,.vzb-tool .vzb-tool-dialogs.vzb-presentation .vzb-slider-holder{height:150px}.vzb-tool .vzb-tool-dialogs.vzb-medium .vzb-slider-holder{height:120px}.vzb-tool .vzb-tool-dialogs.vzb-small .vzb-slider-holder{height:90px}.vzb-tool .vzb-tool-dialogs .vzb-slider-holder .vzb-slider .vzb-bs-slider-thumb-arc{fill:none;pointer-events:none;stroke:#607889;stroke-width:2px}.vzb-tool .vzb-tool-dialogs .vzb-slider-holder .vzb-slider .vzb-bs-slider-thumb-label,.vzb-tool .vzb-tool-dialogs .vzb-slider-holder .vzb-slider .vzb-szs-slider-thumb-label{direction:ltr;pointer-events:none}.vzb-tool .vzb-tool-dialogs .vzb-slider-holder .vzb-slider-singlehandleslider .overlay{fill:#607889;fill-opacity:.3}.vzb-tool .vzb-tool-dialogs .vzb-ip-holder{display:flex;flex-direction:row;align-items:center}.vzb-tool .vzb-tool-dialogs .vzb-ip-holder .vzb-ip-select{display:block;flex:1 1 auto;min-width:0;position:relative;margin:0 10px;padding:5px 21px 5px 5px;border:1px solid #425663;border-radius:4px;cursor:pointer;overflow:hidden;text-overflow:ellipsis;line-height:20px;text-align:center}.vzb-rtl.vzb-tool .vzb-tool-dialogs .vzb-ip-holder .vzb-ip-select{padding-left:21px;padding-right:5px;margin-left:5px;margin-right:11px}.vzb-tool .vzb-tool-dialogs .vzb-ip-holder .vzb-ip-select:after{content:"";position:absolute;width:0;height:0;border:6px solid transparent;border-top:12px solid #425663;top:.7em;right:5px}.vzb-rtl.vzb-tool .vzb-tool-dialogs .vzb-ip-holder .vzb-ip-select:after{left:5px;right:auto}.vzb-tool .vzb-tool-dialogs .vzb-ip-holder .vzb-ip-select:hover{background-color:#e3eef0}.vzb-tool .vzb-tool-dialogs .vzb-ip-holder .vzb-ip-info{display:block;flex:0 0 auto;height:1.1em;width:1.1em}.vzb-tool .vzb-tool-dialogs .vzb-ip-holder .vzb-ip-info .vzb-icon{overflow:visible;width:1.1em;height:1.1em}.vzb-tool .vzb-tool-dialogs .vzb-sidebar .vzb-ip-select{margin-right:2px}.vzb-rtl.vzb-tool .vzb-tool-dialogs .vzb-sidebar .vzb-ip-select{margin-left:2px;margin-right:11px}.vzb-tool .vzb-tool-dialogs .vzb-mmi-holder{display:flex;align-items:center}.vzb-tool .vzb-tool-dialogs .vzb-mmi-holder *{flex:none}.vzb-tool .vzb-tool-dialogs .vzb-mmi-holder input[type=text]{margin-left:5px;margin-right:10px;width:auto;max-width:30%;padding:5px;display:inline-block}.vzb-rtl.vzb-tool .vzb-tool-dialogs .vzb-mmi-holder input[type=text]{margin-left:10px;margin-right:5px}.vzb-tool .vzb-tool-dialogs .vzb-cl-rainbow-legend{display:none}.vzb-tool .vzb-tool-dialogs [data-dlg=moreoptions] .vzb-cl-rainbow-legend{display:block}.vzb-tool .vzb-tool-dialogs .vzb-cl-outer .vzb-cl-holder{width:100%;overflow:hidden;position:relative}.vzb-tool .vzb-tool-dialogs .vzb-cl-outer .vzb-cl-colorlist{overflow:hidden}.vzb-tool .vzb-tool-dialogs .vzb-cl-outer .vzb-cl-option{padding-bottom:5px;padding-top:5px;cursor:pointer;padding-left:15px}.vzb-rtl.vzb-tool .vzb-tool-dialogs .vzb-cl-outer .vzb-cl-option{padding-left:0;padding-right:15px}.vzb-tool .vzb-tool-dialogs .vzb-cl-outer .vzb-cl-option .vzb-cl-color-sample{display:inline-block;width:20px;height:20px;border-radius:10px;margin-right:10px;cursor:pointer}.vzb-rtl.vzb-tool .vzb-tool-dialogs .vzb-cl-outer .vzb-cl-option .vzb-cl-color-sample{margin-left:10px;margin-right:0}.vzb-tool .vzb-tool-dialogs .vzb-cl-outer .vzb-cl-option .vzb-cl-color-legend{display:inline-block;vertical-align:super;cursor:pointer}.vzb-tool .vzb-tool-dialogs .vzb-cl-outer .vzb-cl-option .vzb-cl-color-legend:hover{text-decoration:underline}.vzb-tool .vzb-tool-dialogs .vzb-cl-outer .vzb-cl-option.vzb-cl-compact{display:inline-block;float:left}.vzb-tool .vzb-tool-dialogs .vzb-cl-outer .vzb-cl-option.vzb-cl-compact .vzb-cl-color-legend{display:none}.vzb-tool .vzb-tool-dialogs .vzb-cl-outer .vzb-cl-labelscale{top:5px;padding-top:20px;padding-bottom:10px;height:50px}.vzb-tool .vzb-tool-dialogs .vzb-cl-outer .vzb-cl-labelscale svg{position:absolute;left:0;right:0;top:25px;height:20px}.vzb-tool .vzb-tool-dialogs .vzb-cl-outer .vzb-cl-labelscale svg .tick line{stroke:none}.vzb-tool .vzb-tool-dialogs .vzb-cl-outer .vzb-cl-labelscale .vzb-cl-subtitle{top:30px;position:relative;padding-bottom:5px}.vzb-tool .vzb-tool-dialogs .vzb-cl-outer .vzb-cl-rainbow-legend{top:0;left:0;height:12px;position:absolute}.vzb-tool .vzb-tool-dialogs .vzb-cl-outer .vzb-cl-rainbow-legend circle{cursor:pointer}.vzb-tool .vzb-tool-dialogs .vzb-cl-outer .vzb-cl-rainbow{height:20px;position:absolute;left:0;right:0;top:6px}.vzb-tool .vzb-tool-dialogs .vzb-cl-outer .vzb-cl-minimap{height:145px;width:100%}.vzb-tool .vzb-tool-dialogs .vzb-cl-outer .vzb-cl-minimap svg{height:100%}.vzb-tool .vzb-tool-dialogs .vzb-cl-outer .vzb-cl-subtitle-text{display:block;white-space:normal}.vzb-tool .vzb-tool-dialogs .vzb-cl-outer .vzb-cl-more-hint{position:absolute;bottom:0;opacity:.3;right:0;font-size:.8em}.vzb-tool .vzb-tool-dialogs .vzb-cl-outer .vzb-cl-select-dialog{opacity:1;position:absolute;display:block;padding:5px 15px;top:50%;transform:translateY(-50%);left:20px;right:20px;border:1px solid #000;border-radius:4px;background:#f2fafc;z-index:1}.vzb-tool .vzb-tool-dialogs .vzb-cl-outer .vzb-cl-select-dialog-item{float:left;margin:3px auto;cursor:pointer}.vzb-rtl.vzb-tool .vzb-tool-dialogs .vzb-cl-outer .vzb-cl-select-dialog-item{float:right}.vzb-tool .vzb-tool-dialogs .vzb-cl-outer .vzb-cl-select-dialog-item:hover{text-decoration:underline}.vzb-tool .vzb-tool-dialogs .vzb-cl-outer .vzb-cl-select-dialog-item-moreoptions{display:none}.vzb-tool .vzb-tool-dialogs .vzb-cl-outer .vzb-cl-select-dialog-item-disabled{opacity:.5;cursor:default}.vzb-tool .vzb-tool-dialogs .vzb-cl-outer .vzb-cl-select-dialog-item-tooltip{white-space:normal;font-size:.8em}.vzb-tool .vzb-tool-dialogs .vzb-cl-outer .vzb-cl-select-dialog-close{cursor:pointer;position:absolute;right:5px;top:5px}.vzb-rtl.vzb-tool .vzb-tool-dialogs .vzb-cl-outer .vzb-cl-select-dialog-close{left:5px;right:auto}.vzb-tool .vzb-tool-dialogs .vzb-cl-outer .vzb-cl-select-dialog-close svg{width:20px;height:20px}.vzb-tool .vzb-tool-dialogs .vzb-cl-outer .vzb-cl-select-dialog-title{margin-bottom:5px;font-weight:700}.vzb-tool .vzb-tool-dialogs .vzb-moreoptions .vzb-cl-select-dialog-item-moreoptions{display:block}.vzb-tool .vzb-tool-dialogs .vzb-sc-holder input{margin:10px;margin-left:0;width:auto}.vzb-tool .vzb-tool-dialogs .vzb-dl-holder .vzb-draggable{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;margin:auto;padding:5px 0;width:200px}.vzb-tool .vzb-tool-dialogs .vzb-dl-holder .vzb-draggable>div{padding-bottom:3px;opacity:.4}.vzb-tool .vzb-tool-dialogs .vzb-dl-holder .vzb-draggable [draggable=true]{position:relative;opacity:1;padding-bottom:3px}.vzb-tool .vzb-tool-dialogs .vzb-dl-holder .vzb-draggable [draggable=true].dragged{z-index:2}.vzb-tool .vzb-tool-dialogs .vzb-dl-holder .vzb-draggable [draggable=true].dragged li{cursor:move;background:#e3eef0;border-width:1px 3px;border-color:#666}.vzb-tool .vzb-tool-dialogs .vzb-dl-holder .vzb-draggable [draggable=true] li{cursor:move;background:#f2fafc;border:1px solid #9fbbc1}.vzb-tool .vzb-tool-dialogs .vzb-dl-holder .vzb-draggable [draggable=true] li.hover{background:#e3eef0;border-color:#666}.vzb-tool .vzb-tool-dialogs .vzb-dl-holder .vzb-draggable li{cursor:default;border-radius:4px;background:#f2fafc;border:1px solid #9fbbc1;list-style:none;padding:3px 6px;line-height:1em}.vzb-tool .vzb-tool-dialogs .vzb-dl-holder .vzb-draggable li .label-circle{display:inline-block;width:10px;height:10px;border-radius:50%;margin-top:1px;margin-right:5px}.vzb-rtl.vzb-tool .vzb-tool-dialogs .vzb-dl-holder .vzb-draggable li .label-circle{margin-left:5px;margin-right:0}.vzb-tool .vzb-tool-dialogs .vzb-dl-holder .over{border:2px dashed #333}.vzb-tool.vzb-large .vzb-tool-dialogs .vzb-dialogs-dialog.vzb-top-dialog,.vzb-tool.vzb-medium .vzb-tool-dialogs .vzb-dialogs-dialog.vzb-top-dialog{top:20px;bottom:auto}.vzb-tool.vzb-large .vzb-tool-dialogs .vzb-dialogs-dialog.vzb-popup,.vzb-tool.vzb-medium .vzb-tool-dialogs .vzb-dialogs-dialog.vzb-popup{position:absolute;top:20px;right:-10px;bottom:auto;left:auto;margin-right:60px}.vzb-rtl.vzb-tool.vzb-large .vzb-tool-dialogs .vzb-dialogs-dialog.vzb-popup,.vzb-rtl.vzb-tool.vzb-medium .vzb-tool-dialogs .vzb-dialogs-dialog.vzb-popup{right:calc(100% - 330px);margin-left:60px;margin-right:0}.vzb-tool.vzb-large .vzb-tool-dialogs .vzb-dialogs-dialog.vzb-popup.vzb-active,.vzb-tool.vzb-medium .vzb-tool-dialogs .vzb-dialogs-dialog.vzb-popup.vzb-active{position:absolute;top:20px;right:-10px;bottom:auto;left:auto}.vzb-rtl.vzb-tool.vzb-large .vzb-tool-dialogs .vzb-dialogs-dialog.vzb-popup.vzb-active,.vzb-rtl.vzb-tool.vzb-medium .vzb-tool-dialogs .vzb-dialogs-dialog.vzb-popup.vzb-active{right:calc(100% - 330px)}.vzb-tool.vzb-small .vzb-tool-dialogs .vzb-dialogs-dialog.vzb-popup>.vzb-dialog-modal>.vzb-dialog-title{padding:0;margin:20px 20px 10px}.vzb-tool.vzb-small .vzb-tool-dialogs .vzb-dialogs-dialog.vzb-popup>.vzb-dialog-modal>.vzb-dialog-buttons{padding:0 20px 5px}.vzb-tool.vzb-small .vzb-tool-dialogs .vzb-dialogs-dialog.vzb-popup.vzb-active{top:auto}.vzb-tool.vzb-small .vzb-presentationmode-switch{pointer-events:none}.vzb-tool.vzb-small .vzb-presentationmode-switch .vzb-dialog-checkbox input[type=checkbox]+label{background-color:#999;border:1px solid hsla(0,0%,40%,.5)}.vzb-tool.vzb-small .vzb-presentationmode-switch .vzb-dialog-checkbox input[type=checkbox]+label:after{filter:alpha(opacity=0);opacity:0}.vzb-tool.vzb-small.vzb-portrait .vzb-tool-dialogs .vzb-dialogs-dialog.vzb-popup{position:absolute;right:0;bottom:-450px;left:0;margin:auto}.vzb-tool.vzb-small.vzb-portrait .vzb-tool-dialogs .vzb-dialogs-dialog.vzb-popup.vzb-active{position:absolute;right:0;bottom:45px;left:0}.vzb-tool.vzb-small.vzb-landscape .vzb-dialogs-dialog.vzb-popup{position:absolute;top:-1000px;right:-10px;bottom:auto;left:auto;margin-right:60px}.vzb-rtl.vzb-tool.vzb-small.vzb-landscape .vzb-dialogs-dialog.vzb-popup{left:-10px;right:auto;margin-left:60px;margin-right:0}.vzb-tool.vzb-small.vzb-landscape .vzb-dialogs-dialog.vzb-popup.vzb-active{position:absolute;top:5px;right:-10px;bottom:auto;left:auto}.vzb-rtl.vzb-tool.vzb-small.vzb-landscape .vzb-dialogs-dialog.vzb-popup.vzb-active{left:-10px;right:auto}.vzb-tool.vzb-large.vzb-dialog-expand-true .vzb-tool-dialogs>.vzb-dialogs-dialog.vzb-top-dialog{margin-right:30px;top:auto;bottom:70px;left:110%}.vzb-tool.vzb-large.vzb-dialog-expand-true .vzb-tool-dialogs>.vzb-dialogs-dialog.vzb-popup{position:absolute;top:auto;right:-10px;bottom:70px;left:auto}.vzb-rtl.vzb-tool.vzb-large.vzb-dialog-expand-true .vzb-tool-dialogs>.vzb-dialogs-dialog.vzb-popup{margin-left:30px;margin-right:0;right:calc(100% - 300px)}.vzb-tool.vzb-large.vzb-dialog-expand-true .vzb-tool-dialogs>.vzb-dialogs-dialog.vzb-popup.vzb-active{position:absolute;top:auto;right:-10px;bottom:70px;left:auto}.vzb-rtl.vzb-tool.vzb-large.vzb-dialog-expand-true .vzb-tool-dialogs>.vzb-dialogs-dialog.vzb-popup.vzb-active{right:calc(100% - 300px)}.vzb-tool.vzb-large.vzb-dialog-expand-true .vzb-tool-dialogs>.vzb-dialogs-dialog.vzb-sidebar{visibility:visible;display:block;margin:5px 5px 2px;position:static;box-shadow:none;background-color:#f2fafc;border-bottom:1px solid hsla(0,0%,78%,.4);z-index:auto}.vzb-tool.vzb-large.vzb-dialog-expand-true .vzb-tool-dialogs>.vzb-dialogs-dialog.vzb-sidebar .vzb-dialog-buttons{display:none;padding:5px 25px}.vzb-tool.vzb-large.vzb-dialog-expand-true .vzb-tool-dialogs>.vzb-dialogs-dialog.vzb-sidebar .vzb-dialog-modal{flex:auto;display:flex;flex-direction:column;overflow:hidden}.vzb-tool.vzb-large.vzb-dialog-expand-true .vzb-tool-dialogs>.vzb-dialogs-dialog.vzb-sidebar .vzb-dialog-modal .thumb-tack-class.thumb-tack-class-ico-drag,.vzb-tool.vzb-large.vzb-dialog-expand-true .vzb-tool-dialogs>.vzb-dialogs-dialog.vzb-sidebar .vzb-dialog-modal .thumb-tack-class.thumb-tack-class-ico-pin{display:none}.vzb-tool.vzb-large.vzb-dialog-expand-true .vzb-tool-dialogs>.vzb-dialogs-dialog.vzb-sidebar .vzb-dialog-title{margin:5px 0 5px 20px;flex:none}.vzb-rtl.vzb-tool.vzb-large.vzb-dialog-expand-true .vzb-tool-dialogs>.vzb-dialogs-dialog.vzb-sidebar .vzb-dialog-title{margin-left:0;margin-right:20px}.vzb-tool.vzb-large.vzb-dialog-expand-true .vzb-tool-dialogs>.vzb-dialogs-dialog.vzb-sidebar .vzb-dialog-button{position:relative}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=about].vzb-moreoptions.vzb-accordion-section.vzb-accordion-active{max-height:2000px!important}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=colors] .vzb-dialog-content{padding-left:5px;padding-right:5px}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=colors] .vzb-dialog-content .vzb-cl-colorlist{padding-left:15px;padding-right:15px;overflow:visible;min-height:90px}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=colors] .vzb-dialog-content .vzb-cl-rainbow{left:15px;right:15px}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=colors].vzb-popup .vzb-dialog-modal .vzb-dialog-content{padding-left:10px;padding-right:10px;overflow:auto}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=colors].vzb-popup .vzb-dialog-modal .vzb-dialog-content .vzb-cl-rainbow{left:15px;right:18px}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=colors].vzb-moreoptions .vzb-cl-colorlist{min-height:115px}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=colors].vzb-moreoptions .vzb-dialog-modal .vzb-dialog-content{padding-left:10px;padding-right:10px;overflow:auto;max-height:200px}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=colors].vzb-moreoptions .vzb-dialog-modal .vzb-dialog-content .vzb-cl-rainbow{left:16px;right:auto;width:214px}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=colors].vzb-moreoptions .vzb-dialog-modal .vzb-dialog-content .vzb-cl-unit{padding-left:1px}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=colors].vzb-moreoptions .vzb-dialog-modal .vzb-caxis-selector .vzb-ip-select{flex:none;width:214px}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=colors].vzb-popup .vzb-dialog-title,.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=colors].vzb-sidebar .vzb-dialog-title{display:flex;flex-direction:row;align-items:center}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=colors].vzb-popup .vzb-dialog-title>span:first-child,.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=colors].vzb-sidebar .vzb-dialog-title>span:first-child{display:block;flex:0 0 auto}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=colors].vzb-popup .vzb-caxis-selector,.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=colors].vzb-sidebar .vzb-caxis-selector{display:block;flex:1 1 auto;min-width:1px}.vzb-tool.vzb-large.vzb-dialog-expand-true .vzb-dialogs-dialog.vzb-sidebar[data-dlg=colors]{z-index:auto!important;flex:none}.vzb-tool.vzb-large.vzb-dialog-expand-true .vzb-dialogs-dialog.vzb-sidebar[data-dlg=colors] .vzb-dialog-content{max-height:"";margin-bottom:5px}.vzb-tool.vzb-large.vzb-dialog-expand-true .vzb-dialogs-dialog.vzb-sidebar[data-dlg=colors] .vzb-dialog-content .vzb-colorpicker-svg{z-index:10}.vzb-tool.vzb-large.vzb-dialog-expand-true .vzb-dialogs-dialog.vzb-sidebar[data-dlg=colors] .vzb-cl-outer{max-height:145px}.vzb-tool.vzb-large.vzb-dialog-expand-true .vzb-dialogs-dialog.vzb-sidebar[data-dlg=colors] .vzb-cl-outer .vzb-cl-holder{max-height:"";overflow-y:hidden;overflow-x:hidden}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=axes] .vzb-dialog-sublabel{display:flex;flex-direction:row;align-items:center}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=axes] .vzb-dialog-sublabel>span:first-child{display:block;flex:0 0 auto}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=axes] .vzb-xaxis-selector,.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=axes] .vzb-yaxis-selector{display:block;flex:1 1 auto;min-width:1px}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=axes].vzb-popup .vzb-xaxis-minmax,.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=axes].vzb-popup .vzb-yaxis-minmax{display:none}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=axes].vzb-moreoptions .vzb-dialog-content{padding-right:10px}.vzb-rtl.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=axes].vzb-moreoptions .vzb-dialog-content{padding-left:10px;padding-right:20px}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=find] .vzb-dialog-title-switch{position:relative;display:block;height:34px;margin-right:10px;align-self:flex-end;cursor:pointer}.vzb-rtl.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=find] .vzb-dialog-title-switch{margin-left:10px;margin-right:0}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=find] .vzb-dialog-title-switch input{display:none}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=find] .vzb-dialog-title-switch .vzb-switch-slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;height:0;margin-top:1.8em;border-top:1px solid;border-bottom:1px solid;border-color:#607889}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=find] .vzb-dialog-title-switch .vzb-switch-slider:before{position:absolute;content:"";height:6px;width:50%;left:0;bottom:-3px;background-color:#607889;transition:transform .4s}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=find] .vzb-dialog-title-switch input:checked~.vzb-switch-off{display:none}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=find] .vzb-dialog-title-switch .vzb-switch-off,.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=find] .vzb-dialog-title-switch input:checked~.vzb-switch-on{display:inline}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=find] .vzb-dialog-title-switch .vzb-switch-on{display:none}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=find] .vzb-dialog-title-switch input:checked+.vzb-switch-slider:before{transform:translateX(100%)}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=find] .vzb-dialog-title-switch .vzb-switch-slider.round:before{border-radius:3px}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=find] .vzb-find-filter{display:inline-block;position:relative;max-width:170px;padding:0 10px}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=find] .vzb-find-list{transform:translateZ(0)}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=find] .vzb-find-list .vzb-find-item.vzb-checked.vzb-separator{padding-bottom:25px;border-bottom:1px solid;border-bottom-color:#9fbbc1}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=find] .vzb-show-list .vzb-accordion-section:not(.vzb-accordion-active){max-height:2.5em!important}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=find] .vzb-show-list .vzb-accordion-section .vzb-accordion-section-title{cursor:pointer;background-color:rgba(159,187,193,.15);border-radius:2px;line-height:19px;height:26px}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=find] .vzb-show-list .vzb-accordion-section.vzb-filtered .vzb-show-clear-cross{display:block}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=find] .vzb-show-list .vzb-accordion-section.vzb-filtered .vzb-show-category{font-weight:700}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=find] .vzb-show-list .vzb-accordion-section.vzb-fullexpand{max-height:none!important}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=find] .vzb-show-list .vzb-accordion-section.vzb-fullexpand .vzb-show-more{display:none}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=find] .vzb-show-list .vzb-accordion-section:not(.vzb-fullexpand) .vzb-show-item.vzb-checked.vzb-separator{margin-bottom:2em}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=find] .vzb-show-list .vzb-accordion-section .vzb-show-more{padding:0;font-weight:400;position:absolute;text-align:center;width:100%;text-transform:uppercase}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=find] .vzb-show-list .vzb-accordion-section .vzb-show-clear-cross{font-size:1.5em;line-height:100%;display:none;text-align:end;position:absolute;right:2px;margin-top:5px;cursor:pointer}.vzb-rtl.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=find] .vzb-show-list .vzb-accordion-section .vzb-show-clear-cross{left:2px;right:auto}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=find] .vzb-show-list .vzb-accordion-section .vzb-show-category{display:block;margin-left:3px;margin-right:1.5em;padding:3px 0;text-overflow:ellipsis;overflow:hidden;background:none}.vzb-rtl.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=find] .vzb-show-list .vzb-accordion-section .vzb-show-category{margin-left:1.5em;margin-right:3px}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=find] .vzb-show-list .vzb-accordion-section .vzb-show-category.vzb-show-category-set{margin:0 1.5em}.vzb-rtl.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=find] .vzb-show-list .vzb-accordion-section .vzb-show-category.vzb-show-category-set:before{transform:translate(1.25em) scaleX(-1)}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=find] .vzb-show-list .vzb-accordion-section .vzb-show-category.vzb-show-category-set:before{content:"\27A5";position:absolute;transform:translate(-1.25em)}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=find] .vzb-show-list .vzb-accordion-section .vzb-show-category-list{transform:translateZ(0);position:relative;pointer-events:none}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=find] .vzb-show-list .vzb-accordion-section .vzb-show-category-list input,.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=find] .vzb-show-list .vzb-accordion-section .vzb-show-category-list label{pointer-events:all}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=find] .vzb-show-list .vzb-accordion-section .vzb-show-item.vzb-checked.vzb-separator{padding-bottom:25px;border-bottom:1px solid;border-bottom-color:#9fbbc1}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=find]>.vzb-dialog-modal>.vzb-dialog-content{display:flex;font-size:1em;margin:0;padding:0}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=find]>.vzb-dialog-modal>.vzb-dialog-content>.vzb-dialog-content.vzb-active{order:-1}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=find]>.vzb-dialog-modal>.vzb-dialog-buttons .vzb-show-apply{margin-left:auto;transition:.1s ease-in-out;transition-property:opacity}.vzb-rtl.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=find]>.vzb-dialog-modal>.vzb-dialog-buttons .vzb-show-apply{margin-left:0;margin-right:auto}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=find]>.vzb-dialog-modal>.vzb-dialog-buttons .vzb-show-apply.vzb-disabled{opacity:.3;pointer-events:none}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=find] .vzb-dialog-panel{min-width:100%}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=find].vzb-popup .vzb-dialog-title{display:flex}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=find].vzb-popup .vzb-dialog-title.vzb-title-two-rows{padding-right:5px}.vzb-rtl.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=find].vzb-popup .vzb-dialog-title.vzb-title-two-rows{padding-left:5px;padding-right:25px}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=find].vzb-popup .vzb-dialog-title.vzb-title-two-rows .vzb-find-filter{flex:1 1 auto;max-width:240px}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=find].vzb-popup .vzb-dialog-button.vzb-show-apply{display:none}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=find].vzb-moreoptions .vzb-dialog-title .vzb-find-filter{padding-top:20px;margin-bottom:0}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=find].vzb-moreoptions .vzb-dialog-content{padding-bottom:0;margin-bottom:15px}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=find].vzb-popup .vzb-dialog-title.vzb-title-two-rows,.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=find].vzb-sidebar .vzb-dialog-title.vzb-title-two-rows{flex-wrap:wrap}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=find].vzb-popup .vzb-dialog-title.vzb-title-two-rows>span:first-child,.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=find].vzb-sidebar .vzb-dialog-title.vzb-title-two-rows>span:first-child{display:block;flex:0 0 auto}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=find].vzb-popup .vzb-dialog-title.vzb-title-two-rows .vzb-find-filter-selector,.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=find].vzb-sidebar .vzb-dialog-title.vzb-title-two-rows .vzb-find-filter-selector{order:-1;display:block;flex:1 1 auto;min-width:100%}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=find].vzb-popup .vzb-dialog-title.vzb-title-two-rows .vzb-find-filter,.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=find].vzb-sidebar .vzb-dialog-title.vzb-title-two-rows .vzb-find-filter{flex:1 1;padding-left:0;padding-top:5px}.vzb-rtl.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=find].vzb-popup .vzb-dialog-title.vzb-title-two-rows .vzb-find-filter,.vzb-rtl.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=find].vzb-sidebar .vzb-dialog-title.vzb-title-two-rows .vzb-find-filter{padding-right:0}.vzb-tool.vzb-large.vzb-dialog-expand-true .vzb-dialogs-dialog.vzb-sidebar[data-dlg=find]{display:flex;flex-direction:column;flex:auto}.vzb-tool.vzb-large.vzb-dialog-expand-true .vzb-dialogs-dialog.vzb-sidebar[data-dlg=find] .vzb-dialog-buttons{display:flex;flex:none}.vzb-tool.vzb-large.vzb-dialog-expand-true .vzb-dialogs-dialog.vzb-sidebar[data-dlg=find] .vzb-dialog-button.vzb-label-primary{display:none}.vzb-tool.vzb-large.vzb-dialog-expand-true .vzb-dialogs-dialog.vzb-sidebar[data-dlg=find] .vzb-dialog-content{flex-grow:1}.vzb-tool.vzb-large.vzb-dialog-expand-true .vzb-dialogs-dialog.vzb-sidebar[data-dlg=find] .vzb-dialog-content .vzb-dialog-content-fixed{height:310px;max-height:305px;min-width:140px}.vzb-tool.vzb-large.vzb-dialog-expand-true .vzb-dialogs-dialog.vzb-sidebar[data-dlg=find] .vzb-dialog-title{display:flex;flex-direction:row;align-items:center}.vzb-tool.vzb-large.vzb-dialog-expand-true .vzb-dialogs-dialog.vzb-sidebar[data-dlg=find] .vzb-dialog-title>span:first-child{display:block;flex:0 0 auto}.vzb-tool.vzb-large.vzb-dialog-expand-true .vzb-dialogs-dialog.vzb-sidebar[data-dlg=find] .vzb-find-filter{display:block;flex:1 1 auto;min-width:1px;max-width:260px;padding-right:20px}.vzb-rtl.vzb-tool.vzb-large.vzb-dialog-expand-true .vzb-dialogs-dialog.vzb-sidebar[data-dlg=find] .vzb-find-filter{padding-left:20px;padding-right:10px}.vzb-tool.vzb-large.vzb-dialog-expand-true .vzb-dialogs-dialog.vzb-sidebar[data-dlg=find] .vzb-dialog-content-fixed{min-height:0;max-height:none;height:auto;margin-top:5px}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=side] .vzb-dialog-title .vzb-side-filter{max-width:unset;padding:10px 0 0;display:block;margin-bottom:0}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=side] .vzb-dialog-content{display:flex}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=side] .vzb-side-list{width:50%;overflow:hidden}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=side] .vzb-flipsides-switch{border-top:1px solid rgba(159,187,193,.5)}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=side] .vzb-side-switch-sides{text-align:unset;font-weight:400}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=side].vzb-moreoptions .vzb-side-filter{font-size:1em;padding:20px 20px 0}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=side].vzb-moreoptions .vzb-side-selector .vzb-ip-select{flex:none;width:214px}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=side].vzb-moreoptions .vzb-dialog-content{padding-bottom:0;margin-bottom:15px}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=side].vzb-popup .vzb-dialog-title,.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=side].vzb-sidebar .vzb-dialog-title{display:flex;flex-direction:row;align-items:center;flex-wrap:wrap}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=side].vzb-popup .vzb-dialog-title>span:first-child,.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=side].vzb-sidebar .vzb-dialog-title>span:first-child{display:block;flex:0 0 auto}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=side].vzb-popup .vzb-dialog-title .vzb-side-filter,.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=side].vzb-popup .vzb-dialog-title .vzb-side-selector,.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=side].vzb-sidebar .vzb-dialog-title .vzb-side-filter,.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=side].vzb-sidebar .vzb-dialog-title .vzb-side-selector{flex:1 1 auto}.vzb-tool.vzb-large.vzb-dialog-expand-true .vzb-dialogs-dialog.vzb-sidebar[data-dlg=side]{display:flex;flex-direction:column;flex:none}.vzb-tool.vzb-large.vzb-dialog-expand-true .vzb-dialogs-dialog.vzb-sidebar[data-dlg=side] .vzb-dialog-buttons{display:block;flex:none}.vzb-tool.vzb-large.vzb-dialog-expand-true .vzb-dialogs-dialog.vzb-sidebar[data-dlg=side] .vzb-dialog-button.vzb-label-primary{display:none}.vzb-tool.vzb-large.vzb-dialog-expand-true .vzb-dialogs-dialog.vzb-sidebar[data-dlg=side] .vzb-dialog-content{flex-grow:1}.vzb-tool.vzb-large.vzb-dialog-expand-true .vzb-dialogs-dialog.vzb-sidebar[data-dlg=side] .vzb-dialog-content .vzb-dialog-content-fixed{height:310px;max-height:305px;min-width:140px}.vzb-tool.vzb-large.vzb-dialog-expand-true .vzb-dialogs-dialog.vzb-sidebar[data-dlg=side] .vzb-dialog-content .vzb-dialog-sublabel{margin-bottom:10px}.vzb-tool.vzb-large.vzb-dialog-expand-true .vzb-dialogs-dialog.vzb-sidebar[data-dlg=side] .vzb-dialog-title{display:flex;flex-direction:row;align-items:center;padding:0 0 5px 20px}.vzb-tool.vzb-large.vzb-dialog-expand-true .vzb-dialogs-dialog.vzb-sidebar[data-dlg=side] .vzb-dialog-title>span:first-child{display:block;flex:0 0 auto}.vzb-tool.vzb-large.vzb-dialog-expand-true .vzb-dialogs-dialog.vzb-sidebar[data-dlg=side] .vzb-side-filter{display:block;flex:1 1 auto;min-width:1px;max-width:260px;padding-right:20px}.vzb-rtl.vzb-tool.vzb-large.vzb-dialog-expand-true .vzb-dialogs-dialog.vzb-sidebar[data-dlg=side] .vzb-side-filter{padding-left:20px;padding-right:10px}.vzb-tool.vzb-large.vzb-dialog-expand-true .vzb-dialogs-dialog.vzb-sidebar[data-dlg=side] .vzb-dialog-content-fixed{min-height:0;max-height:none;height:auto;margin-top:5px}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=size].vzb-popup .vzb-dialog-modal .vzb-dialog-title{padding-right:5px}.vzb-rtl.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=size].vzb-popup .vzb-dialog-modal .vzb-dialog-title{padding-left:5px;padding-right:25px}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=size].vzb-popup .vzb-dialog-title,.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=size].vzb-sidebar .vzb-dialog-title{display:flex;flex-direction:row;align-items:center}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=size].vzb-popup .vzb-dialog-title>span:first-child,.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=size].vzb-sidebar .vzb-dialog-title>span:first-child{display:block;flex:0 0 auto}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=size].vzb-popup .vzb-saxis-selector,.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=size].vzb-sidebar .vzb-saxis-selector{display:block;flex:1 1 auto;min-width:1px}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=size].vzb-sidebar .vzb-dialog-bubblesize,.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=size].vzb-sidebar .vzb-dialog-subtitle{display:none}.vzb-tool.vzb-large.vzb-dialog-expand-true .vzb-dialogs-dialog[data-dlg=size].vzb-sidebar{flex:none}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=label] .vzb-dialog-content .vzb-dialog-sizeslider{margin-bottom:15px}.vzb-tool.vzb-large.vzb-dialog-expand-true .vzb-dialogs-dialog[data-dlg=label].vzb-sidebar{flex:none}.vzb-tool.vzb-large.vzb-dialog-expand-true .vzb-dialogs-dialog[data-dlg=label].vzb-sidebar .vzb-dialog-title,.vzb-tool.vzb-large.vzb-dialog-expand-true .vzb-dialogs-dialog[data-dlg=label].vzb-sidebar .vzb-saxis-selector{display:inline-block}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=zoom] .vzb-dialog-zoom-buttonlist{display:inline-flex;justify-content:flex-start;background-color:#fff;overflow:hidden;position:relative;text-align:center;width:100%;white-space:nowrap;padding-left:5px}.vzb-rtl.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=zoom] .vzb-dialog-zoom-buttonlist{padding-left:0;padding-right:5px}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=zoom] .vzb-dialog-zoom-buttonlist button,.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=zoom] .vzb-dialog-zoom-buttonlist input,.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=zoom] .vzb-dialog-zoom-buttonlist keygen,.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=zoom] .vzb-dialog-zoom-buttonlist select,.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=zoom] .vzb-dialog-zoom-buttonlist textarea{font-family:Lucida Sans Unicode,Lucida Grande,sans-serif}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=zoom] .vzb-dialog-zoom-buttonlist:-webkit-scrollbar{display:none}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=zoom] .vzb-dialog-zoom-buttonlist .vzb-buttonlist-btn{width:40px}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=zoom] .vzb-dialog-zoom-buttonlist .vzb-buttonlist-btn[data-btn=hundredpercent]:active>.vzb-buttonlist-btn-icon{background-color:#4b98aa;border:1px solid #4b98aa;color:#fff}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=zoom] .vzb-dialog-zoom-buttonlist .vzb-buttonlist-btn[data-btn=hundredpercent]:active>.vzb-buttonlist-btn-icon .vzb-icon path,.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=zoom] .vzb-dialog-zoom-buttonlist .vzb-buttonlist-btn[data-btn=hundredpercent]:active>.vzb-buttonlist-btn-icon .vzb-icon text{fill:#fff}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=zoom] .vzb-dialog-zoom-buttonlist .vzb-buttonlist-btn[data-btn=hundredpercent] .fa{padding-left:0;padding-right:0}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=zoom] .vzb-dialog-zoom-buttonlist .vzb-buttonlist-btn[data-btn=hundredpercent] .fa .vzb-icon{width:26px;vertical-align:top;font-size:10px;font-weight:700}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=zoom] .vzb-dialog-zoom-buttonlist .vzb-buttonlist-btn[data-btn=hundredpercent] .fa .vzb-icon text{text-anchor:end;font-family:Lucida Sans Unicode,Lucida Grande,sans-serif}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=zoom] .vzb-dialog-zoom-buttonlist .vzb-buttonlist-btn[data-btn=hundredpercent] .fa .vzb-icon .percent{text-anchor:start}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=zoom] .vzb-dialog-zoom-buttonlist .vzb-buttonlist-btn>.vzb-buttonlist-btn-icon{transition:background-color .1s ease-in,color .1s ease-in,border .1s ease-in,opacity .1s ease-in}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=zoom] .vzb-adaptminmaxzoom-switch,.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=zoom] .vzb-dialog-zoom-buttonlist .vzb-buttonlist-btn>.vzb-buttonlist-btn-title,.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=zoom] .vzb-panwitharrow-switch,.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=zoom] .vzb-zoomonscrolling-switch{display:none}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=zoom].vzb-moreoptions .vzb-dialog-title{margin-bottom:15px}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=zoom].vzb-moreoptions .vzb-dialog-title .vzb-dialog-zoom-buttonlist{padding-top:10px}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=zoom].vzb-moreoptions .vzb-dialog-zoom-buttonlist{padding-left:15px}.vzb-rtl.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=zoom].vzb-moreoptions .vzb-dialog-zoom-buttonlist{padding-right:15px}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=zoom].vzb-moreoptions .vzb-adaptminmaxzoom-switch,.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=zoom].vzb-moreoptions .vzb-panwitharrow-switch,.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=zoom].vzb-moreoptions .vzb-zoomonscrolling-switch{display:block}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=zoom].vzb-sidebar>.vzb-dialog-modal>.vzb-dialog-title{display:flex;align-items:center;padding-top:0}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=zoom].vzb-sidebar>.vzb-dialog-modal>.vzb-dialog-title .vzb-dialog-zoom-buttonlist{background-color:#f2fafc;vertical-align:middle}.vzb-rtl.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=zoom].vzb-sidebar>.vzb-dialog-modal>.vzb-dialog-title .vzb-dialog-zoom-buttonlist{padding-left:0}.vzb-tool.vzb-large.vzb-dialog-expand-true .vzb-dialogs-dialog.vzb-sidebar[data-dlg=stack],.vzb-tool.vzb-large.vzb-dialog-expand-true .vzb-dialogs-dialog[data-dlg=zoom].vzb-sidebar{flex:none}.vzb-tool.vzb-large.vzb-dialog-expand-true .vzb-dialogs-dialog.vzb-sidebar[data-dlg=stack] .vzb-dl-holder .vzb-draggable{height:auto}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=stack].vzb-sidebar .vzb-howtomerge,.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=stack].vzb-sidebar .vzb-manual-sorting{display:none}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=moreoptions] .vzb-dialog-options-buttonlist{display:flex;flex-wrap:wrap;justify-content:center;background-color:#f2fafc;overflow:hidden;position:relative;text-align:center;width:100%;white-space:nowrap}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=moreoptions] .vzb-dialog-options-buttonlist button,.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=moreoptions] .vzb-dialog-options-buttonlist input,.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=moreoptions] .vzb-dialog-options-buttonlist keygen,.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=moreoptions] .vzb-dialog-options-buttonlist select,.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=moreoptions] .vzb-dialog-options-buttonlist textarea{font-family:Lucida Sans Unicode,Lucida Grande,sans-serif}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=moreoptions] .vzb-dialog-options-buttonlist:-webkit-scrollbar{display:none}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=moreoptions] .vzb-dialog-options-buttonlist .vzb-buttonlist-btn>.vzb-buttonlist-btn-icon{transition:background-color .1s ease-in,color .1s ease-in,border .1s ease-in,opacity .1s ease-in}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=moreoptions]>.vzb-dialog-modal>.vzb-dialog-content{padding:0}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=moreoptions]>.vzb-dialog-modal>.vzb-dialog-content>.vzb-accordion{margin-top:1px}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=moreoptions]>.vzb-dialog-modal>.vzb-dialog-content>.vzb-accordion .vzb-accordion-section{transition:none;overflow:hidden;max-height:41px;padding-bottom:10px;width:auto;border:0}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=moreoptions]>.vzb-dialog-modal>.vzb-dialog-content>.vzb-accordion .vzb-accordion-section .vzb-dialog-title>span:first-child{display:block;padding:9px 15px 10px 10px;height:40px;background-color:#f2fafc;cursor:pointer;text-transform:uppercase}.vzb-rtl.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=moreoptions]>.vzb-dialog-modal>.vzb-dialog-content>.vzb-accordion .vzb-accordion-section .vzb-dialog-title>span:first-child{padding-left:15px;padding-right:10px}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=moreoptions]>.vzb-dialog-modal>.vzb-dialog-content>.vzb-accordion .vzb-accordion-section .vzb-dialog-title>span:first-child:after{transform:rotate(45deg);-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-ms-transform:rotate(45deg);-o-transform:rotate(45deg);content:"";position:absolute;top:18px;right:20px;width:5px;height:5px;border-right:1px solid #607889;border-top:1px solid #607889}.vzb-rtl.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=moreoptions]>.vzb-dialog-modal>.vzb-dialog-content>.vzb-accordion .vzb-accordion-section .vzb-dialog-title>span:first-child:after{transform:rotate(225deg);-webkit-transform:rotate(225deg);-moz-transform:rotate(225deg);-ms-transform:rotate(225deg);-o-transform:rotate(225deg);left:20px;right:auto}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=moreoptions]>.vzb-dialog-modal>.vzb-dialog-content>.vzb-accordion .vzb-accordion-section.vzb-accordion-active{max-height:500px;transition:max-height .3s ease-in-out}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=moreoptions]>.vzb-dialog-modal>.vzb-dialog-content>.vzb-accordion .vzb-accordion-section.vzb-accordion-active .vzb-dialog-title>span:first-child:after{transform:rotate(135deg);-webkit-transform:rotate(135deg);-moz-transform:rotate(135deg);-ms-transform:rotate(135deg);-o-transform:rotate(135deg)}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=timedisplay]{min-height:128px}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=timedisplay] .vzb-dialog-content.vzb-dialog-content-fixed{max-height:128px;padding:0;fill:#4b98aa;opacity:.5}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=timedisplay] .vzb-dialog-content.vzb-dialog-content-fixed svg{height:120px;width:100%}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=timedisplay] .vzb-dialog-content.vzb-dialog-content-fixed .vzb-timedisplay{text-anchor:middle}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=grouping] .vzb-dialog-content .vzb-dialog-groups{display:flex;justify-content:space-between;margin-left:5px;margin-right:10px}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=grouping] .vzb-dialog-content .vzb-dialog-groups span{flex:auto;max-width:10px}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=grouping].vzb-popup .vzb-dialog-title,.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=grouping].vzb-sidebar .vzb-dialog-title{display:flex;flex-direction:row;align-items:center}.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=grouping].vzb-popup .vzb-dialog-title>span:first-child,.vzb-tool .vzb-tool-dialogs .vzb-dialogs-dialog[data-dlg=grouping].vzb-sidebar .vzb-dialog-title>span:first-child{display:block;flex:0 0 auto}.vzb-tool.vzb-large.vzb-dialog-expand-true .vzb-dialogs-dialog.vzb-sidebar[data-dlg=grouping]{z-index:auto!important;flex:none}.vzb-tool.vzb-large.vzb-dialog-expand-true .vzb-dialogs-dialog.vzb-sidebar[data-dlg=grouping] .vzb-dialog-modal{flex-direction:row}.vzb-tool.vzb-large.vzb-dialog-expand-true .vzb-dialogs-dialog.vzb-sidebar[data-dlg=grouping] .vzb-dialog-content{flex:auto;margin-bottom:10px}.vzb-tool .vzb-dialog-options-buttonlist .vzb-buttonlist-btn,.vzb-tool .vzb-dialog-zoom-buttonlist .vzb-buttonlist-btn,.vzb-tool .vzb-tool-buttonlist .vzb-buttonlist-btn{outline:none;background:none;border:0;text-align:center;display:inline-block;padding:5px 4px;width:60px}.vzb-tool .vzb-dialog-options-buttonlist .vzb-buttonlist-btn>.vzb-buttonlist-btn-icon,.vzb-tool .vzb-dialog-zoom-buttonlist .vzb-buttonlist-btn>.vzb-buttonlist-btn-icon,.vzb-tool .vzb-tool-buttonlist .vzb-buttonlist-btn>.vzb-buttonlist-btn-icon{border-radius:36px;transition:.1s ease-in;cursor:pointer;background-color:#fff;border:1px solid #cce6ed;color:#4b98aa;display:inline-block;font-size:1.24em;height:26px;line-height:12px;padding:5px;text-align:center;width:26px}.vzb-tool .vzb-dialog-options-buttonlist .vzb-buttonlist-btn>.vzb-buttonlist-btn-icon .vzb-icon,.vzb-tool .vzb-dialog-zoom-buttonlist .vzb-buttonlist-btn>.vzb-buttonlist-btn-icon .vzb-icon,.vzb-tool .vzb-tool-buttonlist .vzb-buttonlist-btn>.vzb-buttonlist-btn-icon .vzb-icon{height:14px;width:14px;vertical-align:top}.vzb-tool .vzb-dialog-options-buttonlist .vzb-buttonlist-btn>.vzb-buttonlist-btn-icon .vzb-icon path,.vzb-tool .vzb-dialog-options-buttonlist .vzb-buttonlist-btn>.vzb-buttonlist-btn-icon .vzb-icon text,.vzb-tool .vzb-dialog-zoom-buttonlist .vzb-buttonlist-btn>.vzb-buttonlist-btn-icon .vzb-icon path,.vzb-tool .vzb-dialog-zoom-buttonlist .vzb-buttonlist-btn>.vzb-buttonlist-btn-icon .vzb-icon text,.vzb-tool .vzb-tool-buttonlist .vzb-buttonlist-btn>.vzb-buttonlist-btn-icon .vzb-icon path,.vzb-tool .vzb-tool-buttonlist .vzb-buttonlist-btn>.vzb-buttonlist-btn-icon .vzb-icon text{fill:#4b98aa}.vzb-tool .vzb-dialog-options-buttonlist .vzb-buttonlist-btn>.vzb-buttonlist-btn-title,.vzb-tool .vzb-dialog-zoom-buttonlist .vzb-buttonlist-btn>.vzb-buttonlist-btn-title,.vzb-tool .vzb-tool-buttonlist .vzb-buttonlist-btn>.vzb-buttonlist-btn-title{color:#9fbbc1;display:block;font-size:.625em;padding-top:1px;text-align:center;text-transform:uppercase}.vzb-tool .vzb-dialog-options-buttonlist .vzb-buttonlist-btn.vzb-buttonlist-btn-more>.btn-icon,.vzb-tool .vzb-dialog-zoom-buttonlist .vzb-buttonlist-btn.vzb-buttonlist-btn-more>.btn-icon,.vzb-tool .vzb-tool-buttonlist .vzb-buttonlist-btn.vzb-buttonlist-btn-more>.btn-icon{background-color:#fdfdfd}.vzb-tool .vzb-dialog-options-buttonlist .vzb-buttonlist-btn.vzb-active-locked>.vzb-buttonlist-btn-icon,.vzb-tool .vzb-dialog-options-buttonlist .vzb-buttonlist-btn.vzb-active>.vzb-buttonlist-btn-icon,.vzb-tool .vzb-dialog-zoom-buttonlist .vzb-buttonlist-btn.vzb-active-locked>.vzb-buttonlist-btn-icon,.vzb-tool .vzb-dialog-zoom-buttonlist .vzb-buttonlist-btn.vzb-active>.vzb-buttonlist-btn-icon,.vzb-tool .vzb-tool-buttonlist .vzb-buttonlist-btn.vzb-active-locked>.vzb-buttonlist-btn-icon,.vzb-tool .vzb-tool-buttonlist .vzb-buttonlist-btn.vzb-active>.vzb-buttonlist-btn-icon{background-color:#4b98aa;border:1px solid #4b98aa;color:#fff}.vzb-tool .vzb-dialog-options-buttonlist .vzb-buttonlist-btn.vzb-active-locked>.vzb-buttonlist-btn-icon .vzb-icon path,.vzb-tool .vzb-dialog-options-buttonlist .vzb-buttonlist-btn.vzb-active-locked>.vzb-buttonlist-btn-icon .vzb-icon text,.vzb-tool .vzb-dialog-options-buttonlist .vzb-buttonlist-btn.vzb-active>.vzb-buttonlist-btn-icon .vzb-icon path,.vzb-tool .vzb-dialog-options-buttonlist .vzb-buttonlist-btn.vzb-active>.vzb-buttonlist-btn-icon .vzb-icon text,.vzb-tool .vzb-dialog-zoom-buttonlist .vzb-buttonlist-btn.vzb-active-locked>.vzb-buttonlist-btn-icon .vzb-icon path,.vzb-tool .vzb-dialog-zoom-buttonlist .vzb-buttonlist-btn.vzb-active-locked>.vzb-buttonlist-btn-icon .vzb-icon text,.vzb-tool .vzb-dialog-zoom-buttonlist .vzb-buttonlist-btn.vzb-active>.vzb-buttonlist-btn-icon .vzb-icon path,.vzb-tool .vzb-dialog-zoom-buttonlist .vzb-buttonlist-btn.vzb-active>.vzb-buttonlist-btn-icon .vzb-icon text,.vzb-tool .vzb-tool-buttonlist .vzb-buttonlist-btn.vzb-active-locked>.vzb-buttonlist-btn-icon .vzb-icon path,.vzb-tool .vzb-tool-buttonlist .vzb-buttonlist-btn.vzb-active-locked>.vzb-buttonlist-btn-icon .vzb-icon text,.vzb-tool .vzb-tool-buttonlist .vzb-buttonlist-btn.vzb-active>.vzb-buttonlist-btn-icon .vzb-icon path,.vzb-tool .vzb-tool-buttonlist .vzb-buttonlist-btn.vzb-active>.vzb-buttonlist-btn-icon .vzb-icon text{fill:#fff}.vzb-tool .vzb-dialog-options-buttonlist .vzb-buttonlist-btn.vzb-active-locked>.vzb-buttonlist-btn-title,.vzb-tool .vzb-dialog-options-buttonlist .vzb-buttonlist-btn.vzb-active>.vzb-buttonlist-btn-title,.vzb-tool .vzb-dialog-zoom-buttonlist .vzb-buttonlist-btn.vzb-active-locked>.vzb-buttonlist-btn-title,.vzb-tool .vzb-dialog-zoom-buttonlist .vzb-buttonlist-btn.vzb-active>.vzb-buttonlist-btn-title,.vzb-tool .vzb-tool-buttonlist .vzb-buttonlist-btn.vzb-active-locked>.vzb-buttonlist-btn-title,.vzb-tool .vzb-tool-buttonlist .vzb-buttonlist-btn.vzb-active>.vzb-buttonlist-btn-title{color:#4b98aa}.vzb-tool .vzb-dialog-options-buttonlist .vzb-buttonlist-btn.vzb-unavailable,.vzb-tool .vzb-dialog-zoom-buttonlist .vzb-buttonlist-btn.vzb-unavailable,.vzb-tool .vzb-tool-buttonlist .vzb-buttonlist-btn.vzb-unavailable{pointer-events:none}.vzb-tool .vzb-dialog-options-buttonlist .vzb-buttonlist-btn.vzb-unavailable>.vzb-buttonlist-btn-icon,.vzb-tool .vzb-dialog-zoom-buttonlist .vzb-buttonlist-btn.vzb-unavailable>.vzb-buttonlist-btn-icon,.vzb-tool .vzb-tool-buttonlist .vzb-buttonlist-btn.vzb-unavailable>.vzb-buttonlist-btn-icon{border:1px solid #cce6ed;opacity:.4}.vzb-tool .vzb-dialog-options-buttonlist .vzb-buttonlist-btn.vzb-unavailable>.vzb-buttonlist-btn-title,.vzb-tool .vzb-dialog-zoom-buttonlist .vzb-buttonlist-btn.vzb-unavailable>.vzb-buttonlist-btn-title,.vzb-tool .vzb-tool-buttonlist .vzb-buttonlist-btn.vzb-unavailable>.vzb-buttonlist-btn-title{opacity:.4}.vzb-tool.vzb-small .vzb-buttonlist-btn[data-btn=presentation]{pointer-events:none}.vzb-tool.vzb-small .vzb-buttonlist-btn[data-btn=presentation]>.vzb-buttonlist-btn-icon{background-color:hsla(0,0%,99%,.5)}.vzb-tool.vzb-small .vzb-buttonlist-btn[data-btn=presentation]>.vzb-buttonlist-btn-icon .vzb-icon path{fill:rgba(159,187,193,.4)}.vzb-tool.vzb-small .vzb-buttonlist-btn[data-btn=presentation]>.vzb-buttonlist-btn-title{color:rgba(159,187,193,.4)}.vzb-tool.vzb-small.vzb-portrait .vzb-tool-buttonlist .vzb-buttonlist-btn{margin-bottom:20px;width:60px}.vzb-tool.vzb-landscape .vzb-tool-buttonlist .vzb-buttonlist-btn,.vzb-tool.vzb-large .vzb-tool-buttonlist .vzb-buttonlist-btn,.vzb-tool.vzb-medium .vzb-tool-buttonlist .vzb-buttonlist-btn{margin-right:20px;width:60px}.vzb-rtl.vzb-tool.vzb-landscape .vzb-tool-buttonlist .vzb-buttonlist-btn,.vzb-rtl.vzb-tool.vzb-large .vzb-tool-buttonlist .vzb-buttonlist-btn,.vzb-rtl.vzb-tool.vzb-medium .vzb-tool-buttonlist .vzb-buttonlist-btn{margin-left:20px;margin-right:0}.vzb-tool.vzb-landscape .vzb-tool-buttonlist .vzb-buttonlist-btn>.vzb-btn-icon,.vzb-tool.vzb-large .vzb-tool-buttonlist .vzb-buttonlist-btn>.vzb-btn-icon,.vzb-tool.vzb-medium .vzb-tool-buttonlist .vzb-buttonlist-btn>.vzb-btn-icon{font-size:1.24em;height:36px;padding:9px;width:36px}.vzb-tool.vzb-landscape .vzb-tool-buttonlist .vzb-buttonlist-btn>.vzb-buttonlist-btn-title,.vzb-tool.vzb-large .vzb-tool-buttonlist .vzb-buttonlist-btn>.vzb-buttonlist-btn-title,.vzb-tool.vzb-medium .vzb-tool-buttonlist .vzb-buttonlist-btn>.vzb-buttonlist-btn-title{font-size:.625em;padding-top:2px}.vzb-tool.vzb-large.vzb-dialog-expand-true .vzb-tool-buttonlist .vzb-buttonlist-btn{margin-right:0;width:58px}.vzb-rtl.vzb-tool.vzb-large.vzb-dialog-expand-true .vzb-tool-buttonlist .vzb-buttonlist-btn{margin-left:0}.vzb-tool.vzb-large.vzb-dialog-expand-true .vzb-tool-buttonlist .vzb-buttonlist-btn.vzb-dialog-side-btn{display:none}.vzb-tool .vzb-tool-treemenu{position:absolute;top:0;right:0;z-index:9998;width:100%;height:100%}.vzb-tool .vzb-tool-treemenu .vzb-treemenu-background{background-color:#fdfdfd;opacity:.4;width:100%;height:100%}.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer{-ms-box-shadow:0 8px 15px rgba(0,0,0,.24);-o-box-shadow:0 8px 15px rgba(0,0,0,.24);box-shadow:0 8px 15px rgba(0,0,0,.24);position:absolute;background-color:#fff;border-top:1px solid #f7f7f7;padding:0}.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer.vzb-treemenu-abs-pos-vert{margin-top:0;margin-bottom:0}.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer.vzb-treemenu-abs-pos-horiz{margin-right:0;margin-left:0}.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap{transition:.3s ease-in-out;padding:0 25px 10px;overflow-y:auto}.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap *{box-sizing:border-box}.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap.notransition{transition:none}.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-close{position:relative;float:right;top:10px;right:-15px}.vzb-rtl.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-close{float:left;left:-15px;right:auto}.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-close .vzb-treemenu-close-icon{fill:#607889;fill-opacity:.7;width:25px;height:25px;cursor:pointer}.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-close .vzb-treemenu-close-icon:hover{fill-opacity:1}.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-title{display:inline-block;color:#607889;font-size:1.24em;padding:25px 25px 10px 5px}.vzb-rtl.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-title{padding-left:25px;padding-right:10px}.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-scaletypes{position:relative;right:-10px;top:30px;font-size:.8em;font-family:Lucida Sans Unicode,Lucida Grande,sans-serif;float:right}.vzb-rtl.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-scaletypes{left:-10px;right:auto;float:left}.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-scaletypes span{padding:2px 5px;border:1px solid #9fbbc1;color:#425663;margin-left:-1px;cursor:pointer}.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-scaletypes span:hover{background-color:#e3eef0;color:#4b98aa}.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-scaletypes span:first-child{border-radius:4px 0 0 4px}.vzb-rtl.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-scaletypes span:first-child,.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-scaletypes span:last-child{border-radius:0 4px 4px 0}.vzb-rtl.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-scaletypes span:last-child{border-radius:4px 0 0 4px}.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-scaletypes .vzb-treemenu-scaletypes-active{background-color:#e3eef0;color:#4b98aa;pointer-events:none}.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-scaletypes .vzb-treemenu-scaletypes-disabled{visibility:hidden;color:#e3eef0;border:0;pointer-events:none}.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-search-wrap{padding:5px}.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-search{border-radius:4px;-ms-box-sizing:border-box;-o-box-sizing:border-box;box-sizing:border-box;width:100%;display:block;border:1px solid hsla(0,0%,60%,.4);padding:9px;outline:none;font-size:.8em;font-family:Lucida Sans Unicode,Lucida Grande,sans-serif}.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-search:focus{border:1px solid hsla(0,0%,60%,.6)}.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-search+.vzb-treemenu-list{position:relative;margin-top:10px;left:0}.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list,.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-top{list-style:none;padding:0;margin:0;left:100%}.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-top.vzb-treemenu-horizontal .vzb-treemenu-list>.vzb-treemenu-list-item,.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-top.vzb-treemenu-horizontal>.vzb-treemenu-list-item,.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list.vzb-treemenu-horizontal .vzb-treemenu-list>.vzb-treemenu-list-item,.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list.vzb-treemenu-horizontal>.vzb-treemenu-list-item{height:38px;padding:0}.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-top.vzb-treemenu-horizontal .vzb-treemenu-list>.vzb-treemenu-list-item .vzb-treemenu-list-item-label,.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-top.vzb-treemenu-horizontal>.vzb-treemenu-list-item .vzb-treemenu-list-item-label,.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list.vzb-treemenu-horizontal .vzb-treemenu-list>.vzb-treemenu-list-item .vzb-treemenu-list-item-label,.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list.vzb-treemenu-horizontal>.vzb-treemenu-list-item .vzb-treemenu-list-item-label{line-height:17px;padding:10px 0}.vzb-rtl.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-top.vzb-treemenu-horizontal .vzb-treemenu-list>.vzb-treemenu-list-item .vzb-treemenu-list-item-label span,.vzb-rtl.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-top.vzb-treemenu-horizontal>.vzb-treemenu-list-item .vzb-treemenu-list-item-label span,.vzb-rtl.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list.vzb-treemenu-horizontal .vzb-treemenu-list>.vzb-treemenu-list-item .vzb-treemenu-list-item-label span,.vzb-rtl.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list.vzb-treemenu-horizontal>.vzb-treemenu-list-item .vzb-treemenu-list-item-label span{margin-right:5px}.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-top.vzb-treemenu-horizontal .vzb-treemenu-list>.vzb-treemenu-list-item-children:after,.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-top.vzb-treemenu-horizontal>.vzb-treemenu-list-item-children:after,.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list.vzb-treemenu-horizontal .vzb-treemenu-list>.vzb-treemenu-list-item-children:after,.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list.vzb-treemenu-horizontal>.vzb-treemenu-list-item-children:after{content:"";display:block;position:relative;left:calc(100% - 17px);top:-42px;width:0;height:0;border:6px solid transparent;border-left:6px solid #666;pointer-events:none;z-index:1}.vzb-rtl.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-top.vzb-treemenu-horizontal .vzb-treemenu-list>.vzb-treemenu-list-item-children:after,.vzb-rtl.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-top.vzb-treemenu-horizontal>.vzb-treemenu-list-item-children:after,.vzb-rtl.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list.vzb-treemenu-horizontal .vzb-treemenu-list>.vzb-treemenu-list-item-children:after,.vzb-rtl.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list.vzb-treemenu-horizontal>.vzb-treemenu-list-item-children:after{left:0}.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-top.vzb-treemenu-horizontal .vzb-treemenu-list>.vzb-treemenu-list-item-children .vzb-treemenu-list-item-label[children=true],.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-top.vzb-treemenu-horizontal>.vzb-treemenu-list-item-children .vzb-treemenu-list-item-label[children=true],.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list.vzb-treemenu-horizontal .vzb-treemenu-list>.vzb-treemenu-list-item-children .vzb-treemenu-list-item-label[children=true],.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list.vzb-treemenu-horizontal>.vzb-treemenu-list-item-children .vzb-treemenu-list-item-label[children=true]{padding-left:20px}.vzb-rtl.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list.vzb-treemenu-horizontal .vzb-treemenu-list>.vzb-treemenu-list-item-children .vzb-treemenu-list-item-label[children=true]{padding-left:0;padding-right:12px}.vzb-rtl.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list.vzb-treemenu-horizontal .vzb-treemenu-list>.vzb-treemenu-list-item-children .vzb-treemenu-list-item-label[children=true] span{margin-right:25px}.vzb-rtl.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list.vzb-treemenu-horizontal>.vzb-treemenu-list-item-children .vzb-treemenu-list-item-label[children=true]{padding-left:0;padding-right:12px}.vzb-rtl.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list.vzb-treemenu-horizontal>.vzb-treemenu-list-item-children .vzb-treemenu-list-item-label[children=true] span{margin-right:25px}.vzb-rtl.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-top.vzb-treemenu-horizontal .vzb-treemenu-list>.vzb-treemenu-list-item-children .vzb-treemenu-list-item-label[children=true]{padding-left:0;padding-right:12px}.vzb-rtl.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-top.vzb-treemenu-horizontal .vzb-treemenu-list>.vzb-treemenu-list-item-children .vzb-treemenu-list-item-label[children=true] span{margin-right:25px}.vzb-rtl.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-top.vzb-treemenu-horizontal>.vzb-treemenu-list-item-children .vzb-treemenu-list-item-label[children=true]{padding-left:0;padding-right:12px}.vzb-rtl.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-top.vzb-treemenu-horizontal>.vzb-treemenu-list-item-children .vzb-treemenu-list-item-label[children=true] span{margin-right:25px}.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-top.vzb-treemenu-horizontal .vzb-treemenu-list>.vzb-treemenu-list-item-children .vzb-treemenu-list-item-label[children=true]:after,.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-top.vzb-treemenu-horizontal>.vzb-treemenu-list-item-children .vzb-treemenu-list-item-label[children=true]:after,.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list.vzb-treemenu-horizontal .vzb-treemenu-list>.vzb-treemenu-list-item-children .vzb-treemenu-list-item-label[children=true]:after,.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list.vzb-treemenu-horizontal>.vzb-treemenu-list-item-children .vzb-treemenu-list-item-label[children=true]:after{display:block;position:relative;left:-20px;top:-17px;width:25px;height:17px;pointer-events:none;z-index:1;text-align:center}.vzb-rtl.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-top.vzb-treemenu-horizontal .vzb-treemenu-list>.vzb-treemenu-list-item-children .vzb-treemenu-list-item-label[children=true]:after,.vzb-rtl.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-top.vzb-treemenu-horizontal>.vzb-treemenu-list-item-children .vzb-treemenu-list-item-label[children=true]:after,.vzb-rtl.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list.vzb-treemenu-horizontal .vzb-treemenu-list>.vzb-treemenu-list-item-children .vzb-treemenu-list-item-label[children=true]:after,.vzb-rtl.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list.vzb-treemenu-horizontal>.vzb-treemenu-list-item-children .vzb-treemenu-list-item-label[children=true]:after{left:0}.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-top.vzb-treemenu-horizontal .vzb-treemenu-list>.vzb-treemenu-list-item-children .vzb-treemenu-list-item-label[type=folder]:after,.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-top.vzb-treemenu-horizontal>.vzb-treemenu-list-item-children .vzb-treemenu-list-item-label[type=folder]:after,.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list.vzb-treemenu-horizontal .vzb-treemenu-list>.vzb-treemenu-list-item-children .vzb-treemenu-list-item-label[type=folder]:after,.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list.vzb-treemenu-horizontal>.vzb-treemenu-list-item-children .vzb-treemenu-list-item-label[type=folder]:after{content:"\1F4C1"}.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-top.vzb-treemenu-horizontal .vzb-treemenu-list>.vzb-treemenu-list-item-children .vzb-treemenu-list-item-label[type=dataset]:after,.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-top.vzb-treemenu-horizontal>.vzb-treemenu-list-item-children .vzb-treemenu-list-item-label[type=dataset]:after,.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list.vzb-treemenu-horizontal .vzb-treemenu-list>.vzb-treemenu-list-item-children .vzb-treemenu-list-item-label[type=dataset]:after,.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list.vzb-treemenu-horizontal>.vzb-treemenu-list-item-children .vzb-treemenu-list-item-label[type=dataset]:after{content:"\1F4DA"}.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-top.vzb-treemenu-horizontal .vzb-treemenu-list>.vzb-treemenu-list-item-children:hover:after,.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-top.vzb-treemenu-horizontal>.vzb-treemenu-list-item-children:hover:after,.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list.vzb-treemenu-horizontal .vzb-treemenu-list>.vzb-treemenu-list-item-children:hover:after,.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list.vzb-treemenu-horizontal>.vzb-treemenu-list-item-children:hover:after{background-color:#e3eef0;outline:5px solid #e3eef0}.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-top.vzb-treemenu-horizontal .vzb-treemenu-list>.vzb-treemenu-list-item-children:hover>.vzb-treemenu-list-item-label[children=true]:after,.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-top.vzb-treemenu-horizontal>.vzb-treemenu-list-item-children:hover>.vzb-treemenu-list-item-label[children=true]:after,.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list.vzb-treemenu-horizontal .vzb-treemenu-list>.vzb-treemenu-list-item-children:hover>.vzb-treemenu-list-item-label[children=true]:after,.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list.vzb-treemenu-horizontal>.vzb-treemenu-list-item-children:hover>.vzb-treemenu-list-item-label[children=true]:after{background-color:#e3eef0}.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-top.vzb-treemenu-vertical .vzb-treemenu-list>.vzb-treemenu-list-item .vzb-treemenu-list-item-label,.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-top.vzb-treemenu-vertical>.vzb-treemenu-list-item .vzb-treemenu-list-item-label,.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list.vzb-treemenu-vertical .vzb-treemenu-list>.vzb-treemenu-list-item .vzb-treemenu-list-item-label,.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list.vzb-treemenu-vertical>.vzb-treemenu-list-item .vzb-treemenu-list-item-label{line-height:16px;padding:10px 0}.vzb-rtl.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-top.vzb-treemenu-vertical .vzb-treemenu-list>.vzb-treemenu-list-item .vzb-treemenu-list-item-label span,.vzb-rtl.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-top.vzb-treemenu-vertical>.vzb-treemenu-list-item .vzb-treemenu-list-item-label span,.vzb-rtl.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list.vzb-treemenu-vertical .vzb-treemenu-list>.vzb-treemenu-list-item .vzb-treemenu-list-item-label span,.vzb-rtl.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list.vzb-treemenu-vertical>.vzb-treemenu-list-item .vzb-treemenu-list-item-label span{margin-left:25px;margin-right:5px}.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-top.vzb-treemenu-vertical .vzb-treemenu-list>.vzb-treemenu-list-item-children,.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-top.vzb-treemenu-vertical>.vzb-treemenu-list-item-children,.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list.vzb-treemenu-vertical .vzb-treemenu-list>.vzb-treemenu-list-item-children,.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list.vzb-treemenu-vertical>.vzb-treemenu-list-item-children{position:relative}.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-top.vzb-treemenu-vertical .vzb-treemenu-list>.vzb-treemenu-list-item-children:before,.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-top.vzb-treemenu-vertical>.vzb-treemenu-list-item-children:before,.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list.vzb-treemenu-vertical .vzb-treemenu-list>.vzb-treemenu-list-item-children:before,.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list.vzb-treemenu-vertical>.vzb-treemenu-list-item-children:before{content:"";display:block;position:absolute;right:5px;width:0;height:0;border:6px solid transparent;border-left:6px solid #666;margin-top:12px;pointer-events:none;z-index:1}.vzb-rtl.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-top.vzb-treemenu-vertical .vzb-treemenu-list>.vzb-treemenu-list-item-children:before,.vzb-rtl.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-top.vzb-treemenu-vertical>.vzb-treemenu-list-item-children:before,.vzb-rtl.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list.vzb-treemenu-vertical .vzb-treemenu-list>.vzb-treemenu-list-item-children:before,.vzb-rtl.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list.vzb-treemenu-vertical>.vzb-treemenu-list-item-children:before{left:5px;right:auto;border-left-color:transparent;border-right-color:#666}.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-top.vzb-treemenu-vertical .vzb-treemenu-list>.vzb-treemenu-list-item-children .vzb-treemenu-list-item-label[children=true],.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-top.vzb-treemenu-vertical>.vzb-treemenu-list-item-children .vzb-treemenu-list-item-label[children=true],.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list.vzb-treemenu-vertical .vzb-treemenu-list>.vzb-treemenu-list-item-children .vzb-treemenu-list-item-label[children=true],.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list.vzb-treemenu-vertical>.vzb-treemenu-list-item-children .vzb-treemenu-list-item-label[children=true]{padding-left:20px}.vzb-rtl.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-top.vzb-treemenu-vertical .vzb-treemenu-list>.vzb-treemenu-list-item-children .vzb-treemenu-list-item-label[children=true],.vzb-rtl.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-top.vzb-treemenu-vertical>.vzb-treemenu-list-item-children .vzb-treemenu-list-item-label[children=true],.vzb-rtl.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list.vzb-treemenu-vertical .vzb-treemenu-list>.vzb-treemenu-list-item-children .vzb-treemenu-list-item-label[children=true],.vzb-rtl.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list.vzb-treemenu-vertical>.vzb-treemenu-list-item-children .vzb-treemenu-list-item-label[children=true]{padding-left:0;padding-right:20px}.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-top.vzb-treemenu-vertical .vzb-treemenu-list>.vzb-treemenu-list-item-children .vzb-treemenu-list-item-label[children=true]:before,.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-top.vzb-treemenu-vertical>.vzb-treemenu-list-item-children .vzb-treemenu-list-item-label[children=true]:before,.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list.vzb-treemenu-vertical .vzb-treemenu-list>.vzb-treemenu-list-item-children .vzb-treemenu-list-item-label[children=true]:before,.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list.vzb-treemenu-vertical>.vzb-treemenu-list-item-children .vzb-treemenu-list-item-label[children=true]:before{display:block;position:absolute;left:0;width:25px;pointer-events:none;z-index:1;text-align:center}.vzb-rtl.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-top.vzb-treemenu-vertical .vzb-treemenu-list>.vzb-treemenu-list-item-children .vzb-treemenu-list-item-label[children=true]:before,.vzb-rtl.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-top.vzb-treemenu-vertical>.vzb-treemenu-list-item-children .vzb-treemenu-list-item-label[children=true]:before,.vzb-rtl.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list.vzb-treemenu-vertical .vzb-treemenu-list>.vzb-treemenu-list-item-children .vzb-treemenu-list-item-label[children=true]:before,.vzb-rtl.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list.vzb-treemenu-vertical>.vzb-treemenu-list-item-children .vzb-treemenu-list-item-label[children=true]:before{right:0}.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-top.vzb-treemenu-vertical .vzb-treemenu-list>.vzb-treemenu-list-item-children .vzb-treemenu-list-item-label[type=folder]:before,.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-top.vzb-treemenu-vertical>.vzb-treemenu-list-item-children .vzb-treemenu-list-item-label[type=folder]:before,.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list.vzb-treemenu-vertical .vzb-treemenu-list>.vzb-treemenu-list-item-children .vzb-treemenu-list-item-label[type=folder]:before,.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list.vzb-treemenu-vertical>.vzb-treemenu-list-item-children .vzb-treemenu-list-item-label[type=folder]:before{content:"\1F4C1"}.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-top.vzb-treemenu-vertical .vzb-treemenu-list>.vzb-treemenu-list-item-children .vzb-treemenu-list-item-label[type=dataset]:before,.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-top.vzb-treemenu-vertical>.vzb-treemenu-list-item-children .vzb-treemenu-list-item-label[type=dataset]:before,.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list.vzb-treemenu-vertical .vzb-treemenu-list>.vzb-treemenu-list-item-children .vzb-treemenu-list-item-label[type=dataset]:before,.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list.vzb-treemenu-vertical>.vzb-treemenu-list-item-children .vzb-treemenu-list-item-label[type=dataset]:before{content:"\1F4DA"}.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-top.vzb-treemenu-vertical .vzb-treemenu-list>.vzb-treemenu-list-item-children.marquee:hover:before,.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-top.vzb-treemenu-vertical>.vzb-treemenu-list-item-children.marquee:hover:before,.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list.vzb-treemenu-vertical .vzb-treemenu-list>.vzb-treemenu-list-item-children.marquee:hover:before,.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list.vzb-treemenu-vertical>.vzb-treemenu-list-item-children.marquee:hover:before{background-color:#e3eef0;outline:5px solid #e3eef0}.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-top.vzb-treemenu-vertical .vzb-treemenu-list>.vzb-treemenu-list-item-children.marquee:hover .vzb-treemenu-list-item-label[children=true]:before,.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-top.vzb-treemenu-vertical>.vzb-treemenu-list-item-children.marquee:hover .vzb-treemenu-list-item-label[children=true]:before,.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list.vzb-treemenu-vertical .vzb-treemenu-list>.vzb-treemenu-list-item-children.marquee:hover .vzb-treemenu-list-item-label[children=true]:before,.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list.vzb-treemenu-vertical>.vzb-treemenu-list-item-children.marquee:hover .vzb-treemenu-list-item-label[children=true]:before{background-color:#e3eef0}.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-outer{position:absolute;background-color:#fff}.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-outer .vzb-treemenu-list{display:none}.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-outer.vzb-treemenu-horizontal{-ms-box-shadow:4px 8px 15px rgba(0,0,0,.2);-o-box-shadow:4px 8px 15px rgba(0,0,0,.2);box-shadow:4px 8px 15px rgba(0,0,0,.2);width:0;top:0;bottom:0;left:100%;z-index:2}.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-outer.vzb-treemenu-horizontal .vzb-treemenu-list{overflow-y:auto;max-height:100%}.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-outer.vzb-treemenu-horizontal .vzb-treemenu-list .vzb-treemenu-list-item:not(.vzb-treemenu-list-item-children) .vzb-treemenu-list-item-label span{margin-right:5px}.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-outer.vzb-treemenu-horizontal.active{top:-1px;bottom:0;clear:both;border-left:1px solid #e3eef0;border-top:1px solid #f7f7f7}.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-outer.vzb-treemenu-horizontal.active>.vzb-treemenu-list{display:block}.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-outer.vzb-treemenu-horizontal.vzb-treemenu-list-item-leaf{background-color:#f2fafc;overflow:hidden;cursor:pointer}.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-outer.vzb-treemenu-horizontal.vzb-treemenu-list-item-leaf .vzb-treemenu-leaf-content{overflow-y:auto;max-height:calc(100% - 60px)}.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-outer.vzb-treemenu-horizontal.vzb-treemenu-list-item-leaf .vzb-treemenu-leaf-content .vzb-treemenu-leaf-content-item{padding:10px 15px 0;display:block;overflow:hidden;white-space:normal;text-overflow:ellipsis;position:relative;color:#666;font-size:.8em;font-family:Lucida Sans Unicode,Lucida Grande,sans-serif}.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-outer.vzb-treemenu-horizontal.vzb-treemenu-list-item-leaf .vzb-treemenu-leaf-content .vzb-treemenu-leaf-content-item.vzb-treemenu-leaf-content-item-title{font-size:1em;font-weight:700}.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-outer.vzb-treemenu-vertical{position:relative;border:0;background-color:#fff;left:0;padding-left:15px;height:0}.vzb-rtl.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-outer.vzb-treemenu-vertical{padding-left:0;padding-right:15px}.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-outer.vzb-treemenu-vertical.active{height:auto;top:inherit;bottom:inherit}.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-outer.vzb-treemenu-vertical.active>.vzb-treemenu-list{display:block}.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-outer.vzb-treemenu-vertical.vzb-treemenu-list-item-leaf{height:0}.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-item{padding:5px 0;background-color:#fff;overflow:hidden;white-space:nowrap}.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-item>.vzb-treemenu-list-item-label{left:0}.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-item:hover{background-color:#e3eef0}.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-item:hover>.vzb-treemenu-list-item-label span{text-overflow:clip}.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-item.item-active:not(.vzb-treemenu-list-item-children)>span{color:#fc6b38}.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-item.item-active>span{font-weight:700}.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-item.marquee:not(:hover)>.vzb-treemenu-list-item-label span{width:auto!important}.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-item.marquee:hover>.vzb-treemenu-list-item-label span{transform:translate3d(-100%,0,0);text-overflow:inherit;overflow:visible;animation:marquee 5s linear infinite}.vzb-rtl.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-item.marquee:hover>.vzb-treemenu-list-item-label span{transform:translate3d(100%,0,0)}.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-item.marquee:hover>.vzb-treemenu-list-item-label span:after{content:attr(data-content);padding-left:30px}.vzb-rtl.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-item.marquee:hover>.vzb-treemenu-list-item-label span:after{padding-left:0;padding-right:30px}.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-item+.vzb-treemenu-list-item-special{margin-top:15px}.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-item-label{padding:5px 0;margin:0;display:block;cursor:pointer;color:#666;font-size:.8em;font-family:Lucida Sans Unicode,Lucida Grande,sans-serif}.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-item-label span{padding-right:1px;display:block;position:relative;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;margin:0 25px 0 5px}.vzb-rtl.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-item-label span{padding-right:0;padding-left:1px}.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer.vzb-treemenu-open-left-side .vzb-treemenu-horizontal.vzb-treemenu-list-outer.active{left:auto;right:100%}.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer.vzb-treemenu-open-left-side .vzb-treemenu-horizontal .vzb-treemenu-list-outer .vzb-treemenu-list>.vzb-treemenu-list-item>.vzb-treemenu-list-item-label span,.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer.vzb-treemenu-open-left-side .vzb-treemenu-horizontal.vzb-treemenu-list-top>.vzb-treemenu-list-item>.vzb-treemenu-list-item-label span{margin-right:5px}.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer.vzb-treemenu-open-left-side .vzb-treemenu-horizontal .vzb-treemenu-list-outer .vzb-treemenu-list>.vzb-treemenu-list-item-children:after,.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer.vzb-treemenu-open-left-side .vzb-treemenu-horizontal.vzb-treemenu-list-top>.vzb-treemenu-list-item-children:after{left:2px;border:6px solid transparent;border-right:6px solid #666}.vzb-rtl.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer.vzb-treemenu-open-left-side .vzb-treemenu-horizontal .vzb-treemenu-list-outer .vzb-treemenu-list>.vzb-treemenu-list-item-children:after,.vzb-rtl.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer.vzb-treemenu-open-left-side .vzb-treemenu-horizontal.vzb-treemenu-list-top>.vzb-treemenu-list-item-children:after{right:calc(100% - 14px)}.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer.vzb-treemenu-open-left-side .vzb-treemenu-horizontal .vzb-treemenu-list-outer .vzb-treemenu-list>.vzb-treemenu-list-item-children .vzb-treemenu-list-item-label[children=true],.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer.vzb-treemenu-open-left-side .vzb-treemenu-horizontal.vzb-treemenu-list-top>.vzb-treemenu-list-item-children .vzb-treemenu-list-item-label[children=true]{padding-left:34px}.vzb-rtl.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer.vzb-treemenu-open-left-side .vzb-treemenu-horizontal .vzb-treemenu-list-outer .vzb-treemenu-list>.vzb-treemenu-list-item-children .vzb-treemenu-list-item-label[children=true],.vzb-rtl.vzb-tool .vzb-tool-treemenu .vzb-treemenu-wrap-outer.vzb-treemenu-open-left-side .vzb-treemenu-horizontal.vzb-treemenu-list-top>.vzb-treemenu-list-item-children .vzb-treemenu-list-item-label[children=true]{padding-left:16px;padding-right:0}@keyframes marquee{0%{transform:none}}.vzb-tool.vzb-small .vzb-treemenu-wrap-outer{position:absolute;top:10%;left:10%;width:80%;height:80%}.vzb-tool.vzb-small .vzb-treemenu-wrap-outer .vzb-treemenu-wrap{max-height:100%}.vzb-tool.vzb-small .vzb-treemenu-wrap-outer .vzb-treemenu-wrap .vzb-treemenu-list-item{padding:0}.vzb-tool.vzb-small .vzb-treemenu-wrap-outer.vzb-align-x-center{left:50%}.vzb-tool.vzb-small .vzb-treemenu-wrap-outer .active{display:block}.vzb-tool.vzb-medium .vzb-treemenu-wrap-outer.vzb-align-y-top{top:40px}.vzb-tool.vzb-medium .vzb-treemenu-wrap-outer.vzb-align-y-bottom{bottom:55px}.vzb-tool.vzb-medium .vzb-treemenu-wrap-outer.vzb-align-x-left{left:60px}.vzb-tool.vzb-medium .vzb-treemenu-wrap-outer.vzb-align-x-right{right:60px}.vzb-tool.vzb-medium .vzb-treemenu-wrap-outer.vzb-align-x-center{left:50%}.vzb-tool.vzb-large .vzb-treemenu-wrap-outer.vzb-align-y-top,.vzb-tool.vzb-presentation .vzb-treemenu-wrap-outer.vzb-align-y-top{top:50px}.vzb-tool.vzb-large .vzb-treemenu-wrap-outer.vzb-align-y-bottom,.vzb-tool.vzb-presentation .vzb-treemenu-wrap-outer.vzb-align-y-bottom{bottom:80px}.vzb-tool.vzb-large .vzb-treemenu-wrap-outer.vzb-align-x-left,.vzb-tool.vzb-presentation .vzb-treemenu-wrap-outer.vzb-align-x-left{left:60px}.vzb-tool.vzb-large .vzb-treemenu-wrap-outer.vzb-align-x-right,.vzb-tool.vzb-presentation .vzb-treemenu-wrap-outer.vzb-align-x-right{right:60px}.vzb-tool.vzb-large .vzb-treemenu-wrap-outer.vzb-align-x-center,.vzb-tool.vzb-presentation .vzb-treemenu-wrap-outer.vzb-align-x-center{left:50%}.vzb-tool .vzb-tool-datawarning{position:absolute;top:0;right:0;height:100%;width:100%}.vzb-tool .vzb-tool-datawarning .vzb-data-warning-background{background-color:#fdfdfd;height:100%;opacity:.4;width:100%}.vzb-tool .vzb-tool-datawarning .vzb-data-warning-box{-ms-box-shadow:0 8px 15px rgba(0,0,0,.24);-o-box-shadow:0 8px 15px rgba(0,0,0,.24);box-shadow:0 8px 15px rgba(0,0,0,.24);transition:.3s ease-in-out;background-color:#fff;border-top:1px solid #f7f7f7;padding:0 15px 10px 25px;overflow:hidden;display:flex;flex-direction:column}.vzb-rtl.vzb-tool .vzb-tool-datawarning .vzb-data-warning-box{padding-left:15px;padding-right:25px}.vzb-tool .vzb-tool-datawarning .vzb-data-warning-box .vzb-data-warning-link{color:#fc6b38;font-size:1.24em;margin:25px 30px 10px 5px}.vzb-rtl.vzb-tool .vzb-tool-datawarning .vzb-data-warning-box .vzb-data-warning-link{margin-left:30px;margin-right:5px}.vzb-tool .vzb-tool-datawarning .vzb-data-warning-box .vzb-data-warning-link svg{height:25px;margin-bottom:-1px;width:25px}.vzb-tool .vzb-tool-datawarning .vzb-data-warning-box .vzb-data-warning-link div{display:inline-block;margin-left:10px;text-transform:uppercase;white-space:normal}.vzb-rtl.vzb-tool .vzb-tool-datawarning .vzb-data-warning-box .vzb-data-warning-link div{margin-left:0;margin-right:10px}.vzb-tool .vzb-tool-datawarning .vzb-data-warning-box .vzb-data-warning-link path{fill:#fc6b38}.vzb-tool .vzb-tool-datawarning .vzb-data-warning-box .vzb-data-warning-title{color:#607889;font-size:1.24em;margin:15px 30px 10px 5px;white-space:normal}.vzb-rtl.vzb-tool .vzb-tool-datawarning .vzb-data-warning-box .vzb-data-warning-title{margin-left:30px;margin-right:5px}.vzb-tool .vzb-tool-datawarning .vzb-data-warning-box .vzb-data-warning-body{font-size:1em;padding:10px 30px 10px 5px;color:#333;white-space:normal;line-height:150%;height:80%;overflow:auto}.vzb-rtl.vzb-tool .vzb-tool-datawarning .vzb-data-warning-box .vzb-data-warning-body{padding-left:30px;padding-right:5px;text-align:right}.vzb-tool .vzb-tool-datawarning .vzb-data-warning-box .vzb-data-warning-body a{color:#fc6b38;text-decoration:none}.vzb-tool .vzb-tool-datawarning .vzb-data-warning-box .vzb-data-warning-body a:hover{text-decoration:underline}.vzb-tool .vzb-tool-datawarning .vzb-data-warning-box .vzb-data-warning-close{cursor:pointer;fill:#607889;fill-opacity:.7;height:25px;position:absolute;right:10px;top:10px;width:25px}.vzb-rtl.vzb-tool .vzb-tool-datawarning .vzb-data-warning-box .vzb-data-warning-close{left:10px;right:auto}.vzb-tool .vzb-tool-datawarning .vzb-data-warning-box .vzb-data-warning-close:hover{fill-opacity:1}.vzb-tool.vzb-small.vzb-portrait .vzb-data-warning-box{position:absolute;top:10%;left:5%;bottom:60px;width:90%;height:80%}.vzb-tool.vzb-small.vzb-portrait .vzb-data-warning-box .vzb-data-warning-link,.vzb-tool.vzb-small.vzb-portrait .vzb-data-warning-box .vzb-data-warning-title{font-size:1em}.vzb-tool.vzb-small.vzb-portrait .vzb-data-warning-box .vzb-data-warning-body{font-size:.8em}.vzb-tool.vzb-small.vzb-landscape .vzb-data-warning-box{position:absolute;top:10%;left:10%;height:80%;margin-right:10px;right:60px;width:80%}.vzb-tool.vzb-small.vzb-landscape .vzb-data-warning-box .vzb-data-warning-link,.vzb-tool.vzb-small.vzb-landscape .vzb-data-warning-box .vzb-data-warning-title{font-size:1em}.vzb-tool.vzb-small.vzb-landscape .vzb-data-warning-box .vzb-data-warning-body{font-size:.8em}.vzb-tool.vzb-medium .vzb-data-warning-box{position:absolute;top:10%;left:20%;height:80%;width:60%}.vzb-tool.vzb-medium .vzb-data-warning-box .vzb-data-warning-link,.vzb-tool.vzb-medium .vzb-data-warning-box .vzb-data-warning-title{font-size:1.24em}.vzb-tool.vzb-medium .vzb-data-warning-box .vzb-data-warning-body{font-size:.8em}.vzb-tool.vzb-large .vzb-data-warning-box{position:absolute;top:10%;left:25%;width:50%;height:80%}.vzb-tool.vzb-large .vzb-data-warning-box .vzb-data-warning-link,.vzb-tool.vzb-large .vzb-data-warning-box .vzb-data-warning-title{font-size:1.24em}.vzb-tool.vzb-large .vzb-data-warning-box .vzb-data-warning-body{font-size:1em}.vzb-tool .vzb-tool-datanotes{position:absolute;top:0;-ms-box-shadow:0 8px 15px rgba(0,0,0,.24);-o-box-shadow:0 8px 15px rgba(0,0,0,.24);box-shadow:0 8px 15px rgba(0,0,0,.24);z-index:9997;background-color:#fff;border-top:1px solid #f7f7f7;padding:30px 15px 10px 25px;overflow:hidden;display:flex;flex-direction:column;width:300px;min-height:100px}.vzb-rtl.vzb-tool .vzb-tool-datanotes{padding-left:15px;padding-right:25px}.vzb-tool .vzb-tool-datanotes.vzb-blur{z-index:0}.vzb-tool .vzb-tool-datanotes .vzb-data-notes-link{flex:0 0 25px;font-size:1.24em;margin:5px 5px 10px}.vzb-tool .vzb-tool-datanotes .vzb-data-notes-link a{color:#4b98aa;text-decoration:none;white-space:normal}.vzb-tool .vzb-tool-datanotes .vzb-data-notes-link a:hover{text-decoration:underline}.vzb-tool .vzb-tool-datanotes .vzb-data-notes-body{font-size:1em;flex:1 1 auto;padding:0 30px 0 5px;color:#333;white-space:normal;overflow:auto}.vzb-rtl.vzb-tool .vzb-tool-datanotes .vzb-data-notes-body{padding-left:30px;padding-right:5px;direction:rtl;text-align:right}.vzb-tool .vzb-tool-datanotes .vzb-data-notes-body a{color:#4b98aa;text-decoration:none}.vzb-tool .vzb-tool-datanotes .vzb-data-notes-body a:hover{text-decoration:underline}.vzb-tool .vzb-tool-datanotes .vzb-data-notes-close{cursor:pointer;fill:#607889;fill-opacity:.7;height:25px;position:absolute;right:5px;top:5px;width:25px}.vzb-rtl.vzb-tool .vzb-tool-datanotes .vzb-data-notes-close{left:5px;right:auto}.vzb-tool .vzb-tool-datanotes .vzb-data-notes-close:hover{fill-opacity:1}.vzb-tool .vzb-tool-datanotes:not(.vzb-data-notes-pinned):after{content:"";display:block;position:absolute;width:100%;height:50px;bottom:0;box-shadow:inset 0 -50px 30px -20px #fff}.vzb-tool.vzb-small .vzb-tool-datanotes{width:300px;max-height:150px}.vzb-tool.vzb-small .vzb-tool-datanotes .vzb-data-notes-body{max-height:70px}.vzb-tool.vzb-small .vzb-tool-datanotes.vzb-data-notes-pinned{max-height:200px}.vzb-tool.vzb-small .vzb-tool-datanotes.vzb-data-notes-pinned .vzb-data-notes-body{max-height:120px}.vzb-tool.vzb-small .vzb-data-notes-link{font-size:1em}.vzb-tool.vzb-small .vzb-data-notes-body{font-size:.8em}.vzb-tool.vzb-medium .vzb-tool-datanotes{width:350px;max-height:175px}.vzb-tool.vzb-medium .vzb-tool-datanotes .vzb-data-notes-body{max-height:95px}.vzb-tool.vzb-medium .vzb-tool-datanotes.vzb-data-notes-pinned{max-height:300px}.vzb-tool.vzb-medium .vzb-tool-datanotes.vzb-data-notes-pinned .vzb-data-notes-body{max-height:220px}.vzb-tool.vzb-medium .vzb-data-notes-link{font-size:1.24em}.vzb-tool.vzb-medium .vzb-data-notes-body{font-size:.8em}.vzb-tool.vzb-large .vzb-tool-datanotes{width:400px;max-height:200px}.vzb-tool.vzb-large .vzb-tool-datanotes .vzb-data-notes-body{max-height:120px}.vzb-tool.vzb-large .vzb-tool-datanotes.vzb-data-notes-pinned{max-height:400px}.vzb-tool.vzb-large .vzb-tool-datanotes.vzb-data-notes-pinned .vzb-data-notes-body{max-height:320px}.vzb-tool.vzb-large .vzb-data-notes-link{font-size:1.24em}.vzb-tool.vzb-large .vzb-data-notes-body{font-size:1em}.vzb-tool .vzb-stepped-speed-slider{position:relative;height:40px;padding-right:15px}.vzb-tool .vzb-stepped-speed-slider .vzb-stepped-speed-slider-axis{pointer-events:none}.vzb-tool .vzb-stepped-speed-slider .vzb-stepped-speed-slider-axis .domain{display:none}.vzb-tool .vzb-stepped-speed-slider .vzb-stepped-speed-slider-triangle{fill:#607889;pointer-events:none}.vzb-tool .vzb-stepped-speed-slider svg{width:100%;height:100%;cursor:pointer}.vzb-tool .vzb-stepped-speed-slider line{stroke:#607889}.vzb-tool.vzb-large .vzb-stepped-speed-slider{padding-top:5px}.vzb-tool .vzb-barchart .vzb-bc-bar{stroke:none}.vzb-tool .vzb-barchart .vzb-bc-year{fill:#999;text-anchor:end}.vzb-tool .vzb-donutchart{position:absolute;top:0;left:0;right:0;bottom:0;font-family:Arial Rounded MT Bold,Arial,sans-serif;width:100%;height:100%}.vzb-tool .vzb-donutchart svg{width:100%;height:100%}.vzb-tool .vzb-donutchart text{text-anchor:middle;fill:#607889}.vzb-tool .vzb-donutchart .year{dominant-baseline:hanging;fill:#ddd}.vzb-tool .vzb-large .vzb-donutchart .year{font-size:8em}.vzb-tool .vzb-large .vzb-donutchart .title{font-size:4em}.vzb-tool .vzb-large .vzb-donutchart .label{font-size:2em}.vzb-tool .vzb-medium .vzb-donutchart .year{font-size:8em}.vzb-tool .vzb-medium .vzb-donutchart .title{font-size:4em}.vzb-tool .vzb-medium .vzb-donutchart .label{font-size:2em}.vzb-tool .vzb-small .vzb-donutchart .year{font-size:4em}.vzb-tool .vzb-small .vzb-donutchart .title{font-size:2em}.vzb-tool .vzb-small .vzb-donutchart .label{font-size:1em}.vzb-tool{border-bottom:1px solid #ccc}.vzb-tool .vzb-axislabeler{margin:0;font-family:Lucida Sans Unicode,Lucida Grande,sans-serif}.vzb-tool .vzb-axislabeler .vzb-al-axis-x line,.vzb-tool .vzb-axislabeler .vzb-al-axis-x path,.vzb-tool .vzb-axislabeler .vzb-al-axis-y line,.vzb-tool .vzb-axislabeler .vzb-al-axis-y path,.vzb-tool .vzb-axislabeler .vzb-al-axis line,.vzb-tool .vzb-axislabeler .vzb-al-axis path{fill:none;stroke:#999;shape-rendering:crispEdges}.vzb-tool .vzb-axislabeler .vzb-al-axis-x text,.vzb-tool .vzb-axislabeler .vzb-al-axis-y text,.vzb-tool .vzb-axislabeler .vzb-al-axis text{fill:#999}.vzb-tool .vzb-axislabeler .vzb-al-line{fill:none;stroke:#3fb500;stroke-width:1px}.vzb-tool .vzb-axislabeler .vzb-al-line-invert{fill:none;stroke:#00f;stroke-width:1px}.vzb-tool .vzb-axislabeler .vzb-al-dots{cursor:pointer;fill:none;stroke:#3fb500;opacity:.5}.vzb-tool .vzb-axislabeler .vzb-al-dots:hover{fill:#3fb500}.vzb-tool .vzb-axislabeler .vzb-al-dots-invert{cursor:pointer;fill:none;stroke:#00f;opacity:.5}.vzb-tool .vzb-axislabeler .vzb-al-dots-invert:hover{fill:#00f}.vzb-tool.vzb-medium .vzb-axis-labeler .vzb-al-year{font-size:12em}.vzb-tool.vzb-small .vzb-axis-labeler .vzb-al-year{font-size:6em}
</style> <style type="text/css">@keyframes rotate-forever{0%{transform:rotate(0deg)}to{transform:rotate(359deg)}}.vzb-hidden{display:none!important}.vzb-invisible{visibility:hidden!important}.vzb-pointerevents-none{pointer-events:none!important}.vzb-blur{-webkit-filter:blur(3px);filter:blur(3px)}.vzb-transparent{opacity:0!important;pointer-events:none!important}.vzb-tool .vzb-bubblechart,.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg{position:absolute;top:0;right:0;bottom:0;left:0;overflow:hidden}.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg{color:#666;height:100%;margin:0;width:100%}.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-axis-x-subtitle text,.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-axis-x text,.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-axis-y-subtitle text,.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-axis-y text,.vzb-tool.vzb-small .vzb-bubblechart-svg .vzb-axis-value,.vzb-tool.vzb-small .vzb-bubblechart-svg .vzb-bc-axis-x,.vzb-tool.vzb-small .vzb-bubblechart-svg .vzb-bc-axis-x-info,.vzb-tool.vzb-small .vzb-bubblechart-svg .vzb-bc-axis-y,.vzb-tool.vzb-small .vzb-bubblechart-svg .vzb-bc-axis-y-info,.vzb-tool.vzb-small .vzb-bubblechart-svg .vzb-bc-labels,.vzb-tool.vzb-small .vzb-bubblechart-svg .vzb-bc-tooltip{font-size:.8em}.vzb-tool.vzb-medium .vzb-bubblechart-svg .vzb-axis-value,.vzb-tool.vzb-medium .vzb-bubblechart-svg .vzb-bc-axis-x,.vzb-tool.vzb-medium .vzb-bubblechart-svg .vzb-bc-axis-x-info,.vzb-tool.vzb-medium .vzb-bubblechart-svg .vzb-bc-axis-y,.vzb-tool.vzb-medium .vzb-bubblechart-svg .vzb-bc-axis-y-info,.vzb-tool.vzb-medium .vzb-bubblechart-svg .vzb-bc-labels,.vzb-tool.vzb-medium .vzb-bubblechart-svg .vzb-bc-tooltip{font-size:1em}.vzb-tool.vzb-large .vzb-bubblechart-svg .vzb-axis-value,.vzb-tool.vzb-large .vzb-bubblechart-svg .vzb-bc-axis-x,.vzb-tool.vzb-large .vzb-bubblechart-svg .vzb-bc-axis-x-info,.vzb-tool.vzb-large .vzb-bubblechart-svg .vzb-bc-axis-y,.vzb-tool.vzb-large .vzb-bubblechart-svg .vzb-bc-axis-y-info,.vzb-tool.vzb-large .vzb-bubblechart-svg .vzb-bc-labels,.vzb-tool.vzb-large .vzb-bubblechart-svg .vzb-bc-tooltip{font-size:1.24em}.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-axis-x-subtitle text,.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-axis-x text,.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-axis-y-subtitle text,.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-axis-y text{fill:currentColor;stroke:none}.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-axis-c-title,.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-axis-s-title,.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-axis-x-title,.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-axis-y-title{color:#425663;cursor:pointer;fill:currentColor}.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-axis-c-title:hover,.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-axis-s-title:hover,.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-axis-x-title:hover,.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-axis-y-title:hover{text-decoration:underline}.vzb-tool.vzb-small .vzb-bubblechart-svg .vzb-bc-axis-c-title,.vzb-tool.vzb-small .vzb-bubblechart-svg .vzb-bc-axis-s-title,.vzb-tool.vzb-small .vzb-bubblechart-svg .vzb-bc-axis-x-title,.vzb-tool.vzb-small .vzb-bubblechart-svg .vzb-bc-axis-y-title{font-size:1em}.vzb-tool.vzb-medium .vzb-bubblechart-svg .vzb-bc-axis-c-title,.vzb-tool.vzb-medium .vzb-bubblechart-svg .vzb-bc-axis-s-title,.vzb-tool.vzb-medium .vzb-bubblechart-svg .vzb-bc-axis-x-title,.vzb-tool.vzb-medium .vzb-bubblechart-svg .vzb-bc-axis-y-title{font-size:1.24em}.vzb-tool.vzb-large .vzb-bubblechart-svg .vzb-bc-axis-c-title,.vzb-tool.vzb-large .vzb-bubblechart-svg .vzb-bc-axis-s-title,.vzb-tool.vzb-large .vzb-bubblechart-svg .vzb-bc-axis-x-title,.vzb-tool.vzb-large .vzb-bubblechart-svg .vzb-bc-axis-y-title{font-size:1.38em}.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-axis-x,.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-axis-x-subtitle,.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-axis-y,.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-axis-y-subtitle{color:#999;fill:none;stroke:#999}.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-axis-x-subtitle line,.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-axis-x-subtitle path,.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-axis-x line,.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-axis-x path,.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-axis-y-subtitle line,.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-axis-y-subtitle path,.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-axis-y line,.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-axis-y path{fill:none;shape-rendering:crispEdges;stroke:#999}.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-axis-x-subtitle .tick-minor,.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-axis-x-subtitle .tick line,.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-axis-x .tick-minor,.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-axis-x .tick line,.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-axis-y-subtitle .tick-minor,.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-axis-y-subtitle .tick line,.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-axis-y .tick-minor,.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-axis-y .tick line{stroke-dasharray:1 3}.vzb-tool.vzb-medium .vzb-bubblechart-svg .vzb-bc-axis-x .tick-minor,.vzb-tool.vzb-medium .vzb-bubblechart-svg .vzb-bc-axis-x .tick line,.vzb-tool.vzb-medium .vzb-bubblechart-svg .vzb-bc-axis-y .tick-minor,.vzb-tool.vzb-medium .vzb-bubblechart-svg .vzb-bc-axis-y .tick line{stroke:#999;stroke-dasharray:1 6}.vzb-tool.vzb-large .vzb-bubblechart-svg .vzb-bc-axis-x .tick-minor,.vzb-tool.vzb-large .vzb-bubblechart-svg .vzb-bc-axis-x .tick line,.vzb-tool.vzb-large .vzb-bubblechart-svg .vzb-bc-axis-y .tick-minor,.vzb-tool.vzb-large .vzb-bubblechart-svg .vzb-bc-axis-y .tick line{stroke:#e3eef0;stroke-dasharray:none}.vzb-tool.vzb-presentation .vzb-bubblechart-svg .vzb-bc-axis-x .tick-minor,.vzb-tool.vzb-presentation .vzb-bubblechart-svg .vzb-bc-axis-x .tick line,.vzb-tool.vzb-presentation .vzb-bubblechart-svg .vzb-bc-axis-y .tick-minor,.vzb-tool.vzb-presentation .vzb-bubblechart-svg .vzb-bc-axis-y .tick line{stroke:none;stroke-dasharray:none}.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-axis-x-info,.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-axis-y-info{cursor:pointer;opacity:.3;pointer-events:visible}.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-axis-x-info path,.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-axis-y-info path{fill:#607889;stroke:none}.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-axis-x-info circle,.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-axis-y-info circle{fill:none;stroke:#607889}.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-axis-x-info:hover,.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-axis-y-info:hover{opacity:1}.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-labels .stroke{paint-order:stroke;stroke:#fff;stroke-opacity:.7;stroke-width:3px;stroke-linecap:butt;stroke-linejoin:miter}.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-labels text{fill:#333;pointer-events:none;text-anchor:end}.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-labels rect{cursor:pointer;pointer-events:none}.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-labels .vzb-tooltip-border{fill:#fff;stroke:#333;stroke-width:1.5px}.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-labels .vzb-bc-label-shadow{filter:alpha(opacity=70);opacity:.7;fill:#fff;stroke:#fff}.vzb-tool.vzb-small .vzb-bubblechart-svg .vzb-bc-label-content.stroke,.vzb-tool.vzb-small .vzb-bubblechart-svg .vzb-bc-label-shadow,.vzb-tool.vzb-small .vzb-bubblechart-svg .vzb-bc-tooltip-shadow{stroke-width:2px}.vzb-tool.vzb-large .vzb-bubblechart-svg .vzb-bc-label-content.stroke,.vzb-tool.vzb-large .vzb-bubblechart-svg .vzb-bc-label-shadow,.vzb-tool.vzb-large .vzb-bubblechart-svg .vzb-bc-tooltip-shadow,.vzb-tool.vzb-medium .vzb-bubblechart-svg .vzb-bc-label-content.stroke,.vzb-tool.vzb-medium .vzb-bubblechart-svg .vzb-bc-label-shadow,.vzb-tool.vzb-medium .vzb-bubblechart-svg .vzb-bc-tooltip-shadow{stroke-width:3px}.vzb-tool .vzb-bubblechart{overflow:visible}.vzb-tool .vzb-bubblechart .vzb-zoomin .vzb-bc-bubbles-crop,.vzb-tool .vzb-bubblechart .vzb-zoomin .vzb-bc-labels-crop{cursor:url(data:application/xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPEVycm9yPjxDb2RlPkFjY2Vzc0RlbmllZDwvQ29kZT48TWVzc2FnZT5BY2Nlc3MgRGVuaWVkPC9NZXNzYWdlPjxSZXF1ZXN0SWQ+ODRGQjA0QjAyRTE4QTZFQzwvUmVxdWVzdElkPjxIb3N0SWQ+U01rQ3VpUFlWdjFhbEJ1L0RWeEZYVy9GaVV1cStkSGt0MzRaNGdZTFhaSGVEZUo5aWc1Sld2QzB6UzR3Z1FNZkxGQVFIb0NoZUdNPTwvSG9zdElkPjwvRXJyb3I+),auto}.vzb-tool .vzb-bubblechart .vzb-zoomin .vzb-bc-bubbles-crop .vzb-bc-entity,.vzb-tool .vzb-bubblechart .vzb-zoomin .vzb-bc-labels-crop .vzb-bc-entity{cursor:url(data:application/xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPEVycm9yPjxDb2RlPkFjY2Vzc0RlbmllZDwvQ29kZT48TWVzc2FnZT5BY2Nlc3MgRGVuaWVkPC9NZXNzYWdlPjxSZXF1ZXN0SWQ+NDg0OUI0QzMwQkJENUFCQjwvUmVxdWVzdElkPjxIb3N0SWQ+TUtxRE1nWDNIRVZpZkFjOHhKdHpyYlYvZTcvRTlRd0hpeUZPMnZlUU43M01OWDVJazRadkV3cDB2WWRjZmI0d044YTFRMjdtOHRjPTwvSG9zdElkPjwvRXJyb3I+),auto!important}.vzb-tool .vzb-bubblechart .vzb-zoomout .vzb-bc-bubbles-crop,.vzb-tool .vzb-bubblechart .vzb-zoomout .vzb-bc-labels-crop{cursor:url(data:application/xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPEVycm9yPjxDb2RlPkFjY2Vzc0RlbmllZDwvQ29kZT48TWVzc2FnZT5BY2Nlc3MgRGVuaWVkPC9NZXNzYWdlPjxSZXF1ZXN0SWQ+OUQyMEExNDMwRkRCOTM4MTwvUmVxdWVzdElkPjxIb3N0SWQ+Tk00T0hPVmo1ejlRUU9KSXlRdWVqVGdHNEZmV3NsTGZ0ZjJmK0pBcm9ka2RaZjM5T2JrUlVWem9KUGNaU3QrTGhGbmtkU1hPdGI4PTwvSG9zdElkPjwvRXJyb3I+),auto}.vzb-tool .vzb-bubblechart .vzb-zoomout .vzb-bc-bubbles-crop .vzb-bc-entity,.vzb-tool .vzb-bubblechart .vzb-zoomout .vzb-bc-labels-crop .vzb-bc-entity{cursor:url(data:application/xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPEVycm9yPjxDb2RlPkFjY2Vzc0RlbmllZDwvQ29kZT48TWVzc2FnZT5BY2Nlc3MgRGVuaWVkPC9NZXNzYWdlPjxSZXF1ZXN0SWQ+N0I5MDE5NDNENTUzOTFENTwvUmVxdWVzdElkPjxIb3N0SWQ+TTYyUVpIOU5kNWtHUVFUTzdmd1pIVTJxVlJLeWVoNHVhVXFGKzNseW1jL1Vxai94WkxTZ2JVdXRQV1dzd2lMNGtzazNJaUNiSU13PTwvSG9zdElkPjwvRXJyb3I+),auto!important}.vzb-tool .vzb-bubblechart .vzb-panhand .vzb-bc-bubbles-crop{cursor:url(data:application/xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPEVycm9yPjxDb2RlPkFjY2Vzc0RlbmllZDwvQ29kZT48TWVzc2FnZT5BY2Nlc3MgRGVuaWVkPC9NZXNzYWdlPjxSZXF1ZXN0SWQ+MzVFMjNCQjg5QkVBQjQzMDwvUmVxdWVzdElkPjxIb3N0SWQ+YUdzMENMVHI5VVNNSWYzOEZaZS92eWcvUjhWWmlXTWh2OTZxR2M1YWl2Mm1CMWN6N2I5d3NSd09CYzh2TlhLbHBWem8vM09rK2ZBPTwvSG9zdElkPjwvRXJyb3I+),auto}.vzb-tool .vzb-bubblechart .vzb-panhand.vzb-zooming .vzb-bc-bubbles-crop{cursor:url(data:application/xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPEVycm9yPjxDb2RlPkFjY2Vzc0RlbmllZDwvQ29kZT48TWVzc2FnZT5BY2Nlc3MgRGVuaWVkPC9NZXNzYWdlPjxSZXF1ZXN0SWQ+MDVDNTUzMUNCNjcyNzE3MjwvUmVxdWVzdElkPjxIb3N0SWQ+b2Y1NGhwVGRFQ1QzRmE5Zkw0ckxLa1h6aTR2MEtKOFIvSVk3RkZRRGNBMGR4R09UTlhiWHY1SExCNTBWS2w3Y1NheEVNRmNGRmE0PTwvSG9zdElkPjwvRXJyb3I+),auto}.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg{overflow:visible}.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-bubbles-crop{-ms-touch-action:none;touch-action:none}.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-labels-crop{-ms-touch-action:none;touch-action:none;overflow:visible}.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-zoom-rect{fill:none;stroke:#999}.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-eventarea{pointer-events:all;fill:none}.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-entity.vzb-super-highlighted{animation:blink 1s step-start 0s infinite}@keyframes blink{50%{opacity:0}}.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-entity.vzb-bc-trailsegment line{pointer-events:none;stroke-width:2}.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-bubbles .vzb-bc-entity,.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-trails .vzb-bc-entity{stroke:#333;stroke-opacity:.7;cursor:pointer;pointer-events:visible}.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-bubbles .vzb-bc-entity .vzb-bc-label-line,.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-trails .vzb-bc-entity .vzb-bc-label-line{stroke:#999}.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg.vzb-panhand .vzb-bc-bubbles-crop{cursor:-webkit-grab;cursor:grab}.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg.vzb-panhand.vzb-zooming .vzb-bc-bubbles-crop{cursor:-webkit-grabbing;cursor:grabbing}.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg.vzb-zoomin .vzb-bc-bubbles-crop,.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg.vzb-zoomin .vzb-bc-labels-crop{cursor:zoom-in}.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg.vzb-zoomin .vzb-bc-bubbles-crop .vzb-bc-entity,.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg.vzb-zoomin .vzb-bc-labels-crop .vzb-bc-entity{cursor:zoom-in!important;pointer-events:none!important}.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg.vzb-zoomin .vzb-bc-bubbles-crop .vzb-bc-labels .vzb-label-fill,.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg.vzb-zoomin .vzb-bc-labels-crop .vzb-bc-labels .vzb-label-fill{pointer-events:none}.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg.vzb-zoomout .vzb-bc-bubbles-crop,.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg.vzb-zoomout .vzb-bc-labels-crop{cursor:zoom-out}.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg.vzb-zoomout .vzb-bc-bubbles-crop .vzb-bc-entity,.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg.vzb-zoomout .vzb-bc-labels-crop .vzb-bc-entity{cursor:zoom-out!important;pointer-events:none!important}.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg.vzb-zoomout .vzb-bc-bubbles-crop .vzb-bc-labels .vzb-label-fill,.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg.vzb-zoomout .vzb-bc-labels-crop .vzb-bc-labels .vzb-label-fill{pointer-events:none}.vzb-rtl.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-labels text{direction:rtl;text-anchor:start;unicode-bidi:embed}.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-labels .vzb-label-fill{pointer-events:visible}.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-labels .vzb-bc-tooltip .vzb-label-glow{stroke-width:8px;fill:none}.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-labels .vzb-bc-entity .vzb-bc-label-x{transition:opacity .2s linear;fill:#607889;text-anchor:middle;dominant-baseline:middle;font-size:.9em;cursor:pointer;stroke:#fff;stroke-width:2px}.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-labels .vzb-bc-entity .vzb-bc-label-x-icon{transition:opacity .2s linear;fill:#fff}.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-labels .vzb-bc-entity .vzb-label-glow{stroke-width:8px;fill:none;opacity:0}.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-labels .vzb-bc-entity.vzb-highlighted .vzb-bc-label-x{pointer-events:visible}.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-labels .vzb-bc-entity.vzb-highlighted .vzb-label-glow{opacity:.8}.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-labels .vzb-bc-entity.vzb-label-boxremoved:not(.vzb-highlighted) .vzb-label-fill{opacity:0}.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-labels .vzb-bc-entity.vzb-label-boxremoved:not(.vzb-highlighted) .vzb-label-glow{stroke:none}.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-bubble-crown .vzb-crown,.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-bubble-crown .vzb-crown-glow{pointer-events:none}.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-bubble-crown .vzb-crown{stroke:#333}.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-bubble-crown .vzb-crown-glow{stroke-width:6px;fill:none;opacity:.8}.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-lines .vzb-bc-entity line{stroke:#666;opacity:.8}.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-axis-x-subtitle text,.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-axis-y-subtitle text{text-anchor:end}.vzb-rtl.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-axis-x-title text,.vzb-rtl.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-axis-y-title text{direction:rtl;unicode-bidi:embed}.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-axis-x-title tspan,.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-axis-y-title tspan{fill:#9fbbc1}.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-axis-c-title,.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-axis-s-title{opacity:.3}.vzb-rtl.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-axis-c-title text,.vzb-rtl.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-axis-s-title text{direction:rtl;text-anchor:start;unicode-bidi:embed}.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-decorations .vzb-bc-line-equal-xy{stroke-dasharray:4 4;stroke:#333}.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-decorations .vzb-bc-x-axis-groups text{fill:#999;dominant-baseline:ideographic;text-transform:uppercase}.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-projection-x,.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-projection-y{stroke-dasharray:4 4;stroke:#333;opacity:0}.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-line{fill:none;stroke:#999;stroke-width:1px}.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-bc-year{filter:alpha(opacity=30);opacity:.3;font-size:15em;fill:#999;text-anchor:middle;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.vzb-tool .vzb-bubblechart .vzb-bubblechart-svg .vzb-axis-value text{fill:#607889}.vzb-tool.vzb-large .vzb-bubblechart-svg .vzb-bc-bubbles .vzb-bc-entity{stroke-opacity:1}.vzb-tool.vzb-large .vzb-bubblechart-svg .vzb-bc-axis-x-title,.vzb-tool.vzb-large .vzb-bubblechart-svg .vzb-bc-axis-y-title{text-anchor:middle}.vzb-tool.vzb-medium .vzb-bubblechart-svg .vzb-bc-bubbles .vzb-bc-entity{stroke-opacity:.8}.vzb-tool.vzb-medium .vzb-bubblechart-svg .vzb-bc-axis-x-title,.vzb-tool.vzb-medium .vzb-bubblechart-svg .vzb-bc-axis-y-title{text-anchor:middle}.vzb-tool.vzb-small .vzb-bubblechart-svg .vzb-bc-bubbles .vzb-bc-entity{stroke-opacity:.7}.vzb-tool.vzb-presentation .vzb-bubblechart-svg .vzb-bc-axis-x text,.vzb-tool.vzb-presentation .vzb-bubblechart-svg .vzb-bc-axis-y text,.vzb-tool.vzb-presentation .vzb-bubblechart-svg .vzb-bc-labels{font-size:1.6em}
</style></p>
<script>// https://d3js.org Version 4.13.0. Copyright 2018 Mike Bostock.
(function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(t.d3=t.d3||{})})(this,function(t){"use strict";function n(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function e(t){return 1===t.length&&(t=function(t){return function(e,r){return n(t(e),r)}}(t)),{left:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)<0?r=o+1:i=o}return r},right:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)>0?i=o:r=o+1}return r}}}function r(t,n){return[t,n]}function i(t){return null===t?NaN:+t}function o(t,n){var e,r,o=t.length,u=0,a=-1,c=0,s=0;if(null==n)for(;++a<o;)isNaN(e=i(t[a]))||(s+=(r=e-c)*(e-(c+=r/++u)));else for(;++a<o;)isNaN(e=i(n(t[a],a,t)))||(s+=(r=e-c)*(e-(c+=r/++u)));if(u>1)return s/(u-1)}function u(t,n){var e=o(t,n);return e?Math.sqrt(e):e}function a(t,n){var e,r,i,o=t.length,u=-1;if(null==n){for(;++u<o;)if(null!=(e=t[u])&&e>=e)for(r=i=e;++u<o;)null!=(e=t[u])&&(r>e&&(r=e),i<e&&(i=e))}else for(;++u<o;)if(null!=(e=n(t[u],u,t))&&e>=e)for(r=i=e;++u<o;)null!=(e=n(t[u],u,t))&&(r>e&&(r=e),i<e&&(i=e));return[r,i]}function c(t){return function(){return t}}function s(t){return t}function f(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=0|Math.max(0,Math.ceil((n-t)/e)),o=new Array(i);++r<i;)o[r]=t+r*e;return o}function l(t,n,e){var r,i,o,u,a=-1;if(n=+n,t=+t,e=+e,t===n&&e>0)return[t];if((r=n<t)&&(i=t,t=n,n=i),0===(u=h(t,n,e))||!isFinite(u))return[];if(u>0)for(t=Math.ceil(t/u),n=Math.floor(n/u),o=new Array(i=Math.ceil(n-t+1));++a<i;)o[a]=(t+a)*u;else for(t=Math.floor(t*u),n=Math.ceil(n*u),o=new Array(i=Math.ceil(t-n+1));++a<i;)o[a]=(t-a)/u;return r&&o.reverse(),o}function h(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=Hs?10:o>=js?5:o>=Xs?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=Hs?10:o>=js?5:o>=Xs?2:1)}function p(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=Hs?i*=10:o>=js?i*=5:o>=Xs&&(i*=2),n<t?-i:i}function d(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}function v(t,n,e){if(null==e&&(e=i),r=t.length){if((n=+n)<=0||r<2)return+e(t[0],0,t);if(n>=1)return+e(t[r-1],r-1,t);var r,o=(r-1)*n,u=Math.floor(o),a=+e(t[u],u,t);return a+(+e(t[u+1],u+1,t)-a)*(o-u)}}function g(t){for(var n,e,r,i=t.length,o=-1,u=0;++o<i;)u+=t[o].length;for(e=new Array(u);--i>=0;)for(n=(r=t[i]).length;--n>=0;)e[--u]=r[n];return e}function _(t,n){var e,r,i=t.length,o=-1;if(null==n){for(;++o<i;)if(null!=(e=t[o])&&e>=e)for(r=e;++o<i;)null!=(e=t[o])&&r>e&&(r=e)}else for(;++o<i;)if(null!=(e=n(t[o],o,t))&&e>=e)for(r=e;++o<i;)null!=(e=n(t[o],o,t))&&r>e&&(r=e);return r}function y(t){if(!(i=t.length))return[];for(var n=-1,e=_(t,m),r=new Array(e);++n<e;)for(var i,o=-1,u=r[n]=new Array(i);++o<i;)u[o]=t[o][n];return r}function m(t){return t.length}function x(t){return t}function b(t){return"translate("+(t+.5)+",0)"}function w(t){return"translate(0,"+(t+.5)+")"}function M(){return!this.__axis}function T(t,n){function e(e){var h=null==i?n.ticks?n.ticks.apply(n,r):n.domain():i,p=null==o?n.tickFormat?n.tickFormat.apply(n,r):x:o,d=Math.max(u,0)+c,v=n.range(),g=+v[0]+.5,_=+v[v.length-1]+.5,y=(n.bandwidth?function(t){var n=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(n=Math.round(n)),function(e){return+t(e)+n}}:function(t){return function(n){return+t(n)}})(n.copy()),m=e.selection?e.selection():e,b=m.selectAll(".domain").data([null]),w=m.selectAll(".tick").data(h,n).order(),T=w.exit(),N=w.enter().append("g").attr("class","tick"),k=w.select("line"),S=w.select("text");b=b.merge(b.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),w=w.merge(N),k=k.merge(N.append("line").attr("stroke","#000").attr(f+"2",s*u)),S=S.merge(N.append("text").attr("fill","#000").attr(f,s*d).attr("dy",t===$s?"0em":t===Zs?"0.71em":"0.32em")),e!==m&&(b=b.transition(e),w=w.transition(e),k=k.transition(e),S=S.transition(e),T=T.transition(e).attr("opacity",Qs).attr("transform",function(t){return isFinite(t=y(t))?l(t):this.getAttribute("transform")}),N.attr("opacity",Qs).attr("transform",function(t){var n=this.parentNode.__axis;return l(n&&isFinite(n=n(t))?n:y(t))})),T.remove(),b.attr("d",t===Gs||t==Ws?"M"+s*a+","+g+"H0.5V"+_+"H"+s*a:"M"+g+","+s*a+"V0.5H"+_+"V"+s*a),w.attr("opacity",1).attr("transform",function(t){return l(y(t))}),k.attr(f+"2",s*u),S.attr(f,s*d).text(p),m.filter(M).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Ws?"start":t===Gs?"end":"middle"),m.each(function(){this.__axis=y})}var r=[],i=null,o=null,u=6,a=6,c=3,s=t===$s||t===Gs?-1:1,f=t===Gs||t===Ws?"x":"y",l=t===$s||t===Zs?b:w;return e.scale=function(t){return arguments.length?(n=t,e):n},e.ticks=function(){return r=Vs.call(arguments),e},e.tickArguments=function(t){return arguments.length?(r=null==t?[]:Vs.call(t),e):r.slice()},e.tickValues=function(t){return arguments.length?(i=null==t?null:Vs.call(t),e):i&&i.slice()},e.tickFormat=function(t){return arguments.length?(o=t,e):o},e.tickSize=function(t){return arguments.length?(u=a=+t,e):u},e.tickSizeInner=function(t){return arguments.length?(u=+t,e):u},e.tickSizeOuter=function(t){return arguments.length?(a=+t,e):a},e.tickPadding=function(t){return arguments.length?(c=+t,e):c},e}function N(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new k(r)}function k(t){this._=t}function S(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=Js,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}function E(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),tf.hasOwnProperty(n)?{space:tf[n],local:t}:t}function A(t){var n=E(t);return(n.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===Ks&&n.documentElement.namespaceURI===Ks?n.createElement(t):n.createElementNS(e,t)}})(n)}function C(){}function z(t){return null==t?C:function(){return this.querySelector(t)}}function P(){return[]}function R(t){return null==t?P:function(){return this.querySelectorAll(t)}}function L(t){return new Array(t.length)}function q(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function D(t,n,e,r,i,o){for(var u,a=0,c=n.length,s=o.length;a<s;++a)(u=n[a])?(u.__data__=o[a],r[a]=u):e[a]=new q(t,o[a]);for(;a<c;++a)(u=n[a])&&(i[a]=u)}function U(t,n,e,r,i,o,u){var a,c,s,f={},l=n.length,h=o.length,p=new Array(l);for(a=0;a<l;++a)(c=n[a])&&(p[a]=s=uf+u.call(c,c.__data__,a,n),s in f?i[a]=c:f[s]=c);for(a=0;a<h;++a)(c=f[s=uf+u.call(t,o[a],a,o)])?(r[a]=c,c.__data__=o[a],f[s]=null):e[a]=new q(t,o[a]);for(a=0;a<l;++a)(c=n[a])&&f[p[a]]===c&&(i[a]=c)}function O(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function F(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function I(t,n){return t.style.getPropertyValue(n)||F(t).getComputedStyle(t,null).getPropertyValue(n)}function Y(t){return t.trim().split(/^|\s+/)}function B(t){return t.classList||new H(t)}function H(t){this._node=t,this._names=Y(t.getAttribute("class")||"")}function j(t,n){for(var e=B(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function X(t,n){for(var e=B(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function V(){this.textContent=""}function $(){this.innerHTML=""}function W(){this.nextSibling&&this.parentNode.appendChild(this)}function Z(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function G(){return null}function Q(){var t=this.parentNode;t&&t.removeChild(this)}function J(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function K(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}function tt(t,n,e){return t=nt(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function nt(n,e,r){return function(i){var o=t.event;t.event=i;try{n.call(this,this.__data__,e,r)}finally{t.event=o}}}function et(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?n.length=i:delete this.__on}}}function rt(t,n,e){var r=af.hasOwnProperty(t.type)?tt:nt;return function(i,o,u){var a,c=this.__on,s=r(n,o,u);if(c)for(var f=0,l=c.length;f<l;++f)if((a=c[f]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=s,a.capture=e),void(a.value=n);this.addEventListener(t.type,s,e),a={type:t.type,name:t.name,value:n,listener:s,capture:e},c?c.push(a):this.__on=[a]}}function it(n,e,r,i){var o=t.event;n.sourceEvent=t.event,t.event=n;try{return e.apply(r,i)}finally{t.event=o}}function ot(t,n,e){var r=F(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function ut(t,n){this._groups=t,this._parents=n}function at(){return new ut([[document.documentElement]],cf)}function ct(t){return"string"==typeof t?new ut([[document.querySelector(t)]],[document.documentElement]):new ut([[t]],cf)}function st(){return new ft}function ft(){this._="@"+(++sf).toString(36)}function lt(){for(var n,e=t.event;n=e.sourceEvent;)e=n;return e}function ht(t,n){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var i=t.getBoundingClientRect();return[n.clientX-i.left-t.clientLeft,n.clientY-i.top-t.clientTop]}function pt(t){var n=lt();return n.changedTouches&&(n=n.changedTouches[0]),ht(t,n)}function dt(t,n,e){arguments.length<3&&(e=n,n=lt().changedTouches);for(var r,i=0,o=n?n.length:0;i<o;++i)if((r=n[i]).identifier===e)return ht(t,r);return null}function vt(){t.event.stopImmediatePropagation()}function gt(){t.event.preventDefault(),t.event.stopImmediatePropagation()}function _t(t){var n=t.document.documentElement,e=ct(t).on("dragstart.drag",gt,!0);"onselectstart"in n?e.on("selectstart.drag",gt,!0):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function yt(t,n){var e=t.document.documentElement,r=ct(t).on("dragstart.drag",null);n&&(r.on("click.drag",gt,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}function mt(t){return function(){return t}}function xt(t,n,e,r,i,o,u,a,c,s){this.target=t,this.type=n,this.subject=e,this.identifier=r,this.active=i,this.x=o,this.y=u,this.dx=a,this.dy=c,this._=s}function bt(){return!t.event.button}function wt(){return this.parentNode}function Mt(n){return null==n?{x:t.event.x,y:t.event.y}:n}function Tt(){return"ontouchstart"in this}function Nt(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function kt(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function St(){}function Et(t){var n;return t=(t+"").trim().toLowerCase(),(n=pf.exec(t))?(n=parseInt(n[1],16),new Rt(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1)):(n=df.exec(t))?At(parseInt(n[1],16)):(n=vf.exec(t))?new Rt(n[1],n[2],n[3],1):(n=gf.exec(t))?new Rt(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=_f.exec(t))?Ct(n[1],n[2],n[3],n[4]):(n=yf.exec(t))?Ct(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=mf.exec(t))?Lt(n[1],n[2]/100,n[3]/100,1):(n=xf.exec(t))?Lt(n[1],n[2]/100,n[3]/100,n[4]):bf.hasOwnProperty(t)?At(bf[t]):"transparent"===t?new Rt(NaN,NaN,NaN,0):null}function At(t){return new Rt(t>>16&255,t>>8&255,255&t,1)}function Ct(t,n,e,r){return r<=0&&(t=n=e=NaN),new Rt(t,n,e,r)}function zt(t){return t instanceof St||(t=Et(t)),t?(t=t.rgb(),new Rt(t.r,t.g,t.b,t.opacity)):new Rt}function Pt(t,n,e,r){return 1===arguments.length?zt(t):new Rt(t,n,e,null==r?1:r)}function Rt(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function Lt(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new Dt(t,n,e,r)}function qt(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof Dt)return new Dt(t.h,t.s,t.l,t.opacity);if(t instanceof St||(t=Et(t)),!t)return new Dt;if(t instanceof Dt)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),u=NaN,a=o-i,c=(o+i)/2;return a?(u=n===o?(e-r)/a+6*(e<r):e===o?(r-n)/a+2:(n-e)/a+4,a/=c<.5?o+i:2-o-i,u*=60):a=c>0&&c<1?0:u,new Dt(u,a,c,t.opacity)}(t):new Dt(t,n,e,null==r?1:r)}function Dt(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function Ut(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}function Ot(t){if(t instanceof It)return new It(t.l,t.a,t.b,t.opacity);if(t instanceof Vt){var n=t.h*wf;return new It(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}t instanceof Rt||(t=zt(t));var e=jt(t.r),r=jt(t.g),i=jt(t.b),o=Yt((.4124564*e+.3575761*r+.1804375*i)/Tf),u=Yt((.2126729*e+.7151522*r+.072175*i)/Nf);return new It(116*u-16,500*(o-u),200*(u-Yt((.0193339*e+.119192*r+.9503041*i)/kf)),t.opacity)}function Ft(t,n,e,r){return 1===arguments.length?Ot(t):new It(t,n,e,null==r?1:r)}function It(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}function Yt(t){return t>Cf?Math.pow(t,1/3):t/Af+Sf}function Bt(t){return t>Ef?t*t*t:Af*(t-Sf)}function Ht(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function jt(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Xt(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof Vt)return new Vt(t.h,t.c,t.l,t.opacity);t instanceof It||(t=Ot(t));var n=Math.atan2(t.b,t.a)*Mf;return new Vt(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}(t):new Vt(t,n,e,null==r?1:r)}function Vt(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}function $t(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof Wt)return new Wt(t.h,t.s,t.l,t.opacity);t instanceof Rt||(t=zt(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(Df*r+Lf*n-qf*e)/(Df+Lf-qf),o=r-i,u=(Rf*(e-i)-zf*o)/Pf,a=Math.sqrt(u*u+o*o)/(Rf*i*(1-i)),c=a?Math.atan2(u,o)*Mf-120:NaN;return new Wt(c<0?c+360:c,a,i,t.opacity)}(t):new Wt(t,n,e,null==r?1:r)}function Wt(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function Zt(t,n,e,r,i){var o=t*t,u=o*t;return((1-3*t+3*o-u)*n+(4-6*o+3*u)*e+(1+3*t+3*o-3*u)*r+u*i)/6}function Gt(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],o=t[r+1],u=r>0?t[r-1]:2*i-o,a=r<n-1?t[r+2]:2*o-i;return Zt((e-r/n)*n,u,i,o,a)}}function Qt(t){var n=t.length;return function(e){var r=Math.floor(((e%=1)<0?++e:e)*n),i=t[(r+n-1)%n],o=t[r%n],u=t[(r+1)%n],a=t[(r+2)%n];return Zt((e-r/n)*n,i,o,u,a)}}function Jt(t){return function(){return t}}function Kt(t,n){return function(e){return t+e*n}}function tn(t,n){var e=n-t;return e?Kt(t,e>180||e<-180?e-360*Math.round(e/360):e):Jt(isNaN(t)?n:t)}function nn(t){return 1==(t=+t)?en:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):Jt(isNaN(n)?e:n)}}function en(t,n){var e=n-t;return e?Kt(t,e):Jt(isNaN(t)?n:t)}function rn(t){return function(n){var e,r,i=n.length,o=new Array(i),u=new Array(i),a=new Array(i);for(e=0;e<i;++e)r=Pt(n[e]),o[e]=r.r||0,u[e]=r.g||0,a[e]=r.b||0;return o=t(o),u=t(u),a=t(a),r.opacity=1,function(t){return r.r=o(t),r.g=u(t),r.b=a(t),r+""}}}function on(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),u=new Array(r);for(e=0;e<i;++e)o[e]=fn(t[e],n[e]);for(;e<r;++e)u[e]=n[e];return function(t){for(e=0;e<i;++e)u[e]=o[e](t);return u}}function un(t,n){var e=new Date;return t=+t,n-=t,function(r){return e.setTime(t+n*r),e}}function an(t,n){return t=+t,n-=t,function(e){return t+n*e}}function cn(t,n){var e,r={},i={};null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={});for(e in n)e in t?r[e]=fn(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}}function sn(t,n){var e,r,i,o=Vf.lastIndex=$f.lastIndex=0,u=-1,a=[],c=[];for(t+="",n+="";(e=Vf.exec(t))&&(r=$f.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),a[u]?a[u]+=i:a[++u]=i),(e=e[0])===(r=r[0])?a[u]?a[u]+=r:a[++u]=r:(a[++u]=null,c.push({i:u,x:an(e,r)})),o=$f.lastIndex;return o<n.length&&(i=n.slice(o),a[u]?a[u]+=i:a[++u]=i),a.length<2?c[0]?function(t){return function(n){return t(n)+""}}(c[0].x):function(t){return function(){return t}}(n):(n=c.length,function(t){for(var e,r=0;r<n;++r)a[(e=c[r]).i]=e.x(t);return a.join("")})}function fn(t,n){var e,r=typeof n;return null==n||"boolean"===r?Jt(n):("number"===r?an:"string"===r?(e=Et(n))?(n=e,Hf):sn:n instanceof Et?Hf:n instanceof Date?un:Array.isArray(n)?on:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?cn:an)(t,n)}function ln(t,n){return t=+t,n-=t,function(e){return Math.round(t+n*e)}}function hn(t,n,e,r,i,o){var u,a,c;return(u=Math.sqrt(t*t+n*n))&&(t/=u,n/=u),(c=t*e+n*r)&&(e-=t*c,r-=n*c),(a=Math.sqrt(e*e+r*r))&&(e/=a,r/=a,c/=a),t*r<n*e&&(t=-t,n=-n,c=-c,u=-u),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*Wf,skewX:Math.atan(c)*Wf,scaleX:u,scaleY:a}}function pn(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}return function(o,u){var a=[],c=[];return o=t(o),u=t(u),function(t,r,i,o,u,a){if(t!==i||r!==o){var c=u.push("translate(",null,n,null,e);a.push({i:c-4,x:an(t,i)},{i:c-2,x:an(r,o)})}else(i||o)&&u.push("translate("+i+n+o+e)}(o.translateX,o.translateY,u.translateX,u.translateY,a,c),function(t,n,e,o){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),o.push({i:e.push(i(e)+"rotate(",null,r)-2,x:an(t,n)})):n&&e.push(i(e)+"rotate("+n+r)}(o.rotate,u.rotate,a,c),function(t,n,e,o){t!==n?o.push({i:e.push(i(e)+"skewX(",null,r)-2,x:an(t,n)}):n&&e.push(i(e)+"skewX("+n+r)}(o.skewX,u.skewX,a,c),function(t,n,e,r,o,u){if(t!==e||n!==r){var a=o.push(i(o)+"scale(",null,",",null,")");u.push({i:a-4,x:an(t,e)},{i:a-2,x:an(n,r)})}else 1===e&&1===r||o.push(i(o)+"scale("+e+","+r+")")}(o.scaleX,o.scaleY,u.scaleX,u.scaleY,a,c),o=u=null,function(t){for(var n,e=-1,r=c.length;++e<r;)a[(n=c[e]).i]=n.x(t);return a.join("")}}}function dn(t){return((t=Math.exp(t))+1/t)/2}function vn(t,n){var e,r,i=t[0],o=t[1],u=t[2],a=n[0],c=n[1],s=n[2],f=a-i,l=c-o,h=f*f+l*l;if(h<nl)r=Math.log(s/u)/Jf,e=function(t){return[i+t*f,o+t*l,u*Math.exp(Jf*t*r)]};else{var p=Math.sqrt(h),d=(s*s-u*u+tl*h)/(2*u*Kf*p),v=(s*s-u*u-tl*h)/(2*s*Kf*p),g=Math.log(Math.sqrt(d*d+1)-d),_=Math.log(Math.sqrt(v*v+1)-v);r=(_-g)/Jf,e=function(t){var n=t*r,e=dn(g),a=u/(Kf*p)*(e*function(t){return((t=Math.exp(2*t))-1)/(t+1)}(Jf*n+g)-function(t){return((t=Math.exp(t))-1/t)/2}(g));return[i+a*f,o+a*l,u*e/dn(Jf*n+g)]}}return e.duration=1e3*r,e}function gn(t){return function(n,e){var r=t((n=qt(n)).h,(e=qt(e)).h),i=en(n.s,e.s),o=en(n.l,e.l),u=en(n.opacity,e.opacity);return function(t){return n.h=r(t),n.s=i(t),n.l=o(t),n.opacity=u(t),n+""}}}function _n(t){return function(n,e){var r=t((n=Xt(n)).h,(e=Xt(e)).h),i=en(n.c,e.c),o=en(n.l,e.l),u=en(n.opacity,e.opacity);return function(t){return n.h=r(t),n.c=i(t),n.l=o(t),n.opacity=u(t),n+""}}}function yn(t){return function n(e){function r(n,r){var i=t((n=$t(n)).h,(r=$t(r)).h),o=en(n.s,r.s),u=en(n.l,r.l),a=en(n.opacity,r.opacity);return function(t){return n.h=i(t),n.s=o(t),n.l=u(Math.pow(t,e)),n.opacity=a(t),n+""}}return e=+e,r.gamma=n,r}(1)}function mn(){return pl||(gl(xn),pl=vl.now()+dl)}function xn(){pl=0}function bn(){this._call=this._time=this._next=null}function wn(t,n,e){var r=new bn;return r.restart(t,n,e),r}function Mn(){mn(),++cl;for(var t,n=Yf;n;)(t=pl-n._time)>=0&&n._call.call(null,t),n=n._next;--cl}function Tn(){pl=(hl=vl.now())+dl,cl=sl=0;try{Mn()}finally{cl=0,function(){var t,n,e=Yf,r=1/0;for(;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Yf=n);Bf=t,kn(r)}(),pl=0}}function Nn(){var t=vl.now(),n=t-hl;n>ll&&(dl-=n,hl=t)}function kn(t){if(!cl){sl&&(sl=clearTimeout(sl));t-pl>24?(t<1/0&&(sl=setTimeout(Tn,t-vl.now()-dl)),fl&&(fl=clearInterval(fl))):(fl||(hl=vl.now(),fl=setInterval(Nn,ll)),cl=1,gl(Tn))}}function Sn(t,n,e){var r=new bn;return n=null==n?0:+n,r.restart(function(e){r.stop(),t(e+n)},n,e),r}function En(t,n,e,r,i,o){var u=t.__transition;if(u){if(e in u)return}else t.__transition={};(function(t,n,e){function r(c){var s,f,l,h;if(e.state!==xl)return o();for(s in a)if((h=a[s]).name===e.name){if(h.state===wl)return Sn(r);h.state===Ml?(h.state=Nl,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete a[s]):+s<n&&(h.state=Nl,h.timer.stop(),delete a[s])}if(Sn(function(){e.state===wl&&(e.state=Ml,e.timer.restart(i,e.delay,e.time),i(c))}),e.state=bl,e.on.call("start",t,t.__data__,e.index,e.group),e.state===bl){for(e.state=wl,u=new Array(l=e.tween.length),s=0,f=-1;s<l;++s)(h=e.tween[s].value.call(t,t.__data__,e.index,e.group))&&(u[++f]=h);u.length=f+1}}function i(n){for(var r=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(o),e.state=Tl,1),i=-1,a=u.length;++i<a;)u[i].call(null,r);e.state===Tl&&(e.on.call("end",t,t.__data__,e.index,e.group),o())}function o(){e.state=Nl,e.timer.stop(),delete a[n];for(var r in a)return;delete t.__transition}var u,a=t.__transition;a[n]=e,e.timer=wn(function(t){e.state=xl,e.timer.restart(r,e.delay,e.time),e.delay<=t&&r(t-e.delay)},0,e.time)})(t,e,{name:n,index:r,group:i,on:_l,tween:yl,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:ml})}function An(t,n){var e=zn(t,n);if(e.state>ml)throw new Error("too late; already scheduled");return e}function Cn(t,n){var e=zn(t,n);if(e.state>bl)throw new Error("too late; already started");return e}function zn(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function Pn(t,n){var e,r,i,o=t.__transition,u=!0;if(o){n=null==n?null:n+"";for(i in o)(e=o[i]).name===n?(r=e.state>bl&&e.state<Tl,e.state=Nl,e.timer.stop(),r&&e.on.call("interrupt",t,t.__data__,e.index,e.group),delete o[i]):u=!1;u&&delete t.__transition}}function Rn(t,n,e){var r=t._id;return t.each(function(){var t=Cn(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)}),function(t){return zn(t,r).value[n]}}function Ln(t,n){var e;return("number"==typeof n?an:n instanceof Et?Hf:(e=Et(n))?(n=e,Hf):sn)(t,n)}function qn(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function Dn(t){return at().transition(t)}function Un(){return++Sl}function On(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function Fn(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}function In(t){return(1-Math.cos(Pl*t))/2}function Yn(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function Bn(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}function Hn(t){return(t=+t)<Ll?Hl*t*t:t<Dl?Hl*(t-=ql)*t+Ul:t<Fl?Hl*(t-=Ol)*t+Il:Hl*(t-=Yl)*t+Bl}function jn(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))return Ql.time=mn(),Ql;return e}function Xn(t){return function(){return t}}function Vn(){t.event.stopImmediatePropagation()}function $n(){t.event.preventDefault(),t.event.stopImmediatePropagation()}function Wn(t){return{type:t}}function Zn(){return!t.event.button}function Gn(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function Qn(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function Jn(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function Kn(n){function e(t){var e=t.property("__brush",a).selectAll(".overlay").data([Wn("overlay")]);e.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",uh.overlay).merge(e).each(function(){var t=Qn(this).extent;ct(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),t.selectAll(".selection").data([Wn("selection")]).enter().append("rect").attr("class","selection").attr("cursor",uh.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var i=t.selectAll(".handle").data(n.handles,function(t){return t.type});i.exit().remove(),i.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return uh[t.type]}),t.each(r).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",u)}function r(){var t=ct(this),n=Qn(this).selection;n?(t.selectAll(".selection").style("display",null).attr("x",n[0][0]).attr("y",n[0][1]).attr("width",n[1][0]-n[0][0]).attr("height",n[1][1]-n[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?n[1][0]-h/2:n[0][0]-h/2}).attr("y",function(t){return"s"===t.type[0]?n[1][1]-h/2:n[0][1]-h/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?n[1][0]-n[0][0]+h:h}).attr("height",function(t){return"e"===t.type||"w"===t.type?n[1][1]-n[0][1]+h:h})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function i(t,n){return t.__brush.emitter||new o(t,n)}function o(t,n){this.that=t,this.args=n,this.state=t.__brush,this.active=0}function u(){function e(){var t=pt(w);!L||x||b||(Math.abs(t[0]-D[0])>Math.abs(t[1]-D[1])?b=!0:x=!0),D=t,m=!0,$n(),o()}function o(){var t;switch(_=D[0]-q[0],y=D[1]-q[1],T){case th:case Kl:N&&(_=Math.max(C-a,Math.min(P-p,_)),s=a+_,d=p+_),k&&(y=Math.max(z-l,Math.min(R-v,y)),h=l+y,g=v+y);break;case nh:N<0?(_=Math.max(C-a,Math.min(P-a,_)),s=a+_,d=p):N>0&&(_=Math.max(C-p,Math.min(P-p,_)),s=a,d=p+_),k<0?(y=Math.max(z-l,Math.min(R-l,y)),h=l+y,g=v):k>0&&(y=Math.max(z-v,Math.min(R-v,y)),h=l,g=v+y);break;case eh:N&&(s=Math.max(C,Math.min(P,a-_*N)),d=Math.max(C,Math.min(P,p+_*N))),k&&(h=Math.max(z,Math.min(R,l-y*k)),g=Math.max(z,Math.min(R,v+y*k)))}d<s&&(N*=-1,t=a,a=p,p=t,t=s,s=d,d=t,M in ah&&F.attr("cursor",uh[M=ah[M]])),g<h&&(k*=-1,t=l,l=v,v=t,t=h,h=g,g=t,M in ch&&F.attr("cursor",uh[M=ch[M]])),S.selection&&(A=S.selection),x&&(s=A[0][0],d=A[1][0]),b&&(h=A[0][1],g=A[1][1]),A[0][0]===s&&A[0][1]===h&&A[1][0]===d&&A[1][1]===g||(S.selection=[[s,h],[d,g]],r.call(w),U.brush())}function u(){if(Vn(),t.event.touches){if(t.event.touches.length)return;c&&clearTimeout(c),c=setTimeout(function(){c=null},500),O.on("touchmove.brush touchend.brush touchcancel.brush",null)}else yt(t.event.view,m),I.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);O.attr("pointer-events","all"),F.attr("cursor",uh.overlay),S.selection&&(A=S.selection),Jn(A)&&(S.selection=null,r.call(w)),U.end()}if(t.event.touches){if(t.event.changedTouches.length<t.event.touches.length)return $n()}else if(c)return;if(f.apply(this,arguments)){var a,s,l,h,p,d,v,g,_,y,m,x,b,w=this,M=t.event.target.__data__.type,T="selection"===(t.event.metaKey?M="overlay":M)?Kl:t.event.altKey?eh:nh,N=n===ih?null:sh[M],k=n===rh?null:fh[M],S=Qn(w),E=S.extent,A=S.selection,C=E[0][0],z=E[0][1],P=E[1][0],R=E[1][1],L=N&&k&&t.event.shiftKey,q=pt(w),D=q,U=i(w,arguments).beforestart();"overlay"===M?S.selection=A=[[a=n===ih?C:q[0],l=n===rh?z:q[1]],[p=n===ih?P:a,v=n===rh?R:l]]:(a=A[0][0],l=A[0][1],p=A[1][0],v=A[1][1]),s=a,h=l,d=p,g=v;var O=ct(w).attr("pointer-events","none"),F=O.selectAll(".overlay").attr("cursor",uh[M]);if(t.event.touches)O.on("touchmove.brush",e,!0).on("touchend.brush touchcancel.brush",u,!0);else{var I=ct(t.event.view).on("keydown.brush",function(){switch(t.event.keyCode){case 16:L=N&&k;break;case 18:T===nh&&(N&&(p=d-_*N,a=s+_*N),k&&(v=g-y*k,l=h+y*k),T=eh,o());break;case 32:T!==nh&&T!==eh||(N<0?p=d-_:N>0&&(a=s-_),k<0?v=g-y:k>0&&(l=h-y),T=th,F.attr("cursor",uh.selection),o());break;default:return}$n()},!0).on("keyup.brush",function(){switch(t.event.keyCode){case 16:L&&(x=b=L=!1,o());break;case 18:T===eh&&(N<0?p=d:N>0&&(a=s),k<0?v=g:k>0&&(l=h),T=nh,o());break;case 32:T===th&&(t.event.altKey?(N&&(p=d-_*N,a=s+_*N),k&&(v=g-y*k,l=h+y*k),T=eh):(N<0?p=d:N>0&&(a=s),k<0?v=g:k>0&&(l=h),T=nh),F.attr("cursor",uh[M]),o());break;default:return}$n()},!0).on("mousemove.brush",e,!0).on("mouseup.brush",u,!0);_t(t.event.view)}Vn(),Pn(w),r.call(w),U.start()}}function a(){var t=this.__brush||{selection:null};return t.extent=s.apply(this,arguments),t.dim=n,t}var c,s=Gn,f=Zn,l=N(e,"start","brush","end"),h=6;return e.move=function(t,e){t.selection?t.on("start.brush",function(){i(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){i(this,arguments).end()}).tween("brush",function(){function t(t){u.selection=1===t&&Jn(s)?null:f(t),r.call(o),a.brush()}var o=this,u=o.__brush,a=i(o,arguments),c=u.selection,s=n.input("function"==typeof e?e.apply(this,arguments):e,u.extent),f=fn(c,s);return c&&s?t:t(1)}):t.each(function(){var t=arguments,o=this.__brush,u=n.input("function"==typeof e?e.apply(this,t):e,o.extent),a=i(this,t).beforestart();Pn(this),o.selection=null==u||Jn(u)?null:u,r.call(this),a.start().brush().end()})},o.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(t){it(new function(t,n,e){this.target=t,this.type=n,this.selection=e}(e,t,n.output(this.state.selection)),l.apply,l,[t,this.that,this.args])}},e.extent=function(t){return arguments.length?(s="function"==typeof t?t:Xn([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),e):s},e.filter=function(t){return arguments.length?(f="function"==typeof t?t:Xn(!!t),e):f},e.handleSize=function(t){return arguments.length?(h=+t,e):h},e.on=function(){var t=l.on.apply(l,arguments);return t===l?e:t},e}function te(t){return function(){return t}}function ne(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function ee(){return new ne}function re(t){return t.source}function ie(t){return t.target}function oe(t){return t.radius}function ue(t){return t.startAngle}function ae(t){return t.endAngle}function ce(){}function se(t,n){var e=new ce;if(t instanceof ce)t.each(function(t,n){e.set(n,t)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==n)for(;++i<o;)e.set(i,t[i]);else for(;++i<o;)e.set(n(r=t[i],i,t),r)}else if(t)for(var u in t)e.set(u,t[u]);return e}function fe(){return{}}function le(t,n,e){t[n]=e}function he(){return se()}function pe(t,n,e){t.set(n,e)}function de(){}function ve(t,n){var e=new de;if(t instanceof de)t.each(function(t){e.add(t)});else if(t){var r=-1,i=t.length;if(null==n)for(;++r<i;)e.add(t[r]);else for(;++r<i;)e.add(n(t[r],r,t))}return e}function ge(t){return new Function("d","return {"+t.map(function(t,n){return JSON.stringify(t)+": d["+n+"]"}).join(",")+"}")}function _e(t){function n(t,n){function e(){if(s)return Mh;if(f)return f=!1,wh;var n,e,r=a;if(t.charCodeAt(r)===Th){for(;a++<u&&t.charCodeAt(a)!==Th||t.charCodeAt(++a)===Th;);return(n=a)>=u?s=!0:(e=t.charCodeAt(a++))===Nh?f=!0:e===kh&&(f=!0,t.charCodeAt(a)===Nh&&++a),t.slice(r+1,n-1).replace(/""/g,'"')}for(;a<u;){if((e=t.charCodeAt(n=a++))===Nh)f=!0;else if(e===kh)f=!0,t.charCodeAt(a)===Nh&&++a;else if(e!==o)continue;return t.slice(r,n)}return s=!0,t.slice(r,u)}var r,i=[],u=t.length,a=0,c=0,s=u<=0,f=!1;for(t.charCodeAt(u-1)===Nh&&--u,t.charCodeAt(u-1)===kh&&--u;(r=e())!==Mh;){for(var l=[];r!==wh&&r!==Mh;)l.push(r),r=e();n&&null==(l=n(l,c++))||i.push(l)}return i}function e(n){return n.map(r).join(t)}function r(t){return null==t?"":i.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}var i=new RegExp('["'+t+"\n\r]"),o=t.charCodeAt(0);return{parse:function(t,e){var r,i,o=n(t,function(t,n){if(r)return r(t,n-1);i=t,r=e?function(t,n){var e=ge(t);return function(r,i){return n(e(r),i,t)}}(t,e):ge(t)});return o.columns=i||[],o},parseRows:n,format:function(n,e){return null==e&&(e=function(t){var n=Object.create(null),e=[];return t.forEach(function(t){for(var r in t)r in n||e.push(n[r]=r)}),e}(n)),[e.map(r).join(t)].concat(n.map(function(n){return e.map(function(t){return r(n[t])}).join(t)})).join("\n")},formatRows:function(t){return t.map(e).join("\n")}}}function ye(t){return function(){return t}}function me(){return 1e-6*(Math.random()-.5)}function xe(t,n,e,r){if(isNaN(n)||isNaN(e))return t;var i,o,u,a,c,s,f,l,h,p=t._root,d={data:r},v=t._x0,g=t._y0,_=t._x1,y=t._y1;if(!p)return t._root=d,t;for(;p.length;)if((s=n>=(o=(v+_)/2))?v=o:_=o,(f=e>=(u=(g+y)/2))?g=u:y=u,i=p,!(p=p[l=f<<1|s]))return i[l]=d,t;if(a=+t._x.call(null,p.data),c=+t._y.call(null,p.data),n===a&&e===c)return d.next=p,i?i[l]=d:t._root=d,t;do{i=i?i[l]=new Array(4):t._root=new Array(4),(s=n>=(o=(v+_)/2))?v=o:_=o,(f=e>=(u=(g+y)/2))?g=u:y=u}while((l=f<<1|s)==(h=(c>=u)<<1|a>=o));return i[h]=p,i[l]=d,t}function be(t,n,e,r,i){this.node=t,this.x0=n,this.y0=e,this.x1=r,this.y1=i}function we(t){return t[0]}function Me(t){return t[1]}function Te(t,n,e){var r=new Ne(null==n?we:n,null==e?Me:e,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function Ne(t,n,e,r,i,o){this._x=t,this._y=n,this._x0=e,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function ke(t){for(var n={data:t.data},e=n;t=t.next;)e=e.next={data:t.data};return n}function Se(t){return t.x+t.vx}function Ee(t){return t.y+t.vy}function Ae(t){return t.index}function Ce(t,n){var e=t.get(n);if(!e)throw new Error("missing: "+n);return e}function ze(t){return t.x}function Pe(t){return t.y}function Re(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function Le(t){return(t=Re(Math.abs(t)))?t[1]:NaN}function qe(t,n){var e=Re(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}function De(t){return new Ue(t)}function Ue(t){if(!(n=Bh.exec(t)))throw new Error("invalid format: "+t);var n,e=n[1]||" ",r=n[2]||">",i=n[3]||"-",o=n[4]||"",u=!!n[5],a=n[6]&&+n[6],c=!!n[7],s=n[8]&&+n[8].slice(1),f=n[9]||"";"n"===f?(c=!0,f="g"):Yh[f]||(f=""),(u||"0"===e&&"="===r)&&(u=!0,e="0",r="="),this.fill=e,this.align=r,this.sign=i,this.symbol=o,this.zero=u,this.width=a,this.comma=c,this.precision=s,this.type=f}function Oe(t){return t}function Fe(t){function n(t){function n(t){var n,r,u,f=g,x=_;if("c"===v)x=y(t)+x,t="";else{var b=(t=+t)<0;if(t=y(Math.abs(t),d),b&&0==+t&&(b=!1),f=(b?"("===s?s:"-":"-"===s||"("===s?"":s)+f,x=("s"===v?jh[8+Oh/3]:"")+x+(b&&"("===s?")":""),m)for(n=-1,r=t.length;++n<r;)if(48>(u=t.charCodeAt(n))||u>57){x=(46===u?i+t.slice(n+1):t.slice(n))+x,t=t.slice(0,n);break}}p&&!l&&(t=e(t,1/0));var w=f.length+t.length+x.length,M=w<h?new Array(h-w+1).join(a):"";switch(p&&l&&(t=e(M+t,M.length?h-x.length:1/0),M=""),c){case"<":t=f+t+x+M;break;case"=":t=f+M+t+x;break;case"^":t=M.slice(0,w=M.length>>1)+f+t+x+M.slice(w);break;default:t=M+f+t+x}return o(t)}var a=(t=De(t)).fill,c=t.align,s=t.sign,f=t.symbol,l=t.zero,h=t.width,p=t.comma,d=t.precision,v=t.type,g="$"===f?r[0]:"#"===f&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",_="$"===f?r[1]:/[%p]/.test(v)?u:"",y=Yh[v],m=!v||/[defgprs%]/.test(v);return d=null==d?v?6:12:/[gprs]/.test(v)?Math.max(1,Math.min(21,d)):Math.max(0,Math.min(20,d)),n.toString=function(){return t+""},n}var e=t.grouping&&t.thousands?function(t,n){return function(e,r){for(var i=e.length,o=[],u=0,a=t[0],c=0;i>0&&a>0&&(c+a+1>r&&(a=Math.max(1,r-c)),o.push(e.substring(i-=a,i+a)),!((c+=a+1)>r));)a=t[u=(u+1)%t.length];return o.reverse().join(n)}}(t.grouping,t.thousands):Oe,r=t.currency,i=t.decimal,o=t.numerals?function(t){return function(n){return n.replace(/[0-9]/g,function(n){return t[+n]})}}(t.numerals):Oe,u=t.percent||"%";return{format:n,formatPrefix:function(t,e){var r=n((t=De(t),t.type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(Le(e)/3))),o=Math.pow(10,-i),u=jh[8+i/3];return function(t){return r(o*t)+u}}}}function Ie(n){return Hh=Fe(n),t.format=Hh.format,t.formatPrefix=Hh.formatPrefix,Hh}function Ye(t){return Math.max(0,-Le(Math.abs(t)))}function Be(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Le(n)/3)))-Le(Math.abs(t)))}function He(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,Le(n)-Le(t))+1}function je(){return new Xe}function Xe(){this.reset()}function Ve(t,n,e){var r=t.s=n+e,i=r-n,o=r-i;t.t=n-o+(e-i)}function $e(t){return t>1?0:t<-1?Np:Math.acos(t)}function We(t){return t>1?kp:t<-1?-kp:Math.asin(t)}function Ze(t){return(t=Fp(t/2))*t}function Ge(){}function Qe(t,n){t&&jp.hasOwnProperty(t.type)&&jp[t.type](t,n)}function Je(t,n,e){var r,i=-1,o=t.length-e;for(n.lineStart();++i<o;)r=t[i],n.point(r[0],r[1],r[2]);n.lineEnd()}function Ke(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)Je(t[e],n,1);n.polygonEnd()}function tr(t,n){t&&Hp.hasOwnProperty(t.type)?Hp[t.type](t,n):Qe(t,n)}function nr(){$p.point=rr}function er(){ir(Xh,Vh)}function rr(t,n){$p.point=ir,Xh=t,Vh=n,$h=t*=Cp,Wh=Lp(n=(n*=Cp)/2+Sp),Zh=Fp(n)}function ir(t,n){n=(n*=Cp)/2+Sp;var e=(t*=Cp)-$h,r=e>=0?1:-1,i=r*e,o=Lp(n),u=Fp(n),a=Zh*u,c=Wh*o+a*Lp(i),s=a*r*Fp(i);Xp.add(Rp(s,c)),$h=t,Wh=o,Zh=u}function or(t){return[Rp(t[1],t[0]),We(t[2])]}function ur(t){var n=t[0],e=t[1],r=Lp(e);return[r*Lp(n),r*Fp(n),Fp(e)]}function ar(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function cr(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function sr(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function fr(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function lr(t){var n=Yp(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function hr(t,n){ip.push(op=[Gh=t,Jh=t]),n<Qh&&(Qh=n),n>Kh&&(Kh=n)}function pr(t,n){var e=ur([t*Cp,n*Cp]);if(rp){var r=cr(rp,e),i=cr([r[1],-r[0],0],r);lr(i),i=or(i);var o,u=t-tp,a=u>0?1:-1,c=i[0]*Ap*a,s=zp(u)>180;s^(a*tp<c&&c<a*t)?(o=i[1]*Ap)>Kh&&(Kh=o):(c=(c+360)%360-180,s^(a*tp<c&&c<a*t)?(o=-i[1]*Ap)<Qh&&(Qh=o):(n<Qh&&(Qh=n),n>Kh&&(Kh=n))),s?t<tp?mr(Gh,t)>mr(Gh,Jh)&&(Jh=t):mr(t,Jh)>mr(Gh,Jh)&&(Gh=t):Jh>=Gh?(t<Gh&&(Gh=t),t>Jh&&(Jh=t)):t>tp?mr(Gh,t)>mr(Gh,Jh)&&(Jh=t):mr(t,Jh)>mr(Gh,Jh)&&(Gh=t)}else ip.push(op=[Gh=t,Jh=t]);n<Qh&&(Qh=n),n>Kh&&(Kh=n),rp=e,tp=t}function dr(){Zp.point=pr}function vr(){op[0]=Gh,op[1]=Jh,Zp.point=hr,rp=null}function gr(t,n){if(rp){var e=t-tp;Wp.add(zp(e)>180?e+(e>0?360:-360):e)}else np=t,ep=n;$p.point(t,n),pr(t,n)}function _r(){$p.lineStart()}function yr(){gr(np,ep),$p.lineEnd(),zp(Wp)>Mp&&(Gh=-(Jh=180)),op[0]=Gh,op[1]=Jh,rp=null}function mr(t,n){return(n-=t)<0?n+360:n}function xr(t,n){return t[0]-n[0]}function br(t,n){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}function wr(t,n){t*=Cp;var e=Lp(n*=Cp);Mr(e*Lp(t),e*Fp(t),Fp(n))}function Mr(t,n,e){cp+=(t-cp)/++up,sp+=(n-sp)/up,fp+=(e-fp)/up}function Tr(){Gp.point=Nr}function Nr(t,n){t*=Cp;var e=Lp(n*=Cp);mp=e*Lp(t),xp=e*Fp(t),bp=Fp(n),Gp.point=kr,Mr(mp,xp,bp)}function kr(t,n){t*=Cp;var e=Lp(n*=Cp),r=e*Lp(t),i=e*Fp(t),o=Fp(n),u=Rp(Yp((u=xp*o-bp*i)*u+(u=bp*r-mp*o)*u+(u=mp*i-xp*r)*u),mp*r+xp*i+bp*o);ap+=u,lp+=u*(mp+(mp=r)),hp+=u*(xp+(xp=i)),pp+=u*(bp+(bp=o)),Mr(mp,xp,bp)}function Sr(){Gp.point=wr}function Er(){Gp.point=Cr}function Ar(){zr(_p,yp),Gp.point=wr}function Cr(t,n){_p=t,yp=n,t*=Cp,n*=Cp,Gp.point=zr;var e=Lp(n);mp=e*Lp(t),xp=e*Fp(t),bp=Fp(n),Mr(mp,xp,bp)}function zr(t,n){t*=Cp;var e=Lp(n*=Cp),r=e*Lp(t),i=e*Fp(t),o=Fp(n),u=xp*o-bp*i,a=bp*r-mp*o,c=mp*i-xp*r,s=Yp(u*u+a*a+c*c),f=We(s),l=s&&-f/s;dp+=l*u,vp+=l*a,gp+=l*c,ap+=f,lp+=f*(mp+(mp=r)),hp+=f*(xp+(xp=i)),pp+=f*(bp+(bp=o)),Mr(mp,xp,bp)}function Pr(t){return function(){return t}}function Rr(t,n){function e(e,r){return e=t(e,r),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,r){return(e=n.invert(e,r))&&t.invert(e[0],e[1])}),e}function Lr(t,n){return[t>Np?t-Ep:t<-Np?t+Ep:t,n]}function qr(t,n,e){return(t%=Ep)?n||e?Rr(Ur(t),Or(n,e)):Ur(t):n||e?Or(n,e):Lr}function Dr(t){return function(n,e){return n+=t,[n>Np?n-Ep:n<-Np?n+Ep:n,e]}}function Ur(t){var n=Dr(t);return n.invert=Dr(-t),n}function Or(t,n){function e(t,n){var e=Lp(n),a=Lp(t)*e,c=Fp(t)*e,s=Fp(n),f=s*r+a*i;return[Rp(c*o-f*u,a*r-s*i),We(f*o+c*u)]}var r=Lp(t),i=Fp(t),o=Lp(n),u=Fp(n);return e.invert=function(t,n){var e=Lp(n),a=Lp(t)*e,c=Fp(t)*e,s=Fp(n),f=s*o-c*u;return[Rp(c*o+s*u,a*r+f*i),We(f*r-a*i)]},e}function Fr(t){function n(n){return n=t(n[0]*Cp,n[1]*Cp),n[0]*=Ap,n[1]*=Ap,n}return t=qr(t[0]*Cp,t[1]*Cp,t.length>2?t[2]*Cp:0),n.invert=function(n){return n=t.invert(n[0]*Cp,n[1]*Cp),n[0]*=Ap,n[1]*=Ap,n},n}function Ir(t,n,e,r,i,o){if(e){var u=Lp(n),a=Fp(n),c=r*e;null==i?(i=n+r*Ep,o=n-c/2):(i=Yr(u,i),o=Yr(u,o),(r>0?i<o:i>o)&&(i+=r*Ep));for(var s,f=i;r>0?f>o:f<o;f-=c)s=or([u,-a*Lp(f),-a*Fp(f)]),t.point(s[0],s[1])}}function Yr(t,n){(n=ur(n))[0]-=t,lr(n);var e=$e(-n[1]);return((-n[2]<0?-e:e)+Ep-Mp)%Ep}function Br(){var t,n=[];return{point:function(n,e){t.push([n,e])},lineStart:function(){n.push(t=[])},lineEnd:Ge,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}}function Hr(t,n){return zp(t[0]-n[0])<Mp&&zp(t[1]-n[1])<Mp}function jr(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function Xr(t,n,e,r,i){var o,u,a=[],c=[];if(t.forEach(function(t){if(!((n=t.length-1)<=0)){var n,e,r=t[0],u=t[n];if(Hr(r,u)){for(i.lineStart(),o=0;o<n;++o)i.point((r=t[o])[0],r[1]);i.lineEnd()}else a.push(e=new jr(r,t,null,!0)),c.push(e.o=new jr(r,null,e,!1)),a.push(e=new jr(u,t,null,!1)),c.push(e.o=new jr(u,null,e,!0))}}),a.length){for(c.sort(n),Vr(a),Vr(c),o=0,u=c.length;o<u;++o)c[o].e=e=!e;for(var s,f,l=a[0];;){for(var h=l,p=!0;h.v;)if((h=h.n)===l)return;s=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(o=0,u=s.length;o<u;++o)i.point((f=s[o])[0],f[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(p)for(s=h.p.z,o=s.length-1;o>=0;--o)i.point((f=s[o])[0],f[1]);else r(h.x,h.p.x,-1,i);h=h.p}s=(h=h.o).z,p=!p}while(!h.v);i.lineEnd()}}}function Vr(t){if(n=t.length){for(var n,e,r=0,i=t[0];++r<n;)i.n=e=t[r],e.p=i,i=e;i.n=e=t[0],e.p=i}}function $r(t,n){var e=n[0],r=n[1],i=[Fp(e),-Lp(e),0],o=0,u=0;cd.reset();for(var a=0,c=t.length;a<c;++a)if(f=(s=t[a]).length)for(var s,f,l=s[f-1],h=l[0],p=l[1]/2+Sp,d=Fp(p),v=Lp(p),g=0;g<f;++g,h=y,d=x,v=b,l=_){var _=s[g],y=_[0],m=_[1]/2+Sp,x=Fp(m),b=Lp(m),w=y-h,M=w>=0?1:-1,T=M*w,N=T>Np,k=d*x;if(cd.add(Rp(k*M*Fp(T),v*b+k*Lp(T))),o+=N?w+M*Ep:w,N^h>=e^y>=e){var S=cr(ur(l),ur(_));lr(S);var E=cr(i,S);lr(E);var A=(N^w>=0?-1:1)*We(E[2]);(r>A||r===A&&(S[0]||S[1]))&&(u+=N^w>=0?1:-1)}}return(o<-Mp||o<Mp&&cd<-Mp)^1&u}function Wr(t,n,e,r){return function(i){function o(n,e){t(n,e)&&i.point(n,e)}function u(t,n){v.point(t,n)}function a(){x.point=u,v.lineStart()}function c(){x.point=o,v.lineEnd()}function s(t,n){d.push([t,n]),y.point(t,n)}function f(){y.lineStart(),d=[]}function l(){s(d[0][0],d[0][1]),y.lineEnd();var t,n,e,r,o=y.clean(),u=_.result(),a=u.length;if(d.pop(),h.push(d),d=null,a)if(1&o){if(e=u[0],(n=e.length-1)>0){for(m||(i.polygonStart(),m=!0),i.lineStart(),t=0;t<n;++t)i.point((r=e[t])[0],r[1]);i.lineEnd()}}else a>1&&2&o&&u.push(u.pop().concat(u.shift())),p.push(u.filter(Zr))}var h,p,d,v=n(i),_=Br(),y=n(_),m=!1,x={point:o,lineStart:a,lineEnd:c,polygonStart:function(){x.point=s,x.lineStart=f,x.lineEnd=l,p=[],h=[]},polygonEnd:function(){x.point=o,x.lineStart=a,x.lineEnd=c,p=g(p);var t=$r(h,r);p.length?(m||(i.polygonStart(),m=!0),Xr(p,Gr,t,e,i)):t&&(m||(i.polygonStart(),m=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),m&&(i.polygonEnd(),m=!1),p=h=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};return x}}function Zr(t){return t.length>1}function Gr(t,n){return((t=t.x)[0]<0?t[1]-kp-Mp:kp-t[1])-((n=n.x)[0]<0?n[1]-kp-Mp:kp-n[1])}function Qr(t){function n(t,n){return Lp(t)*Lp(n)>i}function e(t,n,e){var r=[1,0,0],o=cr(ur(t),ur(n)),u=ar(o,o),a=o[0],c=u-a*a;if(!c)return!e&&t;var s=i*u/c,f=-i*a/c,l=cr(r,o),h=fr(r,s);sr(h,fr(o,f));var p=l,d=ar(h,p),v=ar(p,p),g=d*d-v*(ar(h,h)-1);if(!(g<0)){var _=Yp(g),y=fr(p,(-d-_)/v);if(sr(y,h),y=or(y),!e)return y;var m,x=t[0],b=n[0],w=t[1],M=n[1];b<x&&(m=x,x=b,b=m);var T=b-x,N=zp(T-Np)<Mp;if(!N&&M<w&&(m=w,w=M,M=m),N||T<Mp?N?w+M>0^y[1]<(zp(y[0]-x)<Mp?w:M):w<=y[1]&&y[1]<=M:T>Np^(x<=y[0]&&y[0]<=b)){var k=fr(p,(-d+_)/v);return sr(k,h),[y,or(k)]}}}function r(n,e){var r=u?t:Np-t,i=0;return n<-r?i|=1:n>r&&(i|=2),e<-r?i|=4:e>r&&(i|=8),i}var i=Lp(t),o=6*Cp,u=i>0,a=zp(i)>Mp;return Wr(n,function(t){var i,o,c,s,f;return{lineStart:function(){s=c=!1,f=1},point:function(l,h){var p,d=[l,h],v=n(l,h),g=u?v?0:r(l,h):v?r(l+(l<0?Np:-Np),h):0;if(!i&&(s=c=v)&&t.lineStart(),v!==c&&(!(p=e(i,d))||Hr(i,p)||Hr(d,p))&&(d[0]+=Mp,d[1]+=Mp,v=n(d[0],d[1])),v!==c)f=0,v?(t.lineStart(),p=e(d,i),t.point(p[0],p[1])):(p=e(i,d),t.point(p[0],p[1]),t.lineEnd()),i=p;else if(a&&i&&u^v){var _;g&o||!(_=e(d,i,!0))||(f=0,u?(t.lineStart(),t.point(_[0][0],_[0][1]),t.point(_[1][0],_[1][1]),t.lineEnd()):(t.point(_[1][0],_[1][1]),t.lineEnd(),t.lineStart(),t.point(_[0][0],_[0][1])))}!v||i&&Hr(i,d)||t.point(d[0],d[1]),i=d,c=v,o=g},lineEnd:function(){c&&t.lineEnd(),i=null},clean:function(){return f|(s&&c)<<1}}},function(n,e,r,i){Ir(i,t,o,r,n,e)},u?[0,-t]:[-Np,t-Np])}function Jr(t,n,e,r){function i(i,o){return t<=i&&i<=e&&n<=o&&o<=r}function o(i,o,a,s){var f=0,l=0;if(null==i||(f=u(i,a))!==(l=u(o,a))||c(i,o)<0^a>0)do{s.point(0===f||3===f?t:e,f>1?r:n)}while((f=(f+a+4)%4)!==l);else s.point(o[0],o[1])}function u(r,i){return zp(r[0]-t)<Mp?i>0?0:3:zp(r[0]-e)<Mp?i>0?2:1:zp(r[1]-n)<Mp?i>0?1:0:i>0?3:2}function a(t,n){return c(t.x,n.x)}function c(t,n){var e=u(t,1),r=u(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(u){function c(t,n){i(t,n)&&w.point(t,n)}function s(o,u){var a=i(o,u);if(l&&h.push([o,u]),x)p=o,d=u,v=a,x=!1,a&&(w.lineStart(),w.point(o,u));else if(a&&m)w.point(o,u);else{var c=[_=Math.max(ld,Math.min(fd,_)),y=Math.max(ld,Math.min(fd,y))],s=[o=Math.max(ld,Math.min(fd,o)),u=Math.max(ld,Math.min(fd,u))];!function(t,n,e,r,i,o){var u,a=t[0],c=t[1],s=0,f=1,l=n[0]-a,h=n[1]-c;if(u=e-a,l||!(u>0)){if(u/=l,l<0){if(u<s)return;u<f&&(f=u)}else if(l>0){if(u>f)return;u>s&&(s=u)}if(u=i-a,l||!(u<0)){if(u/=l,l<0){if(u>f)return;u>s&&(s=u)}else if(l>0){if(u<s)return;u<f&&(f=u)}if(u=r-c,h||!(u>0)){if(u/=h,h<0){if(u<s)return;u<f&&(f=u)}else if(h>0){if(u>f)return;u>s&&(s=u)}if(u=o-c,h||!(u<0)){if(u/=h,h<0){if(u>f)return;u>s&&(s=u)}else if(h>0){if(u<s)return;u<f&&(f=u)}return s>0&&(t[0]=a+s*l,t[1]=c+s*h),f<1&&(n[0]=a+f*l,n[1]=c+f*h),!0}}}}}(c,s,t,n,e,r)?a&&(w.lineStart(),w.point(o,u),b=!1):(m||(w.lineStart(),w.point(c[0],c[1])),w.point(s[0],s[1]),a||w.lineEnd(),b=!1)}_=o,y=u,m=a}var f,l,h,p,d,v,_,y,m,x,b,w=u,M=Br(),T={point:c,lineStart:function(){T.point=s,l&&l.push(h=[]),x=!0,m=!1,_=y=NaN},lineEnd:function(){f&&(s(p,d),v&&m&&M.rejoin(),f.push(M.result())),T.point=c,m&&w.lineEnd()},polygonStart:function(){w=M,f=[],l=[],b=!0},polygonEnd:function(){var n=function(){for(var n=0,e=0,i=l.length;e<i;++e)for(var o,u,a=l[e],c=1,s=a.length,f=a[0],h=f[0],p=f[1];c<s;++c)o=h,u=p,h=(f=a[c])[0],p=f[1],u<=r?p>r&&(h-o)*(r-u)>(p-u)*(t-o)&&++n:p<=r&&(h-o)*(r-u)<(p-u)*(t-o)&&--n;return n}(),e=b&&n,i=(f=g(f)).length;(e||i)&&(u.polygonStart(),e&&(u.lineStart(),o(null,null,1,u),u.lineEnd()),i&&Xr(f,a,n,o,u),u.polygonEnd()),w=u,f=l=h=null}};return T}}function Kr(){pd.point=pd.lineEnd=Ge}function ti(t,n){Qp=t*=Cp,Jp=Fp(n*=Cp),Kp=Lp(n),pd.point=ni}function ni(t,n){t*=Cp;var e=Fp(n*=Cp),r=Lp(n),i=zp(t-Qp),o=Lp(i),u=r*Fp(i),a=Kp*e-Jp*r*o,c=Jp*e+Kp*r*o;hd.add(Rp(Yp(u*u+a*a),c)),Qp=t,Jp=e,Kp=r}function ei(t){return hd.reset(),tr(t,pd),+hd}function ri(t,n){return dd[0]=t,dd[1]=n,ei(vd)}function ii(t,n){return!(!t||!_d.hasOwnProperty(t.type))&&_d[t.type](t,n)}function oi(t,n){return 0===ri(t,n)}function ui(t,n){var e=ri(t[0],t[1]);return ri(t[0],n)+ri(n,t[1])<=e+Mp}function ai(t,n){return!!$r(t.map(ci),si(n))}function ci(t){return(t=t.map(si)).pop(),t}function si(t){return[t[0]*Cp,t[1]*Cp]}function fi(t,n,e){var r=f(t,n-Mp,e).concat(n);return function(t){return r.map(function(n){return[t,n]})}}function li(t,n,e){var r=f(t,n-Mp,e).concat(n);return function(t){return r.map(function(n){return[n,t]})}}function hi(){function t(){return{type:"MultiLineString",coordinates:n()}}function n(){return f(qp(o/_)*_,i,_).map(p).concat(f(qp(s/y)*y,c,y).map(d)).concat(f(qp(r/v)*v,e,v).filter(function(t){return zp(t%_)>Mp}).map(l)).concat(f(qp(a/g)*g,u,g).filter(function(t){return zp(t%y)>Mp}).map(h))}var e,r,i,o,u,a,c,s,l,h,p,d,v=10,g=v,_=90,y=360,m=2.5;return t.lines=function(){return n().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[p(o).concat(d(c).slice(1),p(i).reverse().slice(1),d(s).reverse().slice(1))]}},t.extent=function(n){return arguments.length?t.extentMajor(n).extentMinor(n):t.extentMinor()},t.extentMajor=function(n){return arguments.length?(o=+n[0][0],i=+n[1][0],s=+n[0][1],c=+n[1][1],o>i&&(n=o,o=i,i=n),s>c&&(n=s,s=c,c=n),t.precision(m)):[[o,s],[i,c]]},t.extentMinor=function(n){return arguments.length?(r=+n[0][0],e=+n[1][0],a=+n[0][1],u=+n[1][1],r>e&&(n=r,r=e,e=n),a>u&&(n=a,a=u,u=n),t.precision(m)):[[r,a],[e,u]]},t.step=function(n){return arguments.length?t.stepMajor(n).stepMinor(n):t.stepMinor()},t.stepMajor=function(n){return arguments.length?(_=+n[0],y=+n[1],t):[_,y]},t.stepMinor=function(n){return arguments.length?(v=+n[0],g=+n[1],t):[v,g]},t.precision=function(n){return arguments.length?(m=+n,l=fi(a,u,90),h=li(r,e,m),p=fi(s,c,90),d=li(o,i,m),t):m},t.extentMajor([[-180,-90+Mp],[180,90-Mp]]).extentMinor([[-180,-80-Mp],[180,80+Mp]])}function pi(t){return t}function di(){xd.point=vi}function vi(t,n){xd.point=gi,td=ed=t,nd=rd=n}function gi(t,n){md.add(rd*t-ed*n),ed=t,rd=n}function _i(){gi(td,nd)}function yi(t,n){kd+=t,Sd+=n,++Ed}function mi(){qd.point=xi}function xi(t,n){qd.point=bi,yi(ud=t,ad=n)}function bi(t,n){var e=t-ud,r=n-ad,i=Yp(e*e+r*r);Ad+=i*(ud+t)/2,Cd+=i*(ad+n)/2,zd+=i,yi(ud=t,ad=n)}function wi(){qd.point=yi}function Mi(){qd.point=Ni}function Ti(){ki(id,od)}function Ni(t,n){qd.point=ki,yi(id=ud=t,od=ad=n)}function ki(t,n){var e=t-ud,r=n-ad,i=Yp(e*e+r*r);Ad+=i*(ud+t)/2,Cd+=i*(ad+n)/2,zd+=i,Pd+=(i=ad*t-ud*n)*(ud+t),Rd+=i*(ad+n),Ld+=3*i,yi(ud=t,ad=n)}function Si(t){this._context=t}function Ei(t,n){Bd.point=Ai,Ud=Fd=t,Od=Id=n}function Ai(t,n){Fd-=t,Id-=n,Yd.add(Yp(Fd*Fd+Id*Id)),Fd=t,Id=n}function Ci(){this._string=[]}function zi(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Pi(t){return function(n){var e=new Ri;for(var r in t)e[r]=t[r];return e.stream=n,e}}function Ri(){}function Li(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),tr(e,t.stream(Nd)),n(Nd.result()),null!=r&&t.clipExtent(r),t}function qi(t,n,e){return Li(t,function(e){var r=n[1][0]-n[0][0],i=n[1][1]-n[0][1],o=Math.min(r/(e[1][0]-e[0][0]),i/(e[1][1]-e[0][1])),u=+n[0][0]+(r-o*(e[1][0]+e[0][0]))/2,a=+n[0][1]+(i-o*(e[1][1]+e[0][1]))/2;t.scale(150*o).translate([u,a])},e)}function Di(t,n,e){return qi(t,[[0,0],n],e)}function Ui(t,n,e){return Li(t,function(e){var r=+n,i=r/(e[1][0]-e[0][0]),o=(r-i*(e[1][0]+e[0][0]))/2,u=-i*e[0][1];t.scale(150*i).translate([o,u])},e)}function Oi(t,n,e){return Li(t,function(e){var r=+n,i=r/(e[1][1]-e[0][1]),o=-i*e[0][0],u=(r-i*(e[1][1]+e[0][1]))/2;t.scale(150*i).translate([o,u])},e)}function Fi(t,n){return+n?function(t,n){function e(r,i,o,u,a,c,s,f,l,h,p,d,v,g){var _=s-r,y=f-i,m=_*_+y*y;if(m>4*n&&v--){var x=u+h,b=a+p,w=c+d,M=Yp(x*x+b*b+w*w),T=We(w/=M),N=zp(zp(w)-1)<Mp||zp(o-l)<Mp?(o+l)/2:Rp(b,x),k=t(N,T),S=k[0],E=k[1],A=S-r,C=E-i,z=y*A-_*C;(z*z/m>n||zp((_*A+y*C)/m-.5)>.3||u*h+a*p+c*d<jd)&&(e(r,i,o,u,a,c,S,E,N,x/=M,b/=M,w,v,g),g.point(S,E),e(S,E,N,x,b,w,s,f,l,h,p,d,v,g))}}return function(n){function r(e,r){e=t(e,r),n.point(e[0],e[1])}function i(){_=NaN,w.point=o,n.lineStart()}function o(r,i){var o=ur([r,i]),u=t(r,i);e(_,y,g,m,x,b,_=u[0],y=u[1],g=r,m=o[0],x=o[1],b=o[2],Hd,n),n.point(_,y)}function u(){w.point=r,n.lineEnd()}function a(){i(),w.point=c,w.lineEnd=s}function c(t,n){o(f=t,n),l=_,h=y,p=m,d=x,v=b,w.point=o}function s(){e(_,y,g,m,x,b,l,h,f,p,d,v,Hd,n),w.lineEnd=u,u()}var f,l,h,p,d,v,g,_,y,m,x,b,w={point:r,lineStart:i,lineEnd:u,polygonStart:function(){n.polygonStart(),w.lineStart=a},polygonEnd:function(){n.polygonEnd(),w.lineStart=i}};return w}}(t,n):function(t){return Pi({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}(t)}function Ii(t){return Yi(function(){return t})()}function Yi(t){function n(t){return t=s(t[0]*Cp,t[1]*Cp),[t[0]*v+u,a-t[1]*v]}function e(t,n){return t=o(t,n),[t[0]*v+u,a-t[1]*v]}function r(){s=Rr(c=qr(x,b,w),o);var t=o(y,m);return u=g-t[0]*v,a=_+t[1]*v,i()}function i(){return p=d=null,n}var o,u,a,c,s,f,l,h,p,d,v=150,g=480,_=250,y=0,m=0,x=0,b=0,w=0,M=null,T=sd,N=null,k=pi,S=.5,E=Fi(e,S);return n.stream=function(t){return p&&d===t?p:p=Xd(function(t){return Pi({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}(c)(T(E(k(d=t)))))},n.preclip=function(t){return arguments.length?(T=t,M=void 0,i()):T},n.postclip=function(t){return arguments.length?(k=t,N=f=l=h=null,i()):k},n.clipAngle=function(t){return arguments.length?(T=+t?Qr(M=t*Cp):(M=null,sd),i()):M*Ap},n.clipExtent=function(t){return arguments.length?(k=null==t?(N=f=l=h=null,pi):Jr(N=+t[0][0],f=+t[0][1],l=+t[1][0],h=+t[1][1]),i()):null==N?null:[[N,f],[l,h]]},n.scale=function(t){return arguments.length?(v=+t,r()):v},n.translate=function(t){return arguments.length?(g=+t[0],_=+t[1],r()):[g,_]},n.center=function(t){return arguments.length?(y=t[0]%360*Cp,m=t[1]%360*Cp,r()):[y*Ap,m*Ap]},n.rotate=function(t){return arguments.length?(x=t[0]%360*Cp,b=t[1]%360*Cp,w=t.length>2?t[2]%360*Cp:0,r()):[x*Ap,b*Ap,w*Ap]},n.precision=function(t){return arguments.length?(E=Fi(e,S=t*t),i()):Yp(S)},n.fitExtent=function(t,e){return qi(n,t,e)},n.fitSize=function(t,e){return Di(n,t,e)},n.fitWidth=function(t,e){return Ui(n,t,e)},n.fitHeight=function(t,e){return Oi(n,t,e)},function(){return o=t.apply(this,arguments),n.invert=o.invert&&function(t){return(t=s.invert((t[0]-u)/v,(a-t[1])/v))&&[t[0]*Ap,t[1]*Ap]},r()}}function Bi(t){var n=0,e=Np/3,r=Yi(t),i=r(n,e);return i.parallels=function(t){return arguments.length?r(n=t[0]*Cp,e=t[1]*Cp):[n*Ap,e*Ap]},i}function Hi(t,n){function e(t,n){var e=Yp(o-2*i*Fp(n))/i;return[e*Fp(t*=i),u-e*Lp(t)]}var r=Fp(t),i=(r+Fp(n))/2;if(zp(i)<Mp)return function(t){function n(t,n){return[t*e,Fp(n)/e]}var e=Lp(t);return n.invert=function(t,n){return[t/e,We(n*e)]},n}(t);var o=1+r*(2*i-r),u=Yp(o)/i;return e.invert=function(t,n){var e=u-n;return[Rp(t,zp(e))/i*Ip(e),We((o-(t*t+e*e)*i*i)/(2*i))]},e}function ji(){return Bi(Hi).scale(155.424).center([0,33.6442])}function Xi(){return ji().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Vi(t){return function(n,e){var r=Lp(n),i=Lp(e),o=t(r*i);return[o*i*Fp(n),o*Fp(e)]}}function $i(t){return function(n,e){var r=Yp(n*n+e*e),i=t(r),o=Fp(i),u=Lp(i);return[Rp(n*o,r*u),We(r&&e*o/r)]}}function Wi(t,n){return[t,Up(Bp((kp+n)/2))]}function Zi(t){function n(){var n=Np*a(),u=o(Fr(o.rotate()).invert([0,0]));return s(null==f?[[u[0]-n,u[1]-n],[u[0]+n,u[1]+n]]:t===Wi?[[Math.max(u[0]-n,f),e],[Math.min(u[0]+n,r),i]]:[[f,Math.max(u[1]-n,e)],[r,Math.min(u[1]+n,i)]])}var e,r,i,o=Ii(t),u=o.center,a=o.scale,c=o.translate,s=o.clipExtent,f=null;return o.scale=function(t){return arguments.length?(a(t),n()):a()},o.translate=function(t){return arguments.length?(c(t),n()):c()},o.center=function(t){return arguments.length?(u(t),n()):u()},o.clipExtent=function(t){return arguments.length?(null==t?f=e=r=i=null:(f=+t[0][0],e=+t[0][1],r=+t[1][0],i=+t[1][1]),n()):null==f?null:[[f,e],[r,i]]},n()}function Gi(t){return Bp((kp+t)/2)}function Qi(t,n){function e(t,n){o>0?n<-kp+Mp&&(n=-kp+Mp):n>kp-Mp&&(n=kp-Mp);var e=o/Op(Gi(n),i);return[e*Fp(i*t),o-e*Lp(i*t)]}var r=Lp(t),i=t===n?Fp(t):Up(r/Lp(n))/Up(Gi(n)/Gi(t)),o=r*Op(Gi(t),i)/i;return i?(e.invert=function(t,n){var e=o-n,r=Ip(i)*Yp(t*t+e*e);return[Rp(t,zp(e))/i*Ip(e),2*Pp(Op(o/r,1/i))-kp]},e):Wi}function Ji(t,n){return[t,n]}function Ki(t,n){function e(t,n){var e=o-n,r=i*t;return[e*Fp(r),o-e*Lp(r)]}var r=Lp(t),i=t===n?Fp(t):(r-Lp(n))/(n-t),o=r/i+t;return zp(i)<Mp?Ji:(e.invert=function(t,n){var e=o-n;return[Rp(t,zp(e))/i*Ip(e),o-Ip(i)*Yp(t*t+e*e)]},e)}function to(t,n){var e=Lp(n),r=Lp(t)*e;return[e*Fp(t)/r,Fp(n)/r]}function no(t,n,e,r){return 1===t&&1===n&&0===e&&0===r?pi:Pi({point:function(i,o){this.stream.point(i*t+e,o*n+r)}})}function eo(t,n){var e=n*n,r=e*e;return[t*(.8707-.131979*e+r*(r*(.003971*e-.001529*r)-.013791)),n*(1.007226+e*(.015085+r*(.028874*e-.044475-.005916*r)))]}function ro(t,n){return[Lp(n)*Fp(t),Fp(n)]}function io(t,n){var e=Lp(n),r=1+Lp(t)*e;return[e*Fp(t)/r,Fp(n)/r]}function oo(t,n){return[Up(Bp((kp+n)/2)),-t]}function uo(t,n){return t.parent===n.parent?1:2}function ao(t,n){return t+n.x}function co(t,n){return Math.max(t,n.y)}function so(t){var n=0,e=t.children,r=e&&e.length;if(r)for(;--r>=0;)n+=e[r].value;else n=1;t.value=n}function fo(t,n){var e,r,i,o,u,a=new vo(t),c=+t.value&&(a.value=t.value),s=[a];for(null==n&&(n=lo);e=s.pop();)if(c&&(e.value=+e.data.value),(i=n(e.data))&&(u=i.length))for(e.children=new Array(u),o=u-1;o>=0;--o)s.push(r=e.children[o]=new vo(i[o])),r.parent=e,r.depth=e.depth+1;return a.eachBefore(po)}function lo(t){return t.children}function ho(t){t.data=t.data.data}function po(t){var n=0;do{t.height=n}while((t=t.parent)&&t.height<++n)}function vo(t){this.data=t,this.depth=this.height=0,this.parent=null}function go(t){for(var n,e,r=0,i=(t=function(t){for(var n,e,r=t.length;r;)e=Math.random()*r--|0,n=t[r],t[r]=t[e],t[e]=n;return t}(Wd.call(t))).length,o=[];r<i;)n=t[r],e&&yo(e,n)?++r:(e=function(t){switch(t.length){case 1:return function(t){return{x:t.x,y:t.y,r:t.r}}(t[0]);case 2:return xo(t[0],t[1]);case 3:return bo(t[0],t[1],t[2])}}(o=function(t,n){var e,r;if(mo(n,t))return[n];for(e=0;e<t.length;++e)if(_o(n,t[e])&&mo(xo(t[e],n),t))return[t[e],n];for(e=0;e<t.length-1;++e)for(r=e+1;r<t.length;++r)if(_o(xo(t[e],t[r]),n)&&_o(xo(t[e],n),t[r])&&_o(xo(t[r],n),t[e])&&mo(bo(t[e],t[r],n),t))return[t[e],t[r],n];throw new Error}(o,n)),r=0);return e}function _o(t,n){var e=t.r-n.r,r=n.x-t.x,i=n.y-t.y;return e<0||e*e<r*r+i*i}function yo(t,n){var e=t.r-n.r+1e-6,r=n.x-t.x,i=n.y-t.y;return e>0&&e*e>r*r+i*i}function mo(t,n){for(var e=0;e<n.length;++e)if(!yo(t,n[e]))return!1;return!0}function xo(t,n){var e=t.x,r=t.y,i=t.r,o=n.x,u=n.y,a=n.r,c=o-e,s=u-r,f=a-i,l=Math.sqrt(c*c+s*s);return{x:(e+o+c/l*f)/2,y:(r+u+s/l*f)/2,r:(l+i+a)/2}}function bo(t,n,e){var r=t.x,i=t.y,o=t.r,u=n.x,a=n.y,c=n.r,s=e.x,f=e.y,l=e.r,h=r-u,p=r-s,d=i-a,v=i-f,g=c-o,_=l-o,y=r*r+i*i-o*o,m=y-u*u-a*a+c*c,x=y-s*s-f*f+l*l,b=p*d-h*v,w=(d*x-v*m)/(2*b)-r,M=(v*g-d*_)/b,T=(p*m-h*x)/(2*b)-i,N=(h*_-p*g)/b,k=M*M+N*N-1,S=2*(o+w*M+T*N),E=w*w+T*T-o*o,A=-(k?(S+Math.sqrt(S*S-4*k*E))/(2*k):E/S);return{x:r+w+M*A,y:i+T+N*A,r:A}}function wo(t,n,e){var r=t.x,i=t.y,o=n.r+e.r,u=t.r+e.r,a=n.x-r,c=n.y-i,s=a*a+c*c;if(s){var f=.5+((u*=u)-(o*=o))/(2*s),l=Math.sqrt(Math.max(0,2*o*(u+s)-(u-=s)*u-o*o))/(2*s);e.x=r+f*a+l*c,e.y=i+f*c-l*a}else e.x=r+u,e.y=i}function Mo(t,n){var e=n.x-t.x,r=n.y-t.y,i=t.r+n.r;return i*i-1e-6>e*e+r*r}function To(t){var n=t._,e=t.next._,r=n.r+e.r,i=(n.x*e.r+e.x*n.r)/r,o=(n.y*e.r+e.y*n.r)/r;return i*i+o*o}function No(t){this._=t,this.next=null,this.previous=null}function ko(t){if(!(i=t.length))return 0;var n,e,r,i,o,u,a,c,s,f,l;if(n=t[0],n.x=0,n.y=0,!(i>1))return n.r;if(e=t[1],n.x=-e.r,e.x=n.r,e.y=0,!(i>2))return n.r+e.r;wo(e,n,r=t[2]),n=new No(n),e=new No(e),r=new No(r),n.next=r.previous=e,e.next=n.previous=r,r.next=e.previous=n;t:for(a=3;a<i;++a){wo(n._,e._,r=t[a]),r=new No(r),c=e.next,s=n.previous,f=e._.r,l=n._.r;do{if(f<=l){if(Mo(c._,r._)){e=c,n.next=e,e.previous=n,--a;continue t}f+=c._.r,c=c.next}else{if(Mo(s._,r._)){(n=s).next=e,e.previous=n,--a;continue t}l+=s._.r,s=s.previous}}while(c!==s.next);for(r.previous=n,r.next=e,n.next=e.previous=e=r,o=To(n);(r=r.next)!==e;)(u=To(r))<o&&(n=r,o=u);e=n.next}for(n=[e._],r=e;(r=r.next)!==e;)n.push(r._);for(r=go(n),a=0;a<i;++a)n=t[a],n.x-=r.x,n.y-=r.y;return r.r}function So(t){if("function"!=typeof t)throw new Error;return t}function Eo(){return 0}function Ao(t){return function(){return t}}function Co(t){return Math.sqrt(t.value)}function zo(t){return function(n){n.children||(n.r=Math.max(0,+t(n)||0))}}function Po(t,n){return function(e){if(r=e.children){var r,i,o,u=r.length,a=t(e)*n||0;if(a)for(i=0;i<u;++i)r[i].r+=a;if(o=ko(r),a)for(i=0;i<u;++i)r[i].r-=a;e.r=o+a}}}function Ro(t){return function(n){var e=n.parent;n.r*=t,e&&(n.x=e.x+t*n.x,n.y=e.y+t*n.y)}}function Lo(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function qo(t,n,e,r,i){for(var o,u=t.children,a=-1,c=u.length,s=t.value&&(r-n)/t.value;++a<c;)(o=u[a]).y0=e,o.y1=i,o.x0=n,o.x1=n+=o.value*s}function Do(t){return t.id}function Uo(t){return t.parentId}function Oo(t,n){return t.parent===n.parent?1:2}function Fo(t){var n=t.children;return n?n[0]:t.t}function Io(t){var n=t.children;return n?n[n.length-1]:t.t}function Yo(t,n,e){var r=e/(n.i-t.i);n.c-=r,n.s+=e,t.c+=r,n.z+=e,n.m+=e}function Bo(t,n,e){return t.a.parent===n.parent?t.a:e}function Ho(t,n){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=n}function jo(t,n,e,r,i){for(var o,u=t.children,a=-1,c=u.length,s=t.value&&(i-e)/t.value;++a<c;)(o=u[a]).x0=n,o.x1=r,o.y0=e,o.y1=e+=o.value*s}function Xo(t,n,e,r,i,o){for(var u,a,c,s,f,l,h,p,d,v,g,_=[],y=n.children,m=0,x=0,b=y.length,w=n.value;m<b;){c=i-e,s=o-r;do{f=y[x++].value}while(!f&&x<b);for(l=h=f,g=f*f*(v=Math.max(s/c,c/s)/(w*t)),d=Math.max(h/g,g/l);x<b;++x){if(f+=a=y[x].value,a<l&&(l=a),a>h&&(h=a),g=f*f*v,(p=Math.max(h/g,g/l))>d){f-=a;break}d=p}_.push(u={value:f,dice:c<s,children:y.slice(m,x)}),u.dice?qo(u,e,r,i,w?r+=s*f/w:o):jo(u,e,r,w?e+=c*f/w:i,o),w-=f,m=x}return _}function Vo(t,n,e){return(n[0]-t[0])*(e[1]-t[1])-(n[1]-t[1])*(e[0]-t[0])}function $o(t,n){return t[0]-n[0]||t[1]-n[1]}function Wo(t){for(var n=t.length,e=[0,1],r=2,i=2;i<n;++i){for(;r>1&&Vo(t[e[r-2]],t[e[r-1]],t[i])<=0;)--r;e[r++]=i}return e.slice(0,r)}function Zo(t){this._size=t,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}function Go(t){if(!t._start)try{(function(t){for(;t._start=t._waiting&&t._active<t._size;){var n=t._ended+t._active,e=t._tasks[n],r=e.length-1,i=e[r];e[r]=function(t,n){return function(e,r){t._tasks[n]&&(--t._active,++t._ended,t._tasks[n]=null,null==t._error&&(null!=e?Qo(t,e):(t._data[n]=r,t._waiting?Go(t):Jo(t))))}}(t,n),--t._waiting,++t._active,e=i.apply(null,e),t._tasks[n]&&(t._tasks[n]=e||ev)}})(t)}catch(n){if(t._tasks[t._ended+t._active-1])Qo(t,n);else if(!t._data)throw n}}function Qo(t,n){var e,r=t._tasks.length;for(t._error=n,t._data=void 0,t._waiting=NaN;--r>=0;)if((e=t._tasks[r])&&(t._tasks[r]=null,e.abort))try{e.abort()}catch(n){}t._active=NaN,Jo(t)}function Jo(t){if(!t._active&&t._call){var n=t._data;t._data=void 0,t._call(t._error,n)}}function Ko(t){if(null==t)t=1/0;else if(!((t=+t)>=1))throw new Error("invalid concurrency");return new Zo(t)}function tu(){return Math.random()}function nu(t,n){function e(t){var n,e=s.status;if(!e&&function(t){var n=t.responseType;return n&&"text"!==n?t.response:t.responseText}(s)||e>=200&&e<300||304===e){if(o)try{n=o.call(r,s)}catch(t){return void a.call("error",r,t)}else n=s;a.call("load",r,n)}else a.call("error",r,t)}var r,i,o,u,a=N("beforesend","progress","load","error"),c=se(),s=new XMLHttpRequest,f=null,l=null,h=0;if("undefined"==typeof XDomainRequest||"withCredentials"in s||!/^(http(s)?:)?\/\//.test(t)||(s=new XDomainRequest),"onload"in s?s.onload=s.onerror=s.ontimeout=e:s.onreadystatechange=function(t){s.readyState>3&&e(t)},s.onprogress=function(t){a.call("progress",r,t)},r={header:function(t,n){return t=(t+"").toLowerCase(),arguments.length<2?c.get(t):(null==n?c.remove(t):c.set(t,n+""),r)},mimeType:function(t){return arguments.length?(i=null==t?null:t+"",r):i},responseType:function(t){return arguments.length?(u=t,r):u},timeout:function(t){return arguments.length?(h=+t,r):h},user:function(t){return arguments.length<1?f:(f=null==t?null:t+"",r)},password:function(t){return arguments.length<1?l:(l=null==t?null:t+"",r)},response:function(t){return o=t,r},get:function(t,n){return r.send("GET",t,n)},post:function(t,n){return r.send("POST",t,n)},send:function(n,e,o){return s.open(n,t,!0,f,l),null==i||c.has("accept")||c.set("accept",i+",*/*"),s.setRequestHeader&&c.each(function(t,n){s.setRequestHeader(n,t)}),null!=i&&s.overrideMimeType&&s.overrideMimeType(i),null!=u&&(s.responseType=u),h>0&&(s.timeout=h),null==o&&"function"==typeof e&&(o=e,e=null),null!=o&&1===o.length&&(o=function(t){return function(n,e){t(null==n?e:null)}}(o)),null!=o&&r.on("error",o).on("load",function(t){o(null,t)}),a.call("beforesend",r,s),s.send(null==e?null:e),r},abort:function(){return s.abort(),r},on:function(){var t=a.on.apply(a,arguments);return t===a?r:t}},null!=n){if("function"!=typeof n)throw new Error("invalid callback: "+n);return r.get(n)}return r}function eu(t,n){return function(e,r){var i=nu(e).mimeType(t).response(n);if(null!=r){if("function"!=typeof r)throw new Error("invalid callback: "+r);return i.get(r)}return i}}function ru(t,n){return function(e,r,i){arguments.length<3&&(i=r,r=null);var o=nu(e).mimeType(t);return o.row=function(t){return arguments.length?o.response(function(t,n){return function(e){return t(e.responseText,n)}}(n,r=t)):r},o.row(r),i?o.get(i):o}}function iu(t){function n(n){var o=n+"",u=e.get(o);if(!u){if(i!==yv)return i;e.set(o,u=r.push(n))}return t[(u-1)%t.length]}var e=se(),r=[],i=yv;return t=null==t?[]:_v.call(t),n.domain=function(t){if(!arguments.length)return r.slice();r=[],e=se();for(var i,o,u=-1,a=t.length;++u<a;)e.has(o=(i=t[u])+"")||e.set(o,r.push(i));return n},n.range=function(e){return arguments.length?(t=_v.call(e),n):t.slice()},n.unknown=function(t){return arguments.length?(i=t,n):i},n.copy=function(){return iu().domain(r).range(t).unknown(i)},n}function ou(){function t(){var t=i().length,r=u[1]<u[0],h=u[r-0],p=u[1-r];n=(p-h)/Math.max(1,t-c+2*s),a&&(n=Math.floor(n)),h+=(p-h-n*(t-c))*l,e=n*(1-c),a&&(h=Math.round(h),e=Math.round(e));var d=f(t).map(function(t){return h+n*t});return o(r?d.reverse():d)}var n,e,r=iu().unknown(void 0),i=r.domain,o=r.range,u=[0,1],a=!1,c=0,s=0,l=.5;return delete r.unknown,r.domain=function(n){return arguments.length?(i(n),t()):i()},r.range=function(n){return arguments.length?(u=[+n[0],+n[1]],t()):u.slice()},r.rangeRound=function(n){return u=[+n[0],+n[1]],a=!0,t()},r.bandwidth=function(){return e},r.step=function(){return n},r.round=function(n){return arguments.length?(a=!!n,t()):a},r.padding=function(n){return arguments.length?(c=s=Math.max(0,Math.min(1,n)),t()):c},r.paddingInner=function(n){return arguments.length?(c=Math.max(0,Math.min(1,n)),t()):c},r.paddingOuter=function(n){return arguments.length?(s=Math.max(0,Math.min(1,n)),t()):s},r.align=function(n){return arguments.length?(l=Math.max(0,Math.min(1,n)),t()):l},r.copy=function(){return ou().domain(i()).range(u).round(a).paddingInner(c).paddingOuter(s).align(l)},t()}function uu(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return uu(n())},t}function au(t){return function(){return t}}function cu(t){return+t}function su(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:au(n)}function fu(t,n,e,r){var i=t[0],o=t[1],u=n[0],a=n[1];return o<i?(i=e(o,i),u=r(a,u)):(i=e(i,o),u=r(u,a)),function(t){return u(i(t))}}function lu(t,n,e,r){var i=Math.min(t.length,n.length)-1,o=new Array(i),u=new Array(i),a=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<i;)o[a]=e(t[a],t[a+1]),u[a]=r(n[a],n[a+1]);return function(n){var e=Os(t,n,1,i)-1;return u[e](o[e](n))}}function hu(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function pu(t,n){function e(){return i=Math.min(a.length,c.length)>2?lu:fu,o=u=null,r}function r(n){return(o||(o=i(a,c,f?function(t){return function(n,e){var r=t(n=+n,e=+e);return function(t){return t<=n?0:t>=e?1:r(t)}}}(t):t,s)))(+n)}var i,o,u,a=mv,c=mv,s=fn,f=!1;return r.invert=function(t){return(u||(u=i(c,a,su,f?function(t){return function(n,e){var r=t(n=+n,e=+e);return function(t){return t<=0?n:t>=1?e:r(t)}}}(n):n)))(+t)},r.domain=function(t){return arguments.length?(a=gv.call(t,cu),e()):a.slice()},r.range=function(t){return arguments.length?(c=_v.call(t),e()):c.slice()},r.rangeRound=function(t){return c=_v.call(t),s=ln,e()},r.clamp=function(t){return arguments.length?(f=!!t,e()):f},r.interpolate=function(t){return arguments.length?(s=t,e()):s},e()}function du(n){var e=n.domain;return n.ticks=function(t){var n=e();return l(n[0],n[n.length-1],null==t?10:t)},n.tickFormat=function(n,r){return function(n,e,r){var i,o=n[0],u=n[n.length-1],a=p(o,u,null==e?10:e);switch((r=De(null==r?",f":r)).type){case"s":var c=Math.max(Math.abs(o),Math.abs(u));return null!=r.precision||isNaN(i=Be(a,c))||(r.precision=i),t.formatPrefix(r,c);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=He(a,Math.max(Math.abs(o),Math.abs(u))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=Ye(a))||(r.precision=i-2*("%"===r.type))}return t.format(r)}(e(),n,r)},n.nice=function(t){null==t&&(t=10);var r,i=e(),o=0,u=i.length-1,a=i[o],c=i[u];return c<a&&(r=a,a=c,c=r,r=o,o=u,u=r),(r=h(a,c,t))>0?r=h(a=Math.floor(a/r)*r,c=Math.ceil(c/r)*r,t):r<0&&(r=h(a=Math.ceil(a*r)/r,c=Math.floor(c*r)/r,t)),r>0?(i[o]=Math.floor(a/r)*r,i[u]=Math.ceil(c/r)*r,e(i)):r<0&&(i[o]=Math.ceil(a*r)/r,i[u]=Math.floor(c*r)/r,e(i)),n},n}function vu(){var t=pu(su,an);return t.copy=function(){return hu(t,vu())},du(t)}function gu(){function t(t){return+t}var n=[0,1];return t.invert=t,t.domain=t.range=function(e){return arguments.length?(n=gv.call(e,cu),t):n.slice()},t.copy=function(){return gu().domain(n)},du(t)}function _u(t,n){var e,r=0,i=(t=t.slice()).length-1,o=t[r],u=t[i];return u<o&&(e=r,r=i,i=e,e=o,o=u,u=e),t[r]=n.floor(o),t[i]=n.ceil(u),t}function yu(t,n){return(n=Math.log(n/t))?function(e){return Math.log(e/t)/n}:au(n)}function mu(t,n){return t<0?function(e){return-Math.pow(-n,e)*Math.pow(-t,1-e)}:function(e){return Math.pow(n,e)*Math.pow(t,1-e)}}function xu(t){return isFinite(t)?+("1e"+t):t<0?0:t}function bu(t){return 10===t?xu:t===Math.E?Math.exp:function(n){return Math.pow(t,n)}}function wu(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(n){return Math.log(n)/t})}function Mu(t){return function(n){return-t(-n)}}function Tu(){function n(){return o=wu(i),u=bu(i),r()[0]<0&&(o=Mu(o),u=Mu(u)),e}var e=pu(yu,mu).domain([1,10]),r=e.domain,i=10,o=wu(10),u=bu(10);return e.base=function(t){return arguments.length?(i=+t,n()):i},e.domain=function(t){return arguments.length?(r(t),n()):r()},e.ticks=function(t){var n,e=r(),a=e[0],c=e[e.length-1];(n=c<a)&&(p=a,a=c,c=p);var s,f,h,p=o(a),d=o(c),v=null==t?10:+t,g=[];if(!(i%1)&&d-p<v){if(p=Math.round(p)-1,d=Math.round(d)+1,a>0){for(;p<d;++p)for(f=1,s=u(p);f<i;++f)if(!((h=s*f)<a)){if(h>c)break;g.push(h)}}else for(;p<d;++p)for(f=i-1,s=u(p);f>=1;--f)if(!((h=s*f)<a)){if(h>c)break;g.push(h)}}else g=l(p,d,Math.min(d-p,v)).map(u);return n?g.reverse():g},e.tickFormat=function(n,r){if(null==r&&(r=10===i?".0e":","),"function"!=typeof r&&(r=t.format(r)),n===1/0)return r;null==n&&(n=10);var a=Math.max(1,i*n/e.ticks().length);return function(t){var n=t/u(Math.round(o(t)));return n*i<i-.5&&(n*=i),n<=a?r(t):""}},e.nice=function(){return r(_u(r(),{floor:function(t){return u(Math.floor(o(t)))},ceil:function(t){return u(Math.ceil(o(t)))}}))},e.copy=function(){return hu(e,Tu().base(i))},e}function Nu(t,n){return t<0?-Math.pow(-t,n):Math.pow(t,n)}function ku(){var t=1,n=pu(function(n,e){return(e=Nu(e,t)-(n=Nu(n,t)))?function(r){return(Nu(r,t)-n)/e}:au(e)},function(n,e){return e=Nu(e,t)-(n=Nu(n,t)),function(r){return Nu(n+e*r,1/t)}}),e=n.domain;return n.exponent=function(n){return arguments.length?(t=+n,e(e())):t},n.copy=function(){return hu(n,ku().exponent(t))},du(n)}function Su(){function t(){var t=0,n=Math.max(1,i.length);for(o=new Array(n-1);++t<n;)o[t-1]=v(r,t/n);return e}function e(t){if(!isNaN(t=+t))return i[Os(o,t)]}var r=[],i=[],o=[];return e.invertExtent=function(t){var n=i.indexOf(t);return n<0?[NaN,NaN]:[n>0?o[n-1]:r[0],n<o.length?o[n]:r[r.length-1]]},e.domain=function(e){if(!arguments.length)return r.slice();r=[];for(var i,o=0,u=e.length;o<u;++o)null==(i=e[o])||isNaN(i=+i)||r.push(i);return r.sort(n),t()},e.range=function(n){return arguments.length?(i=_v.call(n),t()):i.slice()},e.quantiles=function(){return o.slice()},e.copy=function(){return Su().domain(r).range(i)},e}function Eu(){function t(t){if(t<=t)return u[Os(o,t,0,i)]}function n(){var n=-1;for(o=new Array(i);++n<i;)o[n]=((n+1)*r-(n-i)*e)/(i+1);return t}var e=0,r=1,i=1,o=[.5],u=[0,1];return t.domain=function(t){return arguments.length?(e=+t[0],r=+t[1],n()):[e,r]},t.range=function(t){return arguments.length?(i=(u=_v.call(t)).length-1,n()):u.slice()},t.invertExtent=function(t){var n=u.indexOf(t);return n<0?[NaN,NaN]:n<1?[e,o[0]]:n>=i?[o[i-1],r]:[o[n-1],o[n]]},t.copy=function(){return Eu().domain([e,r]).range(u)},du(t)}function Au(){function t(t){if(t<=t)return e[Os(n,t,0,r)]}var n=[.5],e=[0,1],r=1;return t.domain=function(i){return arguments.length?(n=_v.call(i),r=Math.min(n.length,e.length-1),t):n.slice()},t.range=function(i){return arguments.length?(e=_v.call(i),r=Math.min(n.length,e.length-1),t):e.slice()},t.invertExtent=function(t){var r=e.indexOf(t);return[n[r-1],n[r]]},t.copy=function(){return Au().domain(n).range(e)},t}function Cu(t,n,e,r){function i(n){return t(n=new Date(+n)),n}return i.floor=i,i.ceil=function(e){return t(e=new Date(e-1)),n(e,1),t(e),e},i.round=function(t){var n=i(t),e=i.ceil(t);return t-n<e-t?n:e},i.offset=function(t,e){return n(t=new Date(+t),null==e?1:Math.floor(e)),t},i.range=function(e,r,o){var u,a=[];if(e=i.ceil(e),o=null==o?1:Math.floor(o),!(e<r&&o>0))return a;do{a.push(u=new Date(+e)),n(e,o),t(e)}while(u<e&&e<r);return a},i.filter=function(e){return Cu(function(n){if(n>=n)for(;t(n),!e(n);)n.setTime(n-1)},function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;n(t,-1),!e(t););else for(;--r>=0;)for(;n(t,1),!e(t););})},e&&(i.count=function(n,r){return xv.setTime(+n),bv.setTime(+r),t(xv),t(bv),Math.floor(e(xv,bv))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(n){return r(n)%t==0}:function(n){return i.count(0,n)%t==0}):i:null}),i}function zu(t){return Cu(function(n){n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+7*n)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Tv)/Nv})}function Pu(t){return Cu(function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+7*n)},function(t,n){return(n-t)/Nv})}function Ru(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Lu(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function qu(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function Du(t){function n(t,n){return function(e){var r,i,o,u=[],a=-1,c=0,s=t.length;for(e instanceof Date||(e=new Date(+e));++a<s;)37===t.charCodeAt(a)&&(u.push(t.slice(c,a)),null!=(i=Mg[r=t.charAt(++a)])?r=t.charAt(++a):i="e"===r?" ":"0",(o=n[r])&&(r=o(e,i)),u.push(r),c=a+1);return u.push(t.slice(c,a)),u.join("")}}function e(t,n){return function(e){var i,o,u=qu(1900);if(r(u,t,e+="",0)!=e.length)return null;if("Q"in u)return new Date(u.Q);if("p"in u&&(u.H=u.H%12+12*u.p),"V"in u){if(u.V<1||u.V>53)return null;"w"in u||(u.w=1),"Z"in u?(i=(o=(i=Lu(qu(u.y))).getUTCDay())>4||0===o?og.ceil(i):og(i),i=eg.offset(i,7*(u.V-1)),u.y=i.getUTCFullYear(),u.m=i.getUTCMonth(),u.d=i.getUTCDate()+(u.w+6)%7):(i=(o=(i=n(qu(u.y))).getDay())>4||0===o?qv.ceil(i):qv(i),i=Pv.offset(i,7*(u.V-1)),u.y=i.getFullYear(),u.m=i.getMonth(),u.d=i.getDate()+(u.w+6)%7)}else("W"in u||"U"in u)&&("w"in u||(u.w="u"in u?u.u%7:"W"in u?1:0),o="Z"in u?Lu(qu(u.y)).getUTCDay():n(qu(u.y)).getDay(),u.m=0,u.d="W"in u?(u.w+6)%7+7*u.W-(o+5)%7:u.w+7*u.U-(o+6)%7);return"Z"in u?(u.H+=u.Z/100|0,u.M+=u.Z%100,Lu(u)):n(u)}}function r(t,n,e,r){for(var i,o,u=0,a=n.length,c=e.length;u<a;){if(r>=c)return-1;if(37===(i=n.charCodeAt(u++))){if(i=n.charAt(u++),!(o=T[i in Mg?n.charAt(u++):i])||(r=o(t,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}var i=t.dateTime,o=t.date,u=t.time,a=t.periods,c=t.days,s=t.shortDays,f=t.months,l=t.shortMonths,h=Fu(a),p=Iu(a),d=Fu(c),v=Iu(c),g=Fu(s),_=Iu(s),y=Fu(f),m=Iu(f),x=Fu(l),b=Iu(l),w={a:function(t){return s[t.getDay()]},A:function(t){return c[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return f[t.getMonth()]},c:null,d:ua,e:ua,f:la,H:aa,I:ca,j:sa,L:fa,m:ha,M:pa,p:function(t){return a[+(t.getHours()>=12)]},Q:Ya,s:Ba,S:da,u:va,U:ga,V:_a,w:ya,W:ma,x:null,X:null,y:xa,Y:ba,Z:wa,"%":Ia},M={a:function(t){return s[t.getUTCDay()]},A:function(t){return c[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return f[t.getUTCMonth()]},c:null,d:Ma,e:Ma,f:Ea,H:Ta,I:Na,j:ka,L:Sa,m:Aa,M:Ca,p:function(t){return a[+(t.getUTCHours()>=12)]},Q:Ya,s:Ba,S:za,u:Pa,U:Ra,V:La,w:qa,W:Da,x:null,X:null,y:Ua,Y:Oa,Z:Fa,"%":Ia},T={a:function(t,n,e){var r=g.exec(n.slice(e));return r?(t.w=_[r[0].toLowerCase()],e+r[0].length):-1},A:function(t,n,e){var r=d.exec(n.slice(e));return r?(t.w=v[r[0].toLowerCase()],e+r[0].length):-1},b:function(t,n,e){var r=x.exec(n.slice(e));return r?(t.m=b[r[0].toLowerCase()],e+r[0].length):-1},B:function(t,n,e){var r=y.exec(n.slice(e));return r?(t.m=m[r[0].toLowerCase()],e+r[0].length):-1},c:function(t,n,e){return r(t,i,n,e)},d:Gu,e:Gu,f:ea,H:Ju,I:Ju,j:Qu,L:na,m:Zu,M:Ku,p:function(t,n,e){var r=h.exec(n.slice(e));return r?(t.p=p[r[0].toLowerCase()],e+r[0].length):-1},Q:ia,s:oa,S:ta,u:Bu,U:Hu,V:ju,w:Yu,W:Xu,x:function(t,n,e){return r(t,o,n,e)},X:function(t,n,e){return r(t,u,n,e)},y:$u,Y:Vu,Z:Wu,"%":ra};return w.x=n(o,w),w.X=n(u,w),w.c=n(i,w),M.x=n(o,M),M.X=n(u,M),M.c=n(i,M),{format:function(t){var e=n(t+="",w);return e.toString=function(){return t},e},parse:function(t){var n=e(t+="",Ru);return n.toString=function(){return t},n},utcFormat:function(t){var e=n(t+="",M);return e.toString=function(){return t},e},utcParse:function(t){var n=e(t,Lu);return n.toString=function(){return t},n}}}function Uu(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(n)+i:i)}function Ou(t){return t.replace(kg,"\\$&")}function Fu(t){return new RegExp("^(?:"+t.map(Ou).join("|")+")","i")}function Iu(t){for(var n={},e=-1,r=t.length;++e<r;)n[t[e].toLowerCase()]=e;return n}function Yu(t,n,e){var r=Tg.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function Bu(t,n,e){var r=Tg.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function Hu(t,n,e){var r=Tg.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function ju(t,n,e){var r=Tg.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function Xu(t,n,e){var r=Tg.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function Vu(t,n,e){var r=Tg.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function $u(t,n,e){var r=Tg.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function Wu(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function Zu(t,n,e){var r=Tg.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function Gu(t,n,e){var r=Tg.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function Qu(t,n,e){var r=Tg.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function Ju(t,n,e){var r=Tg.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function Ku(t,n,e){var r=Tg.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function ta(t,n,e){var r=Tg.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function na(t,n,e){var r=Tg.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function ea(t,n,e){var r=Tg.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function ra(t,n,e){var r=Ng.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function ia(t,n,e){var r=Tg.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function oa(t,n,e){var r=Tg.exec(n.slice(e));return r?(t.Q=1e3*+r[0],e+r[0].length):-1}function ua(t,n){return Uu(t.getDate(),n,2)}function aa(t,n){return Uu(t.getHours(),n,2)}function ca(t,n){return Uu(t.getHours()%12||12,n,2)}function sa(t,n){return Uu(1+Pv.count(Gv(t),t),n,3)}function fa(t,n){return Uu(t.getMilliseconds(),n,3)}function la(t,n){return fa(t,n)+"000"}function ha(t,n){return Uu(t.getMonth()+1,n,2)}function pa(t,n){return Uu(t.getMinutes(),n,2)}function da(t,n){return Uu(t.getSeconds(),n,2)}function va(t){var n=t.getDay();return 0===n?7:n}function ga(t,n){return Uu(Lv.count(Gv(t),t),n,2)}function _a(t,n){var e=t.getDay();return t=e>=4||0===e?Ov(t):Ov.ceil(t),Uu(Ov.count(Gv(t),t)+(4===Gv(t).getDay()),n,2)}function ya(t){return t.getDay()}function ma(t,n){return Uu(qv.count(Gv(t),t),n,2)}function xa(t,n){return Uu(t.getFullYear()%100,n,2)}function ba(t,n){return Uu(t.getFullYear()%1e4,n,4)}function wa(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+Uu(n/60|0,"0",2)+Uu(n%60,"0",2)}function Ma(t,n){return Uu(t.getUTCDate(),n,2)}function Ta(t,n){return Uu(t.getUTCHours(),n,2)}function Na(t,n){return Uu(t.getUTCHours()%12||12,n,2)}function ka(t,n){return Uu(1+eg.count(xg(t),t),n,3)}function Sa(t,n){return Uu(t.getUTCMilliseconds(),n,3)}function Ea(t,n){return Sa(t,n)+"000"}function Aa(t,n){return Uu(t.getUTCMonth()+1,n,2)}function Ca(t,n){return Uu(t.getUTCMinutes(),n,2)}function za(t,n){return Uu(t.getUTCSeconds(),n,2)}function Pa(t){var n=t.getUTCDay();return 0===n?7:n}function Ra(t,n){return Uu(ig.count(xg(t),t),n,2)}function La(t,n){var e=t.getUTCDay();return t=e>=4||0===e?cg(t):cg.ceil(t),Uu(cg.count(xg(t),t)+(4===xg(t).getUTCDay()),n,2)}function qa(t){return t.getUTCDay()}function Da(t,n){return Uu(og.count(xg(t),t),n,2)}function Ua(t,n){return Uu(t.getUTCFullYear()%100,n,2)}function Oa(t,n){return Uu(t.getUTCFullYear()%1e4,n,4)}function Fa(){return"+0000"}function Ia(){return"%"}function Ya(t){return+t}function Ba(t){return Math.floor(+t/1e3)}function Ha(n){return bg=Du(n),t.timeFormat=bg.format,t.timeParse=bg.parse,t.utcFormat=bg.utcFormat,t.utcParse=bg.utcParse,bg}function ja(t){return new Date(t)}function Xa(t){return t instanceof Date?+t:+new Date(+t)}function Va(t,n,r,i,o,u,a,c,s){function f(e){return(a(e)<e?g:u(e)<e?_:o(e)<e?y:i(e)<e?m:n(e)<e?r(e)<e?x:b:t(e)<e?w:M)(e)}function l(n,r,i,o){if(null==n&&(n=10),"number"==typeof n){var u=Math.abs(i-r)/n,a=e(function(t){return t[2]}).right(T,u);a===T.length?(o=p(r/Dg,i/Dg,n),n=t):a?(o=(a=T[u/T[a-1][2]<T[a][2]/u?a-1:a])[1],n=a[0]):(o=Math.max(p(r,i,n),1),n=c)}return null==o?n:n.every(o)}var h=pu(su,an),d=h.invert,v=h.domain,g=s(".%L"),_=s(":%S"),y=s("%I:%M"),m=s("%I %p"),x=s("%a %d"),b=s("%b %d"),w=s("%B"),M=s("%Y"),T=[[a,1,Cg],[a,5,5*Cg],[a,15,15*Cg],[a,30,30*Cg],[u,1,zg],[u,5,5*zg],[u,15,15*zg],[u,30,30*zg],[o,1,Pg],[o,3,3*Pg],[o,6,6*Pg],[o,12,12*Pg],[i,1,Rg],[i,2,2*Rg],[r,1,Lg],[n,1,qg],[n,3,3*qg],[t,1,Dg]];return h.invert=function(t){return new Date(d(t))},h.domain=function(t){return arguments.length?v(gv.call(t,Xa)):v().map(ja)},h.ticks=function(t,n){var e,r=v(),i=r[0],o=r[r.length-1],u=o<i;return u&&(e=i,i=o,o=e),e=l(t,i,o,n),e=e?e.range(i,o+1):[],u?e.reverse():e},h.tickFormat=function(t,n){return null==n?f:s(n)},h.nice=function(t,n){var e=v();return(t=l(t,e[0],e[e.length-1],n))?v(_u(e,t)):h},h.copy=function(){return hu(h,Va(t,n,r,i,o,u,a,c,s))},h}function $a(t){return t.match(/.{6}/g).map(function(t){return"#"+t})}function Wa(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}}function Za(t){function n(n){var o=(n-e)/(r-e);return t(i?Math.max(0,Math.min(1,o)):o)}var e=0,r=1,i=!1;return n.domain=function(t){return arguments.length?(e=+t[0],r=+t[1],n):[e,r]},n.clamp=function(t){return arguments.length?(i=!!t,n):i},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return Za(t).domain([e,r]).clamp(i)},du(n)}function Ga(t){return function(){return t}}function Qa(t){return t>=1?i_:t<=-1?-i_:Math.asin(t)}function Ja(t){return t.innerRadius}function Ka(t){return t.outerRadius}function tc(t){return t.startAngle}function nc(t){return t.endAngle}function ec(t){return t&&t.padAngle}function rc(t,n,e,r,i,o,u){var a=t-e,c=n-r,s=(u?o:-o)/n_(a*a+c*c),f=s*c,l=-s*a,h=t+f,p=n+l,d=e+f,v=r+l,g=(h+d)/2,_=(p+v)/2,y=d-h,m=v-p,x=y*y+m*m,b=i-o,w=h*v-d*p,M=(m<0?-1:1)*n_(Jg(0,b*b*x-w*w)),T=(w*m-y*M)/x,N=(-w*y-m*M)/x,k=(w*m+y*M)/x,S=(-w*y+m*M)/x,E=T-g,A=N-_,C=k-g,z=S-_;return E*E+A*A>C*C+z*z&&(T=k,N=S),{cx:T,cy:N,x01:-f,y01:-l,x11:T*(i/b-1),y11:N*(i/b-1)}}function ic(t){this._context=t}function oc(t){return new ic(t)}function uc(t){return t[0]}function ac(t){return t[1]}function cc(){function t(t){var a,c,s,f=t.length,l=!1;for(null==i&&(u=o(s=ee())),a=0;a<=f;++a)!(a<f&&r(c=t[a],a,t))===l&&((l=!l)?u.lineStart():u.lineEnd()),l&&u.point(+n(c,a,t),+e(c,a,t));if(s)return u=null,s+""||null}var n=uc,e=ac,r=Ga(!0),i=null,o=oc,u=null;return t.x=function(e){return arguments.length?(n="function"==typeof e?e:Ga(+e),t):n},t.y=function(n){return arguments.length?(e="function"==typeof n?n:Ga(+n),t):e},t.defined=function(n){return arguments.length?(r="function"==typeof n?n:Ga(!!n),t):r},t.curve=function(n){return arguments.length?(o=n,null!=i&&(u=o(i)),t):o},t.context=function(n){return arguments.length?(null==n?i=u=null:u=o(i=n),t):i},t}function sc(){function t(t){var n,f,l,h,p,d=t.length,v=!1,g=new Array(d),_=new Array(d);for(null==a&&(s=c(p=ee())),n=0;n<=d;++n){if(!(n<d&&u(h=t[n],n,t))===v)if(v=!v)f=n,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),l=n-1;l>=f;--l)s.point(g[l],_[l]);s.lineEnd(),s.areaEnd()}v&&(g[n]=+e(h,n,t),_[n]=+i(h,n,t),s.point(r?+r(h,n,t):g[n],o?+o(h,n,t):_[n]))}if(p)return s=null,p+""||null}function n(){return cc().defined(u).curve(c).context(a)}var e=uc,r=null,i=Ga(0),o=ac,u=Ga(!0),a=null,c=oc,s=null;return t.x=function(n){return arguments.length?(e="function"==typeof n?n:Ga(+n),r=null,t):e},t.x0=function(n){return arguments.length?(e="function"==typeof n?n:Ga(+n),t):e},t.x1=function(n){return arguments.length?(r=null==n?null:"function"==typeof n?n:Ga(+n),t):r},t.y=function(n){return arguments.length?(i="function"==typeof n?n:Ga(+n),o=null,t):i},t.y0=function(n){return arguments.length?(i="function"==typeof n?n:Ga(+n),t):i},t.y1=function(n){return arguments.length?(o=null==n?null:"function"==typeof n?n:Ga(+n),t):o},t.lineX0=t.lineY0=function(){return n().x(e).y(i)},t.lineY1=function(){return n().x(e).y(o)},t.lineX1=function(){return n().x(r).y(i)},t.defined=function(n){return arguments.length?(u="function"==typeof n?n:Ga(!!n),t):u},t.curve=function(n){return arguments.length?(c=n,null!=a&&(s=c(a)),t):c},t.context=function(n){return arguments.length?(null==n?a=s=null:s=c(a=n),t):a},t}function fc(t,n){return n<t?-1:n>t?1:n>=t?0:NaN}function lc(t){return t}function hc(t){this._curve=t}function pc(t){function n(n){return new hc(t(n))}return n._curve=t,n}function dc(t){var n=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?n(pc(t)):n()._curve},t}function vc(){return dc(cc().curve(u_))}function gc(){var t=sc().curve(u_),n=t.curve,e=t.lineX0,r=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return dc(e())},delete t.lineX0,t.lineEndAngle=function(){return dc(r())},delete t.lineX1,t.lineInnerRadius=function(){return dc(i())},delete t.lineY0,t.lineOuterRadius=function(){return dc(o())},delete t.lineY1,t.curve=function(t){return arguments.length?n(pc(t)):n()._curve},t}function _c(t,n){return[(n=+n)*Math.cos(t-=Math.PI/2),n*Math.sin(t)]}function yc(t){return t.source}function mc(t){return t.target}function xc(t){function n(){var n,a=a_.call(arguments),c=e.apply(this,a),s=r.apply(this,a);if(u||(u=n=ee()),t(u,+i.apply(this,(a[0]=c,a)),+o.apply(this,a),+i.apply(this,(a[0]=s,a)),+o.apply(this,a)),n)return u=null,n+""||null}var e=yc,r=mc,i=uc,o=ac,u=null;return n.source=function(t){return arguments.length?(e=t,n):e},n.target=function(t){return arguments.length?(r=t,n):r},n.x=function(t){return arguments.length?(i="function"==typeof t?t:Ga(+t),n):i},n.y=function(t){return arguments.length?(o="function"==typeof t?t:Ga(+t),n):o},n.context=function(t){return arguments.length?(u=null==t?null:t,n):u},n}function bc(t,n,e,r,i){t.moveTo(n,e),t.bezierCurveTo(n=(n+r)/2,e,n,i,r,i)}function wc(t,n,e,r,i){t.moveTo(n,e),t.bezierCurveTo(n,e=(e+i)/2,r,e,r,i)}function Mc(t,n,e,r,i){var o=_c(n,e),u=_c(n,e=(e+i)/2),a=_c(r,e),c=_c(r,i);t.moveTo(o[0],o[1]),t.bezierCurveTo(u[0],u[1],a[0],a[1],c[0],c[1])}function Tc(){}function Nc(t,n,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+e)/6)}function kc(t){this._context=t}function Sc(t){this._context=t}function Ec(t){this._context=t}function Ac(t,n){this._basis=new kc(t),this._beta=n}function Cc(t,n,e){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-e),t._x2,t._y2)}function zc(t,n){this._context=t,this._k=(1-n)/6}function Pc(t,n){this._context=t,this._k=(1-n)/6}function Rc(t,n){this._context=t,this._k=(1-n)/6}function Lc(t,n,e){var r=t._x1,i=t._y1,o=t._x2,u=t._y2;if(t._l01_a>e_){var a=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,c=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*a-t._x0*t._l12_2a+t._x2*t._l01_2a)/c,i=(i*a-t._y0*t._l12_2a+t._y2*t._l01_2a)/c}if(t._l23_a>e_){var s=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,f=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*s+t._x1*t._l23_2a-n*t._l12_2a)/f,u=(u*s+t._y1*t._l23_2a-e*t._l12_2a)/f}t._context.bezierCurveTo(r,i,o,u,t._x2,t._y2)}function qc(t,n){this._context=t,this._alpha=n}function Dc(t,n){this._context=t,this._alpha=n}function Uc(t,n){this._context=t,this._alpha=n}function Oc(t){this._context=t}function Fc(t){return t<0?-1:1}function Ic(t,n,e){var r=t._x1-t._x0,i=n-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),u=(e-t._y1)/(i||r<0&&-0),a=(o*i+u*r)/(r+i);return(Fc(o)+Fc(u))*Math.min(Math.abs(o),Math.abs(u),.5*Math.abs(a))||0}function Yc(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function Bc(t,n,e){var r=t._x0,i=t._y0,o=t._x1,u=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*n,o-a,u-a*e,o,u)}function Hc(t){this._context=t}function jc(t){this._context=new Xc(t)}function Xc(t){this._context=t}function Vc(t){this._context=t}function $c(t){var n,e,r=t.length-1,i=new Array(r),o=new Array(r),u=new Array(r);for(i[0]=0,o[0]=2,u[0]=t[0]+2*t[1],n=1;n<r-1;++n)i[n]=1,o[n]=4,u[n]=4*t[n]+2*t[n+1];for(i[r-1]=2,o[r-1]=7,u[r-1]=8*t[r-1]+t[r],n=1;n<r;++n)e=i[n]/o[n-1],o[n]-=e,u[n]-=e*u[n-1];for(i[r-1]=u[r-1]/o[r-1],n=r-2;n>=0;--n)i[n]=(u[n]-i[n+1])/o[n];for(o[r-1]=(t[r]+i[r-1])/2,n=0;n<r-1;++n)o[n]=2*t[n+1]-i[n+1];return[i,o]}function Wc(t,n){this._context=t,this._t=n}function Zc(t,n){if((i=t.length)>1)for(var e,r,i,o=1,u=t[n[0]],a=u.length;o<i;++o)for(r=u,u=t[n[o]],e=0;e<a;++e)u[e][1]+=u[e][0]=isNaN(r[e][1])?r[e][0]:r[e][1]}function Gc(t){for(var n=t.length,e=new Array(n);--n>=0;)e[n]=n;return e}function Qc(t,n){return t[n]}function Jc(t){var n=t.map(Kc);return Gc(t).sort(function(t,e){return n[t]-n[e]})}function Kc(t){for(var n,e=0,r=-1,i=t.length;++r<i;)(n=+t[r][1])&&(e+=n);return e}function ts(t){return function(){return t}}function ns(t){return t[0]}function es(t){return t[1]}function rs(){this._=null}function is(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function os(t,n){var e=n,r=n.R,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.R=r.L,e.R&&(e.R.U=e),r.L=e}function us(t,n){var e=n,r=n.L,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.L=r.R,e.L&&(e.L.U=e),r.R=e}function as(t){for(;t.L;)t=t.L;return t}function cs(t,n,e,r){var i=[null,null],o=D_.push(i)-1;return i.left=t,i.right=n,e&&fs(i,t,n,e),r&&fs(i,n,t,r),L_[t.index].halfedges.push(o),L_[n.index].halfedges.push(o),i}function ss(t,n,e){var r=[n,e];return r.left=t,r}function fs(t,n,e,r){t[0]||t[1]?t.left===e?t[1]=r:t[0]=r:(t[0]=r,t.left=n,t.right=e)}function ls(t,n,e,r,i){var o,u=t[0],a=t[1],c=u[0],s=u[1],f=0,l=1,h=a[0]-c,p=a[1]-s;if(o=n-c,h||!(o>0)){if(o/=h,h<0){if(o<f)return;o<l&&(l=o)}else if(h>0){if(o>l)return;o>f&&(f=o)}if(o=r-c,h||!(o<0)){if(o/=h,h<0){if(o>l)return;o>f&&(f=o)}else if(h>0){if(o<f)return;o<l&&(l=o)}if(o=e-s,p||!(o>0)){if(o/=p,p<0){if(o<f)return;o<l&&(l=o)}else if(p>0){if(o>l)return;o>f&&(f=o)}if(o=i-s,p||!(o<0)){if(o/=p,p<0){if(o>l)return;o>f&&(f=o)}else if(p>0){if(o<f)return;o<l&&(l=o)}return!(f>0||l<1)||(f>0&&(t[0]=[c+f*h,s+f*p]),l<1&&(t[1]=[c+l*h,s+l*p]),!0)}}}}}function hs(t,n,e,r,i){var o=t[1];if(o)return!0;var u,a,c=t[0],s=t.left,f=t.right,l=s[0],h=s[1],p=f[0],d=f[1],v=(l+p)/2,g=(h+d)/2;if(d===h){if(v<n||v>=r)return;if(l>p){if(c){if(c[1]>=i)return}else c=[v,e];o=[v,i]}else{if(c){if(c[1]<e)return}else c=[v,i];o=[v,e]}}else if(u=(l-p)/(d-h),a=g-u*v,u<-1||u>1)if(l>p){if(c){if(c[1]>=i)return}else c=[(e-a)/u,e];o=[(i-a)/u,i]}else{if(c){if(c[1]<e)return}else c=[(i-a)/u,i];o=[(e-a)/u,e]}else if(h<d){if(c){if(c[0]>=r)return}else c=[n,u*n+a];o=[r,u*r+a]}else{if(c){if(c[0]<n)return}else c=[r,u*r+a];o=[n,u*n+a]}return t[0]=c,t[1]=o,!0}function ps(t,n){var e=t.site,r=n.left,i=n.right;return e===i&&(i=r,r=e),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(e===r?(r=n[1],i=n[0]):(r=n[0],i=n[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function ds(t,n){return n[+(n.left!==t.site)]}function vs(t,n){return n[+(n.left===t.site)]}function gs(t){var n=t.P,e=t.N;if(n&&e){var r=n.site,i=t.site,o=e.site;if(r!==o){var u=i[0],a=i[1],c=r[0]-u,s=r[1]-a,f=o[0]-u,l=o[1]-a,h=2*(c*l-s*f);if(!(h>=-I_)){var p=c*c+s*s,d=f*f+l*l,v=(l*p-s*d)/h,g=(c*d-f*p)/h,_=U_.pop()||new function(){is(this),this.x=this.y=this.arc=this.site=this.cy=null};_.arc=t,_.site=i,_.x=v+u,_.y=(_.cy=g+a)+Math.sqrt(v*v+g*g),t.circle=_;for(var y=null,m=q_._;m;)if(_.y<m.y||_.y===m.y&&_.x<=m.x){if(!m.L){y=m.P;break}m=m.L}else{if(!m.R){y=m;break}m=m.R}q_.insert(y,_),y||(P_=_)}}}}function _s(t){var n=t.circle;n&&(n.P||(P_=n.N),q_.remove(n),U_.push(n),is(n),t.circle=null)}function ys(t){var n=O_.pop()||new function(){is(this),this.edge=this.site=this.circle=null};return n.site=t,n}function ms(t){_s(t),R_.remove(t),O_.push(t),is(t)}function xs(t){var n=t.circle,e=n.x,r=n.cy,i=[e,r],o=t.P,u=t.N,a=[t];ms(t);for(var c=o;c.circle&&Math.abs(e-c.circle.x)<F_&&Math.abs(r-c.circle.cy)<F_;)o=c.P,a.unshift(c),ms(c),c=o;a.unshift(c),_s(c);for(var s=u;s.circle&&Math.abs(e-s.circle.x)<F_&&Math.abs(r-s.circle.cy)<F_;)u=s.N,a.push(s),ms(s),s=u;a.push(s),_s(s);var f,l=a.length;for(f=1;f<l;++f)s=a[f],c=a[f-1],fs(s.edge,c.site,s.site,i);c=a[0],(s=a[l-1]).edge=cs(c.site,s.site,null,i),gs(c),gs(s)}function bs(t){for(var n,e,r,i,o=t[0],u=t[1],a=R_._;a;)if((r=ws(a,u)-o)>F_)a=a.L;else{if(!((i=o-function(t,n){var e=t.N;if(e)return ws(e,n);var r=t.site;return r[1]===n?r[0]:1/0}(a,u))>F_)){r>-F_?(n=a.P,e=a):i>-F_?(n=a,e=a.N):n=e=a;break}if(!a.R){n=a;break}a=a.R}(function(t){L_[t.index]={site:t,halfedges:[]}})(t);var c=ys(t);if(R_.insert(n,c),n||e){if(n===e)return _s(n),e=ys(n.site),R_.insert(c,e),c.edge=e.edge=cs(n.site,c.site),gs(n),void gs(e);if(e){_s(n),_s(e);var s=n.site,f=s[0],l=s[1],h=t[0]-f,p=t[1]-l,d=e.site,v=d[0]-f,g=d[1]-l,_=2*(h*g-p*v),y=h*h+p*p,m=v*v+g*g,x=[(g*y-p*m)/_+f,(h*m-v*y)/_+l];fs(e.edge,s,d,x),c.edge=cs(s,t,null,x),e.edge=cs(t,d,null,x),gs(n),gs(e)}else c.edge=cs(n.site,c.site)}}function ws(t,n){var e=t.site,r=e[0],i=e[1],o=i-n;if(!o)return r;var u=t.P;if(!u)return-1/0;var a=(e=u.site)[0],c=e[1],s=c-n;if(!s)return a;var f=a-r,l=1/o-1/s,h=f/s;return l?(-h+Math.sqrt(h*h-2*l*(f*f/(-2*s)-c+s/2+i-o/2)))/l+r:(r+a)/2}function Ms(t,n,e){return(t[0]-e[0])*(n[1]-t[1])-(t[0]-n[0])*(e[1]-t[1])}function Ts(t,n){return n[1]-t[1]||n[0]-t[0]}function Ns(t,n){var e,r,i,o=t.sort(Ts).pop();for(D_=[],L_=new Array(t.length),R_=new rs,q_=new rs;;)if(i=P_,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===e&&o[1]===r||(bs(o),e=o[0],r=o[1]),o=t.pop();else{if(!i)break;xs(i.arc)}if(function(){for(var t,n,e,r,i=0,o=L_.length;i<o;++i)if((t=L_[i])&&(r=(n=t.halfedges).length)){var u=new Array(r),a=new Array(r);for(e=0;e<r;++e)u[e]=e,a[e]=ps(t,D_[n[e]]);for(u.sort(function(t,n){return a[n]-a[t]}),e=0;e<r;++e)a[e]=n[u[e]];for(e=0;e<r;++e)n[e]=a[e]}}(),n){var u=+n[0][0],a=+n[0][1],c=+n[1][0],s=+n[1][1];(function(t,n,e,r){for(var i,o=D_.length;o--;)hs(i=D_[o],t,n,e,r)&&ls(i,t,n,e,r)&&(Math.abs(i[0][0]-i[1][0])>F_||Math.abs(i[0][1]-i[1][1])>F_)||delete D_[o]})(u,a,c,s),function(t,n,e,r){var i,o,u,a,c,s,f,l,h,p,d,v,g=L_.length,_=!0;for(i=0;i<g;++i)if(o=L_[i]){for(u=o.site,a=(c=o.halfedges).length;a--;)D_[c[a]]||c.splice(a,1);for(a=0,s=c.length;a<s;)d=(p=vs(o,D_[c[a]]))[0],v=p[1],l=(f=ds(o,D_[c[++a%s]]))[0],h=f[1],(Math.abs(d-l)>F_||Math.abs(v-h)>F_)&&(c.splice(a,0,D_.push(ss(u,p,Math.abs(d-t)<F_&&r-v>F_?[t,Math.abs(l-t)<F_?h:r]:Math.abs(v-r)<F_&&e-d>F_?[Math.abs(h-r)<F_?l:e,r]:Math.abs(d-e)<F_&&v-n>F_?[e,Math.abs(l-e)<F_?h:n]:Math.abs(v-n)<F_&&d-t>F_?[Math.abs(h-n)<F_?l:t,n]:null))-1),++s);s&&(_=!1)}if(_){var y,m,x,b=1/0;for(i=0,_=null;i<g;++i)(o=L_[i])&&(x=(y=(u=o.site)[0]-t)*y+(m=u[1]-n)*m)<b&&(b=x,_=o);if(_){var w=[t,n],M=[t,r],T=[e,r],N=[e,n];_.halfedges.push(D_.push(ss(u=_.site,w,M))-1,D_.push(ss(u,M,T))-1,D_.push(ss(u,T,N))-1,D_.push(ss(u,N,w))-1)}}for(i=0;i<g;++i)(o=L_[i])&&(o.halfedges.length||delete L_[i])}(u,a,c,s)}this.edges=D_,this.cells=L_,R_=q_=D_=L_=null}function ks(t){return function(){return t}}function Ss(t,n,e){this.k=t,this.x=n,this.y=e}function Es(t){return t.__zoom||Y_}function As(){t.event.stopImmediatePropagation()}function Cs(){t.event.preventDefault(),t.event.stopImmediatePropagation()}function zs(){return!t.event.button}function Ps(){var t,n,e=this;return e instanceof SVGElement?(t=(e=e.ownerSVGElement||e).width.baseVal.value,n=e.height.baseVal.value):(t=e.clientWidth,n=e.clientHeight),[[0,0],[t,n]]}function Rs(){return this.__zoom||Y_}function Ls(){return-t.event.deltaY*(t.event.deltaMode?120:1)/500}function qs(){return"ontouchstart"in this}function Ds(t,n,e){var r=t.invertX(n[0][0])-e[0][0],i=t.invertX(n[1][0])-e[1][0],o=t.invertY(n[0][1])-e[0][1],u=t.invertY(n[1][1])-e[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),u>o?(o+u)/2:Math.min(0,o)||Math.max(0,u))}var Us=e(n),Os=Us.right,Fs=Us.left,Is=Array.prototype,Ys=Is.slice,Bs=Is.map,Hs=Math.sqrt(50),js=Math.sqrt(10),Xs=Math.sqrt(2),Vs=Array.prototype.slice,$s=1,Ws=2,Zs=3,Gs=4,Qs=1e-6,Js={value:function(){}};k.prototype=N.prototype={constructor:k,on:function(t,n){var e,r=this._,i=function(t,n){return t.trim().split(/^|\s+/).map(function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})}(t+"",r),o=-1,u=i.length;{if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++o<u;)if(e=(t=i[o]).type)r[e]=S(r[e],t.name,n);else if(null==n)for(e in r)r[e]=S(r[e],t.name,null);return this}for(;++o<u;)if((e=(t=i[o]).type)&&(e=function(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}(r[e],t.name)))return e}},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new k(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};var Ks="http://www.w3.org/1999/xhtml",tf={svg:"http://www.w3.org/2000/svg",xhtml:Ks,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},nf=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var ef=document.documentElement;if(!ef.matches){var rf=ef.webkitMatchesSelector||ef.msMatchesSelector||ef.mozMatchesSelector||ef.oMatchesSelector;nf=function(t){return function(){return rf.call(this,t)}}}}var of=nf;q.prototype={constructor:q,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var uf="$";H.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var af={};if(t.event=null,"undefined"!=typeof document){"onmouseenter"in document.documentElement||(af={mouseenter:"mouseover",mouseleave:"mouseout"})}var cf=[null];ut.prototype=at.prototype={constructor:ut,select:function(t){"function"!=typeof t&&(t=z(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u,a=n[i],c=a.length,s=r[i]=new Array(c),f=0;f<c;++f)(o=a[f])&&(u=t.call(o,o.__data__,f,a))&&("__data__"in o&&(u.__data__=o.__data__),s[f]=u);return new ut(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=R(t));for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var u,a=n[o],c=a.length,s=0;s<c;++s)(u=a[s])&&(r.push(t.call(u,u.__data__,s,a)),i.push(u));return new ut(r,i)},filter:function(t){"function"!=typeof t&&(t=of(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u=n[i],a=u.length,c=r[i]=[],s=0;s<a;++s)(o=u[s])&&t.call(o,o.__data__,s,u)&&c.push(o);return new ut(r,this._parents)},data:function(t,n){if(!t)return p=new Array(this.size()),s=-1,this.each(function(t){p[++s]=t}),p;var e=n?U:D,r=this._parents,i=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var o=i.length,u=new Array(o),a=new Array(o),c=new Array(o),s=0;s<o;++s){var f=r[s],l=i[s],h=l.length,p=t.call(f,f&&f.__data__,s,r),d=p.length,v=a[s]=new Array(d),g=u[s]=new Array(d);e(f,l,v,g,c[s]=new Array(h),p,n);for(var _,y,m=0,x=0;m<d;++m)if(_=v[m]){for(m>=x&&(x=m+1);!(y=g[x])&&++x<d;);_._next=y||null}}return u=new ut(u,r),u._enter=a,u._exit=c,u},enter:function(){return new ut(this._enter||this._groups.map(L),this._parents)},exit:function(){return new ut(this._exit||this._groups.map(L),this._parents)},merge:function(t){for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),u=new Array(r),a=0;a<o;++a)for(var c,s=n[a],f=e[a],l=s.length,h=u[a]=new Array(l),p=0;p<l;++p)(c=s[p]||f[p])&&(h[p]=c);for(;a<r;++a)u[a]=n[a];return new ut(u,this._parents)},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,u=i[o];--o>=0;)(r=i[o])&&(u&&u!==r.nextSibling&&u.parentNode.insertBefore(r,u),u=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=O);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var u,a=e[o],c=a.length,s=i[o]=new Array(c),f=0;f<c;++f)(u=a[f])&&(s[f]=u);s.sort(n)}return new ut(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each(function(){t[++n]=this}),t},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var u=r[i];if(u)return u}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],u=0,a=o.length;u<a;++u)(i=o[u])&&t.call(i,i.__data__,u,o);return this},attr:function(t,n){var e=E(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof n?e.local?function(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}:function(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}:e.local?function(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}:function(t,n){return function(){this.setAttribute(t,n)}})(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof n?function(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}:function(t,n,e){return function(){this.style.setProperty(t,n,e)}})(t,n,null==e?"":e)):I(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?function(t){return function(){delete this[t]}}:"function"==typeof n?function(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}:function(t,n){return function(){this[t]=n}})(t,n)):this.node()[t]},classed:function(t,n){var e=Y(t+"");if(arguments.length<2){for(var r=B(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?function(t,n){return function(){(n.apply(this,arguments)?j:X)(this,t)}}:n?function(t){return function(){j(this,t)}}:function(t){return function(){X(this,t)}})(e,n))},text:function(t){return arguments.length?this.each(null==t?V:("function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?$:("function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(W)},lower:function(){return this.each(Z)},append:function(t){var n="function"==typeof t?t:A(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})},insert:function(t,n){var e="function"==typeof t?t:A(t),r=null==n?G:"function"==typeof n?n:z(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(Q)},clone:function(t){return this.select(t?K:J)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=function(t){return t.trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}})}(t+""),u=o.length;if(!(arguments.length<2)){for(a=n?rt:et,null==e&&(e=!1),r=0;r<u;++r)this.each(a(o[r],n,e));return this}var a=this.node().__on;if(a)for(var c,s=0,f=a.length;s<f;++s)for(r=0,c=a[s];r<u;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value},dispatch:function(t,n){return this.each(("function"==typeof n?function(t,n){return function(){return ot(this,t,n.apply(this,arguments))}}:function(t,n){return function(){return ot(this,t,n)}})(t,n))}};var sf=0;ft.prototype=st.prototype={constructor:ft,get:function(t){for(var n=this._;!(n in t);)if(!(t=t.parentNode))return;return t[n]},set:function(t,n){return t[this._]=n},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}},xt.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var ff="\\s*([+-]?\\d+)\\s*",lf="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",hf="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",pf=/^#([0-9a-f]{3})$/,df=/^#([0-9a-f]{6})$/,vf=new RegExp("^rgb\\("+[ff,ff,ff]+"\\)$"),gf=new RegExp("^rgb\\("+[hf,hf,hf]+"\\)$"),_f=new RegExp("^rgba\\("+[ff,ff,ff,lf]+"\\)$"),yf=new RegExp("^rgba\\("+[hf,hf,hf,lf]+"\\)$"),mf=new RegExp("^hsl\\("+[lf,hf,hf]+"\\)$"),xf=new RegExp("^hsla\\("+[lf,hf,hf,lf]+"\\)$"),bf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Nt(St,Et,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),Nt(Rt,Pt,kt(St,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Rt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Rt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),Nt(Dt,qt,kt(St,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Dt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Dt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new Rt(Ut(t>=240?t-240:t+120,i,r),Ut(t,i,r),Ut(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var wf=Math.PI/180,Mf=180/Math.PI,Tf=.95047,Nf=1,kf=1.08883,Sf=4/29,Ef=6/29,Af=3*Ef*Ef,Cf=Ef*Ef*Ef;Nt(It,Ft,kt(St,{brighter:function(t){return new It(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new It(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return t=Nf*Bt(t),n=Tf*Bt(n),e=kf*Bt(e),new Rt(Ht(3.2404542*n-1.5371385*t-.4985314*e),Ht(-.969266*n+1.8760108*t+.041556*e),Ht(.0556434*n-.2040259*t+1.0572252*e),this.opacity)}})),Nt(Vt,Xt,kt(St,{brighter:function(t){return new Vt(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Vt(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Ot(this).rgb()}}));var zf=-.29227,Pf=-.90649,Rf=1.97294,Lf=Rf*Pf,qf=1.78277*Rf,Df=1.78277*zf- -.14861*Pf;Nt(Wt,$t,kt(St,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Wt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Wt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*wf,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new Rt(255*(n+e*(-.14861*r+1.78277*i)),255*(n+e*(zf*r+Pf*i)),255*(n+e*(Rf*r)),this.opacity)}}));var Uf,Of,Ff,If,Yf,Bf,Hf=function t(n){function e(t,n){var e=r((t=Pt(t)).r,(n=Pt(n)).r),i=r(t.g,n.g),o=r(t.b,n.b),u=en(t.opacity,n.opacity);return function(n){return t.r=e(n),t.g=i(n),t.b=o(n),t.opacity=u(n),t+""}}var r=nn(n);return e.gamma=t,e}(1),jf=rn(Gt),Xf=rn(Qt),Vf=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$f=new RegExp(Vf.source,"g"),Wf=180/Math.PI,Zf={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Gf=pn(function(t){return"none"===t?Zf:(Uf||(Uf=document.createElement("DIV"),Of=document.documentElement,Ff=document.defaultView),Uf.style.transform=t,t=Ff.getComputedStyle(Of.appendChild(Uf),null).getPropertyValue("transform"),Of.removeChild(Uf),t=t.slice(7,-1).split(","),hn(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),Qf=pn(function(t){return null==t?Zf:(If||(If=document.createElementNS("http://www.w3.org/2000/svg","g")),If.setAttribute("transform",t),(t=If.transform.baseVal.consolidate())?(t=t.matrix,hn(t.a,t.b,t.c,t.d,t.e,t.f)):Zf)},", ",")",")"),Jf=Math.SQRT2,Kf=2,tl=4,nl=1e-12,el=gn(tn),rl=gn(en),il=_n(tn),ol=_n(en),ul=yn(tn),al=yn(en),cl=0,sl=0,fl=0,ll=1e3,hl=0,pl=0,dl=0,vl="object"==typeof performance&&performance.now?performance:Date,gl="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};bn.prototype=wn.prototype={constructor:bn,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?mn():+e)+(null==n?0:+n),this._next||Bf===this||(Bf?Bf._next=this:Yf=this,Bf=this),this._call=t,this._time=e,kn()},stop:function(){this._call&&(this._call=null,this._time=1/0,kn())}};var _l=N("start","end","interrupt"),yl=[],ml=0,xl=1,bl=2,wl=3,Ml=4,Tl=5,Nl=6,kl=at.prototype.constructor,Sl=0,El=at.prototype;qn.prototype=Dn.prototype={constructor:qn,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=z(t));for(var r=this._groups,i=r.length,o=new Array(i),u=0;u<i;++u)for(var a,c,s=r[u],f=s.length,l=o[u]=new Array(f),h=0;h<f;++h)(a=s[h])&&(c=t.call(a,a.__data__,h,s))&&("__data__"in a&&(c.__data__=a.__data__),l[h]=c,En(l[h],n,e,h,l,zn(a,e)));return new qn(o,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=R(t));for(var r=this._groups,i=r.length,o=[],u=[],a=0;a<i;++a)for(var c,s=r[a],f=s.length,l=0;l<f;++l)if(c=s[l]){for(var h,p=t.call(c,c.__data__,l,s),d=zn(c,e),v=0,g=p.length;v<g;++v)(h=p[v])&&En(h,n,e,v,p,d);o.push(p),u.push(c)}return new qn(o,u,n,e)},filter:function(t){"function"!=typeof t&&(t=of(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u=n[i],a=u.length,c=r[i]=[],s=0;s<a;++s)(o=u[s])&&t.call(o,o.__data__,s,u)&&c.push(o);return new qn(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),u=new Array(r),a=0;a<o;++a)for(var c,s=n[a],f=e[a],l=s.length,h=u[a]=new Array(l),p=0;p<l;++p)(c=s[p]||f[p])&&(h[p]=c);for(;a<r;++a)u[a]=n[a];return new qn(u,this._parents,this._name,this._id)},selection:function(){return new kl(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=Un(),r=this._groups,i=r.length,o=0;o<i;++o)for(var u,a=r[o],c=a.length,s=0;s<c;++s)if(u=a[s]){var f=zn(u,n);En(u,t,e,s,a,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new qn(r,this._parents,t,e)},call:El.call,nodes:El.nodes,node:El.node,size:El.size,empty:El.empty,each:El.each,on:function(t,n){var e=this._id;return arguments.length<2?zn(this.node(),e).on.on(t):this.each(function(t,n,e){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t})}(n)?An:Cn;return function(){var u=o(this,t),a=u.on;a!==r&&(i=(r=a).copy()).on(n,e),u.on=i}}(e,t,n))},attr:function(t,n){var e=E(t),r="transform"===e?Qf:Ln;return this.attrTween(t,"function"==typeof n?(e.local?function(t,n,e){var r,i,o;return function(){var u,a=e(this);if(null!=a)return(u=this.getAttributeNS(t.space,t.local))===a?null:u===r&&a===i?o:o=n(r=u,i=a);this.removeAttributeNS(t.space,t.local)}}:function(t,n,e){var r,i,o;return function(){var u,a=e(this);if(null!=a)return(u=this.getAttribute(t))===a?null:u===r&&a===i?o:o=n(r=u,i=a);this.removeAttribute(t)}})(e,r,Rn(this,"attr."+t,n)):null==n?(e.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(e):(e.local?function(t,n,e){var r,i;return function(){var o=this.getAttributeNS(t.space,t.local);return o===e?null:o===r?i:i=n(r=o,e)}}:function(t,n,e){var r,i;return function(){var o=this.getAttribute(t);return o===e?null:o===r?i:i=n(r=o,e)}})(e,r,n+""))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=E(t);return this.tween(e,(r.local?function(t,n){function e(){var e=this,r=n.apply(e,arguments);return r&&function(n){e.setAttributeNS(t.space,t.local,r(n))}}return e._value=n,e}:function(t,n){function e(){var e=this,r=n.apply(e,arguments);return r&&function(n){e.setAttribute(t,r(n))}}return e._value=n,e})(r,n))},style:function(t,n,e){var r="transform"==(t+="")?Gf:Ln;return null==n?this.styleTween(t,function(t,n){var e,r,i;return function(){var o=I(this,t),u=(this.style.removeProperty(t),I(this,t));return o===u?null:o===e&&u===r?i:i=n(e=o,r=u)}}(t,r)).on("end.style."+t,function(t){return function(){this.style.removeProperty(t)}}(t)):this.styleTween(t,"function"==typeof n?function(t,n,e){var r,i,o;return function(){var u=I(this,t),a=e(this);return null==a&&(this.style.removeProperty(t),a=I(this,t)),u===a?null:u===r&&a===i?o:o=n(r=u,i=a)}}(t,r,Rn(this,"style."+t,n)):function(t,n,e){var r,i;return function(){var o=I(this,t);return o===e?null:o===r?i:i=n(r=o,e)}}(t,r,n+""),e)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,function(t,n,e){function r(){var r=this,i=n.apply(r,arguments);return i&&function(n){r.style.setProperty(t,i(n),e)}}return r._value=n,r}(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(Rn(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},remove:function(){return this.on("end.remove",function(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}(this._id))},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=zn(this.node(),e).tween,o=0,u=i.length;o<u;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==n?function(t,n){var e,r;return function(){var i=Cn(this,t),o=i.tween;if(o!==e)for(var u=0,a=(r=e=o).length;u<a;++u)if(r[u].name===n){(r=r.slice()).splice(u,1);break}i.tween=r}}:function(t,n,e){var r,i;if("function"!=typeof e)throw new Error;return function(){var o=Cn(this,t),u=o.tween;if(u!==r){i=(r=u).slice();for(var a={name:n,value:e},c=0,s=i.length;c<s;++c)if(i[c].name===n){i[c]=a;break}c===s&&i.push(a)}o.tween=i}})(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?function(t,n){return function(){An(this,t).delay=+n.apply(this,arguments)}}:function(t,n){return n=+n,function(){An(this,t).delay=n}})(n,t)):zn(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?function(t,n){return function(){Cn(this,t).duration=+n.apply(this,arguments)}}:function(t,n){return n=+n,function(){Cn(this,t).duration=n}})(n,t)):zn(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(function(t,n){if("function"!=typeof n)throw new Error;return function(){Cn(this,t).ease=n}}(n,t)):zn(this.node(),n).ease}};var Al=function t(n){function e(t){return Math.pow(t,n)}return n=+n,e.exponent=t,e}(3),Cl=function t(n){function e(t){return 1-Math.pow(1-t,n)}return n=+n,e.exponent=t,e}(3),zl=function t(n){function e(t){return((t*=2)<=1?Math.pow(t,n):2-Math.pow(2-t,n))/2}return n=+n,e.exponent=t,e}(3),Pl=Math.PI,Rl=Pl/2,Ll=4/11,ql=6/11,Dl=8/11,Ul=.75,Ol=9/11,Fl=10/11,Il=.9375,Yl=21/22,Bl=63/64,Hl=1/Ll/Ll,jl=function t(n){function e(t){return t*t*((n+1)*t-n)}return n=+n,e.overshoot=t,e}(1.70158),Xl=function t(n){function e(t){return--t*t*((n+1)*t+n)+1}return n=+n,e.overshoot=t,e}(1.70158),Vl=function t(n){function e(t){return((t*=2)<1?t*t*((n+1)*t-n):(t-=2)*t*((n+1)*t+n)+2)/2}return n=+n,e.overshoot=t,e}(1.70158),$l=2*Math.PI,Wl=function t(n,e){function r(t){return n*Math.pow(2,10*--t)*Math.sin((i-t)/e)}var i=Math.asin(1/(n=Math.max(1,n)))*(e/=$l);return r.amplitude=function(n){return t(n,e*$l)},r.period=function(e){return t(n,e)},r}(1,.3),Zl=function t(n,e){function r(t){return 1-n*Math.pow(2,-10*(t=+t))*Math.sin((t+i)/e)}var i=Math.asin(1/(n=Math.max(1,n)))*(e/=$l);return r.amplitude=function(n){return t(n,e*$l)},r.period=function(e){return t(n,e)},r}(1,.3),Gl=function t(n,e){function r(t){return((t=2*t-1)<0?n*Math.pow(2,10*t)*Math.sin((i-t)/e):2-n*Math.pow(2,-10*t)*Math.sin((i+t)/e))/2}var i=Math.asin(1/(n=Math.max(1,n)))*(e/=$l);return r.amplitude=function(n){return t(n,e*$l)},r.period=function(e){return t(n,e)},r}(1,.3),Ql={time:null,delay:0,duration:250,ease:Fn};at.prototype.interrupt=function(t){return this.each(function(){Pn(this,t)})},at.prototype.transition=function(t){var n,e;t instanceof qn?(n=t._id,t=t._name):(n=Un(),(e=Ql).time=mn(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var u,a=r[o],c=a.length,s=0;s<c;++s)(u=a[s])&&En(u,t,n,s,a,e||jn(u,n));return new qn(r,this._parents,t,n)};var Jl=[null],Kl={name:"drag"},th={name:"space"},nh={name:"handle"},eh={name:"center"},rh={name:"x",handles:["e","w"].map(Wn),input:function(t,n){return t&&[[t[0],n[0][1]],[t[1],n[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},ih={name:"y",handles:["n","s"].map(Wn),input:function(t,n){return t&&[[n[0][0],t[0]],[n[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},oh={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(Wn),input:function(t){return t},output:function(t){return t}},uh={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},ah={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},ch={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},sh={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},fh={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1},lh=Math.cos,hh=Math.sin,ph=Math.PI,dh=ph/2,vh=2*ph,gh=Math.max,_h=Array.prototype.slice,yh=Math.PI,mh=2*yh,xh=mh-1e-6;ne.prototype=ee.prototype={constructor:ne,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,i,o){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,n,e,r,i){t=+t,n=+n,e=+e,r=+r,i=+i;var o=this._x1,u=this._y1,a=e-t,c=r-n,s=o-t,f=u-n,l=s*s+f*f;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(l>1e-6)if(Math.abs(f*a-c*s)>1e-6&&i){var h=e-o,p=r-u,d=a*a+c*c,v=h*h+p*p,g=Math.sqrt(d),_=Math.sqrt(l),y=i*Math.tan((yh-Math.acos((d+l-v)/(2*g*_)))/2),m=y/_,x=y/g;Math.abs(m-1)>1e-6&&(this._+="L"+(t+m*s)+","+(n+m*f)),this._+="A"+i+","+i+",0,0,"+ +(f*h>s*p)+","+(this._x1=t+x*a)+","+(this._y1=n+x*c)}else this._+="L"+(this._x1=t)+","+(this._y1=n);else;},arc:function(t,n,e,r,i,o){t=+t,n=+n;var u=(e=+e)*Math.cos(r),a=e*Math.sin(r),c=t+u,s=n+a,f=1^o,l=o?r-i:i-r;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+c+","+s:(Math.abs(this._x1-c)>1e-6||Math.abs(this._y1-s)>1e-6)&&(this._+="L"+c+","+s),e&&(l<0&&(l=l%mh+mh),l>xh?this._+="A"+e+","+e+",0,1,"+f+","+(t-u)+","+(n-a)+"A"+e+","+e+",0,1,"+f+","+(this._x1=c)+","+(this._y1=s):l>1e-6&&(this._+="A"+e+","+e+",0,"+ +(l>=yh)+","+f+","+(this._x1=t+e*Math.cos(i))+","+(this._y1=n+e*Math.sin(i))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};ce.prototype=se.prototype={constructor:ce,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,n){return this["$"+t]=n,this},remove:function(t){var n="$"+t;return n in this&&delete this[n]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)"$"===n[0]&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)"$"===n[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var n in this)"$"===n[0]&&t(this[n],n.slice(1),this)}};var bh=se.prototype;de.prototype=ve.prototype={constructor:de,has:bh.has,add:function(t){return t+="",this["$"+t]=t,this},remove:bh.remove,clear:bh.clear,values:bh.keys,size:bh.size,empty:bh.empty,each:bh.each};var wh={},Mh={},Th=34,Nh=10,kh=13,Sh=_e(","),Eh=Sh.parse,Ah=Sh.parseRows,Ch=Sh.format,zh=Sh.formatRows,Ph=_e("\t"),Rh=Ph.parse,Lh=Ph.parseRows,qh=Ph.format,Dh=Ph.formatRows,Uh=Te.prototype=Ne.prototype;Uh.copy=function(){var t,n,e=new Ne(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return e;if(!r.length)return e._root=ke(r),e;for(t=[{source:r,target:e._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(n=r.source[i])&&(n.length?t.push({source:n,target:r.target[i]=new Array(4)}):r.target[i]=ke(n));return e},Uh.add=function(t){var n=+this._x.call(null,t),e=+this._y.call(null,t);return xe(this.cover(n,e),n,e,t)},Uh.addAll=function(t){var n,e,r,i,o=t.length,u=new Array(o),a=new Array(o),c=1/0,s=1/0,f=-1/0,l=-1/0;for(e=0;e<o;++e)isNaN(r=+this._x.call(null,n=t[e]))||isNaN(i=+this._y.call(null,n))||(u[e]=r,a[e]=i,r<c&&(c=r),r>f&&(f=r),i<s&&(s=i),i>l&&(l=i));for(f<c&&(c=this._x0,f=this._x1),l<s&&(s=this._y0,l=this._y1),this.cover(c,s).cover(f,l),e=0;e<o;++e)xe(this,u[e],a[e],t[e]);return this},Uh.cover=function(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(e))i=(e=Math.floor(t))+1,o=(r=Math.floor(n))+1;else{if(!(e>t||t>i||r>n||n>o))return this;var u,a,c=i-e,s=this._root;switch(a=(n<(r+o)/2)<<1|t<(e+i)/2){case 0:do{u=new Array(4),u[a]=s,s=u}while(c*=2,i=e+c,o=r+c,t>i||n>o);break;case 1:do{u=new Array(4),u[a]=s,s=u}while(c*=2,e=i-c,o=r+c,e>t||n>o);break;case 2:do{u=new Array(4),u[a]=s,s=u}while(c*=2,i=e+c,r=o-c,t>i||r>n);break;case 3:do{u=new Array(4),u[a]=s,s=u}while(c*=2,e=i-c,r=o-c,e>t||r>n)}this._root&&this._root.length&&(this._root=s)}return this._x0=e,this._y0=r,this._x1=i,this._y1=o,this},Uh.data=function(){var t=[];return this.visit(function(n){if(!n.length)do{t.push(n.data)}while(n=n.next)}),t},Uh.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Uh.find=function(t,n,e){var r,i,o,u,a,c,s,f=this._x0,l=this._y0,h=this._x1,p=this._y1,d=[],v=this._root;for(v&&d.push(new be(v,f,l,h,p)),null==e?e=1/0:(f=t-e,l=n-e,h=t+e,p=n+e,e*=e);c=d.pop();)if(!(!(v=c.node)||(i=c.x0)>h||(o=c.y0)>p||(u=c.x1)<f||(a=c.y1)<l))if(v.length){var g=(i+u)/2,_=(o+a)/2;d.push(new be(v[3],g,_,u,a),new be(v[2],i,_,g,a),new be(v[1],g,o,u,_),new be(v[0],i,o,g,_)),(s=(n>=_)<<1|t>=g)&&(c=d[d.length-1],d[d.length-1]=d[d.length-1-s],d[d.length-1-s]=c)}else{var y=t-+this._x.call(null,v.data),m=n-+this._y.call(null,v.data),x=y*y+m*m;if(x<e){var b=Math.sqrt(e=x);f=t-b,l=n-b,h=t+b,p=n+b,r=v.data}}return r},Uh.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(u=+this._y.call(null,t)))return this;var n,e,r,i,o,u,a,c,s,f,l,h,p=this._root,d=this._x0,v=this._y0,g=this._x1,_=this._y1;if(!p)return this;if(p.length)for(;;){if((s=o>=(a=(d+g)/2))?d=a:g=a,(f=u>=(c=(v+_)/2))?v=c:_=c,n=p,!(p=p[l=f<<1|s]))return this;if(!p.length)break;(n[l+1&3]||n[l+2&3]||n[l+3&3])&&(e=n,h=l)}for(;p.data!==t;)if(r=p,!(p=p.next))return this;return(i=p.next)&&delete p.next,r?(i?r.next=i:delete r.next,this):n?(i?n[l]=i:delete n[l],(p=n[0]||n[1]||n[2]||n[3])&&p===(n[3]||n[2]||n[1]||n[0])&&!p.length&&(e?e[h]=p:this._root=p),this):(this._root=i,this)},Uh.removeAll=function(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this},Uh.root=function(){return this._root},Uh.size=function(){var t=0;return this.visit(function(n){if(!n.length)do{++t}while(n=n.next)}),t},Uh.visit=function(t){var n,e,r,i,o,u,a=[],c=this._root;for(c&&a.push(new be(c,this._x0,this._y0,this._x1,this._y1));n=a.pop();)if(!t(c=n.node,r=n.x0,i=n.y0,o=n.x1,u=n.y1)&&c.length){var s=(r+o)/2,f=(i+u)/2;(e=c[3])&&a.push(new be(e,s,f,o,u)),(e=c[2])&&a.push(new be(e,r,f,s,u)),(e=c[1])&&a.push(new be(e,s,i,o,f)),(e=c[0])&&a.push(new be(e,r,i,s,f))}return this},Uh.visitAfter=function(t){var n,e=[],r=[];for(this._root&&e.push(new be(this._root,this._x0,this._y0,this._x1,this._y1));n=e.pop();){var i=n.node;if(i.length){var o,u=n.x0,a=n.y0,c=n.x1,s=n.y1,f=(u+c)/2,l=(a+s)/2;(o=i[0])&&e.push(new be(o,u,a,f,l)),(o=i[1])&&e.push(new be(o,f,a,c,l)),(o=i[2])&&e.push(new be(o,u,l,f,s)),(o=i[3])&&e.push(new be(o,f,l,c,s))}r.push(n)}for(;n=r.pop();)t(n.node,n.x0,n.y0,n.x1,n.y1);return this},Uh.x=function(t){return arguments.length?(this._x=t,this):this._x},Uh.y=function(t){return arguments.length?(this._y=t,this):this._y};var Oh,Fh=10,Ih=Math.PI*(3-Math.sqrt(5)),Yh={"":function(t,n){t:for(var e,r=(t=t.toPrecision(n)).length,i=1,o=-1;i<r;++i)switch(t[i]){case".":o=e=i;break;case"0":0===o&&(o=i),e=i;break;case"e":break t;default:o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(e+1):t},"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return qe(100*t,n)},r:qe,s:function(t,n){var e=Re(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(Oh=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,u=r.length;return o===u?r:o>u?r+new Array(o-u+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Re(t,Math.max(0,n+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},Bh=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;De.prototype=Ue.prototype,Ue.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var Hh,jh=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];Ie({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),Xe.prototype={constructor:Xe,reset:function(){this.s=this.t=0},add:function(t){Ve(wp,t,this.t),Ve(this,wp.s,this.s),this.s?this.t+=wp.t:this.s=wp.t},valueOf:function(){return this.s}};var Xh,Vh,$h,Wh,Zh,Gh,Qh,Jh,Kh,tp,np,ep,rp,ip,op,up,ap,cp,sp,fp,lp,hp,pp,dp,vp,gp,_p,yp,mp,xp,bp,wp=new Xe,Mp=1e-6,Tp=1e-12,Np=Math.PI,kp=Np/2,Sp=Np/4,Ep=2*Np,Ap=180/Np,Cp=Np/180,zp=Math.abs,Pp=Math.atan,Rp=Math.atan2,Lp=Math.cos,qp=Math.ceil,Dp=Math.exp,Up=Math.log,Op=Math.pow,Fp=Math.sin,Ip=Math.sign||function(t){return t>0?1:t<0?-1:0},Yp=Math.sqrt,Bp=Math.tan,Hp={Feature:function(t,n){Qe(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)Qe(e[r].geometry,n)}},jp={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){Je(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Je(e[r],n,0)},Polygon:function(t,n){Ke(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Ke(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)Qe(e[r],n)}},Xp=je(),Vp=je(),$p={point:Ge,lineStart:Ge,lineEnd:Ge,polygonStart:function(){Xp.reset(),$p.lineStart=nr,$p.lineEnd=er},polygonEnd:function(){var t=+Xp;Vp.add(t<0?Ep+t:t),this.lineStart=this.lineEnd=this.point=Ge},sphere:function(){Vp.add(Ep)}},Wp=je(),Zp={point:hr,lineStart:dr,lineEnd:vr,polygonStart:function(){Zp.point=gr,Zp.lineStart=_r,Zp.lineEnd=yr,Wp.reset(),$p.polygonStart()},polygonEnd:function(){$p.polygonEnd(),Zp.point=hr,Zp.lineStart=dr,Zp.lineEnd=vr,Xp<0?(Gh=-(Jh=180),Qh=-(Kh=90)):Wp>Mp?Kh=90:Wp<-Mp&&(Qh=-90),op[0]=Gh,op[1]=Jh}},Gp={sphere:Ge,point:wr,lineStart:Tr,lineEnd:Sr,polygonStart:function(){Gp.lineStart=Er,Gp.lineEnd=Ar},polygonEnd:function(){Gp.lineStart=Tr,Gp.lineEnd=Sr}};Lr.invert=Lr;var Qp,Jp,Kp,td,nd,ed,rd,id,od,ud,ad,cd=je(),sd=Wr(function(){return!0},function(t){var n,e=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(o,u){var a=o>0?Np:-Np,c=zp(o-e);zp(c-Np)<Mp?(t.point(e,r=(r+u)/2>0?kp:-kp),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),t.point(o,r),n=0):i!==a&&c>=Np&&(zp(e-i)<Mp&&(e-=i*Mp),zp(o-a)<Mp&&(o-=a*Mp),r=function(t,n,e,r){var i,o,u=Fp(t-e);return zp(u)>Mp?Pp((Fp(n)*(o=Lp(r))*Fp(e)-Fp(r)*(i=Lp(n))*Fp(t))/(i*o*u)):(n+r)/2}(e,r,o,u),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),n=0),t.point(e=o,r=u),i=a},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-n}}},function(t,n,e,r){var i;if(null==t)i=e*kp,r.point(-Np,i),r.point(0,i),r.point(Np,i),r.point(Np,0),r.point(Np,-i),r.point(0,-i),r.point(-Np,-i),r.point(-Np,0),r.point(-Np,i);else if(zp(t[0]-n[0])>Mp){var o=t[0]<n[0]?Np:-Np;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(n[0],n[1])},[-Np,-kp]),fd=1e9,ld=-fd,hd=je(),pd={sphere:Ge,point:Ge,lineStart:function(){pd.point=ti,pd.lineEnd=Kr},lineEnd:Ge,polygonStart:Ge,polygonEnd:Ge},dd=[null,null],vd={type:"LineString",coordinates:dd},gd={Feature:function(t,n){return ii(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)if(ii(e[r].geometry,n))return!0;return!1}},_d={Sphere:function(){return!0},Point:function(t,n){return oi(t.coordinates,n)},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(oi(e[r],n))return!0;return!1},LineString:function(t,n){return ui(t.coordinates,n)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(ui(e[r],n))return!0;return!1},Polygon:function(t,n){return ai(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(ai(e[r],n))return!0;return!1},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)if(ii(e[r],n))return!0;return!1}},yd=je(),md=je(),xd={point:Ge,lineStart:Ge,lineEnd:Ge,polygonStart:function(){xd.lineStart=di,xd.lineEnd=_i},polygonEnd:function(){xd.lineStart=xd.lineEnd=xd.point=Ge,yd.add(zp(md)),md.reset()},result:function(){var t=yd/2;return yd.reset(),t}},bd=1/0,wd=bd,Md=-bd,Td=Md,Nd={point:function(t,n){t<bd&&(bd=t),t>Md&&(Md=t),n<wd&&(wd=n),n>Td&&(Td=n)},lineStart:Ge,lineEnd:Ge,polygonStart:Ge,polygonEnd:Ge,result:function(){var t=[[bd,wd],[Md,Td]];return Md=Td=-(wd=bd=1/0),t}},kd=0,Sd=0,Ed=0,Ad=0,Cd=0,zd=0,Pd=0,Rd=0,Ld=0,qd={point:yi,lineStart:mi,lineEnd:wi,polygonStart:function(){qd.lineStart=Mi,qd.lineEnd=Ti},polygonEnd:function(){qd.point=yi,qd.lineStart=mi,qd.lineEnd=wi},result:function(){var t=Ld?[Pd/Ld,Rd/Ld]:zd?[Ad/zd,Cd/zd]:Ed?[kd/Ed,Sd/Ed]:[NaN,NaN];return kd=Sd=Ed=Ad=Cd=zd=Pd=Rd=Ld=0,t}};Si.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,Ep)}},result:Ge};var Dd,Ud,Od,Fd,Id,Yd=je(),Bd={point:Ge,lineStart:function(){Bd.point=Ei},lineEnd:function(){Dd&&Ai(Ud,Od),Bd.point=Ge},polygonStart:function(){Dd=!0},polygonEnd:function(){Dd=null},result:function(){var t=+Yd;return Yd.reset(),t}};Ci.prototype={_radius:4.5,_circle:zi(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._string.push("M",t,",",n),this._point=1;break;case 1:this._string.push("L",t,",",n);break;default:null==this._circle&&(this._circle=zi(this._radius)),this._string.push("M",t,",",n,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},Ri.prototype={constructor:Ri,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Hd=16,jd=Lp(30*Cp),Xd=Pi({point:function(t,n){this.stream.point(t*Cp,n*Cp)}}),Vd=Vi(function(t){return Yp(2/(1+t))});Vd.invert=$i(function(t){return 2*We(t/2)});var $d=Vi(function(t){return(t=$e(t))&&t/Fp(t)});$d.invert=$i(function(t){return t}),Wi.invert=function(t,n){return[t,2*Pp(Dp(n))-kp]},Ji.invert=Ji,to.invert=$i(Pp),eo.invert=function(t,n){var e,r=n,i=25;do{var o=r*r,u=o*o;r-=e=(r*(1.007226+o*(.015085+u*(.028874*o-.044475-.005916*u)))-n)/(1.007226+o*(.045255+u*(.259866*o-.311325-.005916*11*u)))}while(zp(e)>Mp&&--i>0);return[t/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]},ro.invert=$i(We),io.invert=$i(function(t){return 2*Pp(t)}),oo.invert=function(t,n){return[-n,2*Pp(Dp(t))-kp]},vo.prototype=fo.prototype={constructor:vo,count:function(){return this.eachAfter(so)},each:function(t){var n,e,r,i,o=this,u=[o];do{for(n=u.reverse(),u=[];o=n.pop();)if(t(o),e=o.children)for(r=0,i=e.length;r<i;++r)u.push(e[r])}while(u.length);return this},eachAfter:function(t){for(var n,e,r,i=this,o=[i],u=[];i=o.pop();)if(u.push(i),n=i.children)for(e=0,r=n.length;e<r;++e)o.push(n[e]);for(;i=u.pop();)t(i);return this},eachBefore:function(t){for(var n,e,r=this,i=[r];r=i.pop();)if(t(r),n=r.children)for(e=n.length-1;e>=0;--e)i.push(n[e]);return this},sum:function(t){return this.eachAfter(function(n){for(var e=+t(n.data)||0,r=n.children,i=r&&r.length;--i>=0;)e+=r[i].value;n.value=e})},sort:function(t){return this.eachBefore(function(n){n.children&&n.children.sort(t)})},path:function(t){for(var n=this,e=function(t,n){if(t===n)return t;var e=t.ancestors(),r=n.ancestors(),i=null;for(t=e.pop(),n=r.pop();t===n;)i=t,t=e.pop(),n=r.pop();return i}(n,t),r=[n];n!==e;)n=n.parent,r.push(n);for(var i=r.length;t!==e;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,n=[t];t=t.parent;)n.push(t);return n},descendants:function(){var t=[];return this.each(function(n){t.push(n)}),t},leaves:function(){var t=[];return this.eachBefore(function(n){n.children||t.push(n)}),t},links:function(){var t=this,n=[];return t.each(function(e){e!==t&&n.push({source:e.parent,target:e})}),n},copy:function(){return fo(this).eachBefore(ho)}};var Wd=Array.prototype.slice,Zd="$",Gd={depth:-1},Qd={};Ho.prototype=Object.create(vo.prototype);var Jd=(1+Math.sqrt(5))/2,Kd=function t(n){function e(t,e,r,i,o){Xo(n,t,e,r,i,o)}return e.ratio=function(n){return t((n=+n)>1?n:1)},e}(Jd),tv=function t(n){function e(t,e,r,i,o){if((u=t._squarify)&&u.ratio===n)for(var u,a,c,s,f,l=-1,h=u.length,p=t.value;++l<h;){for(c=(a=u[l]).children,s=a.value=0,f=c.length;s<f;++s)a.value+=c[s].value;a.dice?qo(a,e,r,i,r+=(o-r)*a.value/p):jo(a,e,r,e+=(i-e)*a.value/p,o),p-=a.value}else t._squarify=u=Xo(n,t,e,r,i,o),u.ratio=n}return e.ratio=function(n){return t((n=+n)>1?n:1)},e}(Jd),nv=[].slice,ev={};Zo.prototype=Ko.prototype={constructor:Zo,defer:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("defer after await");if(null!=this._error)return this;var n=nv.call(arguments,1);return n.push(t),++this._waiting,this._tasks.push(n),Go(this),this},abort:function(){return null==this._error&&Qo(this,new Error("abort")),this},await:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=function(n,e){t.apply(null,[n].concat(e))},Jo(this),this},awaitAll:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=t,Jo(this),this}};var rv=function t(n){function e(t,e){return t=null==t?0:+t,e=null==e?1:+e,1===arguments.length?(e=t,t=0):e-=t,function(){return n()*e+t}}return e.source=t,e}(tu),iv=function t(n){function e(t,e){var r,i;return t=null==t?0:+t,e=null==e?1:+e,function(){var o;if(null!=r)o=r,r=null;else do{r=2*n()-1,o=2*n()-1,i=r*r+o*o}while(!i||i>1);return t+e*o*Math.sqrt(-2*Math.log(i)/i)}}return e.source=t,e}(tu),ov=function t(n){function e(){var t=iv.source(n).apply(this,arguments);return function(){return Math.exp(t())}}return e.source=t,e}(tu),uv=function t(n){function e(t){return function(){for(var e=0,r=0;r<t;++r)e+=n();return e}}return e.source=t,e}(tu),av=function t(n){function e(t){var e=uv.source(n)(t);return function(){return e()/t}}return e.source=t,e}(tu),cv=function t(n){function e(t){return function(){return-Math.log(1-n())/t}}return e.source=t,e}(tu),sv=eu("text/html",function(t){return document.createRange().createContextualFragment(t.responseText)}),fv=eu("application/json",function(t){return JSON.parse(t.responseText)}),lv=eu("text/plain",function(t){return t.responseText}),hv=eu("application/xml",function(t){var n=t.responseXML;if(!n)throw new Error("parse error");return n}),pv=ru("text/csv",Eh),dv=ru("text/tab-separated-values",Rh),vv=Array.prototype,gv=vv.map,_v=vv.slice,yv={name:"implicit"},mv=[0,1],xv=new Date,bv=new Date,wv=Cu(function(){},function(t,n){t.setTime(+t+n)},function(t,n){return n-t});wv.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Cu(function(n){n.setTime(Math.floor(n/t)*t)},function(n,e){n.setTime(+n+e*t)},function(n,e){return(e-n)/t}):wv:null};var Mv=wv.range,Tv=6e4,Nv=6048e5,kv=Cu(function(t){t.setTime(1e3*Math.floor(t/1e3))},function(t,n){t.setTime(+t+1e3*n)},function(t,n){return(n-t)/1e3},function(t){return t.getUTCSeconds()}),Sv=kv.range,Ev=Cu(function(t){t.setTime(Math.floor(t/Tv)*Tv)},function(t,n){t.setTime(+t+n*Tv)},function(t,n){return(n-t)/Tv},function(t){return t.getMinutes()}),Av=Ev.range,Cv=Cu(function(t){var n=t.getTimezoneOffset()*Tv%36e5;n<0&&(n+=36e5),t.setTime(36e5*Math.floor((+t-n)/36e5)+n)},function(t,n){t.setTime(+t+36e5*n)},function(t,n){return(n-t)/36e5},function(t){return t.getHours()}),zv=Cv.range,Pv=Cu(function(t){t.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+n)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Tv)/864e5},function(t){return t.getDate()-1}),Rv=Pv.range,Lv=zu(0),qv=zu(1),Dv=zu(2),Uv=zu(3),Ov=zu(4),Fv=zu(5),Iv=zu(6),Yv=Lv.range,Bv=qv.range,Hv=Dv.range,jv=Uv.range,Xv=Ov.range,Vv=Fv.range,$v=Iv.range,Wv=Cu(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,n){t.setMonth(t.getMonth()+n)},function(t,n){return n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),Zv=Wv.range,Gv=Cu(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n)},function(t,n){return n.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});Gv.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Cu(function(n){n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,e){n.setFullYear(n.getFullYear()+e*t)}):null};var Qv=Gv.range,Jv=Cu(function(t){t.setUTCSeconds(0,0)},function(t,n){t.setTime(+t+n*Tv)},function(t,n){return(n-t)/Tv},function(t){return t.getUTCMinutes()}),Kv=Jv.range,tg=Cu(function(t){t.setUTCMinutes(0,0,0)},function(t,n){t.setTime(+t+36e5*n)},function(t,n){return(n-t)/36e5},function(t){return t.getUTCHours()}),ng=tg.range,eg=Cu(function(t){t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+n)},function(t,n){return(n-t)/864e5},function(t){return t.getUTCDate()-1}),rg=eg.range,ig=Pu(0),og=Pu(1),ug=Pu(2),ag=Pu(3),cg=Pu(4),sg=Pu(5),fg=Pu(6),lg=ig.range,hg=og.range,pg=ug.range,dg=ag.range,vg=cg.range,gg=sg.range,_g=fg.range,yg=Cu(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCMonth(t.getUTCMonth()+n)},function(t,n){return n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),mg=yg.range,xg=Cu(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)},function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});xg.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Cu(function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,e){n.setUTCFullYear(n.getUTCFullYear()+e*t)}):null};var bg,wg=xg.range,Mg={"-":"",_:" ",0:"0"},Tg=/^\s*\d+/,Ng=/^%/,kg=/[\\^$*+?|[\]().{}]/g;Ha({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Sg="%Y-%m-%dT%H:%M:%S.%LZ",Eg=Date.prototype.toISOString?function(t){return t.toISOString()}:t.utcFormat(Sg),Ag=+new Date("2000-01-01T00:00:00.000Z")?function(t){var n=new Date(t);return isNaN(n)?null:n}:t.utcParse(Sg),Cg=1e3,zg=60*Cg,Pg=60*zg,Rg=24*Pg,Lg=7*Rg,qg=30*Rg,Dg=365*Rg,Ug=$a("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Og=$a("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),Fg=$a("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),Ig=$a("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),Yg=al($t(300,.5,0),$t(-240,.5,1)),Bg=al($t(-100,.75,.35),$t(80,1.5,.8)),Hg=al($t(260,.75,.35),$t(80,1.5,.8)),jg=$t(),Xg=Wa($a("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Vg=Wa($a("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),$g=Wa($a("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Wg=Wa($a("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),Zg=Math.abs,Gg=Math.atan2,Qg=Math.cos,Jg=Math.max,Kg=Math.min,t_=Math.sin,n_=Math.sqrt,e_=1e-12,r_=Math.PI,i_=r_/2,o_=2*r_;ic.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}};var u_=pc(oc);hc.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,n){this._curve.point(n*Math.sin(t),n*-Math.cos(t))}};var a_=Array.prototype.slice,c_={draw:function(t,n){var e=Math.sqrt(n/r_);t.moveTo(e,0),t.arc(0,0,e,0,o_)}},s_={draw:function(t,n){var e=Math.sqrt(n/5)/2;t.moveTo(-3*e,-e),t.lineTo(-e,-e),t.lineTo(-e,-3*e),t.lineTo(e,-3*e),t.lineTo(e,-e),t.lineTo(3*e,-e),t.lineTo(3*e,e),t.lineTo(e,e),t.lineTo(e,3*e),t.lineTo(-e,3*e),t.lineTo(-e,e),t.lineTo(-3*e,e),t.closePath()}},f_=Math.sqrt(1/3),l_=2*f_,h_={draw:function(t,n){var e=Math.sqrt(n/l_),r=e*f_;t.moveTo(0,-e),t.lineTo(r,0),t.lineTo(0,e),t.lineTo(-r,0),t.closePath()}},p_=Math.sin(r_/10)/Math.sin(7*r_/10),d_=Math.sin(o_/10)*p_,v_=-Math.cos(o_/10)*p_,g_={draw:function(t,n){var e=Math.sqrt(.8908130915292852*n),r=d_*e,i=v_*e;t.moveTo(0,-e),t.lineTo(r,i);for(var o=1;o<5;++o){var u=o_*o/5,a=Math.cos(u),c=Math.sin(u);t.lineTo(c*e,-a*e),t.lineTo(a*r-c*i,c*r+a*i)}t.closePath()}},__={draw:function(t,n){var e=Math.sqrt(n),r=-e/2;t.rect(r,r,e,e)}},y_=Math.sqrt(3),m_={draw:function(t,n){var e=-Math.sqrt(n/(3*y_));t.moveTo(0,2*e),t.lineTo(-y_*e,-e),t.lineTo(y_*e,-e),t.closePath()}},x_=Math.sqrt(3)/2,b_=1/Math.sqrt(12),w_=3*(b_/2+1),M_={draw:function(t,n){var e=Math.sqrt(n/w_),r=e/2,i=e*b_,o=r,u=e*b_+e,a=-o,c=u;t.moveTo(r,i),t.lineTo(o,u),t.lineTo(a,c),t.lineTo(-.5*r-x_*i,x_*r+-.5*i),t.lineTo(-.5*o-x_*u,x_*o+-.5*u),t.lineTo(-.5*a-x_*c,x_*a+-.5*c),t.lineTo(-.5*r+x_*i,-.5*i-x_*r),t.lineTo(-.5*o+x_*u,-.5*u-x_*o),t.lineTo(-.5*a+x_*c,-.5*c-x_*a),t.closePath()}},T_=[c_,s_,h_,__,g_,m_,M_];kc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Nc(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Nc(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},Sc.prototype={areaStart:Tc,areaEnd:Tc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x2=t,this._y2=n;break;case 1:this._point=2,this._x3=t,this._y3=n;break;case 2:this._point=3,this._x4=t,this._y4=n,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+n)/6);break;default:Nc(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},Ec.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 3:this._point=4;default:Nc(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},Ac.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,e=t.length-1;if(e>0)for(var r,i=t[0],o=n[0],u=t[e]-i,a=n[e]-o,c=-1;++c<=e;)r=c/e,this._basis.point(this._beta*t[c]+(1-this._beta)*(i+r*u),this._beta*n[c]+(1-this._beta)*(o+r*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}};var N_=function t(n){function e(t){return 1===n?new kc(t):new Ac(t,n)}return e.beta=function(n){return t(+n)},e}(.85);zc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Cc(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:Cc(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var k_=function t(n){function e(t){return new zc(t,n)}return e.tension=function(n){return t(+n)},e}(0);Pc.prototype={areaStart:Tc,areaEnd:Tc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:Cc(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var S_=function t(n){function e(t){return new Pc(t,n)}return e.tension=function(n){return t(+n)},e}(0);Rc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Cc(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var E_=function t(n){function e(t){return new Rc(t,n)}return e.tension=function(n){return t(+n)},e}(0);qc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:Lc(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var A_=function t(n){function e(t){return n?new qc(t,n):new zc(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);Dc.prototype={areaStart:Tc,areaEnd:Tc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:Lc(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var C_=function t(n){function e(t){return n?new Dc(t,n):new Pc(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);Uc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Lc(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var z_=function t(n){function e(t){return n?new Uc(t,n):new Rc(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);Oc.prototype={areaStart:Tc,areaEnd:Tc,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,n){t=+t,n=+n,this._point?this._context.lineTo(t,n):(this._point=1,this._context.moveTo(t,n))}},Hc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Bc(this,this._t0,Yc(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(t=+t,n=+n,t!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,Bc(this,Yc(this,e=Ic(this,t,n)),e);break;default:Bc(this,this._t0,e=Ic(this,t,n))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}},(jc.prototype=Object.create(Hc.prototype)).point=function(t,n){Hc.prototype.point.call(this,n,t)},Xc.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,r,i,o){this._context.bezierCurveTo(n,t,r,e,o,i)}},Vc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,n=this._y,e=t.length;if(e)if(this._line?this._context.lineTo(t[0],n[0]):this._context.moveTo(t[0],n[0]),2===e)this._context.lineTo(t[1],n[1]);else for(var r=$c(t),i=$c(n),o=0,u=1;u<e;++o,++u)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[u],n[u]);(this._line||0!==this._line&&1===e)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,n){this._x.push(+t),this._y.push(+n)}},Wc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var e=this._x*(1-this._t)+t*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,n)}}this._x=t,this._y=n}},rs.prototype={constructor:rs,insert:function(t,n){var e,r,i;if(t){if(n.P=t,n.N=t.N,t.N&&(t.N.P=n),t.N=n,t.R){for(t=t.R;t.L;)t=t.L;t.L=n}else t.R=n;e=t}else this._?(t=as(this._),n.P=null,n.N=t,t.P=t.L=n,e=t):(n.P=n.N=null,this._=n,e=null);for(n.L=n.R=null,n.U=e,n.C=!0,t=n;e&&e.C;)e===(r=e.U).L?(i=r.R)&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.R&&(os(this,e),e=(t=e).U),e.C=!1,r.C=!0,us(this,r)):(i=r.L)&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.L&&(us(this,e),e=(t=e).U),e.C=!1,r.C=!0,os(this,r)),e=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var n,e,r,i=t.U,o=t.L,u=t.R;if(e=o?u?as(u):o:u,i?i.L===t?i.L=e:i.R=e:this._=e,o&&u?(r=e.C,e.C=t.C,e.L=o,o.U=e,e!==u?(i=e.U,e.U=t.U,t=e.R,i.L=t,e.R=u,u.U=e):(e.U=i,i=e,t=e.R)):(r=t.C,t=e),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((n=i.R).C&&(n.C=!1,i.C=!0,os(this,i),n=i.R),n.L&&n.L.C||n.R&&n.R.C){n.R&&n.R.C||(n.L.C=!1,n.C=!0,us(this,n),n=i.R),n.C=i.C,i.C=n.R.C=!1,os(this,i),t=this._;break}}else if((n=i.L).C&&(n.C=!1,i.C=!0,us(this,i),n=i.L),n.L&&n.L.C||n.R&&n.R.C){n.L&&n.L.C||(n.R.C=!1,n.C=!0,os(this,n),n=i.L),n.C=i.C,i.C=n.L.C=!1,us(this,i),t=this._;break}n.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var P_,R_,L_,q_,D_,U_=[],O_=[],F_=1e-6,I_=1e-12;Ns.prototype={constructor:Ns,polygons:function(){var t=this.edges;return this.cells.map(function(n){var e=n.halfedges.map(function(e){return ds(n,t[e])});return e.data=n.site.data,e})},triangles:function(){var t=[],n=this.edges;return this.cells.forEach(function(e,r){if(o=(i=e.halfedges).length)for(var i,o,u,a=e.site,c=-1,s=n[i[o-1]],f=s.left===a?s.right:s.left;++c<o;)u=f,f=(s=n[i[c]]).left===a?s.right:s.left,u&&f&&r<u.index&&r<f.index&&Ms(a,u,f)<0&&t.push([a.data,u.data,f.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,n,e){for(var r,i,o=this,u=o._found||0,a=o.cells.length;!(i=o.cells[u]);)if(++u>=a)return null;var c=t-i.site[0],s=n-i.site[1],f=c*c+s*s;do{i=o.cells[r=u],u=null,i.halfedges.forEach(function(e){var r=o.edges[e],a=r.left;if(a!==i.site&&a||(a=r.right)){var c=t-a[0],s=n-a[1],l=c*c+s*s;l<f&&(f=l,u=a.index)}})}while(null!==u);return o._found=r,null==e||f<=e*e?i.site:null}},Ss.prototype={constructor:Ss,scale:function(t){return 1===t?this:new Ss(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new Ss(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Y_=new Ss(1,0,0);Es.prototype=Ss.prototype,t.version="4.13.0",t.bisect=Os,t.bisectRight=Os,t.bisectLeft=Fs,t.ascending=n,t.bisector=e,t.cross=function(t,n,e){var i,o,u,a,c=t.length,s=n.length,f=new Array(c*s);for(null==e&&(e=r),i=u=0;i<c;++i)for(a=t[i],o=0;o<s;++o,++u)f[u]=e(a,n[o]);return f},t.descending=function(t,n){return n<t?-1:n>t?1:n>=t?0:NaN},t.deviation=u,t.extent=a,t.histogram=function(){function t(t){var i,o,u=t.length,a=new Array(u);for(i=0;i<u;++i)a[i]=n(t[i],i,t);var c=e(a),s=c[0],l=c[1],h=r(a,s,l);Array.isArray(h)||(h=p(s,l,h),h=f(Math.ceil(s/h)*h,Math.floor(l/h)*h,h));for(var d=h.length;h[0]<=s;)h.shift(),--d;for(;h[d-1]>l;)h.pop(),--d;var v,g=new Array(d+1);for(i=0;i<=d;++i)(v=g[i]=[]).x0=i>0?h[i-1]:s,v.x1=i<d?h[i]:l;for(i=0;i<u;++i)s<=(o=a[i])&&o<=l&&g[Os(h,o,0,d)].push(t[i]);return g}var n=s,e=a,r=d;return t.value=function(e){return arguments.length?(n="function"==typeof e?e:c(e),t):n},t.domain=function(n){return arguments.length?(e="function"==typeof n?n:c([n[0],n[1]]),t):e},t.thresholds=function(n){return arguments.length?(r="function"==typeof n?n:Array.isArray(n)?c(Ys.call(n)):c(n),t):r},t},t.thresholdFreedmanDiaconis=function(t,e,r){return t=Bs.call(t,i).sort(n),Math.ceil((r-e)/(2*(v(t,.75)-v(t,.25))*Math.pow(t.length,-1/3)))},t.thresholdScott=function(t,n,e){return Math.ceil((e-n)/(3.5*u(t)*Math.pow(t.length,-1/3)))},t.thresholdSturges=d,t.max=function(t,n){var e,r,i=t.length,o=-1;if(null==n){for(;++o<i;)if(null!=(e=t[o])&&e>=e)for(r=e;++o<i;)null!=(e=t[o])&&e>r&&(r=e)}else for(;++o<i;)if(null!=(e=n(t[o],o,t))&&e>=e)for(r=e;++o<i;)null!=(e=n(t[o],o,t))&&e>r&&(r=e);return r},t.mean=function(t,n){var e,r=t.length,o=r,u=-1,a=0;if(null==n)for(;++u<r;)isNaN(e=i(t[u]))?--o:a+=e;else for(;++u<r;)isNaN(e=i(n(t[u],u,t)))?--o:a+=e;if(o)return a/o},t.median=function(t,e){var r,o=t.length,u=-1,a=[];if(null==e)for(;++u<o;)isNaN(r=i(t[u]))||a.push(r);else for(;++u<o;)isNaN(r=i(e(t[u],u,t)))||a.push(r);return v(a.sort(n),.5)},t.merge=g,t.min=_,t.pairs=function(t,n){null==n&&(n=r);for(var e=0,i=t.length-1,o=t[0],u=new Array(i<0?0:i);e<i;)u[e]=n(o,o=t[++e]);return u},t.permute=function(t,n){for(var e=n.length,r=new Array(e);e--;)r[e]=t[n[e]];return r},t.quantile=v,t.range=f,t.scan=function(t,e){if(r=t.length){var r,i,o=0,u=0,a=t[u];for(null==e&&(e=n);++o<r;)(e(i=t[o],a)<0||0!==e(a,a))&&(a=i,u=o);return 0===e(a,a)?u:void 0}},t.shuffle=function(t,n,e){for(var r,i,o=(null==e?t.length:e)-(n=null==n?0:+n);o;)i=Math.random()*o--|0,r=t[o+n],t[o+n]=t[i+n],t[i+n]=r;return t},t.sum=function(t,n){var e,r=t.length,i=-1,o=0;if(null==n)for(;++i<r;)(e=+t[i])&&(o+=e);else for(;++i<r;)(e=+n(t[i],i,t))&&(o+=e);return o},t.ticks=l,t.tickIncrement=h,t.tickStep=p,t.transpose=y,t.variance=o,t.zip=function(){return y(arguments)},t.axisTop=function(t){return T($s,t)},t.axisRight=function(t){return T(Ws,t)},t.axisBottom=function(t){return T(Zs,t)},t.axisLeft=function(t){return T(Gs,t)},t.brush=function(){return Kn(oh)},t.brushX=function(){return Kn(rh)},t.brushY=function(){return Kn(ih)},t.brushSelection=function(t){var n=t.__brush;return n?n.dim.output(n.selection):null},t.chord=function(){function t(t){var o,u,a,c,s,l,h=t.length,p=[],d=f(h),v=[],g=[],_=g.groups=new Array(h),y=new Array(h*h);for(o=0,s=-1;++s<h;){for(u=0,l=-1;++l<h;)u+=t[s][l];p.push(u),v.push(f(h)),o+=u}for(e&&d.sort(function(t,n){return e(p[t],p[n])}),r&&v.forEach(function(n,e){n.sort(function(n,i){return r(t[e][n],t[e][i])})}),c=(o=gh(0,vh-n*h)/o)?n:vh/h,u=0,s=-1;++s<h;){for(a=u,l=-1;++l<h;){var m=d[s],x=v[m][l],b=t[m][x],w=u,M=u+=b*o;y[x*h+m]={index:m,subindex:x,startAngle:w,endAngle:M,value:b}}_[m]={index:m,startAngle:a,endAngle:u,value:p[m]},u+=c}for(s=-1;++s<h;)for(l=s-1;++l<h;){var T=y[l*h+s],N=y[s*h+l];(T.value||N.value)&&g.push(T.value<N.value?{source:N,target:T}:{source:T,target:N})}return i?g.sort(i):g}var n=0,e=null,r=null,i=null;return t.padAngle=function(e){return arguments.length?(n=gh(0,e),t):n},t.sortGroups=function(n){return arguments.length?(e=n,t):e},t.sortSubgroups=function(n){return arguments.length?(r=n,t):r},t.sortChords=function(n){return arguments.length?(null==n?i=null:(i=function(t){return function(n,e){return t(n.source.value+n.target.value,e.source.value+e.target.value)}}(n))._=n,t):i&&i._},t},t.ribbon=function(){function t(){var t,a=_h.call(arguments),c=n.apply(this,a),s=e.apply(this,a),f=+r.apply(this,(a[0]=c,a)),l=i.apply(this,a)-dh,h=o.apply(this,a)-dh,p=f*lh(l),d=f*hh(l),v=+r.apply(this,(a[0]=s,a)),g=i.apply(this,a)-dh,_=o.apply(this,a)-dh;if(u||(u=t=ee()),u.moveTo(p,d),u.arc(0,0,f,l,h),l===g&&h===_||(u.quadraticCurveTo(0,0,v*lh(g),v*hh(g)),u.arc(0,0,v,g,_)),u.quadraticCurveTo(0,0,p,d),u.closePath(),t)return u=null,t+""||null}var n=re,e=ie,r=oe,i=ue,o=ae,u=null;return t.radius=function(n){return arguments.length?(r="function"==typeof n?n:te(+n),t):r},t.startAngle=function(n){return arguments.length?(i="function"==typeof n?n:te(+n),t):i},t.endAngle=function(n){return arguments.length?(o="function"==typeof n?n:te(+n),t):o},t.source=function(e){return arguments.length?(n=e,t):n},t.target=function(n){return arguments.length?(e=n,t):e},t.context=function(n){return arguments.length?(u=null==n?null:n,t):u},t},t.nest=function(){function t(n,i,u,a){if(i>=o.length)return null!=e&&n.sort(e),null!=r?r(n):n;for(var c,s,f,l=-1,h=n.length,p=o[i++],d=se(),v=u();++l<h;)(f=d.get(c=p(s=n[l])+""))?f.push(s):d.set(c,[s]);return d.each(function(n,e){a(v,e,t(n,i,u,a))}),v}function n(t,e){if(++e>o.length)return t;var i,a=u[e-1];return null!=r&&e>=o.length?i=t.entries():(i=[],t.each(function(t,r){i.push({key:r,values:n(t,e)})})),null!=a?i.sort(function(t,n){return a(t.key,n.key)}):i}var e,r,i,o=[],u=[];return i={object:function(n){return t(n,0,fe,le)},map:function(n){return t(n,0,he,pe)},entries:function(e){return n(t(e,0,he,pe),0)},key:function(t){return o.push(t),i},sortKeys:function(t){return u[o.length-1]=t,i},sortValues:function(t){return e=t,i},rollup:function(t){return r=t,i}}},t.set=ve,t.map=se,t.keys=function(t){var n=[];for(var e in t)n.push(e);return n},t.values=function(t){var n=[];for(var e in t)n.push(t[e]);return n},t.entries=function(t){var n=[];for(var e in t)n.push({key:e,value:t[e]});return n},t.color=Et,t.rgb=Pt,t.hsl=qt,t.lab=Ft,t.hcl=Xt,t.cubehelix=$t,t.dispatch=N,t.drag=function(){function n(t){t.on("mousedown.drag",e).filter(g).on("touchstart.drag",o).on("touchmove.drag",u).on("touchend.drag touchcancel.drag",a).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function e(){if(!h&&p.apply(this,arguments)){var n=c("mouse",d.apply(this,arguments),pt,this,arguments);n&&(ct(t.event.view).on("mousemove.drag",r,!0).on("mouseup.drag",i,!0),_t(t.event.view),vt(),l=!1,s=t.event.clientX,f=t.event.clientY,n("start"))}}function r(){if(gt(),!l){var n=t.event.clientX-s,e=t.event.clientY-f;l=n*n+e*e>x}_.mouse("drag")}function i(){ct(t.event.view).on("mousemove.drag mouseup.drag",null),yt(t.event.view,l),gt(),_.mouse("end")}function o(){if(p.apply(this,arguments)){var n,e,r=t.event.changedTouches,i=d.apply(this,arguments),o=r.length;for(n=0;n<o;++n)(e=c(r[n].identifier,i,dt,this,arguments))&&(vt(),e("start"))}}function u(){var n,e,r=t.event.changedTouches,i=r.length;for(n=0;n<i;++n)(e=_[r[n].identifier])&&(gt(),e("drag"))}function a(){var n,e,r=t.event.changedTouches,i=r.length;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),n=0;n<i;++n)(e=_[r[n].identifier])&&(vt(),e("end"))}function c(e,r,i,o,u){var a,c,s,f=i(r,e),l=y.copy();if(it(new xt(n,"beforestart",a,e,m,f[0],f[1],0,0,l),function(){return null!=(t.event.subject=a=v.apply(o,u))&&(c=a.x-f[0]||0,s=a.y-f[1]||0,!0)}))return function t(h){var p,d=f;switch(h){case"start":_[e]=t,p=m++;break;case"end":delete _[e],--m;case"drag":f=i(r,e),p=m}it(new xt(n,h,a,e,p,f[0]+c,f[1]+s,f[0]-d[0],f[1]-d[1],l),l.apply,l,[h,o,u])}}var s,f,l,h,p=bt,d=wt,v=Mt,g=Tt,_={},y=N("start","drag","end"),m=0,x=0;return n.filter=function(t){return arguments.length?(p="function"==typeof t?t:mt(!!t),n):p},n.container=function(t){return arguments.length?(d="function"==typeof t?t:mt(t),n):d},n.subject=function(t){return arguments.length?(v="function"==typeof t?t:mt(t),n):v},n.touchable=function(t){return arguments.length?(g="function"==typeof t?t:mt(!!t),n):g},n.on=function(){var t=y.on.apply(y,arguments);return t===y?n:t},n.clickDistance=function(t){return arguments.length?(x=(t=+t)*t,n):Math.sqrt(x)},n},t.dragDisable=_t,t.dragEnable=yt,t.dsvFormat=_e,t.csvParse=Eh,t.csvParseRows=Ah,t.csvFormat=Ch,t.csvFormatRows=zh,t.tsvParse=Rh,t.tsvParseRows=Lh,t.tsvFormat=qh,t.tsvFormatRows=Dh,t.easeLinear=function(t){return+t},t.easeQuad=On,t.easeQuadIn=function(t){return t*t},t.easeQuadOut=function(t){return t*(2-t)},t.easeQuadInOut=On,t.easeCubic=Fn,t.easeCubicIn=function(t){return t*t*t},t.easeCubicOut=function(t){return--t*t*t+1},t.easeCubicInOut=Fn,t.easePoly=zl,t.easePolyIn=Al,t.easePolyOut=Cl,t.easePolyInOut=zl,t.easeSin=In,t.easeSinIn=function(t){return 1-Math.cos(t*Rl)},t.easeSinOut=function(t){return Math.sin(t*Rl)},t.easeSinInOut=In,t.easeExp=Yn,t.easeExpIn=function(t){return Math.pow(2,10*t-10)},t.easeExpOut=function(t){return 1-Math.pow(2,-10*t)},t.easeExpInOut=Yn,t.easeCircle=Bn,t.easeCircleIn=function(t){return 1-Math.sqrt(1-t*t)},t.easeCircleOut=function(t){return Math.sqrt(1- --t*t)},t.easeCircleInOut=Bn,t.easeBounce=Hn,t.easeBounceIn=function(t){return 1-Hn(1-t)},t.easeBounceOut=Hn,t.easeBounceInOut=function(t){return((t*=2)<=1?1-Hn(1-t):Hn(t-1)+1)/2},t.easeBack=Vl,t.easeBackIn=jl,t.easeBackOut=Xl,t.easeBackInOut=Vl,t.easeElastic=Zl,t.easeElasticIn=Wl,t.easeElasticOut=Zl,t.easeElasticInOut=Gl,t.forceCenter=function(t,n){function e(){var e,i,o=r.length,u=0,a=0;for(e=0;e<o;++e)u+=(i=r[e]).x,a+=i.y;for(u=u/o-t,a=a/o-n,e=0;e<o;++e)(i=r[e]).x-=u,i.y-=a}var r;return null==t&&(t=0),null==n&&(n=0),e.initialize=function(t){r=t},e.x=function(n){return arguments.length?(t=+n,e):t},e.y=function(t){return arguments.length?(n=+t,e):n},e},t.forceCollide=function(t){function n(){for(var t,n,r,c,s,f,l,h=i.length,p=0;p<a;++p)for(n=Te(i,Se,Ee).visitAfter(e),t=0;t<h;++t)r=i[t],f=o[r.index],l=f*f,c=r.x+r.vx,s=r.y+r.vy,n.visit(function(t,n,e,i,o){var a=t.data,h=t.r,p=f+h;if(!a)return n>c+p||i<c-p||e>s+p||o<s-p;if(a.index>r.index){var d=c-a.x-a.vx,v=s-a.y-a.vy,g=d*d+v*v;g<p*p&&(0===d&&(d=me(),g+=d*d),0===v&&(v=me(),g+=v*v),g=(p-(g=Math.sqrt(g)))/g*u,r.vx+=(d*=g)*(p=(h*=h)/(l+h)),r.vy+=(v*=g)*p,a.vx-=d*(p=1-p),a.vy-=v*p)}})}function e(t){if(t.data)return t.r=o[t.data.index];for(var n=t.r=0;n<4;++n)t[n]&&t[n].r>t.r&&(t.r=t[n].r)}function r(){if(i){var n,e,r=i.length;for(o=new Array(r),n=0;n<r;++n)e=i[n],o[e.index]=+t(e,n,i)}}var i,o,u=1,a=1;return"function"!=typeof t&&(t=ye(null==t?1:+t)),n.initialize=function(t){i=t,r()},n.iterations=function(t){return arguments.length?(a=+t,n):a},n.strength=function(t){return arguments.length?(u=+t,n):u},n.radius=function(e){return arguments.length?(t="function"==typeof e?e:ye(+e),r(),n):t},n},t.forceLink=function(t){function n(n){for(var e=0,r=t.length;e<p;++e)for(var i,a,c,f,l,h,d,v=0;v<r;++v)a=(i=t[v]).source,f=(c=i.target).x+c.vx-a.x-a.vx||me(),l=c.y+c.vy-a.y-a.vy||me(),f*=h=((h=Math.sqrt(f*f+l*l))-u[v])/h*n*o[v],l*=h,c.vx-=f*(d=s[v]),c.vy-=l*d,a.vx+=f*(d=1-d),a.vy+=l*d}function e(){if(a){var n,e,l=a.length,h=t.length,p=se(a,f);for(n=0,c=new Array(l);n<h;++n)(e=t[n]).index=n,"object"!=typeof e.source&&(e.source=Ce(p,e.source)),"object"!=typeof e.target&&(e.target=Ce(p,e.target)),c[e.source.index]=(c[e.source.index]||0)+1,c[e.target.index]=(c[e.target.index]||0)+1;for(n=0,s=new Array(h);n<h;++n)e=t[n],s[n]=c[e.source.index]/(c[e.source.index]+c[e.target.index]);o=new Array(h),r(),u=new Array(h),i()}}function r(){if(a)for(var n=0,e=t.length;n<e;++n)o[n]=+l(t[n],n,t)}function i(){if(a)for(var n=0,e=t.length;n<e;++n)u[n]=+h(t[n],n,t)}var o,u,a,c,s,f=Ae,l=function(t){return 1/Math.min(c[t.source.index],c[t.target.index])},h=ye(30),p=1;return null==t&&(t=[]),n.initialize=function(t){a=t,e()},n.links=function(r){return arguments.length?(t=r,e(),n):t},n.id=function(t){return arguments.length?(f=t,n):f},n.iterations=function(t){return arguments.length?(p=+t,n):p},n.strength=function(t){return arguments.length?(l="function"==typeof t?t:ye(+t),r(),n):l},n.distance=function(t){return arguments.length?(h="function"==typeof t?t:ye(+t),i(),n):h},n},t.forceManyBody=function(){function t(t){var n,a=i.length,c=Te(i,ze,Pe).visitAfter(e);for(u=t,n=0;n<a;++n)o=i[n],c.visit(r)}function n(){if(i){var t,n,e=i.length;for(a=new Array(e),t=0;t<e;++t)n=i[t],a[n.index]=+c(n,t,i)}}function e(t){var n,e,r,i,o,u=0,c=0;if(t.length){for(r=i=o=0;o<4;++o)(n=t[o])&&(e=Math.abs(n.value))&&(u+=n.value,c+=e,r+=e*n.x,i+=e*n.y);t.x=r/c,t.y=i/c}else{(n=t).x=n.data.x,n.y=n.data.y;do{u+=a[n.data.index]}while(n=n.next)}t.value=u}function r(t,n,e,r){if(!t.value)return!0;var i=t.x-o.x,c=t.y-o.y,h=r-n,p=i*i+c*c;if(h*h/l<p)return p<f&&(0===i&&(i=me(),p+=i*i),0===c&&(c=me(),p+=c*c),p<s&&(p=Math.sqrt(s*p)),o.vx+=i*t.value*u/p,o.vy+=c*t.value*u/p),!0;if(!(t.length||p>=f)){(t.data!==o||t.next)&&(0===i&&(i=me(),p+=i*i),0===c&&(c=me(),p+=c*c),p<s&&(p=Math.sqrt(s*p)));do{t.data!==o&&(h=a[t.data.index]*u/p,o.vx+=i*h,o.vy+=c*h)}while(t=t.next)}}var i,o,u,a,c=ye(-30),s=1,f=1/0,l=.81;return t.initialize=function(t){i=t,n()},t.strength=function(e){return arguments.length?(c="function"==typeof e?e:ye(+e),n(),t):c},t.distanceMin=function(n){return arguments.length?(s=n*n,t):Math.sqrt(s)},t.distanceMax=function(n){return arguments.length?(f=n*n,t):Math.sqrt(f)},t.theta=function(n){return arguments.length?(l=n*n,t):Math.sqrt(l)},t},t.forceRadial=function(t,n,e){function r(t){for(var r=0,i=o.length;r<i;++r){var c=o[r],s=c.x-n||1e-6,f=c.y-e||1e-6,l=Math.sqrt(s*s+f*f),h=(a[r]-l)*u[r]*t/l;c.vx+=s*h,c.vy+=f*h}}function i(){if(o){var n,e=o.length;for(u=new Array(e),a=new Array(e),n=0;n<e;++n)a[n]=+t(o[n],n,o),u[n]=isNaN(a[n])?0:+c(o[n],n,o)}}var o,u,a,c=ye(.1);return"function"!=typeof t&&(t=ye(+t)),null==n&&(n=0),null==e&&(e=0),r.initialize=function(t){o=t,i()},r.strength=function(t){return arguments.length?(c="function"==typeof t?t:ye(+t),i(),r):c},r.radius=function(n){return arguments.length?(t="function"==typeof n?n:ye(+n),i(),r):t},r.x=function(t){return arguments.length?(n=+t,r):n},r.y=function(t){return arguments.length?(e=+t,r):e},r},t.forceSimulation=function(t){function n(){e(),p.call("tick",o),u<a&&(h.stop(),p.call("end",o))}function e(){var n,e,r=t.length;for(u+=(s-u)*c,l.each(function(t){t(u)}),n=0;n<r;++n)null==(e=t[n]).fx?e.x+=e.vx*=f:(e.x=e.fx,e.vx=0),null==e.fy?e.y+=e.vy*=f:(e.y=e.fy,e.vy=0)}function r(){for(var n,e=0,r=t.length;e<r;++e){if(n=t[e],n.index=e,isNaN(n.x)||isNaN(n.y)){var i=Fh*Math.sqrt(e),o=e*Ih;n.x=i*Math.cos(o),n.y=i*Math.sin(o)}(isNaN(n.vx)||isNaN(n.vy))&&(n.vx=n.vy=0)}}function i(n){return n.initialize&&n.initialize(t),n}var o,u=1,a=.001,c=1-Math.pow(a,1/300),s=0,f=.6,l=se(),h=wn(n),p=N("tick","end");return null==t&&(t=[]),r(),o={tick:e,restart:function(){return h.restart(n),o},stop:function(){return h.stop(),o},nodes:function(n){return arguments.length?(t=n,r(),l.each(i),o):t},alpha:function(t){return arguments.length?(u=+t,o):u},alphaMin:function(t){return arguments.length?(a=+t,o):a},alphaDecay:function(t){return arguments.length?(c=+t,o):+c},alphaTarget:function(t){return arguments.length?(s=+t,o):s},velocityDecay:function(t){return arguments.length?(f=1-t,o):1-f},force:function(t,n){return arguments.length>1?(null==n?l.remove(t):l.set(t,i(n)),o):l.get(t)},find:function(n,e,r){var i,o,u,a,c,s=0,f=t.length;for(null==r?r=1/0:r*=r,s=0;s<f;++s)(u=(i=n-(a=t[s]).x)*i+(o=e-a.y)*o)<r&&(c=a,r=u);return c},on:function(t,n){return arguments.length>1?(p.on(t,n),o):p.on(t)}}},t.forceX=function(t){function n(t){for(var n,e=0,u=r.length;e<u;++e)(n=r[e]).vx+=(o[e]-n.x)*i[e]*t}function e(){if(r){var n,e=r.length;for(i=new Array(e),o=new Array(e),n=0;n<e;++n)i[n]=isNaN(o[n]=+t(r[n],n,r))?0:+u(r[n],n,r)}}var r,i,o,u=ye(.1);return"function"!=typeof t&&(t=ye(null==t?0:+t)),n.initialize=function(t){r=t,e()},n.strength=function(t){return arguments.length?(u="function"==typeof t?t:ye(+t),e(),n):u},n.x=function(r){return arguments.length?(t="function"==typeof r?r:ye(+r),e(),n):t},n},t.forceY=function(t){function n(t){for(var n,e=0,u=r.length;e<u;++e)(n=r[e]).vy+=(o[e]-n.y)*i[e]*t}function e(){if(r){var n,e=r.length;for(i=new Array(e),o=new Array(e),n=0;n<e;++n)i[n]=isNaN(o[n]=+t(r[n],n,r))?0:+u(r[n],n,r)}}var r,i,o,u=ye(.1);return"function"!=typeof t&&(t=ye(null==t?0:+t)),n.initialize=function(t){r=t,e()},n.strength=function(t){return arguments.length?(u="function"==typeof t?t:ye(+t),e(),n):u},n.y=function(r){return arguments.length?(t="function"==typeof r?r:ye(+r),e(),n):t},n},t.formatDefaultLocale=Ie,t.formatLocale=Fe,t.formatSpecifier=De,t.precisionFixed=Ye,t.precisionPrefix=Be,t.precisionRound=He,t.geoArea=function(t){return Vp.reset(),tr(t,$p),2*Vp},t.geoBounds=function(t){var n,e,r,i,o,u,a;if(Kh=Jh=-(Gh=Qh=1/0),ip=[],tr(t,Zp),e=ip.length){for(ip.sort(xr),n=1,o=[r=ip[0]];n<e;++n)br(r,(i=ip[n])[0])||br(r,i[1])?(mr(r[0],i[1])>mr(r[0],r[1])&&(r[1]=i[1]),mr(i[0],r[1])>mr(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(u=-1/0,n=0,r=o[e=o.length-1];n<=e;r=i,++n)i=o[n],(a=mr(r[1],i[0]))>u&&(u=a,Gh=i[0],Jh=r[1])}return ip=op=null,Gh===1/0||Qh===1/0?[[NaN,NaN],[NaN,NaN]]:[[Gh,Qh],[Jh,Kh]]},t.geoCentroid=function(t){up=ap=cp=sp=fp=lp=hp=pp=dp=vp=gp=0,tr(t,Gp);var n=dp,e=vp,r=gp,i=n*n+e*e+r*r;return i<Tp&&(n=lp,e=hp,r=pp,ap<Mp&&(n=cp,e=sp,r=fp),(i=n*n+e*e+r*r)<Tp)?[NaN,NaN]:[Rp(e,n)*Ap,We(r/Yp(i))*Ap]},t.geoCircle=function(){function t(){var t=r.apply(this,arguments),a=i.apply(this,arguments)*Cp,c=o.apply(this,arguments)*Cp;return n=[],e=qr(-t[0]*Cp,-t[1]*Cp,0).invert,Ir(u,a,c,1),t={type:"Polygon",coordinates:[n]},n=e=null,t}var n,e,r=Pr([0,0]),i=Pr(90),o=Pr(6),u={point:function(t,r){n.push(t=e(t,r)),t[0]*=Ap,t[1]*=Ap}};return t.center=function(n){return arguments.length?(r="function"==typeof n?n:Pr([+n[0],+n[1]]),t):r},t.radius=function(n){return arguments.length?(i="function"==typeof n?n:Pr(+n),t):i},t.precision=function(n){return arguments.length?(o="function"==typeof n?n:Pr(+n),t):o},t},t.geoClipAntimeridian=sd,t.geoClipCircle=Qr,t.geoClipExtent=function(){var t,n,e,r=0,i=0,o=960,u=500;return e={stream:function(e){return t&&n===e?t:t=Jr(r,i,o,u)(n=e)},extent:function(a){return arguments.length?(r=+a[0][0],i=+a[0][1],o=+a[1][0],u=+a[1][1],t=n=null,e):[[r,i],[o,u]]}}},t.geoClipRectangle=Jr,t.geoContains=function(t,n){return(t&&gd.hasOwnProperty(t.type)?gd[t.type]:ii)(t,n)},t.geoDistance=ri,t.geoGraticule=hi,t.geoGraticule10=function(){return hi()()},t.geoInterpolate=function(t,n){var e=t[0]*Cp,r=t[1]*Cp,i=n[0]*Cp,o=n[1]*Cp,u=Lp(r),a=Fp(r),c=Lp(o),s=Fp(o),f=u*Lp(e),l=u*Fp(e),h=c*Lp(i),p=c*Fp(i),d=2*We(Yp(Ze(o-r)+u*c*Ze(i-e))),v=Fp(d),g=d?function(t){var n=Fp(t*=d)/v,e=Fp(d-t)/v,r=e*f+n*h,i=e*l+n*p,o=e*a+n*s;return[Rp(i,r)*Ap,Rp(o,Yp(r*r+i*i))*Ap]}:function(){return[e*Ap,r*Ap]};return g.distance=d,g},t.geoLength=ei,t.geoPath=function(t,n){function e(t){return t&&("function"==typeof o&&i.pointRadius(+o.apply(this,arguments)),tr(t,r(i))),i.result()}var r,i,o=4.5;return e.area=function(t){return tr(t,r(xd)),xd.result()},e.measure=function(t){return tr(t,r(Bd)),Bd.result()},e.bounds=function(t){return tr(t,r(Nd)),Nd.result()},e.centroid=function(t){return tr(t,r(qd)),qd.result()},e.projection=function(n){return arguments.length?(r=null==n?(t=null,pi):(t=n).stream,e):t},e.context=function(t){return arguments.length?(i=null==t?(n=null,new Ci):new Si(n=t),"function"!=typeof o&&i.pointRadius(o),e):n},e.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(i.pointRadius(+t),+t),e):o},e.projection(t).context(n)},t.geoAlbers=Xi,t.geoAlbersUsa=function(){function t(t){var n=t[0],e=t[1];return a=null,i.point(n,e),a||(o.point(n,e),a)||(u.point(n,e),a)}function n(){return e=r=null,t}var e,r,i,o,u,a,c=Xi(),s=ji().rotate([154,0]).center([-2,58.5]).parallels([55,65]),f=ji().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,n){a=[t,n]}};return t.invert=function(t){var n=c.scale(),e=c.translate(),r=(t[0]-e[0])/n,i=(t[1]-e[1])/n;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?s:i>=.166&&i<.234&&r>=-.214&&r<-.115?f:c).invert(t)},t.stream=function(t){return e&&r===t?e:e=function(t){var n=t.length;return{point:function(e,r){for(var i=-1;++i<n;)t[i].point(e,r)},sphere:function(){for(var e=-1;++e<n;)t[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)t[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)t[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)t[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)t[e].polygonEnd()}}}([c.stream(r=t),s.stream(t),f.stream(t)])},t.precision=function(t){return arguments.length?(c.precision(t),s.precision(t),f.precision(t),n()):c.precision()},t.scale=function(n){return arguments.length?(c.scale(n),s.scale(.35*n),f.scale(n),t.translate(c.translate())):c.scale()},t.translate=function(t){if(!arguments.length)return c.translate();var e=c.scale(),r=+t[0],a=+t[1];return i=c.translate(t).clipExtent([[r-.455*e,a-.238*e],[r+.455*e,a+.238*e]]).stream(l),o=s.translate([r-.307*e,a+.201*e]).clipExtent([[r-.425*e+Mp,a+.12*e+Mp],[r-.214*e-Mp,a+.234*e-Mp]]).stream(l),u=f.translate([r-.205*e,a+.212*e]).clipExtent([[r-.214*e+Mp,a+.166*e+Mp],[r-.115*e-Mp,a+.234*e-Mp]]).stream(l),n()},t.fitExtent=function(n,e){return qi(t,n,e)},t.fitSize=function(n,e){return Di(t,n,e)},t.fitWidth=function(n,e){return Ui(t,n,e)},t.fitHeight=function(n,e){return Oi(t,n,e)},t.scale(1070)},t.geoAzimuthalEqualArea=function(){return Ii(Vd).scale(124.75).clipAngle(179.999)},t.geoAzimuthalEqualAreaRaw=Vd,t.geoAzimuthalEquidistant=function(){return Ii($d).scale(79.4188).clipAngle(179.999)},t.geoAzimuthalEquidistantRaw=$d,t.geoConicConformal=function(){return Bi(Qi).scale(109.5).parallels([30,30])},t.geoConicConformalRaw=Qi,t.geoConicEqualArea=ji,t.geoConicEqualAreaRaw=Hi,t.geoConicEquidistant=function(){return Bi(Ki).scale(131.154).center([0,13.9389])},t.geoConicEquidistantRaw=Ki,t.geoEquirectangular=function(){return Ii(Ji).scale(152.63)},t.geoEquirectangularRaw=Ji,t.geoGnomonic=function(){return Ii(to).scale(144.049).clipAngle(60)},t.geoGnomonicRaw=to,t.geoIdentity=function(){function t(){return i=o=null,u}var n,e,r,i,o,u,a=1,c=0,s=0,f=1,l=1,h=pi,p=null,d=pi;return u={stream:function(t){return i&&o===t?i:i=h(d(o=t))},postclip:function(i){return arguments.length?(d=i,p=n=e=r=null,t()):d},clipExtent:function(i){return arguments.length?(d=null==i?(p=n=e=r=null,pi):Jr(p=+i[0][0],n=+i[0][1],e=+i[1][0],r=+i[1][1]),t()):null==p?null:[[p,n],[e,r]]},scale:function(n){return arguments.length?(h=no((a=+n)*f,a*l,c,s),t()):a},translate:function(n){return arguments.length?(h=no(a*f,a*l,c=+n[0],s=+n[1]),t()):[c,s]},reflectX:function(n){return arguments.length?(h=no(a*(f=n?-1:1),a*l,c,s),t()):f<0},reflectY:function(n){return arguments.length?(h=no(a*f,a*(l=n?-1:1),c,s),t()):l<0},fitExtent:function(t,n){return qi(u,t,n)},fitSize:function(t,n){return Di(u,t,n)},fitWidth:function(t,n){return Ui(u,t,n)},fitHeight:function(t,n){return Oi(u,t,n)}}},t.geoProjection=Ii,t.geoProjectionMutator=Yi,t.geoMercator=function(){return Zi(Wi).scale(961/Ep)},t.geoMercatorRaw=Wi,t.geoNaturalEarth1=function(){return Ii(eo).scale(175.295)},t.geoNaturalEarth1Raw=eo,t.geoOrthographic=function(){return Ii(ro).scale(249.5).clipAngle(90+Mp)},t.geoOrthographicRaw=ro,t.geoStereographic=function(){return Ii(io).scale(250).clipAngle(142)},t.geoStereographicRaw=io,t.geoTransverseMercator=function(){var t=Zi(oo),n=t.center,e=t.rotate;return t.center=function(t){return arguments.length?n([-t[1],t[0]]):(t=n(),[t[1],-t[0]])},t.rotate=function(t){return arguments.length?e([t[0],t[1],t.length>2?t[2]+90:90]):(t=e(),[t[0],t[1],t[2]-90])},e([0,0,90]).scale(159.155)},t.geoTransverseMercatorRaw=oo,t.geoRotation=Fr,t.geoStream=tr,t.geoTransform=function(t){return{stream:Pi(t)}},t.cluster=function(){function t(t){var o,u=0;t.eachAfter(function(t){var e=t.children;e?(t.x=function(t){return t.reduce(ao,0)/t.length}(e),t.y=function(t){return 1+t.reduce(co,0)}(e)):(t.x=o?u+=n(t,o):0,t.y=0,o=t)});var a=function(t){for(var n;n=t.children;)t=n[0];return t}(t),c=function(t){for(var n;n=t.children;)t=n[n.length-1];return t}(t),s=a.x-n(a,c)/2,f=c.x+n(c,a)/2;return t.eachAfter(i?function(n){n.x=(n.x-t.x)*e,n.y=(t.y-n.y)*r}:function(n){n.x=(n.x-s)/(f-s)*e,n.y=(1-(t.y?n.y/t.y:1))*r})}var n=uo,e=1,r=1,i=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(n){return arguments.length?(i=!1,e=+n[0],r=+n[1],t):i?null:[e,r]},t.nodeSize=function(n){return arguments.length?(i=!0,e=+n[0],r=+n[1],t):i?[e,r]:null},t},t.hierarchy=fo,t.pack=function(){function t(t){return t.x=e/2,t.y=r/2,n?t.eachBefore(zo(n)).eachAfter(Po(i,.5)).eachBefore(Ro(1)):t.eachBefore(zo(Co)).eachAfter(Po(Eo,1)).eachAfter(Po(i,t.r/Math.min(e,r))).eachBefore(Ro(Math.min(e,r)/(2*t.r))),t}var n=null,e=1,r=1,i=Eo;return t.radius=function(e){return arguments.length?(n=function(t){return null==t?null:So(t)}(e),t):n},t.size=function(n){return arguments.length?(e=+n[0],r=+n[1],t):[e,r]},t.padding=function(n){return arguments.length?(i="function"==typeof n?n:Ao(+n),t):i},t},t.packSiblings=function(t){return ko(t),t},t.packEnclose=go,t.partition=function(){function t(t){var o=t.height+1;return t.x0=t.y0=r,t.x1=n,t.y1=e/o,t.eachBefore(function(t,n){return function(e){e.children&&qo(e,e.x0,t*(e.depth+1)/n,e.x1,t*(e.depth+2)/n);var i=e.x0,o=e.y0,u=e.x1-r,a=e.y1-r;u<i&&(i=u=(i+u)/2),a<o&&(o=a=(o+a)/2),e.x0=i,e.y0=o,e.x1=u,e.y1=a}}(e,o)),i&&t.eachBefore(Lo),t}var n=1,e=1,r=0,i=!1;return t.round=function(n){return arguments.length?(i=!!n,t):i},t.size=function(r){return arguments.length?(n=+r[0],e=+r[1],t):[n,e]},t.padding=function(n){return arguments.length?(r=+n,t):r},t},t.stratify=function(){function t(t){var r,i,o,u,a,c,s,f=t.length,l=new Array(f),h={};for(i=0;i<f;++i)r=t[i],a=l[i]=new vo(r),null!=(c=n(r,i,t))&&(c+="")&&(h[s=Zd+(a.id=c)]=s in h?Qd:a);for(i=0;i<f;++i)if(a=l[i],null!=(c=e(t[i],i,t))&&(c+="")){if(!(u=h[Zd+c]))throw new Error("missing: "+c);if(u===Qd)throw new Error("ambiguous: "+c);u.children?u.children.push(a):u.children=[a],a.parent=u}else{if(o)throw new Error("multiple roots");o=a}if(!o)throw new Error("no root");if(o.parent=Gd,o.eachBefore(function(t){t.depth=t.parent.depth+1,--f}).eachBefore(po),o.parent=null,f>0)throw new Error("cycle");return o}var n=Do,e=Uo;return t.id=function(e){return arguments.length?(n=So(e),t):n},t.parentId=function(n){return arguments.length?(e=So(n),t):e},t},t.tree=function(){function t(t){var c=function(t){for(var n,e,r,i,o,u=new Ho(t,0),a=[u];n=a.pop();)if(r=n._.children)for(n.children=new Array(o=r.length),i=o-1;i>=0;--i)a.push(e=n.children[i]=new Ho(r[i],i)),e.parent=n;return(u.parent=new Ho(null,0)).children=[u],u}(t);if(c.eachAfter(n),c.parent.m=-c.z,c.eachBefore(e),a)t.eachBefore(r);else{var s=t,f=t,l=t;t.eachBefore(function(t){t.x<s.x&&(s=t),t.x>f.x&&(f=t),t.depth>l.depth&&(l=t)});var h=s===f?1:i(s,f)/2,p=h-s.x,d=o/(f.x+h+p),v=u/(l.depth||1);t.eachBefore(function(t){t.x=(t.x+p)*d,t.y=t.depth*v})}return t}function n(t){var n=t.children,e=t.parent.children,r=t.i?e[t.i-1]:null;if(n){(function(t){for(var n,e=0,r=0,i=t.children,o=i.length;--o>=0;)(n=i[o]).z+=e,n.m+=e,e+=n.s+(r+=n.c)})(t);var o=(n[0].z+n[n.length-1].z)/2;r?(t.z=r.z+i(t._,r._),t.m=t.z-o):t.z=o}else r&&(t.z=r.z+i(t._,r._));t.parent.A=function(t,n,e){if(n){for(var r,o=t,u=t,a=n,c=o.parent.children[0],s=o.m,f=u.m,l=a.m,h=c.m;a=Io(a),o=Fo(o),a&&o;)c=Fo(c),(u=Io(u)).a=t,(r=a.z+l-o.z-s+i(a._,o._))>0&&(Yo(Bo(a,t,e),t,r),s+=r,f+=r),l+=a.m,s+=o.m,h+=c.m,f+=u.m;a&&!Io(u)&&(u.t=a,u.m+=l-f),o&&!Fo(c)&&(c.t=o,c.m+=s-h,e=t)}return e}(t,r,t.parent.A||e[0])}function e(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function r(t){t.x*=o,t.y=t.depth*u}var i=Oo,o=1,u=1,a=null;return t.separation=function(n){return arguments.length?(i=n,t):i},t.size=function(n){return arguments.length?(a=!1,o=+n[0],u=+n[1],t):a?null:[o,u]},t.nodeSize=function(n){return arguments.length?(a=!0,o=+n[0],u=+n[1],t):a?[o,u]:null},t},t.treemap=function(){function t(t){return t.x0=t.y0=0,t.x1=i,t.y1=o,t.eachBefore(n),u=[0],r&&t.eachBefore(Lo),t}function n(t){var n=u[t.depth],r=t.x0+n,i=t.y0+n,o=t.x1-n,h=t.y1-n;o<r&&(r=o=(r+o)/2),h<i&&(i=h=(i+h)/2),t.x0=r,t.y0=i,t.x1=o,t.y1=h,t.children&&(n=u[t.depth+1]=a(t)/2,r+=l(t)-n,i+=c(t)-n,o-=s(t)-n,h-=f(t)-n,o<r&&(r=o=(r+o)/2),h<i&&(i=h=(i+h)/2),e(t,r,i,o,h))}var e=Kd,r=!1,i=1,o=1,u=[0],a=Eo,c=Eo,s=Eo,f=Eo,l=Eo;return t.round=function(n){return arguments.length?(r=!!n,t):r},t.size=function(n){return arguments.length?(i=+n[0],o=+n[1],t):[i,o]},t.tile=function(n){return arguments.length?(e=So(n),t):e},t.padding=function(n){return arguments.length?t.paddingInner(n).paddingOuter(n):t.paddingInner()},t.paddingInner=function(n){return arguments.length?(a="function"==typeof n?n:Ao(+n),t):a},t.paddingOuter=function(n){return arguments.length?t.paddingTop(n).paddingRight(n).paddingBottom(n).paddingLeft(n):t.paddingTop()},t.paddingTop=function(n){return arguments.length?(c="function"==typeof n?n:Ao(+n),t):c},t.paddingRight=function(n){return arguments.length?(s="function"==typeof n?n:Ao(+n),t):s},t.paddingBottom=function(n){return arguments.length?(f="function"==typeof n?n:Ao(+n),t):f},t.paddingLeft=function(n){return arguments.length?(l="function"==typeof n?n:Ao(+n),t):l},t},t.treemapBinary=function(t,n,e,r,i){function o(t,n,e,r,i,u,a){if(t>=n-1){var s=c[t];return s.x0=r,s.y0=i,s.x1=u,void(s.y1=a)}for(var l=f[t],h=e/2+l,p=t+1,d=n-1;p<d;){var v=p+d>>>1;f[v]<h?p=v+1:d=v}h-f[p-1]<f[p]-h&&t+1<p&&--p;var g=f[p]-l,_=e-g;if(u-r>a-i){var y=(r*_+u*g)/e;o(t,p,g,r,i,y,a),o(p,n,_,y,i,u,a)}else{var m=(i*_+a*g)/e;o(t,p,g,r,i,u,m),o(p,n,_,r,m,u,a)}}var u,a,c=t.children,s=c.length,f=new Array(s+1);for(f[0]=a=u=0;u<s;++u)f[u+1]=a+=c[u].value;o(0,s,t.value,n,e,r,i)},t.treemapDice=qo,t.treemapSlice=jo,t.treemapSliceDice=function(t,n,e,r,i){(1&t.depth?jo:qo)(t,n,e,r,i)},t.treemapSquarify=Kd,t.treemapResquarify=tv,t.interpolate=fn,t.interpolateArray=on,t.interpolateBasis=Gt,t.interpolateBasisClosed=Qt,t.interpolateDate=un,t.interpolateNumber=an,t.interpolateObject=cn,t.interpolateRound=ln,t.interpolateString=sn,t.interpolateTransformCss=Gf,t.interpolateTransformSvg=Qf,t.interpolateZoom=vn,t.interpolateRgb=Hf,t.interpolateRgbBasis=jf,t.interpolateRgbBasisClosed=Xf,t.interpolateHsl=el,t.interpolateHslLong=rl,t.interpolateLab=function(t,n){var e=en((t=Ft(t)).l,(n=Ft(n)).l),r=en(t.a,n.a),i=en(t.b,n.b),o=en(t.opacity,n.opacity);return function(n){return t.l=e(n),t.a=r(n),t.b=i(n),t.opacity=o(n),t+""}},t.interpolateHcl=il,t.interpolateHclLong=ol,t.interpolateCubehelix=ul,t.interpolateCubehelixLong=al,t.quantize=function(t,n){for(var e=new Array(n),r=0;r<n;++r)e[r]=t(r/(n-1));return e},t.path=ee,t.polygonArea=function(t){for(var n,e=-1,r=t.length,i=t[r-1],o=0;++e<r;)n=i,i=t[e],o+=n[1]*i[0]-n[0]*i[1];return o/2},t.polygonCentroid=function(t){for(var n,e,r=-1,i=t.length,o=0,u=0,a=t[i-1],c=0;++r<i;)n=a,a=t[r],c+=e=n[0]*a[1]-a[0]*n[1],o+=(n[0]+a[0])*e,u+=(n[1]+a[1])*e;return c*=3,[o/c,u/c]},t.polygonHull=function(t){if((e=t.length)<3)return null;var n,e,r=new Array(e),i=new Array(e);for(n=0;n<e;++n)r[n]=[+t[n][0],+t[n][1],n];for(r.sort($o),n=0;n<e;++n)i[n]=[r[n][0],-r[n][1]];var o=Wo(r),u=Wo(i),a=u[0]===o[0],c=u[u.length-1]===o[o.length-1],s=[];for(n=o.length-1;n>=0;--n)s.push(t[r[o[n]][2]]);for(n=+a;n<u.length-c;++n)s.push(t[r[u[n]][2]]);return s},t.polygonContains=function(t,n){for(var e,r,i=t.length,o=t[i-1],u=n[0],a=n[1],c=o[0],s=o[1],f=!1,l=0;l<i;++l)e=(o=t[l])[0],(r=o[1])>a!=s>a&&u<(c-e)*(a-r)/(s-r)+e&&(f=!f),c=e,s=r;return f},t.polygonLength=function(t){for(var n,e,r=-1,i=t.length,o=t[i-1],u=o[0],a=o[1],c=0;++r<i;)n=u,e=a,n-=u=(o=t[r])[0],e-=a=o[1],c+=Math.sqrt(n*n+e*e);return c},t.quadtree=Te,t.queue=Ko,t.randomUniform=rv,t.randomNormal=iv,t.randomLogNormal=ov,t.randomBates=av,t.randomIrwinHall=uv,t.randomExponential=cv,t.request=nu,t.html=sv,t.json=fv,t.text=lv,t.xml=hv,t.csv=pv,t.tsv=dv,t.scaleBand=ou,t.scalePoint=function(){return uu(ou().paddingInner(1))},t.scaleIdentity=gu,t.scaleLinear=vu,t.scaleLog=Tu,t.scaleOrdinal=iu,t.scaleImplicit=yv,t.scalePow=ku,t.scaleSqrt=function(){return ku().exponent(.5)},t.scaleQuantile=Su,t.scaleQuantize=Eu,t.scaleThreshold=Au,t.scaleTime=function(){return Va(Gv,Wv,Lv,Pv,Cv,Ev,kv,wv,t.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},t.scaleUtc=function(){return Va(xg,yg,ig,eg,tg,Jv,kv,wv,t.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},t.schemeCategory10=Ug,t.schemeCategory20b=Og,t.schemeCategory20c=Fg,t.schemeCategory20=Ig,t.interpolateCubehelixDefault=Yg,t.interpolateRainbow=function(t){(t<0||t>1)&&(t-=Math.floor(t));var n=Math.abs(t-.5);return jg.h=360*t-100,jg.s=1.5-1.5*n,jg.l=.8-.9*n,jg+""},t.interpolateWarm=Bg,t.interpolateCool=Hg,t.interpolateViridis=Xg,t.interpolateMagma=Vg,t.interpolateInferno=$g,t.interpolatePlasma=Wg,t.scaleSequential=Za,t.create=function(t){return ct(A(t).call(document.documentElement))},t.creator=A,t.local=st,t.matcher=of,t.mouse=pt,t.namespace=E,t.namespaces=tf,t.clientPoint=ht,t.select=ct,t.selectAll=function(t){return"string"==typeof t?new ut([document.querySelectorAll(t)],[document.documentElement]):new ut([null==t?[]:t],cf)},t.selection=at,t.selector=z,t.selectorAll=R,t.style=I,t.touch=dt,t.touches=function(t,n){null==n&&(n=lt().touches);for(var e=0,r=n?n.length:0,i=new Array(r);e<r;++e)i[e]=ht(t,n[e]);return i},t.window=F,t.customEvent=it,t.arc=function(){function t(){var t,s,f=+n.apply(this,arguments),l=+e.apply(this,arguments),h=o.apply(this,arguments)-i_,p=u.apply(this,arguments)-i_,d=Zg(p-h),v=p>h;if(c||(c=t=ee()),l<f&&(s=l,l=f,f=s),l>e_)if(d>o_-e_)c.moveTo(l*Qg(h),l*t_(h)),c.arc(0,0,l,h,p,!v),f>e_&&(c.moveTo(f*Qg(p),f*t_(p)),c.arc(0,0,f,p,h,v));else{var g,_,y=h,m=p,x=h,b=p,w=d,M=d,T=a.apply(this,arguments)/2,N=T>e_&&(i?+i.apply(this,arguments):n_(f*f+l*l)),k=Kg(Zg(l-f)/2,+r.apply(this,arguments)),S=k,E=k;if(N>e_){var A=Qa(N/f*t_(T)),C=Qa(N/l*t_(T));(w-=2*A)>e_?(A*=v?1:-1,x+=A,b-=A):(w=0,x=b=(h+p)/2),(M-=2*C)>e_?(C*=v?1:-1,y+=C,m-=C):(M=0,y=m=(h+p)/2)}var z=l*Qg(y),P=l*t_(y),R=f*Qg(b),L=f*t_(b);if(k>e_){var q=l*Qg(m),D=l*t_(m),U=f*Qg(x),O=f*t_(x);if(d<r_){var F=w>e_?function(t,n,e,r,i,o,u,a){var c=e-t,s=r-n,f=u-i,l=a-o,h=(f*(n-o)-l*(t-i))/(l*c-f*s);return[t+h*c,n+h*s]}(z,P,U,O,q,D,R,L):[R,L],I=z-F[0],Y=P-F[1],B=q-F[0],H=D-F[1],j=1/t_(function(t){return t>1?0:t<-1?r_:Math.acos(t)}((I*B+Y*H)/(n_(I*I+Y*Y)*n_(B*B+H*H)))/2),X=n_(F[0]*F[0]+F[1]*F[1]);S=Kg(k,(f-X)/(j-1)),E=Kg(k,(l-X)/(j+1))}}M>e_?E>e_?(g=rc(U,O,z,P,l,E,v),_=rc(q,D,R,L,l,E,v),c.moveTo(g.cx+g.x01,g.cy+g.y01),E<k?c.arc(g.cx,g.cy,E,Gg(g.y01,g.x01),Gg(_.y01,_.x01),!v):(c.arc(g.cx,g.cy,E,Gg(g.y01,g.x01),Gg(g.y11,g.x11),!v),c.arc(0,0,l,Gg(g.cy+g.y11,g.cx+g.x11),Gg(_.cy+_.y11,_.cx+_.x11),!v),c.arc(_.cx,_.cy,E,Gg(_.y11,_.x11),Gg(_.y01,_.x01),!v))):(c.moveTo(z,P),c.arc(0,0,l,y,m,!v)):c.moveTo(z,P),f>e_&&w>e_?S>e_?(g=rc(R,L,q,D,f,-S,v),_=rc(z,P,U,O,f,-S,v),c.lineTo(g.cx+g.x01,g.cy+g.y01),S<k?c.arc(g.cx,g.cy,S,Gg(g.y01,g.x01),Gg(_.y01,_.x01),!v):(c.arc(g.cx,g.cy,S,Gg(g.y01,g.x01),Gg(g.y11,g.x11),!v),c.arc(0,0,f,Gg(g.cy+g.y11,g.cx+g.x11),Gg(_.cy+_.y11,_.cx+_.x11),v),c.arc(_.cx,_.cy,S,Gg(_.y11,_.x11),Gg(_.y01,_.x01),!v))):c.arc(0,0,f,b,x,v):c.lineTo(R,L)}else c.moveTo(0,0);if(c.closePath(),t)return c=null,t+""||null}var n=Ja,e=Ka,r=Ga(0),i=null,o=tc,u=nc,a=ec,c=null;return t.centroid=function(){var t=(+n.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+o.apply(this,arguments)+ +u.apply(this,arguments))/2-r_/2;return[Qg(r)*t,t_(r)*t]},t.innerRadius=function(e){return arguments.length?(n="function"==typeof e?e:Ga(+e),t):n},t.outerRadius=function(n){return arguments.length?(e="function"==typeof n?n:Ga(+n),t):e},t.cornerRadius=function(n){return arguments.length?(r="function"==typeof n?n:Ga(+n),t):r},t.padRadius=function(n){return arguments.length?(i=null==n?null:"function"==typeof n?n:Ga(+n),t):i},t.startAngle=function(n){return arguments.length?(o="function"==typeof n?n:Ga(+n),t):o},t.endAngle=function(n){return arguments.length?(u="function"==typeof n?n:Ga(+n),t):u},t.padAngle=function(n){return arguments.length?(a="function"==typeof n?n:Ga(+n),t):a},t.context=function(n){return arguments.length?(c=null==n?null:n,t):c},t},t.area=sc,t.line=cc,t.pie=function(){function t(t){var a,c,s,f,l,h=t.length,p=0,d=new Array(h),v=new Array(h),g=+i.apply(this,arguments),_=Math.min(o_,Math.max(-o_,o.apply(this,arguments)-g)),y=Math.min(Math.abs(_)/h,u.apply(this,arguments)),m=y*(_<0?-1:1);for(a=0;a<h;++a)(l=v[d[a]=a]=+n(t[a],a,t))>0&&(p+=l);for(null!=e?d.sort(function(t,n){return e(v[t],v[n])}):null!=r&&d.sort(function(n,e){return r(t[n],t[e])}),a=0,s=p?(_-h*m)/p:0;a<h;++a,g=f)c=d[a],f=g+((l=v[c])>0?l*s:0)+m,v[c]={data:t[c],index:a,value:l,startAngle:g,endAngle:f,padAngle:y};return v}var n=lc,e=fc,r=null,i=Ga(0),o=Ga(o_),u=Ga(0);return t.value=function(e){return arguments.length?(n="function"==typeof e?e:Ga(+e),t):n},t.sortValues=function(n){return arguments.length?(e=n,r=null,t):e},t.sort=function(n){return arguments.length?(r=n,e=null,t):r},t.startAngle=function(n){return arguments.length?(i="function"==typeof n?n:Ga(+n),t):i},t.endAngle=function(n){return arguments.length?(o="function"==typeof n?n:Ga(+n),t):o},t.padAngle=function(n){return arguments.length?(u="function"==typeof n?n:Ga(+n),t):u},t},t.areaRadial=gc,t.radialArea=gc,t.lineRadial=vc,t.radialLine=vc,t.pointRadial=_c,t.linkHorizontal=function(){return xc(bc)},t.linkVertical=function(){return xc(wc)},t.linkRadial=function(){var t=xc(Mc);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t},t.symbol=function(){function t(){var t;if(r||(r=t=ee()),n.apply(this,arguments).draw(r,+e.apply(this,arguments)),t)return r=null,t+""||null}var n=Ga(c_),e=Ga(64),r=null;return t.type=function(e){return arguments.length?(n="function"==typeof e?e:Ga(e),t):n},t.size=function(n){return arguments.length?(e="function"==typeof n?n:Ga(+n),t):e},t.context=function(n){return arguments.length?(r=null==n?null:n,t):r},t},t.symbols=T_,t.symbolCircle=c_,t.symbolCross=s_,t.symbolDiamond=h_,t.symbolSquare=__,t.symbolStar=g_,t.symbolTriangle=m_,t.symbolWye=M_,t.curveBasisClosed=function(t){return new Sc(t)},t.curveBasisOpen=function(t){return new Ec(t)},t.curveBasis=function(t){return new kc(t)},t.curveBundle=N_,t.curveCardinalClosed=S_,t.curveCardinalOpen=E_,t.curveCardinal=k_,t.curveCatmullRomClosed=C_,t.curveCatmullRomOpen=z_,t.curveCatmullRom=A_,t.curveLinearClosed=function(t){return new Oc(t)},t.curveLinear=oc,t.curveMonotoneX=function(t){return new Hc(t)},t.curveMonotoneY=function(t){return new jc(t)},t.curveNatural=function(t){return new Vc(t)},t.curveStep=function(t){return new Wc(t,.5)},t.curveStepAfter=function(t){return new Wc(t,1)},t.curveStepBefore=function(t){return new Wc(t,0)},t.stack=function(){function t(t){var o,u,a=n.apply(this,arguments),c=t.length,s=a.length,f=new Array(s);for(o=0;o<s;++o){for(var l,h=a[o],p=f[o]=new Array(c),d=0;d<c;++d)p[d]=l=[0,+i(t[d],h,d,t)],l.data=t[d];p.key=h}for(o=0,u=e(f);o<s;++o)f[u[o]].index=o;return r(f,u),f}var n=Ga([]),e=Gc,r=Zc,i=Qc;return t.keys=function(e){return arguments.length?(n="function"==typeof e?e:Ga(a_.call(e)),t):n},t.value=function(n){return arguments.length?(i="function"==typeof n?n:Ga(+n),t):i},t.order=function(n){return arguments.length?(e=null==n?Gc:"function"==typeof n?n:Ga(a_.call(n)),t):e},t.offset=function(n){return arguments.length?(r=null==n?Zc:n,t):r},t},t.stackOffsetExpand=function(t,n){if((r=t.length)>0){for(var e,r,i,o=0,u=t[0].length;o<u;++o){for(i=e=0;e<r;++e)i+=t[e][o][1]||0;if(i)for(e=0;e<r;++e)t[e][o][1]/=i}Zc(t,n)}},t.stackOffsetDiverging=function(t,n){if((a=t.length)>1)for(var e,r,i,o,u,a,c=0,s=t[n[0]].length;c<s;++c)for(o=u=0,e=0;e<a;++e)(i=(r=t[n[e]][c])[1]-r[0])>=0?(r[0]=o,r[1]=o+=i):i<0?(r[1]=u,r[0]=u+=i):r[0]=o},t.stackOffsetNone=Zc,t.stackOffsetSilhouette=function(t,n){if((e=t.length)>0){for(var e,r=0,i=t[n[0]],o=i.length;r<o;++r){for(var u=0,a=0;u<e;++u)a+=t[u][r][1]||0;i[r][1]+=i[r][0]=-a/2}Zc(t,n)}},t.stackOffsetWiggle=function(t,n){if((i=t.length)>0&&(r=(e=t[n[0]]).length)>0){for(var e,r,i,o=0,u=1;u<r;++u){for(var a=0,c=0,s=0;a<i;++a){for(var f=t[n[a]],l=f[u][1]||0,h=(l-(f[u-1][1]||0))/2,p=0;p<a;++p){var d=t[n[p]];h+=(d[u][1]||0)-(d[u-1][1]||0)}c+=l,s+=h*l}e[u-1][1]+=e[u-1][0]=o,c&&(o-=s/c)}e[u-1][1]+=e[u-1][0]=o,Zc(t,n)}},t.stackOrderAscending=Jc,t.stackOrderDescending=function(t){return Jc(t).reverse()},t.stackOrderInsideOut=function(t){var n,e,r=t.length,i=t.map(Kc),o=Gc(t).sort(function(t,n){return i[n]-i[t]}),u=0,a=0,c=[],s=[];for(n=0;n<r;++n)e=o[n],u<a?(u+=i[e],c.push(e)):(a+=i[e],s.push(e));return s.reverse().concat(c)},t.stackOrderNone=Gc,t.stackOrderReverse=function(t){return Gc(t).reverse()},t.timeInterval=Cu,t.timeMillisecond=wv,t.timeMilliseconds=Mv,t.utcMillisecond=wv,t.utcMilliseconds=Mv,t.timeSecond=kv,t.timeSeconds=Sv,t.utcSecond=kv,t.utcSeconds=Sv,t.timeMinute=Ev,t.timeMinutes=Av,t.timeHour=Cv,t.timeHours=zv,t.timeDay=Pv,t.timeDays=Rv,t.timeWeek=Lv,t.timeWeeks=Yv,t.timeSunday=Lv,t.timeSundays=Yv,t.timeMonday=qv,t.timeMondays=Bv,t.timeTuesday=Dv,t.timeTuesdays=Hv,t.timeWednesday=Uv,t.timeWednesdays=jv,t.timeThursday=Ov,t.timeThursdays=Xv,t.timeFriday=Fv,t.timeFridays=Vv,t.timeSaturday=Iv,t.timeSaturdays=$v,t.timeMonth=Wv,t.timeMonths=Zv,t.timeYear=Gv,t.timeYears=Qv,t.utcMinute=Jv,t.utcMinutes=Kv,t.utcHour=tg,t.utcHours=ng,t.utcDay=eg,t.utcDays=rg,t.utcWeek=ig,t.utcWeeks=lg,t.utcSunday=ig,t.utcSundays=lg,t.utcMonday=og,t.utcMondays=hg,t.utcTuesday=ug,t.utcTuesdays=pg,t.utcWednesday=ag,t.utcWednesdays=dg,t.utcThursday=cg,t.utcThursdays=vg,t.utcFriday=sg,t.utcFridays=gg,t.utcSaturday=fg,t.utcSaturdays=_g,t.utcMonth=yg,t.utcMonths=mg,t.utcYear=xg,t.utcYears=wg,t.timeFormatDefaultLocale=Ha,t.timeFormatLocale=Du,t.isoFormat=Eg,t.isoParse=Ag,t.now=mn,t.timer=wn,t.timerFlush=Mn,t.timeout=Sn,t.interval=function(t,n,e){var r=new bn,i=n;return null==n?(r.restart(t,n,e),r):(n=+n,e=null==e?mn():+e,r.restart(function o(u){u+=i,r.restart(o,i+=n,e),t(u)},n,e),r)},t.transition=Dn,t.active=function(t,n){var e,r,i=t.__transition;if(i){n=null==n?null:n+"";for(r in i)if((e=i[r]).state>xl&&e.name===n)return new qn([[t]],Jl,n,+r)}return null},t.interrupt=Pn,t.voronoi=function(){function t(t){return new Ns(t.map(function(r,i){var o=[Math.round(n(r,i,t)/F_)*F_,Math.round(e(r,i,t)/F_)*F_];return o.index=i,o.data=r,o}),r)}var n=ns,e=es,r=null;return t.polygons=function(n){return t(n).polygons()},t.links=function(n){return t(n).links()},t.triangles=function(n){return t(n).triangles()},t.x=function(e){return arguments.length?(n="function"==typeof e?e:ts(+e),t):n},t.y=function(n){return arguments.length?(e="function"==typeof n?n:ts(+n),t):e},t.extent=function(n){return arguments.length?(r=null==n?null:[[+n[0][0],+n[0][1]],[+n[1][0],+n[1][1]]],t):r&&[[r[0][0],r[0][1]],[r[1][0],r[1][1]]]},t.size=function(n){return arguments.length?(r=null==n?null:[[0,0],[+n[0],+n[1]]],t):r&&[r[1][0]-r[0][0],r[1][1]-r[0][1]]},t},t.zoom=function(){function n(t){t.property("__zoom",Rs).on("wheel.zoom",c).on("mousedown.zoom",s).on("dblclick.zoom",f).filter(x).on("touchstart.zoom",l).on("touchmove.zoom",h).on("touchend.zoom touchcancel.zoom",p).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function e(t,n){return(n=Math.max(b[0],Math.min(b[1],n)))===t.k?t:new Ss(n,t.x,t.y)}function r(t,n,e){var r=n[0]-e[0]*t.k,i=n[1]-e[1]*t.k;return r===t.x&&i===t.y?t:new Ss(t.k,r,i)}function i(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function o(t,n,e){t.on("start.zoom",function(){u(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){u(this,arguments).end()}).tween("zoom",function(){var t=arguments,r=u(this,t),o=_.apply(this,t),a=e||i(o),c=Math.max(o[1][0]-o[0][0],o[1][1]-o[0][1]),s=this.__zoom,f="function"==typeof n?n.apply(this,t):n,l=T(s.invert(a).concat(c/s.k),f.invert(a).concat(c/f.k));return function(t){if(1===t)t=f;else{var n=l(t),e=c/n[2];t=new Ss(e,a[0]-n[0]*e,a[1]-n[1]*e)}r.zoom(null,t)}})}function u(t,n){for(var e,r=0,i=k.length;r<i;++r)if((e=k[r]).that===t)return e;return new a(t,n)}function a(t,n){this.that=t,this.args=n,this.index=-1,this.active=0,this.extent=_.apply(t,n)}function c(){if(g.apply(this,arguments)){var t=u(this,arguments),n=this.__zoom,i=Math.max(b[0],Math.min(b[1],n.k*Math.pow(2,m.apply(this,arguments)))),o=pt(this);if(t.wheel)t.mouse[0][0]===o[0]&&t.mouse[0][1]===o[1]||(t.mouse[1]=n.invert(t.mouse[0]=o)),clearTimeout(t.wheel);else{if(n.k===i)return;t.mouse=[o,n.invert(o)],Pn(this),t.start()}Cs(),t.wheel=setTimeout(function(){t.wheel=null,t.end()},A),t.zoom("mouse",y(r(e(n,i),t.mouse[0],t.mouse[1]),t.extent,w))}}function s(){if(!v&&g.apply(this,arguments)){var n=u(this,arguments),e=ct(t.event.view).on("mousemove.zoom",function(){if(Cs(),!n.moved){var e=t.event.clientX-o,i=t.event.clientY-a;n.moved=e*e+i*i>C}n.zoom("mouse",y(r(n.that.__zoom,n.mouse[0]=pt(n.that),n.mouse[1]),n.extent,w))},!0).on("mouseup.zoom",function(){e.on("mousemove.zoom mouseup.zoom",null),yt(t.event.view,n.moved),Cs(),n.end()},!0),i=pt(this),o=t.event.clientX,a=t.event.clientY;_t(t.event.view),As(),n.mouse=[i,this.__zoom.invert(i)],Pn(this),n.start()}}function f(){if(g.apply(this,arguments)){var i=this.__zoom,u=pt(this),a=i.invert(u),c=i.k*(t.event.shiftKey?.5:2),s=y(r(e(i,c),u,a),_.apply(this,arguments),w);Cs(),M>0?ct(this).transition().duration(M).call(o,s,u):ct(this).call(n.transform,s)}}function l(){if(g.apply(this,arguments)){var n,e,r,i,o=u(this,arguments),a=t.event.changedTouches,c=a.length;for(As(),e=0;e<c;++e)i=[i=dt(this,a,(r=a[e]).identifier),this.__zoom.invert(i),r.identifier],o.touch0?o.touch1||(o.touch1=i):(o.touch0=i,n=!0);if(d&&(d=clearTimeout(d),!o.touch1))return o.end(),void((i=ct(this).on("dblclick.zoom"))&&i.apply(this,arguments));n&&(d=setTimeout(function(){d=null},E),Pn(this),o.start())}}function h(){var n,i,o,a,c=u(this,arguments),s=t.event.changedTouches,f=s.length;for(Cs(),d&&(d=clearTimeout(d)),n=0;n<f;++n)o=dt(this,s,(i=s[n]).identifier),c.touch0&&c.touch0[2]===i.identifier?c.touch0[0]=o:c.touch1&&c.touch1[2]===i.identifier&&(c.touch1[0]=o);if(i=c.that.__zoom,c.touch1){var l=c.touch0[0],h=c.touch0[1],p=c.touch1[0],v=c.touch1[1],g=(g=p[0]-l[0])*g+(g=p[1]-l[1])*g,_=(_=v[0]-h[0])*_+(_=v[1]-h[1])*_;i=e(i,Math.sqrt(g/_)),o=[(l[0]+p[0])/2,(l[1]+p[1])/2],a=[(h[0]+v[0])/2,(h[1]+v[1])/2]}else{if(!c.touch0)return;o=c.touch0[0],a=c.touch0[1]}c.zoom("touch",y(r(i,o,a),c.extent,w))}function p(){var n,e,r=u(this,arguments),i=t.event.changedTouches,o=i.length;for(As(),v&&clearTimeout(v),v=setTimeout(function(){v=null},E),n=0;n<o;++n)e=i[n],r.touch0&&r.touch0[2]===e.identifier?delete r.touch0:r.touch1&&r.touch1[2]===e.identifier&&delete r.touch1;r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0?r.touch0[1]=this.__zoom.invert(r.touch0[0]):r.end()}var d,v,g=zs,_=Ps,y=Ds,m=Ls,x=qs,b=[0,1/0],w=[[-1/0,-1/0],[1/0,1/0]],M=250,T=vn,k=[],S=N("start","zoom","end"),E=500,A=150,C=0;return n.transform=function(t,n){var e=t.selection?t.selection():t;e.property("__zoom",Rs),t!==e?o(t,n):e.interrupt().each(function(){u(this,arguments).start().zoom(null,"function"==typeof n?n.apply(this,arguments):n).end()})},n.scaleBy=function(t,e){n.scaleTo(t,function(){return this.__zoom.k*("function"==typeof e?e.apply(this,arguments):e)})},n.scaleTo=function(t,o){n.transform(t,function(){var t=_.apply(this,arguments),n=this.__zoom,u=i(t),a=n.invert(u),c="function"==typeof o?o.apply(this,arguments):o;return y(r(e(n,c),u,a),t,w)})},n.translateBy=function(t,e,r){n.transform(t,function(){return y(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof r?r.apply(this,arguments):r),_.apply(this,arguments),w)})},n.translateTo=function(t,e,r){n.transform(t,function(){var t=_.apply(this,arguments),n=this.__zoom,o=i(t);return y(Y_.translate(o[0],o[1]).scale(n.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof r?-r.apply(this,arguments):-r),t,w)})},a.prototype={start:function(){return 1==++this.active&&(this.index=k.push(this)-1,this.emit("start")),this},zoom:function(t,n){return this.mouse&&"mouse"!==t&&(this.mouse[1]=n.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=n.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=n.invert(this.touch1[0])),this.that.__zoom=n,this.emit("zoom"),this},end:function(){return 0==--this.active&&(k.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(t){it(new function(t,n,e){this.target=t,this.type=n,this.transform=e}(n,t,this.that.__zoom),S.apply,S,[t,this.that,this.args])}},n.wheelDelta=function(t){return arguments.length?(m="function"==typeof t?t:ks(+t),n):m},n.filter=function(t){return arguments.length?(g="function"==typeof t?t:ks(!!t),n):g},n.touchable=function(t){return arguments.length?(x="function"==typeof t?t:ks(!!t),n):x},n.extent=function(t){return arguments.length?(_="function"==typeof t?t:ks([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),n):_},n.scaleExtent=function(t){return arguments.length?(b[0]=+t[0],b[1]=+t[1],n):[b[0],b[1]]},n.translateExtent=function(t){return arguments.length?(w[0][0]=+t[0][0],w[1][0]=+t[1][0],w[0][1]=+t[0][1],w[1][1]=+t[1][1],n):[[w[0][0],w[0][1]],[w[1][0],w[1][1]]]},n.constrain=function(t){return arguments.length?(y=t,n):y},n.duration=function(t){return arguments.length?(M=+t,n):M},n.interpolate=function(t){return arguments.length?(T=t,n):T},n.on=function(){var t=S.on.apply(S,arguments);return t===S?n:t},n.clickDistance=function(t){return arguments.length?(C=(t=+t)*t,n):Math.sqrt(C)},n},t.zoomTransform=Es,t.zoomIdentity=Y_,Object.defineProperty(t,"__esModule",{value:!0})});</script>
<script>/**
 * vizabi - Vizabi Framework, Interactive charts and visualization tools animated through time
 * @version v0.34.1
 * @build timestamp Fri Sep 21 2018 18:58:54 GMT+0000 (UTC)
 * @link http://vizabi.org
 * @license BSD-3-Clause
 */

!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("Vizabi",[],e):"object"==typeof exports?exports.Vizabi=e():t.Vizabi=e()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=187)}([function(t,e,n){var i=n(3),r=n(22),a=n(14),s=n(15),o=n(23),l=function(t,e,n){var c,u,h,d,f=t&l.F,p=t&l.G,v=t&l.S,g=t&l.P,m=t&l.B,b=p?i:v?i[e]||(i[e]={}):(i[e]||{}).prototype,y=p?r:r[e]||(r[e]={}),_=y.prototype||(y.prototype={});p&&(n=e);for(c in n)u=!f&&b&&void 0!==b[c],h=(u?b:n)[c],d=m&&u?o(h,i):g&&"function"==typeof h?o(Function.call,h):h,b&&s(b,c,h,t&l.U),y[c]!=h&&a(y,c,d),g&&_[c]!=h&&(_[c]=h)};i.core=r,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function r(t){return Boolean(t instanceof Date||t instanceof RegExp)}function a(t){if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp)return new RegExp(t);throw new Error("Unexpected situation")}function s(t){var e=[];return x(t,function(t,n){"object"===(void 0===t?"undefined":h(t))&&null!==t?p(t)?e[n]=s(t):r(t)?e[n]=a(t):e[n]=S({},t):e[n]=t}),e}function o(t,e){return function(n,i){var r=e.getBoundingClientRect(),a=t.getScreenCTM();return{x:a.a*n+a.c*i+a.e-r.left,y:a.b*n+a.d*i+a.f-r.top}}}function l(){function t(t){return t}function e(t){return"string"==typeof t?t.toLowerCase():t}function n(n,i){if(i="number"==typeof i?{direction:i}:i||{},"function"!=typeof n){var r=n;n=function(t){return t[r]?t[r]:""}}if(1===n.length){var a=n,s=i.ignoreCase?e:t;n=function(t,e){return s(a(t))<s(a(e))?-1:s(a(t))>s(a(e))?1:0}}return-1===i.direction?function(t,e){return-n(t,e)}:n}function i(t,e){var r="function"==typeof this&&this,a=n(t,e),s=r?function(t,e){return r(t,e)||a(t,e)}:a;return s.thenBy=i,s}return i}function c(t){var e=t.transform.baseVal.consolidate().matrix,n=e.a,i=e.b,r=e.c,a=e.d,s=e.e,o=e.f;return function(t,e,n,i,r,a){var s=void 0,o=void 0,l=void 0;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(l=t*n+e*i)&&(n-=t*l,i-=e*l),(o=Math.sqrt(n*n+i*i))&&(n/=o,i/=o,l/=o),t*i<e*n&&(t=-t,e=-e,l=-l,s=-s),{translateX:r,translateY:a,rotate:Math.atan2(e,t)*Math.PI/180,skewX:Math.atan(l)*Math.PI/180,scaleX:s,scaleY:o}}(n,i,r,a,s,o)}function u(t,e){for(var n=t[e[0]],i=1,r=e.length;i<r;i++)n=n+","+t[e[i]];return n}Object.defineProperty(e,"__esModule",{value:!0}),e.getOSname=e.normaliseLink=e.getBrowserDetails=e.getSubtitle=e.replaceNumberSpacesToNonBreak=e.px2num=e.getProp=e.isFunction=e.isMobileOrTablet=e.capitalize=e.setIcon=e.pruneTree=e.isTouchDevice=e.debounce=e.memoize=e.post=e.get=e.ajax=e.interpolatePoint=e.interpolateVector=e.nestArrayToValues=e.nestArrayToObjWithFlatKeys=e.nestArrayToObj=e.hashCode=e.clearDelay=e.delay=e.defer=e.diffObject=e.arrayLast=e.arrayMedian=e.arraySum=e.arrayMean=e.arrayMax=e.arrayMin=e.values=e.keys=e.throttle=e.hasClass=e.classed=e.removeClass=e.addClass=e.countDecimals=e.error=e.groupEnd=e.groupCollapsed=e.warn=e.timeStamp=e.areaToRadius=e.cathetus=e.hypotenuse=e.radiusToArea=e.preventAncestorScrolling=e.matchAny=e.filterAny=e.filter=e.find=e.uniqueLast=e.unique=e.without=e.deepClone=e.clone=e.merge=e.deepExtend=e.extend=e.forEach=e.strToFloat=e.roundStep=e.findScrollableAncestor=e.getViewportPosition=e.comparePlainObjects=e.deepArrayEquals=e.arrayEquals=e.isPlainObject=e.isNumber=e.isEmpty=e.isNaN=e.isString=e.isDate=e.isObject=e.isArray=e.isElement=e.uniqueId=e.printAutoconfigResult=e.approxEqual=e.d3text=e.d3json=void 0;var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.makeAbsoluteContext=o,e.firstBy=l,e.transform=c,e.getKey=u;var d=n(391),f=function(t){return t&&t.__esModule?t:{default:t}}(d),p=(e.d3json=function(t,e){window.fetch&&-1===navigator.userAgent.toLowerCase().indexOf(" electron/")?fetch(t).then(function(t){if(t.ok)return t.json();e(new Error)}).then(function(t){e(null,t)}).catch(function(t){return e(t)}):d3.json(t,e)},e.d3text=function(t,e){window.fetch&&-1===navigator.userAgent.toLowerCase().indexOf(" electron/")?fetch(t).then(function(t){if(t.ok)return t.text();e(new Error)}).then(function(t){e(null,t)}).catch(function(t){return e(t)}):d3.text(t,e)},e.approxEqual=function(t,e,n){return n=n||0,e>0?(1-n)*e<=t&&t<=e*(1+n):e<0?(1+n)*e<=t&&t<=e*(1-n):Math.abs(t)<=n},e.printAutoconfigResult=function(t){console.info("AUTOCONFIG: "+t._name+(t.isHook()?" of "+t._parent._name:"")+" choses "+(t.dim||t.which)+" from "+(t.dataSource?t.dataSource._name:"<DATA SOURCE MISSING!>")+" to be "+("entities"===t._type||"time"===t._type?"DIM":"WHICH"))},e.uniqueId=function(){var t=0;return function(e){return e?e+(t+=1):t+=1}}(),e.isElement=function(t){return!(!t||1!==t.nodeType)},e.isArray=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}),v=e.isObject=function(t){return"object"===(void 0===t?"undefined":h(t))&&!!t},g=(e.isDate=function(t){return t instanceof Date},e.isString=function(t){return"string"==typeof t}),m=e.isNaN=function(t){return y(t)&&t!==+t},b=e.isEmpty=function(t){return 0===Object.keys(t).length&&t.constructor===Object},y=e.isNumber=function(t){return"number"==typeof t||!!t&&"object"===(void 0===t?"undefined":h(t))&&"[object Number]"===Object.prototype.toString.call(t)},_=e.isPlainObject=function(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)},M=(e.arrayEquals=function(t,e){if(t===e)return!0;if(null==t||null==e)return!1;if(t.length!=e.length)return!1;for(var n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0},e.deepArrayEquals=function(t,e){if(t===e)return!0;if(null==t||null==e)return!1;if(t.length!=e.length)return!1;for(var n=0;n<t.length;++n)if(_(t[n])&&_(e[n])){if(!w(t[n],e[n]))return!1}else if(t[n]!==e[n])return!1;return!0}),w=e.comparePlainObjects=function(t,e){var n=function(t){return Object.prototype.toString.call(t).match(/^\[object\s(.*)\]$/)[1]},i=function(t){if(void 0===t)return"undefined";if(null===t)return"null";var e=void 0===t?"undefined":h(t);return"object"===e&&(e=n(t).toLowerCase()),"number"===e?t.toString().indexOf(".")>0?"float":"integer":e},r=function(t,e){if(t===e)return!0;for(var n in t){if(!e.hasOwnProperty(n))return!1;if(!o(t[n],e[n]))return!1}for(var i in e)if(!t.hasOwnProperty(i))return!1;return!0},a=function(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!o(t[n],e[n]))return!1;return!0},s={};s.array=a,s.object=r,s.date=function(t,e){return t.getTime()===e.getTime()},s.regexp=function(t,e){return t.toString()===e.toString()};var o=function(t,e){if(t!==e){var n=i(t);return n===i(e)&&(s.hasOwnProperty(n)?s[n](t,e):t==e)}return!0};return r(t,e)},x=(e.getViewportPosition=function(t){for(var e=0,n=0;t;)e+=t.offsetLeft-t.scrollLeft+t.clientLeft,n+=t.offsetTop-t.scrollTop+t.clientTop,t=t.offsetParent;return{x:e,y:n}},e.findScrollableAncestor=function(t){for(var e=["scroll","auto"];t=t.parentNode;){if(t.scrollHeight>t.clientHeight&&-1!==e.indexOf(d3.select(t).style("overflow")))return t}return null},e.roundStep=function(t,e){return Math.round(t/e)*e},e.strToFloat=function(t){return+t.replace(/[^\d.-]/g,"")},e.forEach=function(t,e,n){if(t){var i=void 0,r=void 0;if(p(t))for(r=t.length,i=0;i<r;i+=1){var a=e.apply(n,[t[i],i]);if(!1===a)break}else{var s=Object.keys(t);for(r=s.length,i=0;i<r;i+=1){if(!1===e.apply(n,[t[s[i]],s[i]]))break}}}}),S=(e.extend=function(t){var e=Array.prototype.slice.call(arguments,1);return x(e,function(e,n){x(e,function(n,i){e.hasOwnProperty(i)&&(t[i]=n)})}),t},e.deepExtend=function t(){if(arguments.length<1||"object"!==h(arguments[0]))return!1;if(arguments.length<2)return arguments[0];var e=arguments[0],n="boolean"==typeof arguments[arguments.length-1],i=n&&arguments[arguments.length-1],o=Array.prototype.slice.call(arguments,1,n?-1:arguments.length),l=void 0,c=void 0;return x(o,function(n){"object"!==(void 0===n?"undefined":h(n))||p(n)||x(Object.keys(n),function(o){c=e[o],(l=n[o])===e||("object"!==(void 0===l?"undefined":h(l))||null===l||l._data?e[o]=l:p(l)?e[o]=s(l):r(l)?e[o]=a(l):"object"!==(void 0===c?"undefined":h(c))||null===c||p(c)?e[o]=t({},l):i&&b(l)?e[o]={}:e[o]=t(c,l,i))})}),e}),z=(e.merge=function(t){var e=Array.prototype.slice.call(arguments,1);return x(e,function(e,n){x(e,function(n,i){e.hasOwnProperty(i)&&(t.hasOwnProperty(i)?(p(t[i])||(t[i]=[t[i]]),t[i].push(n)):t[i]=n)})}),t},e.clone=function(t,e,n){if(p(t))return t.slice(0);var i={};return x(t,function(r,a){e&&-1===e.indexOf(a)||n&&-1!==n.indexOf(a)||t.hasOwnProperty(a)&&(i[a]=r)}),i},e.deepClone=function t(e){var n={};return p(e)&&(n=[]),x(e,function(e,i){v(e)||p(e)?n[i]=t(e):n[i]=e}),n},e.without=function(t,e){var n=t.indexOf(e);return-1!==n&&t.splice(n,1),t},e.unique=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t},n={};return t.filter(function(t){var i=e(t);return!n.hasOwnProperty(i)&&(n[i]=1,!0)})},e.uniqueLast=function(t,e){var n={},i=[];e||(e=function(t){return t});for(var r=0,a=t.length;r<a;r+=1){var s=e(t[r]);n.hasOwnProperty(s)&&i.splice(n[s],1),i.push(t[r]),n[s]=i.length-1}return i},e.find=function(t,e){var n=void 0;return x(t,function(t){if(e(t))return n=t,!1}),n},e.filter=function(t,e){for(var n=-1,i=t.length,r=-1,a=[],s=Object.keys(e),o=s.length,l=void 0,c=void 0;(n+=1)<i;){var u=t[n],h=!0;for(l=0;l<o;l+=1)if(c=s[l],!u.hasOwnProperty(c)||u[c]!==e[c]){h=!1;break}h&&(a[r+=1]=u)}return a},e.filterAny=function(t,e,n){for(var i=-1,r=t.length,a=-1,s=[],o=Object.keys(e),l=o.length,c=void 0,u=void 0;(i+=1)<r;){var h=t[i],d=!0;for(c=0;c<l;c+=1)if(u=o[c],!h.hasOwnProperty(u)||!z(h[u],e[u],n)){d=!1;break}d&&(s[a+=1]=h)}return s},e.matchAny=function(t,e,n){p(t)||(t=[t]),n||(n="*");for(var i=!1,r=0;r<t.length;r++){var a=t[r];if(!p(e)&&a==e){i=!0;break}if(p(e)){for(var s=-1,o=0;o<e.length;o++){var l=e[o];if(!(p(l)||l!=a&&l!==n)){s=o;break}if(p(l)){var c=l[0],u=l[1]||c;if(a>=c&&a<=u){s=o;break}}}if(-1!==s){i=!0;break}}}return i}),O=(e.preventAncestorScrolling=function(t){var e=!1;t.on("mousewheel",function(n,i){var r=this.scrollTop,a=this.scrollHeight,s=t.node().offsetHeight,o=d3.event.wheelDelta,l=o>0,c=function(t){return function(){var e=this,n=d3.interpolateNumber(this.scrollTop,t);return function(t){e.scrollTop=n(t)}}};if(l?l&&(o>r&&r>0?(t.transition().delay(0).duration(0).tween("scrolltween",c(0)),e=!0,setTimeout(function(){e=!1},2e3)):a==s+r&&(e=!1)):-o>a-s-r&&a!=s+r?(t.transition().delay(0).duration(0).tween("scrolltween",c(a)),e=!0,setTimeout(function(){e=!1},2e3)):0==r&&(e=!1),e)return function(){return d3.event.stopPropagation(),d3.event.preventDefault(),d3.event.returnValue=!1,!1}()})},e.radiusToArea=function(t){return t*t*Math.PI},e.hypotenuse=function(t,e){return Math.sqrt(t*t+e*e)},e.cathetus=function(t,e){return Math.sqrt(t*t-e*e)},e.areaToRadius=function(t){return Math.sqrt(t/Math.PI)},e.timeStamp=function(t){console&&"function"==typeof console.timeStamp&&console.timeStamp(t)},e.warn=function(t){return t=Array.prototype.slice.call(arguments).map(function(t){return t instanceof Object?JSON.stringify(t,null,4):t}).join(" "),console&&"function"==typeof console.warn&&console.warn(t),!0}),E=(e.groupCollapsed=function(t){t=Array.prototype.slice.call(arguments).join(" "),console&&"function"==typeof console.groupCollapsed&&console.groupCollapsed(t)},e.groupEnd=function(){console&&"function"==typeof console.groupEnd&&console.groupEnd()},e.error=function(t){console&&"function"==typeof console.error&&(t.stack?console.error(t.stack):console.error(t),arguments.length>1&&console.error.apply(this,Array.prototype.slice.call(arguments,1)))},e.countDecimals=function(t){return Math.floor(t.valueOf())===t.valueOf()?0:t.toString().split(".")[1].length||0},e.addClass=function(t,e){t.classList?t.classList.add(e):t.className+=" "+e}),k=e.removeClass=function(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")},T=(e.classed=function(t,e,n){if(!0===n)E(t,e);else{if(!1!==n)return T(t,e);k(t,e)}},e.hasClass=function(t,e){return t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className)}),P=(e.throttle=function(t,e){var n=!1,i=void 0,r=void 0,a=void 0,s=function(){n&&(n=!1,t.apply(r,i))},o=function(){if(a>Date.now())return n=!0,i=arguments,void(r=this);a=Date.now()+e,n=!1,t.apply(this,arguments),setTimeout(function(){s()},e)};return o.recallLast=s,o},e.keys=function(t){return Object.keys(t)},e.values=function(t){for(var e=[],n=Object.keys(t),i=n.length,r=0;r<i;r+=1)e.push(t[n[r]]);return e},e.arrayMin=function(t){return t.reduce(function(t,e){return t<e?t:e})},e.arrayMax=function(t){return t.reduce(function(t,e){return t>e?t:e})},e.arrayMean=function(t){return P(t)/t.length},e.arraySum=function(t){return t.reduce(function(t,e){return t+e})}),C=(e.arrayMedian=function(t){t=t.sort(function(t,e){return t-e});var e=Math.floor((t.length-1)/2);return t.length%2?t[e]:(t[e]+t[e+1])/2},e.arrayLast=function(t){return t.length?t[t.length-1]:null},e.diffObject=function t(e,n){var i={};return x(n,function(n,r){!e.hasOwnProperty(r)&&_(n)&&(i[r]=t({},n))}),x(e,function(e,r){if(n.hasOwnProperty(r)){if(e!==n[r])if(_(e)&&_(n[r]))if(b(e))b(n[r])||(i[r]={});else{var a=t(e,n[r]);Object.keys(a).length>0&&(i[r]=a)}else p(e)&&p(n[r])&&M(e,n[r])||(i[r]=e)}else i[r]=e}),i},e.defer=function(t){setTimeout(t,1)},e.delay=function(t){return new Promise(function(e){return setTimeout(e,t)})},e.clearDelay=function(t){return clearTimeout(t)},e.hashCode=function(t){g(t)||(t=JSON.stringify(t));var e=0,n=t.length,i=void 0;if(0===n)return e;for(var r=0;r<n;r+=1)i=t.charCodeAt(r),e=(e<<5)-e+i,e&=e;return e.toString()},e.nestArrayToObj=function t(e){if(!e||!e.length||!e[0].key)return e;for(var n={},i=0;i<e.length;i++)n[e[i].key]=t(e[i].values);return n},e.nestArrayToObjWithFlatKeys=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";if(!e||!e.length||!e[0].key)return i?(i+="]",!n[i]&&(n[i]={}),n[i][r]=e):n[r]=e,e;r&&(i=i?i+","+JSON.stringify(r):"["+JSON.stringify(r));for(var a=0;a<e.length;a++)t(e[a].values||e[a].value,n,i,e[a].key);return n},e.nestArrayToValues=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!e||!e.length||!e[0].key)return void n.push.apply(n,i(e));for(var r=0;r<e.length;r++)t(e[r].values||e[r].value,n);return n},e.interpolateVector=function(){},e.interpolatePoint=function(t,e,n,i,r,a,s,o){if(!t||0===t.length)return O("interpolatePoint failed because incoming array is empty. It was "+n),null;if("constant"===e)return n;if("property"===e)return t[0][n];if(o){if(a-t[0][r]<=0)return t[0][n];if(a-t[t.length-1][r]>=0)return t[t.length-1][n]}else if(a<t[0][r]||a>t[t.length-1][r])return null;if(i||0===i||(i=d3.bisectLeft(t.map(function(t){return t[r]}),a)),0===i)return t[0][n];if(void 0===t[i]||null===t[i][n]||null===t[i-1][n]||""===t[i][n])return O("interpolatePoint failed because next/previous points are bad in "+n),null;var l=f.default[s||"linear"](t[i-1][r],t[i][r],t[i-1][n],t[i][n],a);return n===r&&(l=new Date(l)),m(l)&&(O("interpolatePoint failed because result is NaN. It was "+n),l=null),l},e.ajax=function(t){var e=new XMLHttpRequest;e.open(t.method,t.url,!0),"POST"!==t.method||t.json?"POST"===t.method&&t.json&&e.setRequestHeader("Content-Type","application/json; charset=UTF-8"):e.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),e.onload=function(){if(e.status>=200&&e.status<400){var n=t.json?JSON.parse(e.responseText):e.responseText;t.success&&t.success(n)}else t.error&&t.error()},e.onerror=function(){t.error&&t.error()},e.send(t.data)});e.get=function(t,e,n,i,r){e=e||[],x(e,function(t,n){e.push(n+"="+t)}),t=e.length?t+"?"+e.join("&"):t,C({method:"GET",url:t,success:n,error:i,json:r})},e.post=function(t,e,n,i,r){C({method:"POST",url:t,success:n,error:i,json:r,data:e})},e.memoize=function(t){return function(){for(var e=Array.prototype.slice.call(arguments),n="",i=e.length,r=null;i--;)r=e[i],n+=r===Object(r)?JSON.stringify(r):r,t.memoize||(t.memoize={});return n in t.memoize?t.memoize[n]:t.memoize[n]=t.apply(this,e)}},e.debounce=function(t,e,n){var i=void 0;return function(){var r=this,a=arguments,s=function(){i=null,n||t.apply(r,a)},o=n&&!i;clearTimeout(i),i=setTimeout(s,e),o&&t.apply(r,a)}},e.isTouchDevice=function(){return null!=((d3.event||{}).sourceCapabilities||{}).firesTouchEvents?d3.event.sourceCapabilities.firesTouchEvents:!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)},e.pruneTree=function t(e,n){var i={},r=[];return e.hasOwnProperty("children")&&(r=e.children.map(function(e){return t(e,n)}).filter(function(t){return 0!==Object.keys(t).length})),(0!=r.length||n(e))&&x(e,function(t,e){i[e]=t}),0!=r.length&&(i.children=r),i},e.setIcon=function(t,e){return t.selectAll("*").remove(),t.node().appendChild(t.node().ownerDocument.importNode((new DOMParser).parseFromString(e,"application/xml").documentElement,!0)),t},e.capitalize=function(t){return t.slice(0,1).toUpperCase()+t.slice(1).toLowerCase()},e.isMobileOrTablet=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(t.substr(0,4))},e.isFunction=function(t){return"function"==typeof t},e.getProp=function(t,e,n){for(;e.length;){var i=e.shift();if(!t.hasOwnProperty(i))return n;t=t[i]}return t},e.px2num=function(t){return g(t)&&t.endsWith("px")?parseFloat(t):console.warn("Strange pixels value: "+t)||t},e.replaceNumberSpacesToNonBreak=function(t){return t?t.replace(/\d{1,3}(?: \d{3})+(?=\W)/g,function(t){return t.replace(/ /g," ")}):t},e.getSubtitle=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments[1],n=t.replace(e,"");","===n[0]&&(n=n.slice(1));var i=/^\((.*)\)$|.*/.exec(n.trim());return i[1]||i[0]||""},e.getBrowserDetails=function(){var t=(navigator.appVersion,navigator.userAgent),e=navigator.appName,n=""+parseFloat(navigator.appVersion),i=parseInt(navigator.appVersion,10),r=void 0,a=void 0,s=void 0,o=navigator.userAgent.toLowerCase().indexOf(" electron/")>-1;return-1!=(a=t.indexOf("Opera"))?(e="Opera",n=t.substring(a+6),-1!=(a=t.indexOf("Version"))&&(n=t.substring(a+8))):-1!=(a=t.indexOf("MSIE"))?(e="Microsoft Internet Explorer",n=t.substring(a+5)):-1!=(a=t.indexOf("Chrome"))?(e="Chrome",n=t.substring(a+7)):-1!=(a=t.indexOf("Safari"))?(e="Safari",n=t.substring(a+7),-1!=(a=t.indexOf("Version"))&&(n=t.substring(a+8))):-1!=(a=t.indexOf("Firefox"))?(e="Firefox",n=t.substring(a+8)):(r=t.lastIndexOf(" ")+1)<(a=t.lastIndexOf("/"))&&(e=t.substring(r,a),n=t.substring(a+1),e.toLowerCase()==e.toUpperCase()&&(e=navigator.appName)),-1!=(s=n.indexOf(";"))&&(n=n.substring(0,s)),-1!=(s=n.indexOf(" "))&&(n=n.substring(0,s)),i=parseInt(""+n,10),m(i)&&(n=""+parseFloat(navigator.appVersion),i=parseInt(navigator.appVersion,10)),(o?"Electron ":"")+e+" "+i+" ("+n+")"},e.normaliseLink=function(t){return 0===t.indexOf("http://")||0===t.indexOf("https://")?t:0===t.indexOf("//")?"http://"+t.slice(2):"http://"+t},e.getOSname=function(){var t="Unknown";return-1!=window.navigator.userAgent.indexOf("Windows NT 10.0")&&(t="Windows 10"),-1!=window.navigator.userAgent.indexOf("Windows NT 6.2")&&(t="Windows 8"),-1!=window.navigator.userAgent.indexOf("Windows NT 6.1")&&(t="Windows 7"),-1!=window.navigator.userAgent.indexOf("Windows NT 6.0")&&(t="Windows Vista"),-1!=window.navigator.userAgent.indexOf("Windows NT 5.1")&&(t="Windows XP"),-1!=window.navigator.userAgent.indexOf("Windows NT 5.0")&&(t="Windows 2000"),-1!=window.navigator.userAgent.indexOf("Mac")&&(t="Mac/iOS"),-1!=window.navigator.userAgent.indexOf("X11")&&(t="UNIX"),-1!=window.navigator.userAgent.indexOf("Linux")&&(t="Linux"),t}},function(t,e,n){var i=n(5);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){var n=function(e){return t.replace(/<%=([^%]*)%>/g,function(t){var n=t.match(/t\s*\(([^)]+)\)/g);return n.length?n=e.t(n[0].match(/"([^"]+)"/g)[0].split('"').join("")):(n=t.match(/([a-z\-A-Z]+([a-z\-A-Z0-9]?[a-zA-Z0-9]?)?)/g)[0],n=e[n]||n),n})},i=/<[a-z][\s\S]*>/i.test(t)?n:p[t]=p[t]||r(d.default.templates[t]);return e?i(e):i}Object.defineProperty(e,"__esModule",{value:!0});var a=n(1),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(a),o=n(49),l=i(o),c=n(48),u=i(c),h=n(110),d=i(h),f=n(21),p={},v=l.default.extend({init:function(t,e){if(this._id=this._id||s.uniqueId("c"),this._ready=!1,this._readyOnce=!1,this.name=this.name||t.name||this._id,this.template=this.template||"<div></div>",this.placeholder=this.placeholder||t.placeholder,this.template_data=this.template_data||{name:this.name},this.placeholder&&!s.isElement(this.placeholder))try{this.placeholder=e.placeholder.querySelector(this.placeholder)}catch(t){s.error("Error finding placeholder '"+this.placeholder+"' for component '"+this.name+"'")}this.parent=e||null,this.root=this.parent?this.parent.root:this,this.components=this.components||[],this._components_config=this.components.map(function(t){return s.clone(t)}),this.model_expects=this.model_expects||[],this.model_binds=this.model_binds||{},this.createModel(t.model),this.ui=this.model.ui||this.ui||t.ui,this._super(),this.registerListeners()},createModel:function(t){this.model=this._modelMapping(t)},registerListeners:function(){this.on({readyOnce:this.readyOnce,ready:this.ready,domReady:this.domReady,resize:this.resize})},startPreload:function(){var t=[];return t.push(this.preload()),s.forEach(this.components,function(e){return t.push(e.startPreload())}),Promise.all(t)},preload:function(){return Promise.resolve()},afterPreload:function(){this.model&&this.model.afterPreload(),s.forEach(this.components,function(t){t.afterPreload()})},render:function(){this.prerender(),this.postrender()},prerender:function(){this.loadTemplate(),this.loadSubComponents()},postrender:function(){var t=this;s.forEach(this.components,function(e){e.render(),t.on("resize",function(){e.trigger("resize")})}),this.startLoading()},startLoading:function(){var t=this;this.model.on("ready",function(){t.loadingDone()}),this.model&&this.model.isLoading()||this.loadingDone()},loadingDone:function(){s.removeClass(this.placeholder,"vzb-loading-first"),s.removeClass(this.placeholder,"vzb-loading-data"),this.setReady()},renderError:function(t){var e=this;if(!t)return s.warn("renderError() was called without any specific error. Not rendering anything then.");if(s.hasClass(this.placeholder,"vzb-error"))return s.warn("The app is already showing error dialog. Not rendering again.");s.removeClass(this.placeholder,"vzb-loading-first"),s.removeClass(this.placeholder,"vzb-loading-data"),s.addClass(this.placeholder,"vzb-error");var n=JSON.stringify(t,null,2);"{}"==n&&(n=t.stack);var i=this.model._root.locale.getTFunction(),r="mailto:angie@gapminder.org?subject=Gapminder Vizabi error report&body=Hi Angie! Please have a look at this! %0D%0A %0D%0A %0D%0A\n      These are the steps to reproduce the error: %0D%0A \n      1. Go to "+window.location.origin+" %0D%0A \n      2. %5Bplease write here what you did%5D %0D%0A %0D%0A %0D%0A"+encodeURIComponent(n);this.errorMessageEl.classed("vzb-hidden",!1);var a=this.errorMessageEl.select(".vzb-error-message-technical").html(n);this.errorMessageEl.select(".vzb-error-message-expand").on("click",function(){return a.classed("vzb-hidden",!a.classed("vzb-hidden"))}).html(i("crash/expand")),this.errorMessageEl.select(".vzb-error-message-close").on("click",function(){e.errorMessageEl.classed("vzb-hidden",!0),s.removeClass(e.placeholder,"vzb-error")}),this.errorMessageEl.select(".vzb-error-message-title").select("h1").html(t.icon||"🙄");var o="crash/intro",l="crash/outro",c={};i(t.name)!==t.name&&(o="reader/error/generic",l=t.name,"reader/error/wrongTimeUnitsOrColumn"===t.name&&(c={expected:this.model._root.state.time.getFormatter()(new Date),found:t.details}),"reader/error/repeatedKeys"===t.name&&(c=t.details),"reader/error/undefinedDelimiter"===t.name&&(c={file:t.endpoint})),this.errorMessageEl.select(".vzb-error-message-intro").html(i(o,c).replace("mailto",r)),this.errorMessageEl.select(".vzb-error-message-outro").html(i(l,c).replace("mailto",r)),s.error(n)},setReady:function(t){this._readyOnce||(this.trigger("readyOnce"),this._readyOnce=!0),this._ready=!0,this.trigger("ready")},loadTemplate:function(){var t=this.template,e=this.template_data,n="";if(this.placeholder){if(e=s.extend(e,{t:this.getTranslationFunction(!0)}),this.template)try{n=r(t,e)}catch(t){var i=new Error;i.name="template",i.message="Templating error for component. Check if template name is unique and correct",i.details=this.name,this.renderError(i)}s.addClass(this.placeholder,"vzb-loading-data"),s.addClass(this.placeholder,"vzb-loading-first"),this.placeholder.innerHTML=n,this.element=this.placeholder.children[0],this.errorMessageEl=d3.select(this.element).append("div").attr("class","vzb-error-message vzb-hidden").html('\n        <div class="vzb-error-message-background"></div>\n        <div class="vzb-error-message-box">\n          <div class="vzb-error-message-close">'+f.close+'</div>\n          <div class="vzb-error-message-title"><h1></h1></div>\n          <div class="vzb-error-message-body">\n            <p class="vzb-error-message-intro"></p>\n            <br>\n            <p class="vzb-error-message-expand"></p>\n            <textarea class="vzb-error-message-technical vzb-hidden"></textarea>\n            <br>\n            <p class="vzb-error-message-outro"></p>\n          </div>\n        </div>\n      '),this.trigger("domReady")}},getActiveProfile:function(t,e){var n=this.getLayoutProfile(),i=this.getPresentationMode(),r=s.deepClone(t[n]);return i&&(e||{})[n]&&s.deepExtend(r,e[n]),r},loadSubComponents:function(){var t=this,e=void 0,n=void 0;this.components=[],s.forEach(this._components_config,function(i){if(i.model=i.model||{},!i.component)return void s.error("Error loading component: name not provided");if(n=s.isString(i.component)?v.get(i.component):i.component){e=s.extend(i,{name:i.component,ui:t._uiMapping(i.placeholder,i.ui)});var r=new n(e,t);t.components.push(r)}})},findChildByName:function(t){return s.find(this.components,function(e){return e.name===t})},getLayoutProfile:function(){return this.model.ui?this.model.ui.currentProfile():this.parent.getLayoutProfile()},getPresentationMode:function(){return this.model.ui?this.model.ui.getPresentationMode():this.parent.getPresentationMode()},_uiMapping:function(t,e){if(e)return new u.default("ui",e);if(t&&this.ui){t=t.replace(".","");var n=this.ui[t];if(n)return n}return this.ui},_modelMapping:function(t){function e(t){for(var e=t.split("."),i=n.parent.model,r="";e.length;)r=e.shift(),i=i[r];return{name:t,model:i,type:i?i.getType():null}}var n=this,i={};if(s.isArray(t)&&s.isArray(this.model_expects)){this.model_expects.length!==t.length&&(s.groupCollapsed("DIFFERENCE IN NUMBER OF MODELS EXPECTED AND RECEIVED"),s.warn("Please, configure the 'model_expects' attribute accordingly in '"+this.name+"' or check the models passed in '"+n.parent.name+"'.\n\nComponent: '"+n.parent.name+"'\nSubcomponent: '"+this.name+"'\nNumber of Models Expected: "+this.model_expects.length+"\nNumber of Models Received: "+t.length),s.groupEnd()),s.forEach(t,function(r,a){if(r){var o=e(r),l=void 0;n.model_expects[a]?(l=n.model_expects[a].name,!n.model_expects[a].type||o.type===n.model_expects[a].type||s.isArray(n.model_expects[a].type)&&-1!==n.model_expects[a].type.indexOf(o.type)||(s.groupCollapsed("UNEXPECTED MODEL TYPE: '"+o.type+"' instead of '"+n.model_expects[a].type+"'"),s.warn("Please, configure the 'model_expects' attribute accordingly in '"+n.name+"' or check the models passed in '"+n.parent.name+"'.\n\nComponent: '"+n.parent.name+"'\nSubcomponent: '"+n.name+"'\nExpected Model: '"+n.model_expects[a].type+"'\nReceived Model: '"+o.type+"'\nModel order: "+a),s.groupEnd())):(s.groupCollapsed("UNEXPECTED MODEL: '"+t[a]+"'"),s.warn("Please, configure the 'model_expects' attribute accordingly in '"+n.name+"' or check the models passed in '"+n.parent.name+"'.\n\nComponent: '"+n.parent.name+"'\nSubcomponent: '"+n.name+"'\nNumber of Models Expected: "+n.model_expects.length+"\nNumber of Models Received: "+t.length),s.groupEnd(),l=o.name),i[l]=o.model}});var r=t.length,a=this.model_expects.length;return a>r&&(this.model_expects.splice(0,r),s.forEach(a,function(t){i[t.name]={}})),new u.default(this.name,i,null,this.model_binds)}},getTranslationFunction:function(t){var e=void 0;try{e=this.model.get("locale").getTFunction()}catch(t){this.parent&&this.parent!==this&&(e=this.parent.getTranslationFunction())}return e||(e=function(t){return t}),t?this._translatedStringFunction(e):e},_translatedStringFunction:function(t){return function(e){return'<span data-vzb-translate="'+e+'">'+t(e)+"</span>"}},translateStrings:function(){var t=this.getTranslationFunction(),e=this.placeholder.querySelectorAll("[data-vzb-translate]");0!==e.length&&s.forEach(e,function(e){e&&e.getAttribute&&(e.innerHTML=t(e.getAttribute("data-vzb-translate")))})},readyOnce:function(){},ready:function(){},resize:function(){},domReady:function(){},clear:function(){this.freeze(),this.model&&this.model.freeze(),s.forEach(this.components,function(t){t.clear()})}});v.isComponent=function(t){return t._id&&("t"===t._id[0]||"c"===t._id[0])},e.default=v},function(t,e,n){var i=n(61)("wks"),r=n(39),a=n(3).Symbol,s="function"==typeof a;(t.exports=function(t){return i[t]||(i[t]=s&&a[t]||(s?a:r)("Symbol."+t))}).store=i},function(t,e,n){t.exports=!n(4)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){var i=n(2),r=n(113),a=n(26),s=Object.defineProperty;e.f=n(8)?Object.defineProperty:function(t,e,n){if(i(t),e=a(e,!0),i(n),r)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var i=n(28),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},function(t,e,n){var i=n(27);t.exports=function(t){return Object(i(t))}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n){var i=void 0,r=void 0,a=void 0,o=void 0,l=void 0,c=void 0,u=void 0,h=void 0,d=void 0,f=void 0,p=void 0,v=void 0,g=void 0,m=void 0;return{move:function(e,n){t.style("right",e+"px"),t.style("top",n+"px")},dragStart:function(b){if(s.isTouchDevice()){var y=d3.touches(e.node());i=y[0][0],r=y[0][1]}else i=b.sourceEvent.clientX,r=b.sourceEvent.clientY;a=parseInt(t.style("top"))||0,o=parseInt(t.style("right"))||0,c=parseInt(t.style("margin-left"))||0,l=parseInt(t.style("margin-right"))||0,h=Math.min(n,c),u=Math.min(n,l),d=parseInt(t.style("width"),10)+c-h||0,f=parseInt(t.style("height"),10)||0,p=parseInt(e.style("width"),10)-l||0,v=parseInt(e.style("height"),10)||0,g=i+o,m=r-a},drag:function(t){if(s.isTouchDevice()){var n=d3.touches(e.node());i=n[0][0],r=n[0][1]}else i=t.sourceEvent.clientX,r=t.sourceEvent.clientY;var a=-i+g,o=r-m;a<-u&&(a=-u),o<0&&(o=0),a+d>p&&(a=p-d),o+f>v&&(o=v-f),this.move(a,o)}}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(1),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(a),o=n(6),l=i(o),c=n(21),u=n(106),h=i(u),d=(0,h.default)(n(405)),f=l.default.extend({isDialog:!0,init:function(t,e){this.name=this.name||"",this.model_expects=this.model_expects||[{name:"state",type:"model"},{name:"ui",type:"ui"},{name:"locale",type:"locale"}],this.template=d[this.name],this._super(t,e),this.transitionEvents=["webkitTransitionEnd","transitionend","msTransitionEnd","oTransitionEnd"]},readyOnce:function(){this.element=d3.select(this.element),this.titleEl=this.element.selectAll(".vzb-top-dialog > .vzb-dialog-modal > .vzb-dialog-title"),this.buttonsEl=this.element.selectAll(".vzb-top-dialog > .vzb-dialog-modal > .vzb-dialog-buttons"),this.contentEl=this.element.selectAll(".vzb-top-dialog > .vzb-dialog-modal > .vzb-dialog-content")},ready:function(){var t=this;this.placeholderEl=d3.select(this.placeholder),this.rootEl=this.root.element instanceof Array?this.root.element:d3.select(this.root.element),this.dragHandler=this.placeholderEl.select("[data-click='dragDialog']"),this.dragHandler.html(c.drag),this.pinIcon=this.placeholderEl.select("[data-click='pinDialog']"),this.pinIcon.html(c.pin),this.topPos="";var e=this.getLayoutProfile(),n=r(this.placeholderEl,this.rootEl,10),i=d3.drag().on("start",function(){var e=t.placeholderEl.node().offsetTop;t.placeholderEl.style("top",e+"px"),t.placeholderEl.style("bottom","auto"),t.trigger("dragstart"),n.dragStart(d3.event)}).on("drag",function(){t.trigger("drag"),n.drag(d3.event)}).on("end",function(){t.rightPos=t.placeholderEl.style("right"),t.topPos=t.placeholderEl.style("top"),t.trigger("dragend")});this.dragHandler.call(i),this.dragHandler.classed("vzb-hidden","small"===e),this.pinIcon.classed("vzb-hidden","small"===e),this.resize()},resize:function(){if(this.placeholderEl&&this.rootEl&&this.placeholderEl.classed("vzb-top-dialog")){this.placeholderEl.classed("notransition",!0);var t=this.getLayoutProfile();if("small"!==t){var e=parseInt(this.rootEl.style("width"),10)||0,n=parseInt(this.rootEl.style("height"),10)||0,i=parseInt(this.placeholderEl.style("width"),10)||0,r=parseInt(this.placeholderEl.style("height"),10)||0,a=parseInt(this.rightPos,10),o=parseInt(this.topPos,10),l=parseInt(this.placeholderEl.style("margin-right"),10)||0;s.isNumber(a)&&a>e-i-l&&this.rightPos&&(this.rightPos=e-i-l+"px",this.isOpen&&this.placeholderEl.style("right",this.rightPos)),s.isNumber(o)&&s.isNumber(r)&&o>=0&&o>n-r&&this.topPos&&(this.topPos=(n-r>0?n-r:0)+"px",this.isOpen&&this.placeholderEl.style("top",this.topPos)),this.topPos&&"large"===this.getLayoutProfile()&&this.rootEl.classed("vzb-dialog-expand-true")&&this.placeholderEl.style("bottom","auto"),this.rootEl.classed("vzb-landscape"),this.element.style("max-height","")}else this.rightPos="",this.topPos="",this.placeholderEl.attr("style","");this.dragHandler.classed("vzb-hidden","small"===t),this.pinIcon.classed("vzb-hidden","small"===t),this._setMaxHeight()}},_setMaxHeight:function(){var t=this.root.element.offsetHeight;if("small"!==this.getLayoutProfile())if(!this.topPos&&"large"===this.getLayoutProfile()&&this.rootEl.classed("vzb-dialog-expand-true")){var e=parseInt(this.placeholderEl.style("bottom"),10);t-=e}else{var n=this.topPos?parseInt(this.topPos,10):this.placeholderEl.node().offsetTop;t-=n}else t=this.rootEl.classed("vzb-portrait")?t-50:t-10;this.element.style("max-height",t+"px");var i=t-this.titleEl.node().offsetHeight-this.buttonsEl.node().offsetHeight;this.contentEl.style("max-height",i+"px")},beforeOpen:function(){var t=this;if(this.transitionEvents.forEach(function(e){t.placeholderEl.on(e,t.transitionEnd.bind(t,e))}),this.placeholderEl.classed("notransition",!0),this.placeholderEl.style("top",""),this.placeholderEl.style("bottom",""),this.topPos&&"large"===this.getLayoutProfile()&&this.rootEl.classed("vzb-dialog-expand-true")){var e=this.placeholderEl.node().offsetTop;this.placeholderEl.style("top",e+"px"),this.placeholderEl.style("bottom","auto")}else this.getLayoutProfile();this.placeholderEl.node().offsetTop,this.placeholderEl.classed("notransition",!1),"small"===this.getLayoutProfile()?this.placeholderEl.style("top",""):this.rootEl.classed("vzb-landscape")},open:function(){this.isOpen=!0,"small"!==this.getLayoutProfile()&&this.topPos&&(this.placeholderEl.style("top",this.topPos),this.placeholderEl.style("right",this.rightPos))},beforeClose:function(){this.rootEl.classed("vzb-portrait")&&"small"===this.getLayoutProfile()&&this.placeholderEl.style("top","auto"),"large"===this.getLayoutProfile()&&this.rootEl.classed("vzb-dialog-expand-true")&&(this.topPos0=this.topPos?this.placeholderEl.node().parentNode.offsetHeight-this.placeholderEl.node().offsetHeight+"px":""),this.placeholderEl.classed("notransition",!1),this.placeholderEl.node().offsetHeight},close:function(){this.rootEl.classed("vzb-portrait")&&"small"===this.getLayoutProfile()||(this.placeholderEl.style("top",""),this.placeholderEl.style("right","")),"large"===this.getLayoutProfile()&&this.rootEl.classed("vzb-dialog-expand-true")&&(this.placeholderEl.style("top",this.topPos0),this.placeholderEl.style("right","")),this.isOpen=!1,this.trigger("close")},transitionEnd:function(t){var e=this;this.transitionEvents.forEach(function(t){e.placeholderEl.on(t,null)}),this.isOpen&&this.placeholderEl.classed("notransition",!0)}});e.default=f},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var i=n(9),r=n(38);t.exports=n(8)?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var i=n(3),r=n(14),a=n(17),s=n(39)("src"),o=Function.toString,l=(""+o).split("toString");n(22).inspectSource=function(t){return o.call(t)},(t.exports=function(t,e,n,o){var c="function"==typeof n;c&&(a(n,"name")||r(n,"name",e)),t[e]!==n&&(c&&(a(n,s)||r(n,s,t[e]?""+t[e]:l.join(String(e)))),t===i?t[e]=n:o?t[e]?t[e]=n:r(t,e,n):(delete t[e],r(t,e,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[s]||o.call(this)})},function(t,e,n){var i=n(0),r=n(4),a=n(27),s=/"/g,o=function(t,e,n,i){var r=String(a(t)),o="<"+e;return""!==n&&(o+=" "+n+'="'+String(i).replace(s,"&quot;")+'"'),o+">"+r+"</"+e+">"};t.exports=function(t,e){var n={};n[t]=e(o),i(i.P+i.F*r(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",n)}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var i=n(56),r=n(27);t.exports=function(t){return i(r(t))}},function(t,e,n){var i=n(57),r=n(38),a=n(18),s=n(26),o=n(17),l=n(113),c=Object.getOwnPropertyDescriptor;e.f=n(8)?c:function(t,e){if(t=a(t),e=s(e,!0),l)try{return c(t,e)}catch(t){}if(o(t,e))return r(!i.f.call(t,e),t[e])}},function(t,e,n){var i=n(17),r=n(11),a=n(82)("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),i(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.paintbrush='<svg class="vzb-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1792 1792"><path d="M1615 0q70 0 122.5 46.5t52.5 116.5q0 63-45 151-332 629-465 752-97 91-218 91-126 0-216.5-92.5t-90.5-219.5q0-128 92-212l638-579q59-54 130-54zm-909 1034q39 76 106.5 130t150.5 76l1 71q4 213-129.5 347t-348.5 134q-123 0-218-46.5t-152.5-127.5-86.5-183-29-220q7 5 41 30t62 44.5 59 36.5 46 17q41 0 55-37 25-66 57.5-112.5t69.5-76 88-47.5 103-25.5 125-10.5z"/></svg>',e.search='<svg class="vzb-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1792 1792"><path d="M1216 832q0-185-131.5-316.5t-316.5-131.5-316.5 131.5-131.5 316.5 131.5 316.5 316.5 131.5 316.5-131.5 131.5-316.5zm512 832q0 52-38 90t-90 38q-54 0-90-38l-343-342q-179 124-399 124-143 0-273.5-55.5t-225-150-150-225-55.5-273.5 55.5-273.5 150-225 225-150 273.5-55.5 273.5 55.5 225 150 150 225 55.5 273.5q0 220-124 399l343 343q37 37 37 90z"/></svg>',e.circle='<svg class="vzb-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1792 1792"><path d="M1664 896q0 209-103 385.5t-279.5 279.5-385.5 103-385.5-103-279.5-279.5-103-385.5 103-385.5 279.5-279.5 385.5-103 385.5 103 279.5 279.5 103 385.5z"/></svg>',e.expand='<svg class="vzb-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1792 1792"><path d="M883 1056q0 13-10 23l-332 332 144 144q19 19 19 45t-19 45-45 19h-448q-26 0-45-19t-19-45v-448q0-26 19-45t45-19 45 19l144 144 332-332q10-10 23-10t23 10l114 114q10 10 10 23zm781-864v448q0 26-19 45t-45 19-45-19l-144-144-332 332q-10 10-23 10t-23-10l-114-114q-10-10-10-23t10-23l332-332-144-144q-19-19-19-45t19-45 45-19h448q26 0 45 19t19 45z"/></svg>',e.asterisk='<svg class="vzb-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1792 1792"><path d="M1546 1050q46 26 59.5 77.5t-12.5 97.5l-64 110q-26 46-77.5 59.5t-97.5-12.5l-266-153v307q0 52-38 90t-90 38h-128q-52 0-90-38t-38-90v-307l-266 153q-46 26-97.5 12.5t-77.5-59.5l-64-110q-26-46-12.5-97.5t59.5-77.5l266-154-266-154q-46-26-59.5-77.5t12.5-97.5l64-110q26-46 77.5-59.5t97.5 12.5l266 153v-307q0-52 38-90t90-38h128q52 0 90 38t38 90v307l266-153q46-26 97.5-12.5t77.5 59.5l64 110q26 46 12.5 97.5t-59.5 77.5l-266 154z"/></svg>',e.trails='<svg class="vzb-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1792 1792"><path d="M 1381.375 17.1875 C 1375.7825 17.176804 1370.1216 17.316078 1364.4375 17.5625 C 1273.4913 21.505489 1197.0982 57.199956 1135.2188 124.6875 C 1076.5961 188.62338 1047.6964 263.96059 1048.5312 350.65625 L 835.71875 433 C 797.77288 391.67699 749.96961 361.96416 692.3125 343.84375 C 604.96227 316.39162 520.95691 323.70366 440.25 365.8125 C 359.5432 407.92133 305.45225 472.64985 278 560 C 250.54783 647.35004 257.89117 731.38694 300 812.09375 C 342.10886 892.80075 406.83755 946.89147 494.1875 974.34375 C 576.9404 1000.3512 657.38873 994.58645 735.5625 957.09375 L 959.28125 1171.4375 L 972.375 1184.4062 C 966.2931 1198.3454 961.94845 1209.2226 959.34375 1217.0625 C 956.73915 1224.9024 953.7186 1236.224 950.25 1251.0312 L 711.03125 1285.1875 C 669.59175 1209.0324 607.72526 1157.2863 525.40625 1129.9375 C 438.51381 1101.0693 354.34933 1107.021 272.96875 1147.8125 C 191.58796 1188.6039 136.49335 1252.4513 107.625 1339.3438 C 78.756758 1426.2362 84.708528 1510.3694 125.5 1591.75 C 166.29138 1673.1307 230.1387 1728.2567 317.03125 1757.125 C 403.92369 1785.9933 488.05682 1780.0415 569.4375 1739.25 C 650.81799 1698.4587 705.94425 1634.6111 734.8125 1547.7188 C 737.41718 1539.8788 740.43763 1528.5573 743.90625 1513.75 L 983.125 1479.5938 C 1024.5644 1555.7487 1086.4309 1607.4948 1168.75 1634.8438 C 1255.6425 1663.7119 1339.8069 1657.7603 1421.1875 1616.9688 C 1502.5682 1576.1772 1557.6631 1512.3299 1586.5312 1425.4375 C 1615.3996 1338.5451 1609.4477 1254.4119 1568.6562 1173.0312 C 1527.8647 1091.6506 1464.0174 1036.5244 1377.125 1007.6562 C 1294.9259 980.34721 1214.5066 984.74084 1135.8438 1020.8125 L 1120.2812 1005.9062 L 898.0625 785.96875 C 902.79653 774.40321 906.33847 765.03422 908.5 758.15625 C 920.42249 720.22 925.7916 682.90194 924.59375 646.21875 L 1130.9688 566.34375 C 1141.2015 577.59424 1149.3796 586.0106 1155.4688 591.59375 C 1222.9566 653.47326 1302.1474 682.44278 1393.0938 678.5 C 1484.04 674.55731 1560.4642 638.83151 1622.3438 571.34375 C 1684.2232 503.85591 1713.1929 424.6337 1709.25 333.6875 C 1705.3072 242.74139 1669.5816 166.34819 1602.0938 104.46875 C 1538.8238 46.456824 1465.2625 17.347946 1381.375 17.1875 z "/></svg>',e.lock='<svg class="vzb-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1792 1792"><path d="M640 768h512v-192q0-106-75-181t-181-75-181 75-75 181v192zm832 96v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h32v-192q0-184 132-316t316-132 316 132 132 316v192h32q40 0 68 28t28 68z"/></svg>',e.unlock='<svg class="vzb-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1792 1792"><path d="M1376 768q40 0 68 28t28 68v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h32v-320q0-185 131.5-316.5t316.5-131.5 316.5 131.5 131.5 316.5q0 26-19 45t-45 19h-64q-26 0-45-19t-19-45q0-106-75-181t-181-75-181 75-75 181v320h736z"/></svg>',e.unexpand='<svg class="vzb-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1792 1792"><path d="M896 960v448q0 26-19 45t-45 19-45-19l-144-144-332 332q-10 10-23 10t-23-10l-114-114q-10-10-10-23t10-23l332-332-144-144q-19-19-19-45t19-45 45-19h448q26 0 45 19t19 45zm755-672q0 13-10 23l-332 332 144 144q19 19 19 45t-19 45-45 19h-448q-26 0-45-19t-19-45v-448q0-26 19-45t45-19 45 19l144 144 332-332q10-10 23-10t23 10l114 114q10 10 10 23z"/></svg>',e.axes='<svg class="vzb-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 500 500"><path d="M430.25,379.655l-75.982-43.869v59.771H120.73V151.966h59.774l-43.869-75.983L92.767,0L48.898,75.983L5.029,151.966h59.775 v271.557c0,15.443,12.52,27.965,27.963,27.965h261.5v59.773l75.982-43.869l75.982-43.867L430.25,379.655z"/></svg>',e.gear='<svg class="vzb-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1792 1792"><path d="M1152 896q0-106-75-181t-181-75-181 75-75 181 75 181 181 75 181-75 75-181zm512-109v222q0 12-8 23t-20 13l-185 28q-19 54-39 91 35 50 107 138 10 12 10 25t-9 23q-27 37-99 108t-94 71q-12 0-26-9l-138-108q-44 23-91 38-16 136-29 186-7 28-36 28h-222q-14 0-24.5-8.5t-11.5-21.5l-28-184q-49-16-90-37l-141 107q-10 9-25 9-14 0-25-11-126-114-165-168-7-10-7-23 0-12 8-23 15-21 51-66.5t54-70.5q-27-50-41-99l-183-27q-13-2-21-12.5t-8-23.5v-222q0-12 8-23t19-13l186-28q14-46 39-92-40-57-107-138-10-12-10-24 0-10 9-23 26-36 98.5-107.5t94.5-71.5q13 0 26 10l138 107q44-23 91-38 16-136 29-186 7-28 36-28h222q14 0 24.5 8.5t11.5 21.5l28 184q49 16 90 37l142-107q9-9 24-9 13 0 25 10 129 119 165 170 7 8 7 22 0 12-8 23-15 21-51 66.5t-54 70.5q26 50 41 98l183 28q13 2 21 12.5t8 23.5z"/></svg>',e.stack='<svg class="vzb-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 54.849 54.849"><g><path d="M54.497,39.614l-10.363-4.49l-14.917,5.968c-0.537,0.214-1.165,0.319-1.793,0.319c-0.627,0-1.254-0.104-1.79-0.318     l-14.921-5.968L0.351,39.614c-0.472,0.203-0.467,0.524,0.01,0.716L26.56,50.81c0.477,0.191,1.251,0.191,1.729,0L54.488,40.33     C54.964,40.139,54.969,39.817,54.497,39.614z"/><path d="M54.497,27.512l-10.364-4.491l-14.916,5.966c-0.536,0.215-1.165,0.321-1.792,0.321c-0.628,0-1.256-0.106-1.793-0.321     l-14.918-5.966L0.351,27.512c-0.472,0.203-0.467,0.523,0.01,0.716L26.56,38.706c0.477,0.19,1.251,0.19,1.729,0l26.199-10.479     C54.964,28.036,54.969,27.716,54.497,27.512z"/><path d="M0.361,16.125l13.662,5.465l12.537,5.015c0.477,0.191,1.251,0.191,1.729,0l12.541-5.016l13.658-5.463     c0.477-0.191,0.48-0.511,0.01-0.716L28.277,4.048c-0.471-0.204-1.236-0.204-1.708,0L0.351,15.41     C-0.121,15.614-0.116,15.935,0.361,16.125z"/></g></svg>',e.drag='<svg class="vzb-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1792 1792"><path d="M896 384q-53 0-90.5 37.5t-37.5 90.5v128h-32v-93q0-48-32-81.5t-80-33.5q-46 0-79 33t-33 79v429l-32-30v-172q0-48-32-81.5t-80-33.5q-46 0-79 33t-33 79v224q0 47 35 82l310 296q39 39 39 102 0 26 19 45t45 19h640q26 0 45-19t19-45v-25q0-41 10-77l108-436q10-36 10-77v-246q0-48-32-81.5t-80-33.5q-46 0-79 33t-33 79v32h-32v-125q0-40-25-72.5t-64-40.5q-14-2-23-2-46 0-79 33t-33 79v128h-32v-122q0-51-32.5-89.5t-82.5-43.5q-5-1-13-1zm0-128q84 0 149 50 57-34 123-34 59 0 111 27t86 76q27-7 59-7 100 0 170 71.5t70 171.5v246q0 51-13 108l-109 436q-6 24-6 71 0 80-56 136t-136 56h-640q-84 0-138-58.5t-54-142.5l-308-296q-76-73-76-175v-224q0-99 70.5-169.5t169.5-70.5q11 0 16 1 6-95 75.5-160t164.5-65q52 0 98 21 72-69 174-69z"/></svg>',e.warn='<svg class="vzb-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512.209 512.209"><path d="M507.345,439.683L288.084,37.688c-3.237-5.899-7.71-10.564-13.429-13.988c-5.705-3.427-11.893-5.142-18.554-5.142   s-12.85,1.718-18.558,5.142c-5.708,3.424-10.184,8.089-13.418,13.988L4.859,439.683c-6.663,11.998-6.473,23.989,0.57,35.98   c3.239,5.517,7.664,9.897,13.278,13.128c5.618,3.237,11.66,4.859,18.132,4.859h438.529c6.479,0,12.519-1.622,18.134-4.859   c5.62-3.23,10.038-7.611,13.278-13.128C513.823,463.665,514.015,451.681,507.345,439.683z M292.655,411.132   c0,2.662-0.91,4.897-2.71,6.704c-1.807,1.811-3.949,2.71-6.427,2.71h-54.816c-2.474,0-4.616-0.899-6.423-2.71   c-1.809-1.807-2.713-4.042-2.713-6.704v-54.248c0-2.662,0.905-4.897,2.713-6.704c1.807-1.811,3.946-2.71,6.423-2.71h54.812   c2.479,0,4.62,0.899,6.428,2.71c1.803,1.807,2.71,4.042,2.71,6.704v54.248H292.655z M292.088,304.357   c-0.198,1.902-1.198,3.47-3.001,4.709c-1.811,1.238-4.046,1.854-6.711,1.854h-52.82c-2.663,0-4.947-0.62-6.849-1.854   c-1.908-1.243-2.858-2.807-2.858-4.716l-4.853-130.47c0-2.667,0.953-4.665,2.856-5.996c2.474-2.093,4.758-3.14,6.854-3.14h62.809   c2.098,0,4.38,1.043,6.854,3.14c1.902,1.331,2.851,3.14,2.851,5.424L292.088,304.357z"/></svg>',e.pin='<svg class="vzb-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1792 1792"><path d="M800 864v-448q0-14-9-23t-23-9-23 9-9 23v448q0 14 9 23t23 9 23-9 9-23zm672 352q0 26-19 45t-45 19h-429l-51 483q-2 12-10.5 20.5t-20.5 8.5h-1q-27 0-32-27l-76-485h-404q-26 0-45-19t-19-45q0-123 78.5-221.5t177.5-98.5v-512q-52 0-90-38t-38-90 38-90 90-38h640q52 0 90 38t38 90-38 90-90 38v512q99 0 177.5 98.5t78.5 221.5z"/></svg>',e.question='<svg class="vzb-icon" xmlns="http://www.w3.org/2000/svg" viewBox="17 17 483 483"> <circle stroke-width="40" cx="258.57" cy="258.57" r="220"/> <path d="M299.756,413.021v-61.78c0-3.003-0.966-5.472-2.896-7.401s-4.398-2.896-7.401-2.896h-61.78 c-3.003,0-5.47,0.965-7.4,2.896c-1.932,1.931-2.896,4.398-2.896,7.401v61.78c0,3.002,0.965,5.47,2.896,7.399 c1.931,1.931,4.396,2.896,7.4,2.896h61.779c3.003,0,5.472-0.967,7.401-2.896S299.756,416.021,299.756,413.021z"/> <path d="M382.128,196.789c0-18.877-5.952-36.36-17.856-52.449c-11.905-16.088-26.762-28.53-44.566-37.325 c-17.804-8.795-36.037-13.192-54.7-13.192c-52.127,0-91.919,22.845-119.377,68.537c-3.218,5.148-2.359,9.653,2.574,13.514 l42.474,32.177c1.502,1.287,3.54,1.931,6.114,1.931c3.433,0,6.115-1.287,8.044-3.861c11.369-14.587,20.594-24.454,27.672-29.603 c7.294-5.148,16.519-7.723,27.673-7.723c10.297,0,19.468,2.789,27.513,8.366c8.044,5.578,12.065,11.906,12.065,18.985 c0,8.151-2.146,14.694-6.437,19.628c-4.29,4.934-11.583,9.76-21.881,14.479c-13.514,6.006-25.901,15.284-37.164,27.834 c-11.263,12.549-16.894,26.01-16.894,40.382v11.583c0,3.004,0.965,5.472,2.896,7.401c1.931,1.93,4.396,2.896,7.4,2.896h61.779 c3.003,0,5.471-0.965,7.401-2.896c1.93-1.931,2.896-4.397,2.896-7.401c0-4.075,2.306-9.385,6.917-15.928 c4.612-6.542,10.458-11.852,17.537-15.927c6.863-3.861,12.119-6.918,15.768-9.171c3.646-2.252,8.579-6.008,14.802-11.263 c6.22-5.255,10.993-10.402,14.317-15.443c3.325-5.042,6.328-11.53,9.01-19.467C380.788,214.916,382.128,206.228,382.128,196.789z"/> </svg>',e.close='<svg class="vzb-icon vzb-icon-pin" viewBox="-150 -250 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1149 414q0 26 -19 45l-181 181l181 181q19 19 19 45q0 27 -19 46l-90 90q-19 19 -46 19q-26 0 -45 -19l-181 -181l-181 181q-19 19 -45 19q-27 0 -46 -19l-90 -90q-19 -19 -19 -46q0 -26 19 -45l181 -181l-181 -181q-19 -19 -19 -45q0 -27 19 -46l90 -90q19 -19 46 -19 q26 0 45 19l181 181l181 -181q19 -19 45 -19q27 0 46 19l90 90q19 19 19 46z"/></svg>',e.presentation='<svg class="vzb-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path id="flip-chart-1" d="M334.549,393.834l58.607,68.666h-45.096l-58.709-68.666H334.549z M240.333,462.5h34.333v-68.666h-34.333 V462.5z M360.5,153.5h-34.334v137.334H360.5V153.5z M121.566,462.5h45.113l58.709-68.666h-45.197L121.566,462.5z M206,273.666 h-34.333v17.168H206V273.666z M257.5,239.333h-34.333v51.5H257.5V239.333z M309,205h-34.334v85.834H309V205z M446.334,102h-17.168 v257.5H85.833V102H68.667V50.5h377.667V102z M394.834,102H120.167v223.166h274.667V102z"/></svg>',e.about='<svg class="vzb-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1792 1792"><path d="M1088 1256v240q0 16-12 28t-28 12h-240q-16 0-28-12t-12-28v-240q0-16 12-28t28-12h240q16 0 28 12t12 28zm316-600q0 54-15.5 101t-35 76.5-55 59.5-57.5 43.5-61 35.5q-41 23-68.5 65t-27.5 67q0 17-12 32.5t-28 15.5h-240q-15 0-25.5-18.5t-10.5-37.5v-45q0-83 65-156.5t143-108.5q59-27 84-56t25-76q0-42-46.5-74t-107.5-32q-65 0-108 29-35 25-107 115-13 16-31 16-12 0-25-8l-164-125q-13-10-15.5-25t5.5-28q160-266 464-266 80 0 161 31t146 83 106 127.5 41 158.5z"/></svg>',e.cursorArrow='<svg class="vzb-icon" viewBox="-200 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1389 1043q31 30 14 69-17 40-59 40h-382l201 476q10 25 0 49t-34 35l-177 75q-25 10-49 0t-35-34l-191-452-312 312q-19 19-45 19-12 0-24-5-40-17-40-59v-1504q0-42 40-59 12-5 24-5 27 0 45 19z"/></svg>',e.cursorPlus='<svg class="vzb-icon" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1088 800v64q0 13-9.5 22.5t-22.5 9.5h-224v224q0 13-9.5 22.5t-22.5 9.5h-64q-13 0-22.5-9.5t-9.5-22.5v-224h-224q-13 0-22.5-9.5t-9.5-22.5v-64q0-13 9.5-22.5t22.5-9.5h224v-224q0-13 9.5-22.5t22.5-9.5h64q13 0 22.5 9.5t9.5 22.5v224h224q13 0 22.5 9.5t9.5 22.5zm128 32q0-185-131.5-316.5t-316.5-131.5-316.5 131.5-131.5 316.5 131.5 316.5 316.5 131.5 316.5-131.5 131.5-316.5zm512 832q0 53-37.5 90.5t-90.5 37.5q-54 0-90-38l-343-342q-179 124-399 124-143 0-273.5-55.5t-225-150-150-225-55.5-273.5 55.5-273.5 150-225 225-150 273.5-55.5 273.5 55.5 225 150 150 225 55.5 273.5q0 220-124 399l343 343q37 37 37 90z"/></svg>',e.cursorMinus='<svg class="vzb-icon" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1088 800v64q0 13-9.5 22.5t-22.5 9.5h-576q-13 0-22.5-9.5t-9.5-22.5v-64q0-13 9.5-22.5t22.5-9.5h576q13 0 22.5 9.5t9.5 22.5zm128 32q0-185-131.5-316.5t-316.5-131.5-316.5 131.5-131.5 316.5 131.5 316.5 316.5 131.5 316.5-131.5 131.5-316.5zm512 832q0 53-37.5 90.5t-90.5 37.5q-54 0-90-38l-343-342q-179 124-399 124-143 0-273.5-55.5t-225-150-150-225-55.5-273.5 55.5-273.5 150-225 225-150 273.5-55.5 273.5 55.5 225 150 150 225 55.5 273.5q0 220-124 399l343 343q37 37 37 90z"/></svg>',e.hundredPercent='<svg class="vzb-icon" xmlns="http://www.w3.org/2000/svg"><g transform="translate(18 11)"><text transform="scale(0.9 1)" x="0" y="0">100</text><text transform="scale(0.6 1)" class="percent" x="0" y="0">%</text></g></svg>',e.percent='<svg class="vzb-icon" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1408 1280q0-52-38-90t-90-38-90 38-38 90 38 90 90 38 90-38 38-90zm-768-768q0-52-38-90t-90-38-90 38-38 90 38 90 90 38 90-38 38-90zm1024 768q0 159-112.5 271.5t-271.5 112.5-271.5-112.5-112.5-271.5 112.5-271.5 271.5-112.5 271.5 112.5 112.5 271.5zm-96-1088q0 20-13 38l-1056 1408q-19 26-51 26h-160q-26 0-45-19t-19-45q0-20 13-38l1056-1408q19-26 51-26h160q26 0 45 19t19 45zm-672 320q0 159-112.5 271.5t-271.5 112.5-271.5-112.5-112.5-271.5 112.5-271.5 271.5-112.5 271.5 112.5 112.5 271.5z"/></svg>',e.side='<svg class="vzb-icon" viewBox="-120 -1540 1792 1792" xmlns="http://www.w3.org/2000/svg"><path transform="rotate(-90) scale(1.2)" d="M1024 448q0 -26 -19 -45l-448 -448q-19 -19 -45 -19t-45 19l-448 448q-19 19 -19 45t19 45t45 19h896q26 0 45 -19t19 -45zM1024 832q0 -26 -19 -45t-45 -19h-896q-26 0 -45 19t-19 45t19 45l448 448q19 19 45 19t45 -19l448 -448q19 -19 19 -45z"/></svg>',e.cursorHand='<svg class="vzb-icon" viewBox="0 -1540 1792 1792" xmlns="http://www.w3.org/2000/svg"><path transform="scale(1,-1)" d="M880 1408q-46 0 -79 -33t-33 -79v-656h-32v528q0 46 -33 79t-79 33t-79 -33t-33 -79v-528v-256l-154 205q-38 51 -102 51q-53 0 -90.5 -37.5t-37.5 -90.5q0 -43 26 -77l384 -512q38 -51 102 -51h688q34 0 61 22t34 56l76 405q5 32 5 59v498q0 46 -33 79t-79 33t-79 -33t-33 -79v-272h-32v528q0 46 -33 79t-79 33t-79 -33t-33 -79v-528h-32v656q0 46 -33 79t-79 33zM880 1536q68 0 125.5 -35.5t88.5 -96.5q19 4 42 4q99 0 169.5 -70.5t70.5 -169.5v-17q105 6 180.5 -64t75.5 -175v-498q0 -40 -8 -83l-76 -404q-14 -79 -76.5 -131t-143.5 -52h-688q-60 0 -114.5 27.5t-90.5 74.5l-384 512q-51 68 -51 154q0 106 75 181t181 75q78 0 128 -34v434q0 99 70.5 169.5t169.5 70.5q23 0 42 -4q31 61 88.5 96.5t125.5 35.5z"/></svg>'},function(t,e){var n=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},function(t,e,n){var i=n(13);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){"use strict";var i=n(4);t.exports=function(t,e){return!!t&&i(function(){e?t.call(null,function(){},1):t.call(null)})}},function(t,e,n){var i=n(5);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},function(t,e,n){var i=n(0),r=n(22),a=n(4);t.exports=function(t,e){var n=(r.Object||{})[t]||Object[t],s={};s[t]=e(n),i(i.S+i.F*a(function(){n(1)}),"Object",s)}},function(t,e,n){var i=n(23),r=n(56),a=n(11),s=n(10),o=n(99);t.exports=function(t,e){var n=1==t,l=2==t,c=3==t,u=4==t,h=6==t,d=5==t||h,f=e||o;return function(e,o,p){for(var v,g,m=a(e),b=r(m),y=i(o,p,3),_=s(b.length),M=0,w=n?f(e,_):l?f(e,0):void 0;_>M;M++)if((d||M in b)&&(v=b[M],g=y(v,M,m),t))if(n)w[M]=g;else if(g)switch(t){case 3:return!0;case 5:return v;case 6:return M;case 2:w.push(v)}else if(u)return!1;return h?-1:c||u?u:w}}},function(t,e,n){"use strict";function i(t,e){function n(){this.trackInstances&&n.instances.push(this),!a&&this.init&&this.init.apply(this,arguments)}e=1===arguments.length?t:e;var o=this.prototype;a=!0;var l=new this;return a=!1,(0,r.forEach)(e,function(t,n){"function"==typeof e[n]&&"function"==typeof o[n]&&s.test(e[n])?l[n]=function(t,e){return function(){var n=this._super;this._super=o[t];var i=e.apply(this,arguments);return this._super=n,i}}(n,e[n]):l[n]=t}),n.prototype=l,n.prototype.constructor=n,n.extend=i,n._collection={},n.instances=[],n.register=function(t,e){void 0!==this._collection[t]&&(0,r.warn)('"'+t+'" is already registered. Overwriting...'),this._collection[t]=e},n.unregister=function(t){this._collection[t]=void 0},n.getCollection=function(){return this._collection},n.define=function(t,e){this.prototype[t]=e},n.get=function(t,e){return this._collection.hasOwnProperty(t)?this._collection[t]:(e||(0,r.warn)('"'+t+'" was not found.'),!1)},arguments.length>1&&this.register&&this.register(t,n),n}Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),a=!1,s=/xyz/.test(function(){})?/\b_super\b/:/.*/,o=function(){};o.extend=i,e.default=o},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){var n=[],i=!0,r=!1,a=void 0;try{for(var s,o=t[Symbol.iterator]();!(i=(s=o.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,a=t}finally{try{!i&&o.return&&o.return()}finally{if(r)throw a}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=n(1),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(a),o=n(55),l=i(o),c=n(49),u=(i(c),l.default.extend({_important:!1,objectLeafs:["autoconfig"],dataConnectedChildren:["use","which"],getClassDefaults:function(){var t={data:"data",which:null};return s.deepExtend(this._super(),t)},buildScale:function(){},setInterModelListeners:function(){var t=this,e=this._parent.getSpace(this);s.forEach(e,function(e){t._space[e]=t.getClosestModel(e),t._space[e].on("dataConnectedChange",t.handleDataConnectedChange.bind(t)),t._space[e].setLinkWith(t)}),this.getClosestModel("locale").on("dataConnectedChange",this.handleDataConnectedChange.bind(this))},onSuccessfullLoad:function(){this.trigger("onSuccessfullLoad"),this.validate(),this.buildScale(),this._super()},setWhich:function(t){var e={which:t.concept};t.dataSource&&(e.data=t.dataSource);var n=this.dataSource=this.getClosestModel(e.data||this.data),i=n.getConceptprops(t.concept);t.use&&(e.use=t.use),i&&i.scales&&(e.scaleType=i.scales[0]),"axis"!==this.getType()&&"size"!==this.getType()||(e.domainMin=null,e.domainMax=null,e.zoomedMin=null,e.zoomedMax=null),"property"===t.use&&t.key&&1===t.key.length&&(e.spaceRef=s.find(this._space,function(e){return e.dim===t.key[0].concept})._name),"constant"!==t.use&&"indicator"!==t.use||(e.spaceRef=null),this.set(e,void 0,void 0,void 0,this.setWhich),this._root.trigger("change_hook_which",{which:e.which,hook:this._name})},setScaleType:function(t){this.buildScale(t)},preloadData:function(){return this.dataSource=this.getClosestModel(this.data),this._super()},afterPreload:function(){this.autoconfigureModel(),this.spaceRef||(this.spaceRef=this.updateSpaceReference())},autoconfigureModel:function(t){if(!this.which&&this.autoconfig){if(t||(t=this._parent.getAvailableConcept(this.autoconfig)),t){var e=t.value,n={which:e.concept,use:(t.key.size||t.key.length)>1||"time"===this.autoconfig.type?"indicator":"property",scaleType:e.scales[0]||"linear"};this.set(n)}else{var i={which:"_default",use:"constant",scaleType:"ordinal"};this.set(i)}s.printAutoconfigResult(this)}},updateSpaceReference:function(){if("property"!==this.use)return null;var t="entities"+this._name.replace(this._type,"");return this._space[t]?t:this._parent.getSpace()[0]._name},loadData:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.which||"constant"===this.use)return Promise.resolve();this.trigger("hook_change");var e=this.getQuery(t.splashScreen);if(!0===e)return Promise.resolve();this._loadCall=!0,this.setReady(!1),s.timeStamp("Vizabi Model: Loading Data: "+this._id);var n=this._getAllParsers(),i=this.dataSource.load(e,n);return i.then(this.afterLoad.bind(this),function(t){return s.warn("Problem with query: ",t,JSON.stringify(e))}),i},handleDataConnectedChange:function(t){var e=this;s.defer(function(){e.startLoading().catch(s.warn)})},_isLoading:function(){return!this._loadedOnce||this._loadCall},afterLoad:function(t){this._dataId=t,s.timeStamp("Vizabi Model: Data loaded: "+this._id)},getQuery:function(t){var e=void 0;if(Object.keys(this._space).length<1)return s.error("Error:",this._id,"can't find the space"),!0;var n="property"===this.use||"constant"===this.use,i=n?{exceptType:"time"}:{},r=s.unique(this._getAllDimensions(i)),a="property"===this.use&&r.length>1?[-1!==r.indexOf(this.which)?this.which:this.getEntity().dim]:r;if(!a||!a.length)return s.warn("getQuery() produced no query because no keys are available"),!0;var o={key:a,value:-1!=a.indexOf(this.which)||"constant"===this.use?[]:[this.which]},l=this._getFirstDimension({type:"time"}),c=n?"entities":"datapoints";if(e=this._getAllFilters(i,{splash:t,entityTypeRequest:n}),n&&r.length>1){var u={};e[a]&&(u[a]=e[a]),e=u}var h={};if(Object.keys(e).length>0){h.$and=[];for(var d in e){var f={};f[d]=e[d],h.$and.push(f)}}var p=this._getAllJoins(i,{splash:t,entityTypeRequest:n});if(n&&r.length>1){var v={};p["$"+a]&&(v["$"+a]=p["$"+a]),p=v}var g=this._parent._getGrouping();g&&(g=s.clone(g,a),s.isEmpty(g)&&(g=!1));var m={language:this.getClosestModel("locale").id,from:c,animatable:l,gapfill:!this.disable_gapfill,select:o,where:h,join:p,order_by:n?["rank"]:[this._space.time.dim]};return g&&(m.grouping=g),m},_getAllDimensions:function(t){return this._parent._getAllDimensions(t)},_getFirstDimension:function(t){return this._parent._getFirstDimension(t)},_getAllFilters:function(t,e){t=t||{};var n={},i=this;return s.forEach(this._space,function(r){if(t.exceptType&&r.getType()===t.exceptType)return!0;if(t.onlyType&&r.getType()!==t.onlyType)return!0;if(s.arrayEquals(i._getAllDimensions(t),[r.getDimension()]))n=s.extend(n,r.getFilter(e));else{var a=r.getFilter(e);if(null!=a&&!s.isEmpty(a)){var o={};o[r.getDimension()]="$"+r.getDimension(),n=s.extend(n,o)}}}),n},_getAllJoins:function(t,e){var n={},i=this;return s.forEach(this._space,function(r){if(t.exceptType&&r.getType()===t.exceptType)return!0;if(t.onlyType&&r.getType()!==t.onlyType)return!0;if(s.arrayEquals(i._getAllDimensions(t),[r.getDimension()]))return!0;var a=r.getFilter(e);null==a||s.isEmpty(a)||(n["$"+r.getDimension()]={key:r.getDimension(),where:r.getFilter(e)})}),n},_getAllParsers:function(){return Object.values(this._space).concat(this).reduce(function(t,e){var n=e.getParser(),i=e.getDimensionOrWhich();return n&&i&&!(i in t)&&(t[i]=n),t},{})},getTickFormatter:function(){var t=this;return function(e,n,i,r,a){if(a=t.getConceptprops().format,"share"===a&&(e*=100),s.isDate(e))return t._space.time.formatDate(e);if("time"===t.scaleType&&!s.isDate(e))return t._space.time.formatDate(new Date(e));if(s.isString(e)||!e&&0!==e)return e;if(Math.abs(e)<1e-14)return"0";var o="";if(r)return d3.format(".3r")(e);switch(Math.floor(Math.log(Math.abs(e))/Math.LN10+1e-14)){case-13:e*=1e12,o="p";break;case-10:e*=1e9,o="n";break;case-7:case-6:case-5:e*=1e6,o="µ";break;case-4:case-3:case-2:case-1:case 0:case 1:case 2:case 3:break;case 4:case 5:e/=1e3,o="k";break;case 6:case 7:case 8:e/=1e6,o="M";break;case 9:case 10:case 11:e/=1e9,o="B";break;case 12:case 13:case 14:e/=1e12,o="TR";break;default:return d3.format(".3s")(e).replace("G","B")}var l=d3.format(".3r")(e);return l.indexOf(".")>-1&&(l=l.replace(/0+$/,"").replace(/\.$/,"")),l+o+("percent"===a||"share"===a?"%":"")}},getScale:function(){return null==this.scale&&console.warn("scale is null"),this.scale},getUnique:function(t){if(this.isHook())return t||(t=this._getFirstDimension({type:"time"})),this.dataSource.getData(this._dataId,"unique",t)},getData:function(){return this.dataSource.getData(this._dataId)},getValidItems:function(){return this.dataSource.getData(this._dataId,"valid",this.which)},getNestedItems:function(t){return t?this.dataSource.getData(this._dataId,"nested",t):s.warn("No keys provided to getNestedItems(<keys>)")},getHaveNoDataPointsPerKey:function(){return this.dataSource.getData(this._dataId,"haveNoDataPointsPerKey",this.which)},getLimits:function(t){return this.dataSource.getData(this._dataId,"limits",t)},getTimespan:function(){var t=this._parent._parent.time;if("indicator"===this.use&&this.which!=t.dim&&this._important&&this._dataId)return this.dataSource.getData(this._dataId,"timespan",this.which)},getFrame:function(t,e,n){return this.dataSource.getFrame(this._dataId,t,e,n)},getFrames:function(t,e){return this.dataSource.getFrames(this._dataId,t,e)},getItems:function(t){var e=this,n=this.spaceRef&&this._space[this.spaceRef]?this._space[this.spaceRef].dim:e._getFirstDimension({exceptType:"time"}),i={},r=this.getValidItems(),a=t?this.getEntity().getFilteredEntities().map(function(t){return t[n]}):[],o=a.length;return s.isArray(r)&&r.forEach(function(t){o&&!a.includes(t[n])||(i[t[n]]=t[e.which])}),i},getLimitsByDimensions:function(t){var e=this.dataSource.getData(this._dataId,"nested",t),n={},i=this.which,r=function(t,e,n){for(var r=t.reduce(function(t,e){var n=s.isDate(e[i])?e[i]:parseFloat(e[i]);return isNaN(n)||t.push(n),t},[]),a=void 0,o=void 0,l={},c=0;c<r.length;c+=1){var u=r[c];(void 0===a||u<a)&&(a=u),(void 0===o||u>o)&&(o=u)}l.min=a||0,l.max=o||100,e[n]=l};return s.forEach(e,function(t,e){var i=n[JSON.parse(e).join(",")]={};s.forEach(t,function(t,e){r(t,i,e)})}),n},getConceptprops:function(){return"constant"!==this.use&&this.dataSource?this.dataSource.getConceptprops(this.which):{}},isDiscrete:function(){return"ordinal"===this.scaleType},validate:function(){var t=this;if(this._super(),this.which){var e=this.scaleType,n=this.getConceptprops()||{},i=n.scales,a=void 0===i?[]:i;this.allow&&this.allow.scales&&this.allow.scales.length>0&&(a=a.filter(function(e){return-1!=t.allow.scales.indexOf(e)}));var s=a.includes(e),o=a.includes("log")&&"genericLog"===e;if(!s&&!o&&a.length>0){var l=a,c=r(l,1),u=c[0];this.set({scaleType:u},null,!1)}}},getEntity:function(){return this._space[this.spaceRef]||this._parent._space[this.spaceRef]||this._parent._space[this._parent.getSpace()[0]]},getDataKeys:function(){return this.spaceRef?[this.getEntity().dim]:this._getAllDimensions({exceptType:"time"})}}));e.default=u},function(t,e,n){"use strict";if(n(8)){var i=n(36),r=n(3),a=n(4),s=n(0),o=n(72),l=n(105),c=n(23),u=n(45),h=n(38),d=n(14),f=n(47),p=n(28),v=n(10),g=n(139),m=n(41),b=n(26),y=n(17),_=n(58),M=n(5),w=n(11),x=n(96),S=n(42),z=n(20),O=n(43).f,E=n(98),k=n(39),T=n(7),P=n(30),C=n(62),D=n(69),A=n(101),L=n(53),I=n(66),R=n(44),N=n(100),j=n(129),q=n(9),F=n(19),H=q.f,B=F.f,V=r.RangeError,W=r.TypeError,Y=r.Uint8Array,U=Array.prototype,G=l.ArrayBuffer,K=l.DataView,X=P(0),Q=P(2),$=P(3),J=P(4),Z=P(5),tt=P(6),et=C(!0),nt=C(!1),it=A.values,rt=A.keys,at=A.entries,st=U.lastIndexOf,ot=U.reduce,lt=U.reduceRight,ct=U.join,ut=U.sort,ht=U.slice,dt=U.toString,ft=U.toLocaleString,pt=T("iterator"),vt=T("toStringTag"),gt=k("typed_constructor"),mt=k("def_constructor"),bt=o.CONSTR,yt=o.TYPED,_t=o.VIEW,Mt=P(1,function(t,e){return Ot(D(t,t[mt]),e)}),wt=a(function(){return 1===new Y(new Uint16Array([1]).buffer)[0]}),xt=!!Y&&!!Y.prototype.set&&a(function(){new Y(1).set({})}),St=function(t,e){var n=p(t);if(n<0||n%e)throw V("Wrong offset!");return n},zt=function(t){if(M(t)&&yt in t)return t;throw W(t+" is not a typed array!")},Ot=function(t,e){if(!(M(t)&&gt in t))throw W("It is not a typed array constructor!");return new t(e)},Et=function(t,e){return kt(D(t,t[mt]),e)},kt=function(t,e){for(var n=0,i=e.length,r=Ot(t,i);i>n;)r[n]=e[n++];return r},Tt=function(t,e,n){H(t,e,{get:function(){return this._d[n]}})},Pt=function(t){var e,n,i,r,a,s,o=w(t),l=arguments.length,u=l>1?arguments[1]:void 0,h=void 0!==u,d=E(o);if(void 0!=d&&!x(d)){for(s=d.call(o),i=[],e=0;!(a=s.next()).done;e++)i.push(a.value);o=i}for(h&&l>2&&(u=c(u,arguments[2],2)),e=0,n=v(o.length),r=Ot(this,n);n>e;e++)r[e]=h?u(o[e],e):o[e];return r},Ct=function(){for(var t=0,e=arguments.length,n=Ot(this,e);e>t;)n[t]=arguments[t++];return n},Dt=!!Y&&a(function(){ft.call(new Y(1))}),At=function(){return ft.apply(Dt?ht.call(zt(this)):zt(this),arguments)},Lt={copyWithin:function(t,e){return j.call(zt(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return J(zt(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return N.apply(zt(this),arguments)},filter:function(t){return Et(this,Q(zt(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return Z(zt(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return tt(zt(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){X(zt(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return nt(zt(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return et(zt(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return ct.apply(zt(this),arguments)},lastIndexOf:function(t){return st.apply(zt(this),arguments)},map:function(t){return Mt(zt(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return ot.apply(zt(this),arguments)},reduceRight:function(t){return lt.apply(zt(this),arguments)},reverse:function(){for(var t,e=this,n=zt(e).length,i=Math.floor(n/2),r=0;r<i;)t=e[r],e[r++]=e[--n],e[n]=t;return e},some:function(t){return $(zt(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return ut.call(zt(this),t)},subarray:function(t,e){var n=zt(this),i=n.length,r=m(t,i);return new(D(n,n[mt]))(n.buffer,n.byteOffset+r*n.BYTES_PER_ELEMENT,v((void 0===e?i:m(e,i))-r))}},It=function(t,e){return Et(this,ht.call(zt(this),t,e))},Rt=function(t){zt(this);var e=St(arguments[1],1),n=this.length,i=w(t),r=v(i.length),a=0;if(r+e>n)throw V("Wrong length!");for(;a<r;)this[e+a]=i[a++]},Nt={entries:function(){return at.call(zt(this))},keys:function(){return rt.call(zt(this))},values:function(){return it.call(zt(this))}},jt=function(t,e){return M(t)&&t[yt]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},qt=function(t,e){return jt(t,e=b(e,!0))?h(2,t[e]):B(t,e)},Ft=function(t,e,n){return!(jt(t,e=b(e,!0))&&M(n)&&y(n,"value"))||y(n,"get")||y(n,"set")||n.configurable||y(n,"writable")&&!n.writable||y(n,"enumerable")&&!n.enumerable?H(t,e,n):(t[e]=n.value,t)};bt||(F.f=qt,q.f=Ft),s(s.S+s.F*!bt,"Object",{getOwnPropertyDescriptor:qt,defineProperty:Ft}),a(function(){dt.call({})})&&(dt=ft=function(){return ct.call(this)});var Ht=f({},Lt);f(Ht,Nt),d(Ht,pt,Nt.values),f(Ht,{slice:It,set:Rt,constructor:function(){},toString:dt,toLocaleString:At}),Tt(Ht,"buffer","b"),Tt(Ht,"byteOffset","o"),Tt(Ht,"byteLength","l"),Tt(Ht,"length","e"),H(Ht,vt,{get:function(){return this[yt]}}),t.exports=function(t,e,n,l){l=!!l;var c=t+(l?"Clamped":"")+"Array",h="get"+t,f="set"+t,p=r[c],m=p||{},b=p&&z(p),y=!p||!o.ABV,w={},x=p&&p.prototype,E=function(t,n){var i=t._d;return i.v[h](n*e+i.o,wt)},k=function(t,n,i){var r=t._d;l&&(i=(i=Math.round(i))<0?0:i>255?255:255&i),r.v[f](n*e+r.o,i,wt)},T=function(t,e){H(t,e,{get:function(){return E(this,e)},set:function(t){return k(this,e,t)},enumerable:!0})};y?(p=n(function(t,n,i,r){u(t,p,c,"_d");var a,s,o,l,h=0,f=0;if(M(n)){if(!(n instanceof G||"ArrayBuffer"==(l=_(n))||"SharedArrayBuffer"==l))return yt in n?kt(p,n):Pt.call(p,n);a=n,f=St(i,e);var m=n.byteLength;if(void 0===r){if(m%e)throw V("Wrong length!");if((s=m-f)<0)throw V("Wrong length!")}else if((s=v(r)*e)+f>m)throw V("Wrong length!");o=s/e}else o=g(n),s=o*e,a=new G(s);for(d(t,"_d",{b:a,o:f,l:s,e:o,v:new K(a)});h<o;)T(t,h++)}),x=p.prototype=S(Ht),d(x,"constructor",p)):a(function(){p(1)})&&a(function(){new p(-1)})&&I(function(t){new p,new p(null),new p(1.5),new p(t)},!0)||(p=n(function(t,n,i,r){u(t,p,c);var a;return M(n)?n instanceof G||"ArrayBuffer"==(a=_(n))||"SharedArrayBuffer"==a?void 0!==r?new m(n,St(i,e),r):void 0!==i?new m(n,St(i,e)):new m(n):yt in n?kt(p,n):Pt.call(p,n):new m(g(n))}),X(b!==Function.prototype?O(m).concat(O(b)):O(m),function(t){t in p||d(p,t,m[t])}),p.prototype=x,i||(x.constructor=p));var P=x[pt],C=!!P&&("values"==P.name||void 0==P.name),D=Nt.values;d(p,gt,!0),d(x,yt,c),d(x,_t,!0),d(x,mt,p),(l?new p(1)[vt]==c:vt in x)||H(x,vt,{get:function(){return c}}),w[c]=p,s(s.G+s.W+s.F*(p!=m),w),s(s.S,c,{BYTES_PER_ELEMENT:e}),s(s.S+s.F*a(function(){m.of.call(p,1)}),c,{from:Pt,of:Ct}),"BYTES_PER_ELEMENT"in x||d(x,"BYTES_PER_ELEMENT",e),s(s.P,c,Lt),R(c),s(s.P+s.F*xt,c,{set:Rt}),s(s.P+s.F*!C,c,Nt),i||x.toString==dt||(x.toString=dt),s(s.P+s.F*a(function(){new p(1).slice()}),c,{slice:It}),s(s.P+s.F*(a(function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()})||!a(function(){x.toLocaleString.call([1,2])})),c,{toLocaleString:At}),L[c]=C?P:D,i||C||d(x,pt,D)}}else t.exports=function(){}},function(t,e,n){var i=n(134),r=n(0),a=n(61)("metadata"),s=a.store||(a.store=new(n(137))),o=function(t,e,n){var r=s.get(t);if(!r){if(!n)return;s.set(t,r=new i)}var a=r.get(e);if(!a){if(!n)return;r.set(e,a=new i)}return a},l=function(t,e,n){var i=o(e,n,!1);return void 0!==i&&i.has(t)},c=function(t,e,n){var i=o(e,n,!1);return void 0===i?void 0:i.get(t)},u=function(t,e,n,i){o(n,i,!0).set(t,e)},h=function(t,e){var n=o(t,e,!1),i=[];return n&&n.forEach(function(t,e){i.push(e)}),i},d=function(t){return void 0===t||"symbol"==typeof t?t:String(t)},f=function(t){r(r.S,"Reflect",t)};t.exports={store:s,map:o,has:l,get:c,set:u,keys:h,key:d,exp:f}},function(t,e,n){var i=n(39)("meta"),r=n(5),a=n(17),s=n(9).f,o=0,l=Object.isExtensible||function(){return!0},c=!n(4)(function(){return l(Object.preventExtensions({}))}),u=function(t){s(t,i,{value:{i:"O"+ ++o,w:{}}})},h=function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!a(t,i)){if(!l(t))return"F";if(!e)return"E";u(t)}return t[i].i},d=function(t,e){if(!a(t,i)){if(!l(t))return!0;if(!e)return!1;u(t)}return t[i].w},f=function(t){return c&&p.NEED&&l(t)&&!a(t,i)&&u(t),t},p=t.exports={KEY:i,NEED:!1,fastKey:h,getWeak:d,onFreeze:f}},function(t,e){t.exports=!1},function(t,e,n){var i=n(7)("unscopables"),r=Array.prototype;void 0==r[i]&&n(14)(r,i,{}),t.exports=function(t){r[i][t]=!0}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},function(t,e,n){var i=n(115),r=n(83);t.exports=Object.keys||function(t){return i(t,r)}},function(t,e,n){var i=n(28),r=Math.max,a=Math.min;t.exports=function(t,e){return t=i(t),t<0?r(t+e,0):a(t,e)}},function(t,e,n){var i=n(2),r=n(116),a=n(83),s=n(82)("IE_PROTO"),o=function(){},l=function(){var t,e=n(80)("iframe"),i=a.length;for(e.style.display="none",n(84).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;i--;)delete l.prototype[a[i]];return l()};t.exports=Object.create||function(t,e){var n;return null!==t?(o.prototype=i(t),n=new o,o.prototype=null,n[s]=t):n=l(),void 0===e?n:r(n,e)}},function(t,e,n){var i=n(115),r=n(83).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},function(t,e,n){"use strict";var i=n(3),r=n(9),a=n(8),s=n(7)("species");t.exports=function(t){var e=i[t];a&&e&&!e[s]&&r.f(e,s,{configurable:!0,get:function(){return this}})}},function(t,e){t.exports=function(t,e,n,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var i=n(23),r=n(127),a=n(96),s=n(2),o=n(10),l=n(98),c={},u={},e=t.exports=function(t,e,n,h,d){var f,p,v,g,m=d?function(){return t}:l(t),b=i(n,h,e?2:1),y=0;if("function"!=typeof m)throw TypeError(t+" is not iterable!");if(a(m)){for(f=o(t.length);f>y;y++)if((g=e?b(s(p=t[y])[0],p[1]):b(t[y]))===c||g===u)return g}else for(v=m.call(t);!(p=v.next()).done;)if((g=r(v,b,p.value,e))===c||g===u)return g};e.BREAK=c,e.RETURN=u},function(t,e,n){var i=n(15);t.exports=function(t,e,n){for(var r in e)i(t,r,e[r],n);return t}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){Object.defineProperty(t,e,{configurable:!0,get:function(e){return function(){return t.get(e)}}(e),set:function(e){return function(n){return t.set(e,n)}}(e)})}function a(t,e,i,r){function a(t,e){i._ready&&(e=i._name+"."+e,i.trigger(t,e))}function s(t,e){i.trigger(t,e)}function o(t,e){i.setReady(!1),l.defer(function(){i.setReady()})}var c=void 0;if(!l.isPlainObject(e)||l.isArray(e)||i.isObjectLeaf(t)){c=new f(t,e,i,{change:a},r)}else{var u={change:a,hook_change:s,load_error:function(){return i.trigger.apply(i,arguments)},dataLoaded:function(){return i.trigger.apply(i,arguments)},ready:o};if(p.isModel(e,!0))c=e,c.on(u);else{var h=t.split("_")[0],d=p.get(h,!0);if(!d)try{d=n(393)("./"+h).default}catch(t){d=p}c=new d(t,e,i,u)}}return c}function s(t){return t._intervals||(t._parent?s(t._parent):new d.default)}Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),l=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(o),c=n(49),u=i(c),h=n(392),d=i(h),f=u.default.extend({_name:"",_parent:null,_persistent:!0,init:function(t,e,n,i,r){Object.defineProperty(this,"value",{get:this.get,set:this.set}),Object.defineProperty(this,"persistent",{get:function(){return this._persistent}}),this._super(),this._name=t,this._parent=n,this._root=n._root,this.set(e,!1,r),this.on(i)},get:function(t){return t&&!this._persistent?this._persistentVal:this._val},set:function(t,e,n){return!!this.isSetAllowed(t,e)&&(n=void 0===n||n,n&&(this._persistentVal=t),this._previousVal=l.deepClone(this._val),this._val=t,this._persistent=n,this.trigger(new c.ChangeEvent(this),this._name),!0)},isSetAllowed:function(t,e){return e||this._val!==t&&JSON.stringify(this._val)!==JSON.stringify(t)},setTreeFreezer:function(t){t?this.freeze(["hook_change"]):this.unfreeze()}}),p=u.default.extend({getClassDefaults:function(){return{}},objectLeafs:[],init:function(t,e,n,i){this._type=this._type||"model",this._id=this._id||l.uniqueId("m"),this._data={},this._parent=n,this._root=n?n._root:this,this._name=t,this._inError=!1,this._ready=!1,this._readyOnce=!1,this._loadedOnce=!1,this._intervals=s(this),this._space={},this._dataId=!1,this._limits={},this._super();var r=l.deepExtend({},this.getClassDefaults(),e);this.set(r),i&&this.on(i)},get:function(t){if(t){var e=this._data[t];return p.isModel(e)?e:e.value}return this._data},set:function(t,e,n,i,s){var o=this._setting,c=void 0,u=!1;if(l.isPlainObject(t)?(c=t,i=n,n=e):(c={})[t]=e,0!==Object.keys(c).length){this._setting=!0,this._freeze||(u=!0,this.setTreeFreezer(!0));var h=[];for(var d in c){e=c[d];var v=l.isPlainObject(e)&&this._data[d]instanceof p,g=(!l.isPlainObject(e)||this.isObjectLeaf(d))&&this._data[d]instanceof f;if(this._data[d]&&(v||g)){var m=this._data[d].value,b=this._data[d].set(e,n,i);g&&b&&h.push(d);var y="set"+l.capitalize(d[0])+d.slice(1);this.isHook()&&l.isFunction(this[y])&&s!==this[y]&&e!==m&&this[y]("which"===d?{concept:e}:e)}else this._data[d]=a(d,e,this,i),r(this,d)}o||(this.checkDataChanges(h),this.validate&&this.validate()),o&&!n||(this._setting=!1,!u||this.isHook()&&this.isLoading()||this.setTreeFreezer(!1),this.isHook()||this.isLoading()||this.setReady())}},checkDataChanges:function(){},setTreeFreezer:function(t){l.forEach(this._data,function(e){e.setTreeFreezer(t)}),t?this.freeze(["hook_change"]):this.unfreeze()},getType:function(){return this._type},getSubmodels:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0},n=t?{}:[];return l.forEach(this._data,function(i,r){i&&void 0!==i._id&&p.isModel(i)&&e(i)&&(t?n[r]=i:n.push(i))}),n},getPlainObject:function(t){var e={},n=this;return l.forEach(this._data,function(i,r){if(i instanceof p)e[r]=i.getPlainObject(t);else if(!t||i.persistent){var a=i.get(t);l.isDate(a)&&(a=n.formatDate(a)),e[r]=a}}),e},formatDate:function(t){return t.toString()},getModelObject:function(t){return t?this._data[t]:this},clear:function(){var t=this.getSubmodels();for(var e in t)t[e].clear();this.setReady(!1),this.off(),this._intervals.clearAllIntervals(),this._data={}},validate:function(){},_isLoading:function(){return!1},isLoading:function(){if(this._isLoading())return!0;var t=this.getSubmodels(),e=void 0;for(e=0;e<t.length;e+=1)if(t[e].isLoading())return!0;return!1},setReady:function(t){if(!1===t)return this._ready=!1,void(this._parent&&this._parent.setReady&&this._parent.setReady(!1));var e=this._ready;this._ready=!this.isLoading()&&!this._setting,this._ready&&e!==this._ready&&(this._readyOnce||(this._readyOnce=!0,this.trigger("readyOnce")),this.trigger("ready"))},setInterModelListeners:function(){l.forEach(this.getSubmodels(),function(t){return t.setInterModelListeners()})},startPreload:function(){var t=[];return t.push(this.preloadData()),l.forEach(this.getSubmodels(),function(e){return t.push(e.startPreload())}),Promise.all(t)},preloadData:function(){return Promise.resolve()},startLoading:function(t){var e=this;this.trigger("startLoading");var n=[];return n.push(this.loadData(t)),l.forEach(this.getSubmodels(),function(e){return n.push(e.startLoading(t))}),Promise.all(n).then(this.onSuccessfullLoad.bind(this)).catch(function(t){l.error("error in model "+e._name),e.triggerLoadError(t)})},loadData:function(t){return this.isHook()&&l.warn("Hook "+this._name+" is not loading because it's not extending Hook prototype."),Promise.resolve()},loadSubmodels:function(t){var e=[],n=this.getSubmodels();return l.forEach(n,function(n){e.push(n.startLoading(t))}),e.length>0?Promise.all(e):Promise.resolve()},onSuccessfullLoad:function(){var t=this;this.validate(),l.timeStamp("Vizabi Model: Model loaded: "+this._name+"("+this._id+")"),this._loadedOnce=!0,this._loadCall=!1,this.setTreeFreezer(!1),l.defer(function(){return t.setReady()})},handleLoadError:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getDefaultError();this.triggerLoadError(t)},getDefaultError:function(){var t=new Error;return t.message=this.getClosestModel("locale").getTFunction()("connection/error"),t},triggerLoadError:function(t){if(u.default.unfreezeAll(),this._inError)return l.error("Model "+this._name+" already in error");this._inError=!0,this._root.trigger("load_error",t),this._root.trigger("load_error1",t)},afterPreload:function(){var t=this.getSubmodels();l.forEach(t,function(t){t.afterPreload()})},isHook:function(){return Boolean(this.use)},getSubhooks:function(t){return this.getSubmodels(t,function(t){return t.isHook()})},getHookWhich:function(t){var e=[];return this.use&&this.use===t&&e.push(this.which),l.forEach(this.getSubmodels(),function(n){e=l.unique(e.concat(n.getHookWhich(t)))}),e},getIndicators:function(){return this.getHookWhich("indicator")},getProperties:function(){return this.getHookWhich("property")},getDimension:function(){return this.dim||!1},getDimensionOrWhich:function(){return this.dim||"constant"!=this.use&&this.which},getFilter:function(){return{}},mapValue:function(t){return t},getParser:function(){return null},getDefaults:function(){return l.deepExtend({},this.getClassDefaults(),this.getSubmodelDefaults())},getSubmodelDefaults:function(){var t={};return l.forEach(this.getSubmodels(!0),function(e,n){t[n]=e.getDefaults()}),t},isObjectLeaf:function(t){return-1!==this.objectLeafs.indexOf(t)},getClosestModel:function(t){var e=this.findSubmodel(t);return e||(this._parent?this._parent.getClosestModel(t):null)},findSubmodel:function(t){for(var e in this._data)if(e===t&&p.isModel(this._data[e]))return this._data[e];return null},isEntities:function(){return!1}});p.isModel=function(t,e){return t&&(t.hasOwnProperty("_data")||e&&t.hasOwnProperty("_val"))},e.default=p},function(t,e,n){"use strict";function i(t){u=!0,t&&(o.isArray(t)||(t=[t]),o.forEach(t,function(t){d[t]=!0}))}function r(){u=!1,d={};for(var t=Object.keys(h),e=0;e<t.length;e++){var n=h[t[e]];n&&n.unfreeze()}h={}}Object.defineProperty(e,"__esModule",{value:!0}),e.ChangeEvent=e.DefaultEvent=void 0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=n(1),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(s),l=n(31),c=function(t){return t&&t.__esModule?t:{default:t}}(l),u=!1,h=[],d={},f=e.DefaultEvent=c.default.extend({source:"",type:"default",init:function(t,e){this.source=t,e&&(this.type=e)}}),p=(e.ChangeEvent=f.extend("change",{type:"change",init:function(t){this._super(t)}}),c.default.extend({init:function(){this._id=this._id||o.uniqueId("e"),this._events={},this._freeze=!1,this._freezer=[],this._freezeExceptions={}},on:function(t,e,n){if(!this.splitEventParameters(t,e,n,this.on)){var i=this.traversePath(e);i&&(i._events[t]=i._events[t]||[],"function"==typeof n?i._events[t].push(n):o.warn("Can't bind event '"+t+"'. It must be a function."))}},off:function(t,e,n){if(0==arguments.length)return void(this._events={});if(!this.splitEventParameters(t,e,n,this.off)){var i=this.traversePath(e);if(i&&i._events.hasOwnProperty(t)){if(void 0===n)return void(i._events[t]=[]);var r=i._events[t].indexOf(n);r>-1?i._events[t].splice(r,1):o.warn("Could not unbind function "+n.name+". Function not in bound function list.")}}},splitEventParameters:function(t,e,n,i){var r=void 0;if(o.isArray(t)){for(r=0;r<t.length;r+=1)i.call(this,t[r],n);return!0}if(o.isObject(t)){for(r in t)i.call(this,r,t[r]);return!0}if("function"==typeof e){if(n=e,-1!==t.indexOf(":")){var a=t.split(":");t=a[0],e=a[1]}else e=void 0;return i.call(this,t,e,n),!0}if(o.isArray(e)){for(r=0;r<e.length;r+=1)i.call(this,t,e[r],n);return!0}if(n&&o.isArray(n)){for(r=0;r<n.length;r+=1)i.call(this,t,e,n[r]);return!0}return!1},traversePath:function(t){if(void 0===t||o.isArray(t)&&0==t.length)return this;if("string"==typeof t&&(t=t.split(".")),!o.isArray(t))return o.error("Path is wrong type. Path should be a string or array but is "+(void 0===t?"undefined":a(t))+"."),null;var e=t.shift();if(void 0!==this[e])return this.getModelObject(e).traversePath(t);o.warn("Can't find child \""+e+'" of the model '+this._name+".")},createEventFromType:function(t){if(t instanceof f)return t;var e=f.get(t,!0);return e?new e(this):new f(this,t)},trigger:function(t,e){var n=this,i=void 0,r=void 0;if(o.isArray(t))for(i=0,r=t.length;i<r;i+=1)this.trigger(t[i],e);else{var a=this.createEventFromType(t);if(this._events.hasOwnProperty(a.type)){var s=this;o.forEach(this._events[a.type],function(t){var i=function(){var n="Vizabi Event: "+a.type;o.timeStamp(n),t.apply(s,[a,e])};n.allowExecution(a)?i():(n._freezer.push(i),u&&!h[n._id]&&(n.freeze(),h[n._id]=n))})}}},allowExecution:function(t){return!this._freeze&&!u||u&&d.hasOwnProperty(t.type)||!u&&this._freeze&&this._freezeExceptions.hasOwnProperty(t.type)},freeze:function(t){if(this._freeze=!0,t){o.isArray(t)||(t=[t]);for(var e=0;e<t.length;e+=1)this._freezeExceptions[t[e]]=!0}},unfreeze:function(){for(this._freeze=!1,this._freezeExceptions={};this._freezer.length;){this._freezer.shift()()}},clearFrozen:function(){this._freeze=!1,this._freezeExceptions={},this._freezer=[]}}));p.freezeAll=i,p.unfreezeAll=r,e.default=p},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(r),s=n(6),o=i(s),l=n(109),c=i(l),u=n(32),h=i(u),d=n(77),f=i(d),p=n(21),v=o.default.extend({init:function(t,e){this.name="gapminder-indicatorpicker",this.template='<span class="vzb-ip-holder"><span class="vzb-ip-select"></span><span class="vzb-ip-info"></span></span>';var n=this;this.model_expects=[{name:"time",type:"time"},{name:"targetModel"},{name:"locale",type:"locale"}],this.showHoverValues=t.showHoverValues||!1,this.model_binds={"translate:locale":function(t){n.updateView()},ready:function(t){n.updateView()}},this.model_binds["change:targetModel"]=function(t,e){-1!=e.indexOf("."+n.targetProp)&&n.updateView()},this._super(t,e),this.model.targetModel.isHook()&&this.showHoverValues&&this.model.targetModel._parent.on("change:highlight",function(t,e){var i=n.model.targetModel;if(i.isHook()){var r=i._parent;if(n.showHoverValues&&"constant"!=i.use){var s=r.getHighlighted();s.length>1||(s.length?r.getFrame(n.model.time.value,function(t){if(!n._highlighted&&t){var e=r.getHighlighted();if(e.length){var s=i.getDataKeys(),o=t[i._name][a.getKey(e[0],s)];if(o&&"color"===i._type&&i.isDiscrete()){var l=i.getColorlegendMarker();l.label.getItems()[o]&&(o=l.label.getItems()[o])}n._highlightedValue=o,n._highlighted=!n._highlightedValue&&0!==n._highlightedValue||"constant"!==i.use,n.updateView()}}}):(null!==e&&"highlight"!==e?e&&(n._highlightedValue=e[i._name],n._highlighted=!n._highlightedValue&&0!==n._highlightedValue||"constant"!==i.use):n._highlighted=!1,n.updateView()))}}}),this.targetProp=t.targetProp||this.model.targetModel instanceof h.default?"which":this.model.targetModel instanceof c.default?"dim":this.model.targetModel instanceof f.default?"space":null},ready:function(){this.updateView()},readyOnce:function(){var t=this;this.el_select=d3.select(this.element).select(".vzb-ip-select"),this.el_select.on("click",function(){var e=t.el_select.node().getBoundingClientRect(),n=t.root.element instanceof Array?t.root.element:d3.select(t.root.element),i=n.node().getBoundingClientRect(),r=t.root.findChildByName("gapminder-treemenu"),a=r.activeProfile.col_width,s=parseInt(r.wrapper.style("padding-left"),10)||0,o=parseInt(r.wrapper.style("padding-right"),10)||0,l=e.bottom-i.top,c=e.left-i.left-.5*(s+o+a-e.width);r.targetModel(t.model.targetModel).alignX("left").alignY("top").top(l).left(c).updateView().toggle()}),this.infoEl=d3.select(this.element).select(".vzb-ip-info"),t.model.targetModel.isHook()&&(a.setIcon(this.infoEl,p.question).select("svg").attr("width","0px").attr("height","0px"),this.infoEl.on("click",function(){t.root.findChildByName("gapminder-datanotes").pin()}),this.infoEl.on("mouseover",function(){var e=t.el_select.node().getBoundingClientRect(),n=t.root.element.getBoundingClientRect(),i=e.bottom-n.top,r=e.left-n.left+e.width;t.root.findChildByName("gapminder-datanotes").setHook(t.model.targetModel._name).show().setPos(r,i)}),this.infoEl.on("mouseout",function(){t.root.findChildByName("gapminder-datanotes").hide()}))},updateView:function(){if(this._readyOnce){var t=this,e=this.model.locale.getTFunction(),n=t.model.targetModel,i=n[t.targetProp],r=n._type,a=void 0,s=void 0;if(n instanceof h.default)if(a=n.getConceptprops(),this.showHoverValues&&this._highlighted){var o=n.getTickFormatter();s=this._highlightedValue||0===this._highlightedValue?o(this._highlightedValue):e("hints/nodata")}else s="_default"===i?e("indicator/_default/"+r):a.name_short;else{var l=n._root.dataManager;s=n.space.map(function(t){return l.getConceptProperty(n._space[t].dim,"name")}).join(", ")}this.el_select.text(s).attr("title",function(t){return this.offsetWidth<this.scrollWidth?s:null});var c=a&&!a.description&&!a.sourceName&&!a.sourceLink;this.infoEl.classed("vzb-invisible",c)}}});e.default=v},function(t,e,n){var i=n(9).f,r=n(17),a=n(7)("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,a)&&i(t,a,{configurable:!0,value:e})}},function(t,e,n){var i=n(0),r=n(27),a=n(4),s=n(86),o="["+s+"]",l="​",c=RegExp("^"+o+o+"*"),u=RegExp(o+o+"*$"),h=function(t,e,n){var r={},o=a(function(){return!!s[t]()||l[t]()!=l}),c=r[t]=o?e(d):s[t];n&&(r[n]=c),i(i.P+i.F*o,"String",r)},d=h.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(c,"")),2&e&&(t=t.replace(u,"")),t};t.exports=h},function(t,e){t.exports={}},function(t,e,n){var i=n(5);t.exports=function(t,e){if(!i(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(r),s=n(48),o=i(s),l=n(49),c=(i(l),o.default.extend({dataConnectedChildren:[],checkDataChanges:function(t){var e=this;if(t&&this.dataConnectedChildren&&(!a.isArray(t)&&a.isObject(t)&&(t=Object.keys(t)),0!=t.length&&0!=this.dataConnectedChildren.length)){t.filter(function(t){return-1!==e.dataConnectedChildren.indexOf(t)}).length>0&&(this.trigger("dataConnectedChange"),this.startLoading({dataConnectedChange:!0}))}}}));e.default=c},function(t,e,n){var i=n(24);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var i=n(24),r=n(7)("toStringTag"),a="Arguments"==i(function(){return arguments}()),s=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,n,o;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=s(e=Object(t),r))?n:a?i(e):"Object"==(o=i(e))&&"function"==typeof e.callee?"Arguments":o}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(i),a=n(78),s=function(t){return t&&t.__esModule?t:{default:t}}(a),o={THUMB_HEIGHT:17,THUMB_STROKE_WIDTH:3},l={small:{},medium:{},large:{}},c=s.default.extend({init:function(t,e){this.name="singlehandleslider";var n=r.extend({},o);this.options=r.extend(n,this.options||{});var i=r.extend({},l);this.profiles=r.extend(i,this.profiles||{}),this.slider_properties=t.properties||{};var a=this.slider_properties.roundDigits;(a||0==a)&&(this.options.ROUND_DIGITS=a),this.slider_properties.domain&&(this.options.EXTENT_MIN=this.slider_properties.domain[0],this.options.EXTENT_MAX=this.slider_properties.domain[1]),this._super(t,e)},readyOnce:function(){this._super();var t=this.options,e=t.BAR_WIDTH,n=t.THUMB_HEIGHT;this.padding.top=.5*(n+t.THUMB_STROKE_WIDTH),this.padding.bottom=.5*(n+t.THUMB_STROKE_WIDTH)-e;var i=this._getComponentWidth();i<0&&(i=0),this.rescaler.domain(this.slider_properties.domain||[this.options.EXTENT_MIN,this.options.EXTENT_MAX]),this.rescaler.range(d3.range(0,i,i/(this.rescaler.domain().length-1)).concat([i])),this.sliderEl.call(this.brush.handleSize(t.THUMB_HEIGHT+t.THUMB_STROKE_WIDTH)),this.sliderEl.selectAll(".w").classed("vzb-hidden",!0),this.sliderEl.select(".selection").classed("vzb-hidden",!0),this.sliderEl.select(".overlay").lower().style("stroke-opacity","0").style("stroke-width",.5*n+"px").attr("rx",.5*e).attr("ry",.5*e),this.sliderEl.selectAll(".vzb-slider-thumb-badge").style("stroke-width",this.options.THUMB_STROKE_WIDTH+"px")},_getBrushEventListeners:function(){var t=this,e=this,n=this._super();return{start:n.start,brush:function(){!e.nonBrushChange&&d3.event.sourceEvent&&(e.slider_properties.suppressInput?e._snap(d3.event.selection):n.brush.apply(n,arguments))},end:function(){!e.nonBrushChange&&d3.event.sourceEvent&&(e.slider_properties.snapValue&&t._snap(d3.event.selection),e._setFromExtent(!0,!0))}}},_snap:function(t){var e=this.rescaler.invert(this._extentToValue(t)),n=this.rescaler.domain(),i=n[n.length-1]>n[0],r=d3.bisector(d3[i?"ascending":"descending"]).left(n,e)||1;e=(i?1:-1)*(e-n[r-1]-(n[r]-e))>0?n[r]:n[r-1],this._moveBrush(this._valueToExtent(e))},_createThumbs:function(t){var e=(this.options.BAR_WIDTH,.5*this.options.THUMB_HEIGHT),n=d3.arc().outerRadius(e).startAngle(0).endAngle(2*Math.PI);t.attr("transform","translate("+(e+.5*this.options.THUMB_STROKE_WIDTH)+","+(e+.5*this.options.THUMB_STROKE_WIDTH)+")").append("path").attr("d",n)},_resize:function(){this._super();var t=this._getComponentWidth();this.rescaler.range(d3.range(0,t||1,t/(this.rescaler.domain().length-1)||1).concat([t]))},_valueToExtent:function(t){return[this.rescaler.domain()[0],t]},_extentToValue:function(t){return t[1]},_setModel:function(t,e,n){if(this.slider_properties.suppressInput){if(this._extentToValue(t).toFixed(this.options.ROUND_DIGITS)==this.model.submodel[this.arg])return}this._super(t,e,n)}});e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(6),r=function(t){return t&&t.__esModule?t:{default:t}}(i);e.default=r.default.extend({init:function(t,e){this.template='<span class="vzb-sc-holder vzb-dialog-checkbox"><input type="checkbox"><label></label></span>';var n=this;this.name="gapminder-simplecheckbox",this.checkbox=t.checkbox,this.submodel=t.submodel,this.model_expects=[{name:"mdl"},{name:"locale",type:"locale"}],this.model_binds={"change:mdl":function(t){n.updateView()},"translate:locale":function(t){n.updateView()}};var i=this.submodel?this.submodel+":":"";this.model_binds["change:mdl."+i+this.checkbox]=function(){n.updateView()},this._super(t,e)},ready:function(){this.parentModel=this.submodel?this.model.mdl[this.submodel]:this.model.mdl,this.updateView()},readyOnce:function(){var t=this;this.element=d3.select(this.element);var e="-check-"+t._id;this.labelEl=this.element.select("label").attr("for",e),this.checkEl=this.element.select("input").attr("id",e).on("change",function(){t._setModel(d3.select(this).property("checked"))})},updateView:function(){this.translator=this.model.locale.getTFunction();var t=this.parentModel&&(this.parentModel[this.checkbox]||!1===this.parentModel[this.checkbox]);this.labelEl.classed("vzb-hidden",!t),t&&(this.labelEl.text(this.translator("check/"+this.checkbox)),this.checkEl.property("checked",!!this.parentModel[this.checkbox]))},_setModel:function(t){this.parentModel[this.checkbox]=t}})},function(t,e,n){var i=n(22),r=n(3),a=r["__core-js_shared__"]||(r["__core-js_shared__"]={});(t.exports=function(t,e){return a[t]||(a[t]=void 0!==e?e:{})})("versions",[]).push({version:i.version,mode:n(36)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var i=n(18),r=n(10),a=n(41);t.exports=function(t){return function(e,n,s){var o,l=i(e),c=r(l.length),u=a(s,c);if(t&&n!=n){for(;c>u;)if((o=l[u++])!=o)return!0}else for(;c>u;u++)if((t||u in l)&&l[u]===n)return t||u||0;return!t&&-1}}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var i=n(24);t.exports=Array.isArray||function(t){return"Array"==i(t)}},function(t,e,n){var i=n(5),r=n(24),a=n(7)("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[a])?!!e:"RegExp"==r(t))}},function(t,e,n){var i=n(7)("iterator"),r=!1;try{var a=[7][i]();a.return=function(){r=!0},Array.from(a,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!r)return!1;var n=!1;try{var a=[7],s=a[i]();s.next=function(){return{done:n=!0}},a[i]=function(){return s},t(a)}catch(t){}return n}},function(t,e,n){"use strict";var i=n(2);t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){"use strict";var i=n(14),r=n(15),a=n(4),s=n(27),o=n(7);t.exports=function(t,e,n){var l=o(t),c=n(s,l,""[t]),u=c[0],h=c[1];a(function(){var e={};return e[l]=function(){return 7},7!=""[t](e)})&&(r(String.prototype,t,u),i(RegExp.prototype,l,2==e?function(t,e){return h.call(t,this,e)}:function(t){return h.call(t,this)}))}},function(t,e,n){var i=n(2),r=n(13),a=n(7)("species");t.exports=function(t,e){var n,s=i(t).constructor;return void 0===s||void 0==(n=i(s)[a])?e:r(n)}},function(t,e,n){var i=n(3),r=i.navigator;t.exports=r&&r.userAgent||""},function(t,e,n){"use strict";var i=n(3),r=n(0),a=n(15),s=n(47),o=n(35),l=n(46),c=n(45),u=n(5),h=n(4),d=n(66),f=n(51),p=n(87);t.exports=function(t,e,n,v,g,m){var b=i[t],y=b,_=g?"set":"add",M=y&&y.prototype,w={},x=function(t){var e=M[t];a(M,t,"delete"==t?function(t){return!(m&&!u(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(m&&!u(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return m&&!u(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof y&&(m||M.forEach&&!h(function(){(new y).entries().next()}))){var S=new y,z=S[_](m?{}:-0,1)!=S,O=h(function(){S.has(1)}),E=d(function(t){new y(t)}),k=!m&&h(function(){for(var t=new y,e=5;e--;)t[_](e,e);return!t.has(-0)});E||(y=e(function(e,n){c(e,y,t);var i=p(new b,e,y);return void 0!=n&&l(n,g,i[_],i),i}),y.prototype=M,M.constructor=y),(O||k)&&(x("delete"),x("has"),g&&x("get")),(k||z)&&x(_),m&&M.clear&&delete M.clear}else y=v.getConstructor(e,t,g,_),s(y.prototype,n),o.NEED=!0;return f(y,t),w[t]=y,r(r.G+r.W+r.F*(y!=b),w),m||v.setStrong(y,t,g),y}},function(t,e,n){for(var i,r=n(3),a=n(14),s=n(39),o=s("typed_array"),l=s("view"),c=!(!r.ArrayBuffer||!r.DataView),u=c,h=0,d="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");h<9;)(i=r[d[h++]])?(a(i.prototype,o,!0),a(i.prototype,l,!0)):u=!1;t.exports={ABV:c,CONSTR:u,TYPED:o,VIEW:l}},function(t,e,n){"use strict";t.exports=n(36)||!n(4)(function(){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete n(3)[t]})},function(t,e,n){"use strict";var i=n(0);t.exports=function(t){i(i.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},function(t,e,n){"use strict";var i=n(0),r=n(13),a=n(23),s=n(46);t.exports=function(t){i(i.S,t,{from:function(t){var e,n,i,o,l=arguments[1];return r(this),e=void 0!==l,e&&r(l),void 0==t?new this:(n=[],e?(i=0,o=a(l,arguments[2],2),s(t,!1,function(t){n.push(o(t,i++))})):s(t,!1,n.push,n),new this(n))}})}},function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){var n=[],i=!0,r=!1,a=void 0;try{for(var s,o=t[Symbol.iterator]();!(i=(s=o.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,a=t}finally{try{!i&&o.return&&o.return()}finally{if(r)throw a}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=n(1),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(s),l=n(31),c=function(t){return t&&t.__esModule?t:{default:t}}(l),u=c.default.extend({QUERY_FROM_CONCEPTS:"concepts",QUERY_FROM_DATAPOINTS:"datapoints",QUERY_FROM_ENTITIES:"entities",SCHEMA_QUERY_FROM_CONCEPTS:"concepts.schema",SCHEMA_QUERY_FROM_DATAPOINTS:"datapoints.schema",SCHEMA_QUERY_FROM_ENTITIES:"entities.schema",CONDITION_CALLBACKS:{$gt:function(t,e){return e>t},$gte:function(t,e){return e>=t},$lt:function(t,e){return e<t},$lte:function(t,e){return e<=t},$in:function(t,e){return t.includes(e)}},LOGICAL_TEST:{$and:"every",$or:"some"},ERRORS:{GENERIC_ERROR:"reader/error/generic"},_name:"reader",load:function(){return Promise.resolve({rows:[],columns:[]})},read:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t;t=this._normalizeQuery(t,n);var r=t,a=r.select,s=r.from;return this.load(n).then(function(i){var r=i.rows,o=i.columns;switch(e._checkTimeParser(o,n),e.ensureDataIsCorrect(i,n),!0){case s===e.SCHEMA_QUERY_FROM_CONCEPTS:return[{key:["concept"],value:"concept_type"}];case s===e.SCHEMA_QUERY_FROM_ENTITIES:return o.slice(0,e.keySize).map(function(t){return{key:[t],value:t}});case s===e.SCHEMA_QUERY_FROM_DATAPOINTS:var l=o.slice(0,e.keySize+1);return o.slice(e.keySize+1).map(function(t){return{key:l,value:t}});case s===e.QUERY_FROM_CONCEPTS:return e._getConcepts(o,e._mapRows(r,t,n));case e._isDataQuery(s)&&a.key.length>0:return e._getData(r,t,n);default:return[]}}).catch(function(t){throw e._onLoadError(t),o.find(e.ERRORS,function(e){return e===t.name})||(t=e.error(e.ERRORS.GENERIC_ERROR,t)),t.endpoint||(t.endpoint=e._basepath),t.ddfql||(t.ddfql=i),t.details||(t.details=e._name),t})},ensureDataIsCorrect:function(){},_checkTimeParser:function(t,e){var n=t[this.keySize];e[n]||(e[n]=function(t){return t})},_normalizeQuery:function(t,e){var n=Object.assign({},t),r=n.where,s=void 0===r?{}:r,o=n.join,l=void 0===o?{}:o;return s.$and&&(s.$and=s.$and.reduce(function(t,n){return Object.keys(n).forEach(function(r){var s=n[r];if("string"==typeof s&&s.startsWith("$")){var o=l[s].where;Object.keys(o).forEach(function(n){var r=o[n],s=e[n];t.push(i({},n,s?"object"===(void 0===r?"undefined":a(r))?Object.keys(r).reduce(function(t,e){return t[e]=s(r[e]),t},{}):s(r):r))})}else{var c=e[r];t.push(i({},r,c?c(s):s))}}),t},[])),n},_getConcepts:function(t,e){var n=this;return t.map(function(i,a){var s={concept:i};if(a<n.keySize)s.concept_type="entity_domain";else if(a===n.keySize)s.concept_type="time";else{s.concept_type="measure";for(var l=e.length-1;l>-1;--l)if(o.isString(e[l][i])&&""!==e[l][i]){s.concept_type="string";var c=r(t,1);s.domain=c[0];break}}return s})},_getData:function(t,e,n){var i=e.order_by,a=void 0===i?[]:i,s=r(a,1),o=s[0];return this._mapRows(t,e,n).reduce(this._applyQuery(e),[]).sort(function(t,e){return t[o]-e[o]})},_isDataQuery:function(t){return[this.QUERY_FROM_DATAPOINTS,this.QUERY_FROM_ENTITIES].includes(t)},_mapRows:function(t,e,n){return t.map(this._getRowMapper(e,n))},_getRowMapper:function(t,e){var n=this;return function(i){var r=!0,a=Object.keys(i).reduce(function(a,s){if(r){var l=i[s],c=String(l).trim(),u=e[s],h=o.isString(l)?u?u(c):n._parse(c):l;h||0===h?a[s]=h:t.select.key.includes(s)&&(r=!1)}return a},{});return r&&a}},_parse:function(t){return t},_applyQuery:function(t){var e=this,n=t.select,i=t.from,a=r(n.key,1),s=a[0],o=[];return function(r,a){if(a){var l=a[s],c=i!==e.QUERY_FROM_ENTITIES||!o.includes(l);if(e._isSuitableRow(t,a)&&c){i===e.QUERY_FROM_ENTITIES&&o.push(l);var u=Object.keys(a).reduce(function(t,e){return(n.key.includes(e)||n.value.includes(e))&&(t[e]=a[e]),t},{});r.push(u)}}return r}},_isSuitableRow:function(t,e){var n=this,i=t.where;return!i||Object.keys(i).every(function(t){return n._testCondition(i[t],t,e)})},_testCondition:function(t,e,n){var i=this,r=this.LOGICAL_TEST[e],s=r?e:n[e];return void 0===s||(t instanceof Date?!(+t-+s):"object"!==(void 0===t?"undefined":a(t))?s===t||!0===t&&o.isString(s)&&"true"===s.toLowerCase().trim()||!1===t&&o.isString(s)&&"false"===s.toLowerCase().trim():r?t[r](function(t){return Object.keys(t).every(function(e){return i._testCondition(t[e],e,n)})}):Object.keys(t).every(function(e){return i.CONDITION_CALLBACKS[e](t[e],s,n)}))},_onLoadError:function(t){},error:function(t,e,n,i,r){var a=new Error;return a.name=t,a.message=e,a.details=n,a.ddfql=i,a.endpoint=r,a}});e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(i),a=n(48),s=function(t){return t&&t.__esModule?t:{default:t}}(a),o=s.default.extend({getClassDefaults:function(){var t={select:[],highlight:[],superHighlight:[],opacityHighlightDim:.1,opacitySelectDim:.3,opacityRegular:1,limit:1e3,allowSelectMultiple:!0};return r.deepExtend(this._super(),t)},init:function(t,e,n,i,r){this._type="marker",this._visible=[],this._super(t,e,n,i,r),this.on("change","space",this.setInterModelListeners.bind(this))},setInterModelListeners:function(){var t=this;r.forEach(this.getSpace(),function(e){t._space[e]=t.getClosestModel(e)}),this._super()},setSpace:function(t){var e=this,n=Object.keys(this.getSubhooks(!0)),i={},a={};(i.space=this._root.dimensionManager.getDimensionModelsForSpace(this._space,t)).filter(function(t){return!e.space.includes(t)}).forEach(function(t){var r=e.getClosestModel(t),s="label"+t.replace(r._type,""),o={which:r.dim,use:"property"},l=e._root.dataManager.getAvailableDataForKey(r.dim,"name","entities")[0];l&&(o.which=l.value,o.data=l.data),n.includes(s)?(o.spaceRef=t,i[s]=o):(o.key=[{concept:r.dim}],o.dataSource=o.data,o.concept=o.which,a[s]=o,i[s]={})}),this.set(i),r.forEach(a,function(t,n){e[n].setInterModelListeners(),e[n].setWhich(t)}),this._dataCube=this.getSubhooks(!0)},getAvailableSpaces:function(){var t=new Map;return r.forEach(this._root._data,function(e){if("data"===e._type){var n=e.getConceptprops();e.keyAvailability.forEach(function(e,i){e.length>1&&t.set(i,e.map(function(t){return n[t]}))})}}),t},getAvailableData:function(){var t=this,e=[];if(0===d3.keys(this._space).length)return r.warn("getAvailableData() is trying to access missing _space items of marker '"+this._name+"' which likely haven't been resoled in time");var n=r.unique(this.space.map(function(e){return t._space[e].dim}));r.forEach(this._root._data,function(t){if("data"===t._type){var i=t.getConceptprops();t.dataAvailability.datapoints.forEach(function(r){n.length==r.key.size&&n.every(function(t){return r.key.has(t)})&&e.push({key:r.key,value:i[r.value],dataSource:t})});t.dataAvailability.entities.forEach(function(r){null!=r.value&&n.forEach(function(n){r.key.has(n)&&-1===r.value.indexOf("is--")&&e.push({key:Array.from(r.key).map(function(t){return i[t]}),value:i[r.value],dataSource:t})})})}});var i=this._root.dataManager.getDataModels().values().next().value;return n.filter(function(t){return null!=t}).forEach(function(t){return e.push({key:[i.getConceptprops(t)],value:i.getConceptprops(t),dataSource:i})}),e.push({key:[i.getConceptprops("_default")],value:i.getConceptprops("_default"),dataSource:i}),e},getAvailableConcept:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.index,n=void 0===e?0:e,i=t.type,r=void 0===i?null:i,a=t.includeOnlyIDs,s=void 0===a?[]:a,o=t.excludeIDs,l=void 0===o?[]:o;if(!r&&0==s.length&&0==l.length)return null;var c=this.getAvailableData().filter(function(t){return!(r&&t.value.concept_type&&t.value.concept_type!==r||0!=s.length&&-1===s.indexOf(t.value.concept)||0!=l.length&&-1!=l.indexOf(t.value.concept))});return c[n]||c[c.length-1]},setDataSourceForAllSubhooks:function(t){var e={};this.getSubhooks().forEach(function(n){e[n._name]={data:t}}),this.set(e,null,!1)},validate:function(){var t=this.getDimension(),e=this._visible.map(function(e){return e[t]});e.length&&(this.select=this.select.filter(function(n){return-1!==e.indexOf(n[t])}),this.setHighlight(this.highlight.filter(function(n){return-1!==e.indexOf(n[t])})))},setVisible:function(t){this._visible=t},getVisible:function(t){return this._visible},getSelected:function(t){return t?this.select.map(function(e){return e[t]}):this.select},selectMarker:function(t){var e=this,n=this._createValue(t);this.isSelected(t)?this.select=this.select.filter(function(t){return JSON.stringify(e._createValue(t))!==JSON.stringify(n)}):this.select=this.allowSelectMultiple?this.select.concat(n):[n]},selectAll:function(t,e){if(this.allowSelectMultiple){var n=void 0,i=r.unique(this._getAllDimensions({exceptType:"time"}));this.select=this._visible.map(function(t){return n={},i.forEach(function(e){return n[e]=t[e]}),n})}},isSelected:function(t){var e=this,n=JSON.stringify(this._createValue(t));return-1!==this.select.map(function(t){return JSON.stringify(e._createValue(t))===n}).indexOf(!0)},_createValue:function(t){return this._getAllDimensions({exceptType:"time"}).reduce(function(e,n){return e[n]=t[n],e},{})},getHighlighted:function(t){return t?this.highlight.map(function(e){return e[t]}):this.highlight},setHighlight:function(t){if(!r.isArray(t))return void this.setHighlight([].concat(t));this.getModelObject("highlight").set(t,!1,!1)},setSuperHighlight:function(t){this.getModelObject("superHighlight").set(r.isArray(t)?t:[t],!1,!1)},clearSuperHighlighted:function(){this.setSuperHighlight([])},isSuperHighlighted:function(t){var e=JSON.stringify(this._createValue(t));return~this.superHighlight.findIndex(function(t){return JSON.stringify(t)===e})},setSelect:function(t){if(!r.isArray(t))return void this.setSelect([].concat(t));this.getModelObject("select").set(t)},highlightMarker:function(t){var e=this._createValue(t);this.isHighlighted(t)||this.setHighlight(this.highlight.concat(e))},unhighlightEntity:function(t){var e=this._createValue(t);this.isHighlighted(t)&&this.setHighlight(this.highlight.filter(function(t){return t[dimension]!==e}))},isHighlighted:function(t){var e=this,n=JSON.stringify(this._createValue(t));return-1!==this.highlight.map(function(t){return JSON.stringify(e._createValue(t))===n}).indexOf(!0)},clearHighlighted:function(){this.setHighlight([])},clearSelected:function(){this.select=[]},setLabelOffset:function(t,e){if(0!==e[0]||1!==e[1]){var n=r.unique(this._getAllDimensions({exceptType:"time"})),i=n.join(",");this.select.find(function(e){return r.getKey(e,n)==t[i]}).labelOffset=[Math.round(1e3*e[0])/1e3,Math.round(1e3*e[1])/1e3],this.set("select",this.select,!0)}},getImportantHooks:function(){var t=[];return r.forEach(this._dataCube||this.getSubhooks(!0),function(e,n){e._important&&t.push(n)}),t},getLabelHookNames:function(){var t=this;return r.unique(this._getAllDimensions({exceptType:"time"})).reduce(function(e,n){var i={};r.forEach(t._dataCube||t.getSubhooks(!0),function(t,e){if(t.isDiscrete())return"label"===t._type&&t.getEntity().dim===n&&(i.label=e),"label"!==t._type&&t.getEntity().dim===n&&(i.key=e),!i.label||!i.key});var a=i.label||i.key;return a&&(e[n]=a),e},{})},getDataKeysPerHook:function(){var t={};return r.forEach(this._dataCube||this.getSubhooks(!0),function(e,n){t[n]=e.getDataKeys()}),t},getKeys:function(t){var e=this,n=void 0;t=t||r.unique(this._getAllDimensions({exceptType:"time"})),t=Array.isArray(t)?t:[t];var i=this._getFirstDimension({type:"time"}),a=this._dataCube||this.getSubhooks(!0),s=t.map(function(t){return[]}),o=t.map(function(t){return[]});return r.forEach(a,function(e,n){if("property"===e.use){var i=t.indexOf(e.getEntity().dim);-1===i||o[i].includes(e.dataSource)||(s[i].push(e),o[i].push(e.dataSource))}}),r.forEach(a,function(e,n){"indicator"===e.use&&e.getDataKeys().forEach(function(n){var i=t.indexOf(n);-1===i||o[i].includes(e.dataSource)||s[i].push(e)})}),s.forEach(function(e,a){var s=[];e.forEach(function(e){var n=e.getDataKeys(),r=n.indexOf(t[a]);s=s.concat(Object.keys(e.getNestedItems(n.concat(i))).map(function(t){return[JSON.parse(t)[r]]}))}),s=r.unique(s),n=n?d3.cross(n,s,function(t,e){return t.concat(e)}):s}),r.forEach(a,function(e,r){if(e._important&&"constant"!==e.use){var a=e.getDataKeys(),s=a.map(function(e){return t.indexOf(e)}).reduce(function(t,e,n){return-1!==e&&(t[n]=e),t},[]);if(s.length){var o=e.getNestedItems(a.concat(i)),l=e.getHaveNoDataPointsPerKey(),c=Object.keys(o),u=Object.keys(l||[]),h=(t.every(function(t,e){return t===a[e]}),c.reduce(function(t,e){return-1==u.indexOf(e)&&(t[JSON.stringify(s.map(function(t,n){return JSON.parse(e)[n]}))]=!0),t},{})),d=n.map(function(t){return JSON.stringify(s.map(function(e){return t[e]}))});n=n.filter(function(t,e){return h[d[e]]})}}}),n.length>e.limit&&(r.warn("MARKER getKeys(): only showing the first "+e.limit+" markerElements of "+e._name+". The rest are not displayed because chart may become slow and crash. Set a higher number in marker.limit or apply entity filters"),n=n.slice(0,e.limit)),n.map(function(e){var n={};return t.map(function(t,i){return n[t]=e[i]}),n})},_getCachePath:function(t){var e=this._parent.time.getAllSteps(),n=this.getClosestModel("locale").id+" - "+e[0]+" - "+e[e.length-1]+" - step:"+this._parent.time.step;this._dataCube=this._dataCube||this.getSubhooks(!0);var i=!1;return r.forEach(this._dataCube,function(t,e){t._loadCall&&(i=!0),n=n+"_"+t._dataId+t.which}),i?null:(t&&(n=n+"_"+t.join(",")),n)},_getGrouping:function(){var t=this._dataCube||this.getSubhooks(!0),e=t[Object.keys(t)[0]]._space,n={};return r.forEach(e,function(t){t.grouping&&(n[t.dim]={grouping:t.grouping})}),!r.isEmpty(n)&&n},_getAllDimensions:function(t){var e=[],n=this;r.forEach(this.space,function(t){e.push(n.getClosestModel(t))}),t=t||{};var i=[],a=void 0;return r.forEach(e,function(e){return!(!t.exceptType||e.getType()!==t.exceptType)||(!(!t.onlyType||e.getType()===t.onlyType)||void((a=e.getDimension())&&i.push(a)))}),i},_getFirstDimension:function(t){var e=[],n=this;r.forEach(this.space,function(t){e.push(n.getClosestModel(t))}),t=t||{};var i=!1;return r.forEach(e,function(e){return t.exceptType&&e.getType()!==t.exceptType?(i=e.getDimension(),!1):t.type&&e.getType()===t.type?(i=e.getDimension(),!1):t.exceptType||t.type?void 0:(i=e.getDimension(),!1)}),i},framesAreReady:function(){var t=this._getCachePath();return!!this.cachedFrames&&Object.keys(this.cachedFrames[t]).length==this._parent.time.getAllSteps().length},getFrame:function(t,e,n){var i=this;this.cachedFrames||(this.cachedFrames={});var a=this._parent.time.getAllSteps(),s=this._getCachePath();if(!s)return e(null,t);if(t&&i.cachedFrames[s]&&i.cachedFrames[s][t])return e(i.cachedFrames[s][t],t);if(!(s=this._getCachePath(n)))return e(null,t);if(t&&i.cachedFrames[s]&&i.cachedFrames[s][t])return e(i.cachedFrames[s][t],t);if(t&&a.length>1){var o=d3.bisectLeft(a,t);if(!a[o])return r.warn("The requested frame is out of range: "+t),e(null,t),null;if(a[o].toString()!=t.toString())return this._interpolateBetweenFrames(t,o,a,function(n){e(n,t)},n),null}i.getFrames(t,n).then(function(){return!t&&i.cachedFrames[s]?e(i.cachedFrames[s],t):i.cachedFrames[s]&&i.cachedFrames[s][t]?e(i.cachedFrames[s][t],t):(r.warn("marker.js getFrame: Data is not available for frame: "+t),e(null,t))})},_interpolateBetweenFrames:function(t,e,n,i,a){var s=this;if(0==e)this.getFrame(n[e],function(t){return i(t)},a);else{var o=n[e-1],l=n[e];this.getFrame(o,function(e){s.getFrame(l,function(n){var a=(t-o)/(l-o),s={};r.forEach(e,function(e,i){s[i]={},r.forEach(e,function(e,o){var l=n[i][o];r.isDate(e)?s[i][o]=t:r.isNumber(e)?s[i][o]=null==e||null==l?null:e+(l-e)*a:s[i][o]=e})}),i(s)},a)},a)}},getFrames:function(t,e){function n(){if(i.partialResult[l].timeOrConstantHooks){var t=i.partialResult[l].timeOrConstantHooks,e=i.getKeys();t.forEach(function(t){var n=t.which,c=t.name,u=n===s;o.forEach(function(t){i.partialResult[l][t][c]={},e.forEach(function(e){i.partialResult[l][t][c][r.getKey(e,a)]=u?new Date(t):n})})}),delete i.partialResult[l].timeOrConstantHooks}}var i=this;this.cachedFrames||(this.cachedFrames={});var a=r.unique(this._getAllDimensions({exceptType:"time"})),s=this._getFirstDimension({type:"time"});this.frameQueues||(this.frameQueues={}),this.partialResult||(this.partialResult={});var o=this._parent.time.getAllSteps(),l=this._getCachePath(e);return l?(this.frameQueues[l]&&this.frameQueues[l]instanceof Promise||(this.frameQueues[l]=new Promise(function(t,c){i.partialResult[l]={},i.partialResult[l].timeOrConstantHooks=[],o.forEach(function(t){i.partialResult[l][t]={}});var u=[];if(r.forEach(i._dataCube,function(t,e){if("constant"===t.use||t.which===s)i.partialResult[l].timeOrConstantHooks.push({name:e,which:t.which});else if(a.includes(t.which)){var n=t.getValidItems();o.forEach(function(r){i.partialResult[l][r][e]={},n.forEach(function(n){i.partialResult[l][r][e][n[t.which]]=n[t.which]})})}else u.push(t)}),u.length>0){var h=[];r.forEach(u,function(t){h.push(new Promise(function(n,a){var s={name:t._name,which:t.which};t.getFrames(o,e).then(function(t){r.forEach(t,function(t,e){i.partialResult[l][e][s.name]=t[s.which]}),n()})}))}),Promise.all(h).then(function(){n(),i.cachedFrames[l]=i.partialResult[l],t()})}else n(),i.cachedFrames[l]=i.partialResult[l],t()})),new Promise(function(c,u){if(o.length<2||!t)i.frameQueues[l].then(function(){c()});else{var h=[];r.forEach(i._dataCube,function(n,r){"constant"===n.use||a.includes(n.which)||n.which===s||function(n,r){h.push(new Promise(function(a,s){n.getFrame(o,t,e).then(function(e){i.partialResult[l][t][r]=e[t][n.which],a()})}))}(n,r)}),h.length>0?Promise.all(h).then(function(){n(),i.cachedFrames[l]||(i.cachedFrames[l]={}),i.cachedFrames[l][t]=i.partialResult[l][t],c()}):c()}})):new Promise(function(t,e){t()})},listenFramesQueue:function(t,e){var n=this,i=r.unique(this._getAllDimensions({exceptType:"time"})),a=this._getFirstDimension({type:"time"}),s=this._parent.time.getAllSteps(),o={};this.getFrames();var l=[],c=s.length,u=!1;r.forEach(n._dataCube,function(r,h){"constant"===r.use||i.includes(r.which)||r.which===a||l.includes(r._dataId)||(l.push(r._dataId),r.dataSource.listenFrame(r._dataId,s,t,function(t,i){var r=i.toString();void 0===o[r]&&(o[r]=[]),o[r].includes(t)||o[r].push(t),o[r].length===l.length&&(u||c!==Object.keys(o).length||(u=!0,n.trigger("dataLoaded")),e(i))}))})},getEntityLimits:function(t){var e=this,n=this._parent.time.getAllSteps(),i=[],a=[];r.forEach(e.getSubhooks(),function(t){"constant"!=t.use&&t._important&&a.push(t._name)});var s=function(e){if(!e)return!1;for(var n=0,i=a.length;n<i;n++)if(!e[a[n]][t]&&0!==e[a[n]][t])return!1;return!0},o=function t(i,r){var a=i();if(null==a)return r(a);e.getFrame(n[a],function(e){s(e)?r(a):t(i,r)})},l=[];return l.push(new Promise(function(t,e){o(function(){var t=n.length,e=0;return function(){return e<t?e++:null}}(),function(e){i[0]=n[e],t()})})),l.push(new Promise(function(t,e){o(function(){var t=n.length-1;return function(){return t>=0?t--:null}}(),function(e){i[1]=n[e],t()})})),Promise.all(l).then(function(){return{min:i[0],max:i[1]}})},getCompoundLabelText:function(t,e){var n=this._root.dataManager,i=r.unique(this._getAllDimensions({exceptType:"time"})),a=this.getLabelHookNames(),s=i.filter(function(e){return t[e]!==n.getConceptProperty(e,"totals_among_entities")}).map(function(n){return e[a[n]]&&e[a[n]][t[n]]||t[n]}).join(", ");return""===s&&(s=this._root.locale.getTFunction()("hints/grandtotal")),s},getSpace:function(){if(r.isArray(this.space))return this.space;r.error('ERROR: space not found.\n You must specify the objects this hook will use under the "space" attribute in the state.\n Example:\n space: ["entities", "time"]')}});e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(i),a=n(6),s=function(t){return t&&t.__esModule?t:{default:t}}(a),o={EXTENT_MIN:0,EXTENT_MAX:1,BAR_WIDTH:6,THUMB_HEIGHT:20,THUMB_STROKE_WIDTH:4,INTRO_DURATION:250,ROUND_DIGITS:2},l={small:{},medium:{},large:{}},c=s.default.extend({init:function(t,e){this.name=this.name||"brushslider";var i=r.extend({},o);this.options=r.extend(i,this.options||{});var a=r.extend({},l);this.profiles=r.extend(a,this.profiles||{}),this.template=this.template||n(402),this.arg=t.arg||"extent",this.model_expects=this.model_expects||[{name:"submodel"},{name:"locale",type:"locale"}],this.model_binds=this.model_binds||{},this.model_binds.ready||(this.model_binds.ready=this.readyHandler.bind(this)),this.model_binds["change:submodel."+this.arg]||(this.model_binds["change:submodel."+this.arg]=this.changeHandler.bind(this)),this._setModel=r.throttle(this._setModel,50),this._super(t,e)},changeHandler:function(t,e){var n=this._valueToExtent(this.model.submodel[this.arg])||[this.options.EXTENT_MIN,this.options.EXTENT_MAX];this._moveBrush(n)},readyHandler:function(t){},readyOnce:function(){var t=this;this.element=d3.select(this.element),this.sliderSvg=this.element.select(".vzb-slider-svg"),this.sliderWrap=this.sliderSvg.select(".vzb-slider-wrap"),this.sliderEl=this.sliderWrap.select(".vzb-slider").classed("vzb-slider-"+this.name,!0);var e=this.options,n=e.BAR_WIDTH,i=.5*e.THUMB_HEIGHT,r=(this.padding={top:.5*n,left:i,right:i,bottom:i+e.THUMB_STROKE_WIDTH},this._getComponentWidth()||0);r<0&&(r=0),this.rescaler=d3.scaleLinear().domain([e.EXTENT_MIN,e.EXTENT_MAX]).range([0,r]).clamp(!0),this.brushEventListeners=this._getBrushEventListeners(),this.brush=d3.brushX().handleSize(2*i+2*n).on("start",this.brushEventListeners.start).on("brush",this.brushEventListeners.brush).on("end",this.brushEventListeners.end),this.sliderThumbs=this.sliderEl.selectAll(".handle").data([{type:"w"},{type:"e"}],function(t){return t.type}).enter().append("svg").attr("class",function(t){return"handle handle--"+t.type+" "+t.type}).classed("vzb-slider-thumb",!0),this._createThumbs(this.sliderThumbs.append("g").attr("class","vzb-slider-thumb-badge")),this.sliderEl.call(t.brush),this.sliderEl.selectAll(".selection,.overlay").attr("height",n).attr("rx",.25*n).attr("ry",.25*n).attr("transform","translate(0,"+.5*-n+")"),this.on("resize",function(){t._resize(),t._updateView()})},ready:function(){this.isRTL=this.model.locale.isRTL(),this._resize(),this._updateView()},_getBrushEventListeners:function(){var t=this;return{start:function(){if(!t.nonBrushChange&&d3.event.sourceEvent){if(d3.event.selection&&d3.event.selection[0]==d3.event.selection[1]){t.sliderEl.node().__brush.selection[1][0]+=.01}t._setFromExtent(!1,!1,!1)}},brush:function(){if(!t.nonBrushChange&&d3.event.sourceEvent){if(d3.event.selection&&d3.event.selection[0]==d3.event.selection[1]){t.sliderEl.node().__brush.selection[1][0]+=.01}t._setFromExtent(!0,!1,!1)}},end:function(){!t.nonBrushChange&&d3.event.sourceEvent&&t._setFromExtent(!0,!0)}}},_createThumbs:function(t){var e=this.options.BAR_WIDTH,n=.5*this.options.THUMB_HEIGHT;t.append("path").attr("d","M"+(n+e)+" "+(n+1.5*e)+"l"+-n+" "+1.5*n+"h"+2*n+"Z")},_updateThumbs:function(t){},_updateSize:function(){var t=this._getComponentWidth()+this.padding.left+this.padding.right;this.sliderSvg.attr("height",this._getComponentHeight()+this.padding.top+this.padding.bottom).attr("width",t),this.sliderWrap.attr("transform",this.isRTL?"translate("+(t-this.padding.right)+","+this.padding.top+") scale(-1,1)":"translate("+this.padding.left+","+this.padding.top+")")},_resize:function(){this._updateSize();var t=this._getComponentWidth();this.rescaler.range([0,t])},_getComponentWidth:function(){var t=this.element.node().offsetWidth-this.padding.left-this.padding.right;return t<0?0:t},_getComponentHeight:function(){return this.options.BAR_WIDTH},_updateView:function(){this.sliderEl.call(this.brush.extent([[0,0],[this._getComponentWidth(),this._getComponentHeight()]]));var t=this._valueToExtent(this.model.submodel[this.arg])||[this.options.EXTENT_MIN,this.options.EXTENT_MAX];this._moveBrush(t)},_moveBrush:function(t){var e=t.map(this.rescaler);this.nonBrushChange=!0,this.sliderEl.call(this.brush.move,[e[0],e[1]+.01]),this.nonBrushChange=!1,this._setFromExtent(!1,!1,!1)},_valueToExtent:function(t){return t},_extentToValue:function(t){return t},_setFromExtent:function(t,e,n){var i=d3.brushSelection(this.sliderEl.node());i&&(i=[this.rescaler.invert(i[0]),this.rescaler.invert(+i[1].toFixed(1))],this._updateThumbs(i),t&&this._setModel(i,e,n))},_setModel:function(t,e,n){var i=this.options.ROUND_DIGITS;t=[+t[0].toFixed(i),+t[1].toFixed(i)];var r={};r[this.arg]=this._extentToValue(t),this.model.submodel.set(r,e,n)}});e.default=c},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var i=n(5),r=n(3).document,a=i(r)&&i(r.createElement);t.exports=function(t){return a?r.createElement(t):{}}},function(t,e,n){var i=n(3),r=n(22),a=n(36),s=n(114),o=n(9).f;t.exports=function(t){var e=r.Symbol||(r.Symbol=a?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||o(e,t,{value:s.f(t)})}},function(t,e,n){var i=n(61)("keys"),r=n(39);t.exports=function(t){return i[t]||(i[t]=r(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var i=n(3).document;t.exports=i&&i.documentElement},function(t,e,n){var i=n(5),r=n(2),a=function(t,e){if(r(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{i=n(23)(Function.call,n(19).f(Object.prototype,"__proto__").set,2),i(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return a(t,n),e?t.__proto__=n:i(t,n),t}}({},!1):void 0),check:a}},function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(t,e,n){var i=n(5),r=n(85).set;t.exports=function(t,e,n){var a,s=e.constructor;return s!==n&&"function"==typeof s&&(a=s.prototype)!==n.prototype&&i(a)&&r&&r(t,a),t}},function(t,e,n){"use strict";var i=n(28),r=n(27);t.exports=function(t){var e=String(r(this)),n="",a=i(t);if(a<0||a==1/0)throw RangeError("Count can't be negative");for(;a>0;(a>>>=1)&&(e+=e))1&a&&(n+=e);return n}},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e){var n=Math.expm1;t.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:n},function(t,e,n){var i=n(28),r=n(27);t.exports=function(t){return function(e,n){var a,s,o=String(r(e)),l=i(n),c=o.length;return l<0||l>=c?t?"":void 0:(a=o.charCodeAt(l),a<55296||a>56319||l+1===c||(s=o.charCodeAt(l+1))<56320||s>57343?t?o.charAt(l):a:t?o.slice(l,l+2):s-56320+(a-55296<<10)+65536)}}},function(t,e,n){"use strict";var i=n(36),r=n(0),a=n(15),s=n(14),o=n(53),l=n(93),c=n(51),u=n(20),h=n(7)("iterator"),d=!([].keys&&"next"in[].keys()),f=function(){return this};t.exports=function(t,e,n,p,v,g,m){l(n,e,p);var b,y,_,M=function(t){if(!d&&t in z)return z[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},w=e+" Iterator",x="values"==v,S=!1,z=t.prototype,O=z[h]||z["@@iterator"]||v&&z[v],E=O||M(v),k=v?x?M("entries"):E:void 0,T="Array"==e?z.entries||O:O;if(T&&(_=u(T.call(new t)))!==Object.prototype&&_.next&&(c(_,w,!0),i||"function"==typeof _[h]||s(_,h,f)),x&&O&&"values"!==O.name&&(S=!0,E=function(){return O.call(this)}),i&&!m||!d&&!S&&z[h]||s(z,h,E),o[e]=E,o[w]=f,v)if(b={values:x?E:M("values"),keys:g?E:M("keys"),entries:k},m)for(y in b)y in z||a(z,y,b[y]);else r(r.P+r.F*(d||S),e,b);return b}},function(t,e,n){"use strict";var i=n(42),r=n(38),a=n(51),s={};n(14)(s,n(7)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=i(s,{next:r(1,n)}),a(t,e+" Iterator")}},function(t,e,n){var i=n(65),r=n(27);t.exports=function(t,e,n){if(i(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(r(t))}},function(t,e,n){var i=n(7)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[i]=!1,!"/./"[t](e)}catch(t){}}return!0}},function(t,e,n){var i=n(53),r=n(7)("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||a[r]===t)}},function(t,e,n){"use strict";var i=n(9),r=n(38);t.exports=function(t,e,n){e in t?i.f(t,e,r(0,n)):t[e]=n}},function(t,e,n){var i=n(58),r=n(7)("iterator"),a=n(53);t.exports=n(22).getIteratorMethod=function(t){if(void 0!=t)return t[r]||t["@@iterator"]||a[i(t)]}},function(t,e,n){var i=n(280);t.exports=function(t,e){return new(i(t))(e)}},function(t,e,n){"use strict";var i=n(11),r=n(41),a=n(10);t.exports=function(t){for(var e=i(this),n=a(e.length),s=arguments.length,o=r(s>1?arguments[1]:void 0,n),l=s>2?arguments[2]:void 0,c=void 0===l?n:r(l,n);c>o;)e[o++]=t;return e}},function(t,e,n){"use strict";var i=n(37),r=n(130),a=n(53),s=n(18);t.exports=n(92)(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,r(1)):"keys"==e?r(0,n):"values"==e?r(0,t[n]):r(0,[n,t[n]])},"values"),a.Arguments=a.Array,i("keys"),i("values"),i("entries")},function(t,e,n){var i,r,a,s=n(23),o=n(120),l=n(84),c=n(80),u=n(3),h=u.process,d=u.setImmediate,f=u.clearImmediate,p=u.MessageChannel,v=u.Dispatch,g=0,m={},b=function(){var t=+this;if(m.hasOwnProperty(t)){var e=m[t];delete m[t],e()}},y=function(t){b.call(t.data)};d&&f||(d=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return m[++g]=function(){o("function"==typeof t?t:Function(t),e)},i(g),g},f=function(t){delete m[t]},"process"==n(24)(h)?i=function(t){h.nextTick(s(b,t,1))}:v&&v.now?i=function(t){v.now(s(b,t,1))}:p?(r=new p,a=r.port2,r.port1.onmessage=y,i=s(a.postMessage,a,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(i=function(t){u.postMessage(t+"","*")},u.addEventListener("message",y,!1)):i="onreadystatechange"in c("script")?function(t){l.appendChild(c("script")).onreadystatechange=function(){l.removeChild(this),b.call(t)}}:function(t){setTimeout(s(b,t,1),0)}),t.exports={set:d,clear:f}},function(t,e,n){var i=n(3),r=n(102).set,a=i.MutationObserver||i.WebKitMutationObserver,s=i.process,o=i.Promise,l="process"==n(24)(s);t.exports=function(){var t,e,n,c=function(){var i,r;for(l&&(i=s.domain)&&i.exit();t;){r=t.fn,t=t.next;try{r()}catch(i){throw t?n():e=void 0,i}}e=void 0,i&&i.enter()};if(l)n=function(){s.nextTick(c)};else if(!a||i.navigator&&i.navigator.standalone)if(o&&o.resolve){var u=o.resolve(void 0);n=function(){u.then(c)}}else n=function(){r.call(i,c)};else{var h=!0,d=document.createTextNode("");new a(c).observe(d,{characterData:!0}),n=function(){d.data=h=!h}}return function(i){var r={fn:i,next:void 0};e&&(e.next=r),t||(t=r,n()),e=r}}},function(t,e,n){"use strict";function i(t){var e,n;this.promise=new t(function(t,i){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=i}),this.resolve=r(e),this.reject=r(n)}var r=n(13);t.exports.f=function(t){return new i(t)}},function(t,e,n){"use strict";function i(t,e,n){var i,r,a,s=new Array(n),o=8*n-e-1,l=(1<<o)-1,c=l>>1,u=23===e?j(2,-24)-j(2,-77):0,h=0,d=t<0||0===t&&1/t<0?1:0;for(t=N(t),t!=t||t===I?(r=t!=t?1:0,i=l):(i=q(F(t)/H),t*(a=j(2,-i))<1&&(i--,a*=2),t+=i+c>=1?u/a:u*j(2,1-c),t*a>=2&&(i++,a/=2),i+c>=l?(r=0,i=l):i+c>=1?(r=(t*a-1)*j(2,e),i+=c):(r=t*j(2,c-1)*j(2,e),i=0));e>=8;s[h++]=255&r,r/=256,e-=8);for(i=i<<e|r,o+=e;o>0;s[h++]=255&i,i/=256,o-=8);return s[--h]|=128*d,s}function r(t,e,n){var i,r=8*n-e-1,a=(1<<r)-1,s=a>>1,o=r-7,l=n-1,c=t[l--],u=127&c;for(c>>=7;o>0;u=256*u+t[l],l--,o-=8);for(i=u&(1<<-o)-1,u>>=-o,o+=e;o>0;i=256*i+t[l],l--,o-=8);if(0===u)u=1-s;else{if(u===a)return i?NaN:c?-I:I;i+=j(2,e),u-=s}return(c?-1:1)*i*j(2,u-e)}function a(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function s(t){return[255&t]}function o(t){return[255&t,t>>8&255]}function l(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function c(t){return i(t,52,8)}function u(t){return i(t,23,4)}function h(t,e,n){O(t[T],e,{get:function(){return this[n]}})}function d(t,e,n,i){var r=+n,a=S(r);if(a+e>t[V])throw L(P);var s=t[B]._b,o=a+t[W],l=s.slice(o,o+e);return i?l:l.reverse()}function f(t,e,n,i,r,a){var s=+n,o=S(s);if(o+e>t[V])throw L(P);for(var l=t[B]._b,c=o+t[W],u=i(+r),h=0;h<e;h++)l[c+h]=u[a?h:e-h-1]}var p=n(3),v=n(8),g=n(36),m=n(72),b=n(14),y=n(47),_=n(4),M=n(45),w=n(28),x=n(10),S=n(139),z=n(43).f,O=n(9).f,E=n(100),k=n(51),T="prototype",P="Wrong index!",C=p.ArrayBuffer,D=p.DataView,A=p.Math,L=p.RangeError,I=p.Infinity,R=C,N=A.abs,j=A.pow,q=A.floor,F=A.log,H=A.LN2,B=v?"_b":"buffer",V=v?"_l":"byteLength",W=v?"_o":"byteOffset";if(m.ABV){if(!_(function(){C(1)})||!_(function(){new C(-1)})||_(function(){return new C,new C(1.5),new C(NaN),"ArrayBuffer"!=C.name})){C=function(t){return M(this,C),new R(S(t))};for(var Y,U=C[T]=R[T],G=z(R),K=0;G.length>K;)(Y=G[K++])in C||b(C,Y,R[Y]);g||(U.constructor=C)}var X=new D(new C(2)),Q=D[T].setInt8;X.setInt8(0,2147483648),X.setInt8(1,2147483649),!X.getInt8(0)&&X.getInt8(1)||y(D[T],{setInt8:function(t,e){Q.call(this,t,e<<24>>24)},setUint8:function(t,e){Q.call(this,t,e<<24>>24)}},!0)}else C=function(t){M(this,C,"ArrayBuffer");var e=S(t);this._b=E.call(new Array(e),0),this[V]=e},D=function(t,e,n){M(this,D,"DataView"),M(t,C,"DataView");var i=t[V],r=w(e);if(r<0||r>i)throw L("Wrong offset!");if(n=void 0===n?i-r:x(n),r+n>i)throw L("Wrong length!");this[B]=t,this[W]=r,this[V]=n},v&&(h(C,"byteLength","_l"),h(D,"buffer","_b"),h(D,"byteLength","_l"),h(D,"byteOffset","_o")),y(D[T],{getInt8:function(t){return d(this,1,t)[0]<<24>>24},getUint8:function(t){return d(this,1,t)[0]},getInt16:function(t){var e=d(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=d(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return a(d(this,4,t,arguments[1]))},getUint32:function(t){return a(d(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return r(d(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return r(d(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){f(this,1,t,s,e)},setUint8:function(t,e){f(this,1,t,s,e)},setInt16:function(t,e){f(this,2,t,o,e,arguments[2])},setUint16:function(t,e){f(this,2,t,o,e,arguments[2])},setInt32:function(t,e){f(this,4,t,l,e,arguments[2])},setUint32:function(t,e){f(this,4,t,l,e,arguments[2])},setFloat32:function(t,e){f(this,4,t,u,e,arguments[2])},setFloat64:function(t,e){f(this,8,t,c,e,arguments[2])}});k(C,"ArrayBuffer"),k(D,"DataView"),b(D[T],m.VIEW,!0),e.ArrayBuffer=C,e.DataView=D},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){return t.match(/\//g).length},r=function(t,e){var n=t.keys();return e&&(n=n.filter("function"==typeof e?function(t){return e(i(t))}:function(t){return i(t)===e+1})),n.reduce(function(e,n){var i=/([^\/]+)\..+$/.exec(n)[1];try{var r=t(n);e[i]=r.default||r}catch(t){console.warn("Import error",n,t)}return e},{})};e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(i),a=n(32),s=function(t){return t&&t.__esModule?t:{default:t}}(a),o=s.default.extend({_important:!0,getClassDefaults:function(){var t={use:null,which:null,domainMin:null,domainMax:null,zoomedMin:null,zoomedMax:null,fixBaseline:null,scaleType:"linear",allow:{scales:["linear","log","genericLog","time","pow"]}};return r.deepExtend(this._super(),t)},autoconfigureModel:function(t){!this.which&&this.autoconfig&&"axis"===this._type&&(t=this._parent.getAvailableConcept(this.autoconfig)||this._parent.getAvailableConcept({type:"time"})),this._super(t)},_type:"axis",validate:function(){if(this._super(),this.scale&&"time"==this.scaleType){var t={};null==this.zoomedMin||r.isDate(this.zoomedMin)||(t.zoomedMin=this._space.time.parse(this.zoomedMin.toString())),null==this.zoomedMax||r.isDate(this.zoomedMax)||(t.zoomedMax=this._space.time.parse(this.zoomedMax.toString())),this.set(t)}},buildScale:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scaleType,e=void 0;if("time"==t){var n=this._space.time,i=n.splash?{min:n.parse(n.startOrigin),max:n.parse(n.endOrigin)}:{min:n.start,max:n.end};e=[i.min,i.max],this.scale=d3.scaleUtc().domain(e)}else{if(this.isDiscrete())e="constant"===this.use?[this.which]:this.getUnique(this.which);else{var a=this.getLimits(this.which);e=[a.min,a.max],e[0]=(this.fixBaseline||0===this.fixBaseline)&&a.min>0?+this.fixBaseline:e[0],e[0]=null!=this.domainMin?+this.domainMin:e[0],e[1]=null!=this.domainMax?+this.domainMax:e[1]}t=d3.min(e)<=0&&d3.max(e)>=0&&"log"===t?"genericLog":t;var s=("ordinal"===t?"point":t)||"linear";this.scale=d3["scale"+r.capitalize(s)]().domain(e)}this.scaleType=t},formatDate:function(t){return this._space.time.formatDate(t)},_getZoomed:function(t){var e=this["zoomed"+t];return null!==e?e:d3[t.toLowerCase()](this.getScale().domain())},getZoomedMin:function(){return this._getZoomed("Min")},getZoomedMax:function(){return this._getZoomed("Max")}});e.default=o},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(r),s=n(48),o=i(s),l=n(76),c=i(l),u=n(49),h=i(u),d=n(394),f=o.default.extend({getClassDefaults:function(){var t={reader:"csv"};return a.deepExtend(this._super(),t)},trackInstances:!0,init:function(t,e,n,i){this._type="data",this.queryQueue={},this._collection={},this._collectionPromises={},this._super(t,e,n,i),this.readerObject=this.getReader()},preloadData:function(){return this.loadDataAvailability().then(this.loadConceptProps.bind(this))},load:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments[2];t=a.deepClone(t),this.dataset&&(t.dataset=this.dataset),this.version&&(t.version=this.version);var r=d.DataStorage.getDataId(t,this.readerObject,n);return r?t.grouping?d.DataStorage.aggregateData(r,t,this.readerObject,this.getConceptprops()):Promise.resolve(r):(a.timeStamp("Vizabi Data: Loading Data"),i||h.default.freezeAll(["hook_change","resize"]),d.DataStorage.loadFromReader(t,n,this.readerObject).then(function(n){return t.grouping?d.DataStorage.aggregateData(n,t,e.readerObject,e.getConceptprops()):n}).then(function(t){return i||h.default.unfreezeAll(),t}).catch(function(t){i||h.default.unfreezeAll(),e.handleLoadError(t)}))},getAsset:function(t,e){var n=this;return this.readerObject.getAsset(t).then(function(t){return e(t)}).catch(function(t){return n.handleLoadError(t)})},getReader:function(){var t=c.default.get(this.reader);if(!t)throw new Error("Unknown reader: "+this.reader);return new t(this.getPlainObject())},getData:function(t,e,n,i){return t?d.DataStorage.getData(t,e,n,i):a.warn("Data.js 'get' method doesn't like the dataId you gave it: "+t)},loadDataAvailability:function(){var t=this,e={select:{key:["key","value"],value:[]},from:"concepts.schema"},n=a.extend({},e,{from:"entities.schema"}),i=a.extend({},e,{from:"datapoints.schema"});return Promise.all([this.load(e),this.load(n),this.load(i)]).then(this.handleDataAvailabilityResponse.bind(this)).catch(function(e){return t.handleLoadError(e)})},handleDataAvailabilityResponse:function(t){var e=this;this.keyAvailability=new Map,this.dataAvailability=[],t.forEach(function(t){var n=e.getData(t,"query").from.split(".")[0];e.dataAvailability[n]=[],e.getData(t).forEach(function(t){var i=("string"==typeof t.key?JSON.parse(t.key):t.key).sort();e.dataAvailability[n].push({key:new Set(i),value:t.value}),e.keyAvailability.set(i.join(","),i)})})},loadConceptProps:function(){var t=this,e=["concept_type","domain","totals_among_entities","source_url","source","color","scales","interpolation","tags","name","name_short","name_catalog","description","format"],n=this.dataAvailability.concepts.map(function(t){return t.value}),i=e.filter(function(t){return n.includes(t)}),r={select:{key:["concept"],value:i},from:"concepts",where:{},language:this.getClosestModel("locale").id};return this.load(r).then(this.handleConceptPropsResponse.bind(this)).catch(function(e){return t.handleLoadError(e)})},handleConceptPropsResponse:function(t){var e=this;this.conceptDictionary={_default:{concept:"_default",concept_type:"string",use:"constant",scales:["ordinal"],tags:"_root"}},this.conceptArray=[],this.getData(t).forEach(function(t){var n={};n.concept=t.concept,n.concept_type=t.concept_type,n.sourceLink=t.source_url,n.sourceName=t.source;try{n.color=t.color&&""!==t.color?"string"==typeof t.color?JSON.parse(t.color):t.color:null}catch(t){n.color=null}try{n.scales=t.scales&&""!==t.color?"string"==typeof t.scales?JSON.parse(t.scales):t.scales:null}catch(t){n.scales=null}if(!n.scales)switch(t.concept_type){case"measure":n.scales=["linear","log"];break;case"string":case"entity_domain":case"entity_set":case"boolean":n.scales=["ordinal"];break;case"time":n.scales=["time"];break;default:n.scales=["linear","log"]}t.interpolation?n.interpolation=t.interpolation:"measure"==t.concept_type?n.interpolation=n.scales&&"log"==n.scales[0]?"exp":"linear":"time"==t.concept_type?n.interpolation="linear":n.interpolation="stepMiddle",n.domain=t.domain,n.totals_among_entities=t.totals_among_entities,n.tags=t.tags,n.format=t.format,n.name=t.name||t.concept||"",n.name_catalog=t.name_catalog||"",n.name_short=t.name_short||t.name||t.concept||"",n.description=t.description,e.conceptDictionary[t.concept]=n,e.conceptArray.push(n)})},getConceptprops:function(t){return void 0!==t?this.conceptDictionary[t]?this.conceptDictionary[t]:(a.warn("The concept "+t+" is not found in the dictionary"),null):this.conceptDictionary},getConcept:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.index,n=void 0===e?0:e,i=t.type,r=void 0===i?null:i,a=t.includeOnlyIDs,s=void 0===a?[]:a,o=t.excludeIDs,l=void 0===o?[]:o;if(!r&&0==s.length&&0==l.length)return null;var c=this.conceptArray.filter(function(t){return!(r&&t.concept_type&&t.concept_type!==r||0!=s.length&&-1===s.indexOf(t.concept)||0!=l.length&&-1!=l.indexOf(t.concept))});return c[n]||c[c.length-1]},getDatasetName:function(){if(this.readerObject.getDatasetInfo){var t=this.readerObject.getDatasetInfo();return t.name+(t.version?" "+t.version:"")}return this._name.replace("data_","")},setGrouping:function(t,e){d.DataStorage.setGrouping(t,e)},getFrames:function(t,e,n){return d.DataStorage.getFrames(t,e,n,this.getConceptprops())},getFrame:function(t,e,n,i){return d.DataStorage.getFrame(t,e,n,i)},listenFrame:function(t,e,n,i){d.DataStorage.listenFrame(t,e,n,i)},handleLoadError:function(t){t.browserDetails=a.getBrowserDetails(),t.osName=a.getOSname(),t.homepoint=window.location.href,t.time=(new Date).toString(),this._super(t)}});e.default=f},function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(r),s=n(55),o=function(t){return t&&t.__esModule?t:{default:t}}(s),l=o.default.extend({getClassDefaults:function(){var t={show:{},showFallback:{},showItemsMaxCount:null,filter:{},dim:null,skipFilter:!1};return a.deepExtend(this._super(),t)},objectLeafs:["show","showFallback","filter","autoconfig"],dataConnectedChildren:["show","dim","grouping"],init:function(t,e,n,i){this._type="entities",this._super(t,e,n,i)},preloadData:function(){return this.dataSource=this.getClosestModel(this.data||"data"),this._super()},afterPreload:function(){this.autoconfigureModel()},setLinkWith:function(t){},autoconfigureModel:function(){if(!this.dim&&this.autoconfig){var t=this.dataSource.getConcept(this.autoconfig);t&&(this.dim=t.concept),a.printAutoconfigResult(this)}},setInterModelListeners:function(){this.getClosestModel("locale").on("dataConnectedChange",this.handleDataConnectedChange.bind(this))},validate:function(){var t=this;if(this._super(),this.showFallback[this.dim]||this.showItemsMaxCount){var e=this.show[this.dim]||this.show.$and&&this.show.$and.filter(function(e){return e[t.dim]})[0];e?e.$in&&this.showItemsMaxCount&&e.$in.length>this.showItemsMaxCount&&(e.$in.splice(0,e.$in.length-this.showItemsMaxCount),this.show=a.deepClone(this.show)):this.showFallback[this.dim]&&(this.show=i({},this.dim,a.deepClone(this.showFallback[this.dim])))}},handleDataConnectedChange:function(t){var e=this;a.defer(function(){e.startLoading().catch(a.warn)})},_isLoading:function(){return!this._loadedOnce||this._loadCall},loadData:function(){var t=this;this.setReady(!1),this._loadCall=!0;var e=this;if(!this.dim)return this._entitySets={},this._entitySetsData={},this._entitySetsValues={},Promise.resolve();var n=this.dim;if(this._entitySets=i({},n,this._root.dataManager.getAvailableDataForKey(n,null,"entities").filter(function(e){return e.value!==n&&["entity_set","entity_domain"].includes(t._root.dataManager.getConceptProperty(e.value,"concept_type"))}).map(function(t){return t.value})),!this._entitySets[n].length)return this._entitySetsValues=i({},n,[]),this._entitySetsData=i({},n,{}),Promise.resolve();var r={language:this.getClosestModel("locale").id},a=[this._root.dataManager.getDimensionValues(n,this._entitySets[n],r)].concat(this._entitySets[n].map(function(e){return t._root.dataManager.getDimensionValues(e,["name"],r)}));return Promise.all(a).then(function(t){e._entitySetsValues=i({},n,t[0]),e._entitySetsData=i({},n,{}),e._entitySets[n].forEach(function(i,r){e._entitySetsData[n][i]=t[r+1]})})},getEntitySets:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this["_entitySets"+a.capitalize(t)][this.dim]},getDimension:function(){return this.dim},setDimension:function(t){if(this.dim!==t){var e={};e.show={},e.dim=t,this.set(e)}},getFilter:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.entityTypeRequest,n=a.deepClone(this.filter[this.dim]||{});if(e||this.skipFilter)return n;var i=a.deepClone(this.show);i[this.dim]&&a.isEmpty(i[this.dim])&&delete i[this.dim];var r=[];return a.isEmpty(n)||r.push(n),a.isEmpty(i)||r.push(i),r.length>1?{$and:r}:r[0]||{}},showEntity:function(t){var e=this,n=a.deepClone(this.show),r=this.getDimension(),s=void 0;s=a.isArray(t)?t:[t];var o=n[r]||(n.$and||[]).filter(function(t){return t[r]})[0]||{$in:[]};a.forEach(s,function(t){var n=t[r];e.isShown(t)?o.$in=o.$in.filter(function(t){return t!==n}):o.$in=o.$in.concat(n)}),0===o.$in.length?n.$and?n.$and=n.$and.filter(function(t){return!t[r]}):delete n[r]:n.$and?n.$and.push(i({},r,o)):n[r]=o,this.show=n},isShown:function(t){var e=this.getDimension(),n=this.show[e]||(this.show.$and||[]).filter(function(t){return t[e]})[0]||{},i=n.$in;return(void 0===i?[]:i).includes(t[e])},isInShowFilter:function(t,e){var n=this.getDimension(),i=(t[n],(this.show.$and||[this.show]).filter(function(t){return t[e]})[0]||{});return a.getProp(i,[e,"$in"],[]).includes(t[e])},clearShow:function(){var t=this.getDimension(),e=a.deepClone(this.show);delete e[t],this.show=e},getFilteredEntities:function(){var t=this.getDimension(),e=this.show[t]||{},n=e.$in;return(void 0===n?[]:n).map(function(e){return i({},t,e)})},isEntities:function(){return!0}});e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={build:1537556334486,version:"0.34.1"}},function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function r(t){return function e(n){function r(t,e,n){return n.indexOf(t)===e}function a(t){var e=a.scale().domain(),i=a.scale().range();if(!e[0]&&0!==e[0]||!e[1]&&0!==e[1]||!i[0]&&0!==i[0]||!i[1]&&0!==i[1])return s.warn("d3.axisSmart() skips action because of invalid domain "+JSON.stringify(e)+" or range "+JSON.stringify(i)+" of the attached scale");if(null!=m)return void a.highlightValueRun(t);var r=t.append("g").attr("class","tick widthSampling"),o=r.append("text").text("0");x.cssMargin||(x.cssMargin={}),x.cssMargin.top=o.style("margin-top"),x.cssMargin.bottom=o.style("margin-bottom"),x.cssMargin.left=o.style("margin-left"),x.cssMargin.right=o.style("margin-right"),x.widthOfOneDigit=o.node().getBBox().width,x.heightOfOneDigit=o.node().getBBox().height,r.remove(),a.labelFactory(x);var l=null;n(x.transitionDuration>0?l=t.transition().duration(x.transitionDuration):t),t.attr("fill",null),t.attr("font-size",null),t.attr("font-family",null),t.attr("text-anchor",null);var c="top"==a.orient()||"bottom"==a.orient()?h:u,p=c==h&&a.pivot()||c==u&&!a.pivot()?f:d;t.selectAll(".vzb-axis-value").data([null]).enter().append("g").attr("class","vzb-axis-value").classed("vzb-hidden",!0).append("text");var v=a.tickPadding();if(t.selectAll("text").each(function(t,e){if(null!=a.pivot()){var n=d3.select(this);n.attr("transform","rotate("+(a.pivot()?-90:0)+")"),n.style("text-anchor",p==d?"middle":"end"),n.attr("x",p==d?c==u?-v:0:-v),n.attr("y",p==d?c==u?0:v:0),n.attr("dx",p==d&&c==u?v:0),n.attr("dy",p==d?c==u?-v:".72em":".32em")}}),null!=a.repositionLabels()){var g=function(){t.selectAll(".tick").each(function(t){var e=d3.select(this).select("text"),n=a.repositionLabels()[t]||{x:0,y:0};e.attr("x",+e.attr("x")+n.x),e.attr("y",+e.attr("y")+n.y)})};l?l.on("end",function(){return g()}):g()}var b=a.scale();x.viewportLength&&t.selectAll(".tick").classed("vzb-hidden",function(t){return b(t)<0||b(t)>x.viewportLength}),null==a.tickValuesMinor()&&a.tickValuesMinor([]);var y=t.selectAll(".tick-minor").data(M);y.exit().remove(),y=y.enter().append("line").attr("class","tick-minor").merge(y);var _=a.tickSizeMinor().outbound,w=a.tickSizeMinor().inbound;y.classed("vzb-hidden",function(t){return b(t)<0||b(t)>x.viewportLength}).attr("y1",c==h?("top"==a.orient()?1:-1)*w:b).attr("y2",c==h?("top"==a.orient()?-1:1)*_:b).attr("x1",c==u?("right"==a.orient()?-1:1)*w:b).attr("x2",c==u?("right"==a.orient()?1:-1)*_:b),t.selectAll("path").remove();var S=t.selectAll(".vzb-axis-line").data([0]);S.exit().remove(),S=S.enter().append("line").attr("class","vzb-axis-line").merge(S),x.viewportLength?S.attr("x1",c==u?0:-1).attr("x2",c==u?0:x.viewportLength).attr("y1",0).attr("y2",c==h?0:x.viewportLength):S.attr("x1",c==u?0:d3.min(b.range())-(x.bump||0)-1).attr("x2",c==u?0:d3.max(b.range())+(x.bump||0)).attr("y1",c==h?0:d3.min(b.range())-(x.bump||0)).attr("y2",c==h?0:d3.max(b.range())+(x.bump||0))}function o(t,e){null==e&&(e=!0);var n=[],i=[];-1!=t.indexOf(0)&&(n.push([0]),i.push(t.indexOf(0)));for(var r=t.length;r>=1;r=r<4?r-1:r/2)!function(r){n.push(t.filter(function(t,n){return!(n%Math.floor(r)!=0||-1!=i.indexOf(n)&&e)&&(i.push(n),!0)}))}(r);return n}function l(t,e,n,i,r){if(!t)return null;var a={},s=n==u?{head:e.toolMargin.top,tail:e.toolMargin.bottom}:{head:e.toolMargin.right,tail:e.toolMargin.left},o=i.range(),l=e.bump;return e.viewportLength&&(t=t.filter(function(t){return i(t)>=0&&i(t)<=e.viewportLength}),o=[0,e.viewportLength],l=0),t.forEach(function(c,d){if(0==d||d==t.length-1){var f=Math.min(s.head,.5*e.widthOfOneDigit)+l+(n==h?1:0)*d3.max(o)-(n==h?0:1)*d3.min(o)+(n==h?-1:1)*i(c)-("x"==r)*e.formatter(c).length*e.widthOfOneDigit/2-("y"==r)*e.heightOfOneDigit/2-("x"==r)*parseInt(e.cssMargin.right)-("y"==r)*parseInt(e.cssMargin.top),p=Math.min(s.tail,.5*e.widthOfOneDigit)+l+(n==u?1:0)*d3.max(o)-(n==u?0:1)*d3.min(o)+(n==u?-1:1)*i(c)-("x"==r)*e.formatter(c).length*e.widthOfOneDigit/2-("y"==r)*e.heightOfOneDigit/2-("x"==r)*parseInt(e.cssMargin.left)-("y"==r)*parseInt(e.cssMargin.bottom);f>0&&(f=0),p>0&&(p=0),a[c]={x:0,y:0},a[c][r]=("y"==r&&n==u?-1:1)*(f-p)}}),t.forEach(function(s,o){if(0!=o&&o!=t.length-1){var l=Math.abs(i(s)-i(t[t.length-1]))-("y"==r)*(n==h?-1:1)*a[t[t.length-1]][r]-("x"==r)*(n==h?1:-1)*a[t[t.length-1]][r]-("x"==r)*e.widthOfOneDigit/2*e.formatter(s).length-("x"==r)*e.widthOfOneDigit/2*e.formatter(t[t.length-1]).length-("y"==r)*e.heightOfOneDigit*.7-("x"==r)*parseInt(e.cssMargin.left)-("y"==r)*parseInt(e.cssMargin.bottom),c=Math.abs(i(s)-i(t[0]))-("y"==r)*(n==u?-1:1)*a[t[0]][r]-("x"==r)*(n==u?1:-1)*a[t[0]][r]-("x"==r)*e.widthOfOneDigit/2*e.formatter(s).length-("x"==r)*e.widthOfOneDigit/2*e.formatter(t[0]).length-("y"==r)*e.heightOfOneDigit*.7-("x"==r)*parseInt(e.cssMargin.left)-("y"==r)*parseInt(e.cssMargin.bottom);l>0&&(l=0),c>0&&(c=0),a[s]={x:0,y:0},a[s][r]=("y"==r&&n==u?-1:1)*(l-c)}}),a}function c(){var t;a.labelerOptions().isDevMode&&(t=console).log.apply(t,arguments)}var u="vertical axis",h="horizontal axis",d="labels stack side by side",f="labels stack top to bottom",p="optimistic approximation: labels have different lengths",v="pessimistic approximation: all labels have the largest length";a.highlightValueRun=function(t){x.viewportLength&&"none"!=m&&(a.scale()(m)>x.viewportLength||a.scale()(m)<0)&&(m="none");var e="top"==a.orient()||"bottom"==a.orient()?h:u,n=e==h&&a.pivot()||e==u&&!a.pivot()?"y":"x",i=a.pivot()?-1:1;t.select(".vzb-axis-value").classed("vzb-hidden","none"==m);var r=void 0,s={};"none"!=m&&(r=t.select(".vzb-axis-value").node().getBBox(),s.bump=x.bump,s.formatter=x.formatter,s.viewportLength=x.viewportLength,s.toolMargin=x.toolMargin,s.cssMargin=x.cssMargin,s.widthOfOneDigit=r[a.pivot()?"height":"width"]/x.formatter(m).length,s.heightOfOneDigit=r[a.pivot()?"width":"height"]);var o=("none"==m?{x:0,y:0}:l([m],s,e,a.scale(),n)[m])[n],c=function(t){return"none"==m?"translate(0,0)":"translate("+(e==h?a.scale()(m)+o*i:0)+","+(e==u?a.scale()(m)+o*i:0)+")"},d=function(t,s,l){if("none"==m)return 1;var c=e==h?"width":"height",u=((a.repositionLabels()||{})[t]||{x:0,y:0})[n];return a.hlOpacityScale()(Math.abs(a.scale()(t)+u*i-a.scale()(m)-o*i)-l.getBBox()[c]/2-r[c]/2)};b?(t.select(".vzb-axis-value").transition().duration(b).ease(d3.easeLinear).attr("transform",c),t.select(".vzb-axis-value").select("text").transition("text").delay(b).text("none"==m?"":x.formatter(m)),t.selectAll(".tick:not(.vzb-hidden)").each(function(t,e){d3.select(this).select("text").transition().duration(b).ease(d3.easeLinear).style("opacity",d(t,0,this))})):(t.select(".vzb-axis-value").interrupt().attr("transform",c).transition(),t.select(".vzb-axis-value").select("text").interrupt("text").text("none"==m?"":x.formatter(m)).transition(),t.selectAll(".tick:not(.vzb-hidden)").each(function(t,e){d3.select(this).select("text").interrupt().style("opacity",d(t,0,this)).transition()})),m=null};var g=d3.scaleLinear().domain([0,5]).range([0,1]).clamp(!0);a.hlOpacityScale=function(t){return arguments.length?(g=t,a):g};var m=null;a.highlightValue=function(t){return arguments.length?(m=t,a):m};var b=0;a.highlightTransDuration=function(t){return arguments.length?(b=t,a):b};var y=null;a.repositionLabels=function(t){return arguments.length?(y=t,a):y};var _=!1;a.pivot=function(t){return arguments.length?(_=!!t,a):_};var M=[];a.tickValuesMinor=function(t){return arguments.length?(M=t,a):M};var w={outbound:0,inbound:0};a.tickSizeMinor=function(t,e){return arguments.length?(w={outbound:t,inbound:e||0},c("setting",w),a):w};var x={};return a.labelerOptions=function(t){return arguments.length?(x=t,a):x},a.METHOD_REPEATING="repeating specified powers",a.METHOD_DOUBLING="doubling the value",a.labelFactory=function(t){function e(e,n){return 0==e||0==n?0:(null==n&&(n=t.logBase),Math.log(e)/Math.log(n))}if(null==t&&(t={}),"linear"!=t.scaleType&&"time"!=t.scaleType&&"genericLog"!=t.scaleType&&"log"!=t.scaleType&&"ordinal"!=t.scaleType)return a.ticks(t.limitMaxTickNumber).tickFormat(null).tickValues(null).tickValuesMinor(null).pivot(null).repositionLabels(null);if("ordinal"==t.scaleType)return a;null==t.logBase&&(t.logBase=10),null==t.stops&&(t.stops=[1,2,5,3,7,4,6,8,9]),null==t.removeAllLabels&&(t.removeAllLabels=!1),null==t.formatter&&(t.formatter=a.tickFormat()?a.tickFormat():function(t){return t+""}),t.cssLabelMarginLimit=5,null==t.cssMargin&&(t.cssMargin={}),(null==t.cssMargin.left||parseInt(t.cssMargin.left)<t.cssLabelMarginLimit)&&(t.cssMargin.left=t.cssLabelMarginLimit+"px"),(null==t.cssMargin.right||parseInt(t.cssMargin.right)<t.cssLabelMarginLimit)&&(t.cssMargin.right=t.cssLabelMarginLimit+"px"),(null==t.cssMargin.top||parseInt(t.cssMargin.top)<t.cssLabelMarginLimit)&&(t.cssMargin.top=t.cssLabelMarginLimit+"px"),(null==t.cssMargin.bottom||parseInt(t.cssMargin.bottom)<t.cssLabelMarginLimit)&&(t.cssMargin.bottom=t.cssLabelMarginLimit+"px"),null==t.toolMargin&&(t.toolMargin={left:30,bottom:30,right:30,top:30}),null==t.bump&&(t.bump=0),null==t.viewportLength&&(t.viewportLength=0),null==t.pivotingLimit&&(t.pivotingLimit=t.toolMargin[this.orient()]),null==t.showOuter&&(t.showOuter=!1),null==t.limitMaxTickNumber&&(t.limitMaxTickNumber=0);var n="top"==this.orient()||"bottom"==this.orient()?h:u;null==t.isPivotAuto&&(t.isPivotAuto=n==u),null==t.cssFontSize&&(t.cssFontSize="13px"),null==t.widthToFontsizeRatio&&(t.widthToFontsizeRatio=.75),null==t.heightToFontsizeRatio&&(t.heightToFontsizeRatio=1.2),null==t.widthOfOneDigit&&(t.widthOfOneDigit=parseInt(t.cssFontSize)*t.widthToFontsizeRatio),null==t.heightOfOneDigit&&(t.heightOfOneDigit=parseInt(t.cssFontSize)*t.heightToFontsizeRatio),null!=t.fitIntoScale&&"pessimistic"!=t.fitIntoScale||(t.fitIntoScale=v),"optimistic"==t.fitIntoScale&&(t.fitIntoScale=p),c("********** "+n+" **********");var s=a.scale().domain(),d=a.scale().range(),f=(Math.abs(s[s.length-1]-s[0]),Math.abs(d[d.length-1]-d[0])),g=d3.min([s[0],s[s.length-1]]),m=d3.max([s[0],s[s.length-1]]),b=("linear"==t.scaleType?g<0:g<=0)&&m>=0&&"time"!=t.scaleType,y=t.showOuter?[g,m]:[],_=[],M=5,w=d3.max(d3.range(g,m,(m-g)/17).concat(m).map(function(e){return t.formatter(e).replace(".","").length}))*t.widthOfOneDigit+parseInt(t.cssMargin.left),x=t.isPivotAuto&&(w>t.pivotingLimit&&n==u||!(w>t.pivotingLimit)&&!(n==u)),S=n==h&&x||n==u&&!x,z=!S&&t.heightOfOneDigit>t.pivotingLimit;if(t.removeAllLabels)return a.tickValues([]);if(g==m)return a.tickValues([g]).ticks(1).tickFormat(t.formatter);var O=function(e,n,i,r){if(null==e||e.length<=1)return!0;if(null==i&&(i=v),null==r&&(scaleType="none"),S)return n>e.length*(t.heightOfOneDigit+parseInt(t.cssMargin.top)+parseInt(t.cssMargin.bottom));var s=parseInt(t.cssMargin.left)+parseInt(t.cssMargin.right),o=d3.max(e.map(function(e){return t.formatter(e).length}));return"log"==r?(n=Math.abs(a.scale()(d3.max(e))-a.scale()(d3.min(e))))>d3.sum(e.map(function(e){return(t.widthOfOneDigit*(i==v?o:t.formatter(e).length)+s)*(1+Math.log(e.toString().replace(/([0.])/g,"")[0])/Math.LN10)})):n>e.length*s+(i==v?t.widthOfOneDigit*e.length*o:0)+(i==p?t.widthOfOneDigit*e.map(function(e){return t.formatter(e)}).join("").length:0)},E=function(e,n){if(null==n||0==n.length)return!1;n instanceof Array||(n=[n]);for(var i=0;i<n.length;i++)if(e!=n[i]&&0!=e&&Math.abs(a.scale()(e)-a.scale()(n[i]))<(S?t.heightOfOneDigit:(t.formatter(e).length+t.formatter(n[i]).length)*t.widthOfOneDigit/2))return!0;return!1};if("genericLog"==t.scaleType||"log"==t.scaleType){var k=a.scale().eps?a.scale().eps():0,T=b?[0]:[],P=m<k?[]:d3.range(Math.floor(e(Math.max(k,g))),Math.ceil(e(m)),1).concat(Math.ceil(e(m))).map(function(e){return Math.pow(t.logBase,e)}),C=g>-k?[]:d3.range(Math.floor(e(Math.max(k,-m))),Math.ceil(e(-g)),1).concat(Math.ceil(e(-g))).map(function(e){return-Math.pow(t.logBase,e)});if(null==t.method){var D=b?Math.max(Math.abs(m),Math.abs(g))/k:Math.max(Math.abs(m),Math.abs(g))/Math.min(Math.abs(m),Math.abs(g));t.method=10<=D&&D<=1024?this.METHOD_DOUBLING:this.METHOD_REPEATING}if(t.method==this.METHOD_DOUBLING&&function(){var t=[];b&&y.push(0);var e=[].concat(y),n=m<k?null:4*P[Math.floor(P.length/2)-1],i=g>-k?null:4*C[Math.floor(C.length/2)-1];if(n)for(var a=n;a<=m;a*=2)t.push(a);if(n)for(var s=n/2;s>=Math.max(g,k);s/=2)t.push(s);if(i)for(var l=i;l>=g;l*=2)t.push(l);if(i)for(var c=i/2;c<=Math.min(m,-k);c/=2)t.push(c);t=t.sort(d3.ascending).filter(function(t){return g<=t&&t<=m}),_=_.concat(t),t=o(t,!1);for(var u=y,h=0;h<t.length;h++){var d=u.concat(t[h]).filter(function(t){return!E(t,e)}).filter(r);if(!O(d,f,v,"none"))break;y=d}}(),t.method==this.METHOD_REPEATING){var A=T.concat(P).concat(C).sort(d3.ascending);t.stops.forEach(function(t,e){_=_.concat(A.map(function(e){return e*t}))}),A=o(A);var L=T.concat(y),I=!1;t.stops.forEach(function(e,n){if(0==n){for(var a,s=0;s<A.length;s++){var o=y.concat(A[s].map(function(t){return t*e})).filter(function(t){return!E(t,L)}).filter(function(t){return g<=t&&t<=m}).filter(r);if(!O(o,f,v,"none"))break;y=o}A=(a=[]).concat.apply(a,i(A))}else{if(I)return;var l=y.concat(A.map(function(t){return t*e})).filter(function(t){return g<=t&&t<=m}).filter(r);if(!O(l,f,v,"log"))return void(I=!0);if(y.length>t.limitMaxTickNumber&&0!=t.limitMaxTickNumber)return void(I=!0);y=l}})}}return"linear"!=t.scaleType&&"time"!=t.scaleType||function(){b&&y.push(0);var e=[].concat(y);M=S?Math.max(Math.floor(f/(t.heightOfOneDigit+parseInt(t.cssMargin.top))),2):Math.max(Math.floor(f/w),2),0!=t.limitMaxTickNumber&&M>t.limitMaxTickNumber&&(M=t.limitMaxTickNumber);var n=a.scale().ticks(M).sort(d3.ascending).filter(function(t){return g<=t&&t<=m});_=_.concat(n),n=o(n,!1);for(var i=y,s=0;s<n.length;s++){var l=i.concat(n[s]).filter(function(t){return!E(t,e)}).filter(r);if(!O(l,f,t.fitIntoScale,"none"))break;y=l}y=y.filter(function(t){return!E(t,e)}).filter(r)}(),null!=y&&y.length<=2&&!b&&(y=Math.abs(a.scale()(g)-a.scale()(m))<(S?t.heightOfOneDigit:(t.formatter(g).length+t.formatter(m).length)*t.widthOfOneDigit)?[m]:[g,m],1!=y.length||"linear"!=t.scaleType&&"time"!=t.scaleType||(_=[])),null!=y&&y.length<=3&&b&&(y=E(0,[g,m])?[g,m]:[g,0,m]),null!=y&&y.sort(function(t,e){return(n==h?-1:1)*(a.scale()(e)-a.scale()(t))}),z&&(y=[]),_=_.filter(function(t){return-1==y.indexOf(t)&&g<=t&&t<=m}),c("final result",y),a.ticks(M).tickFormat(t.formatter).tickValues(y).tickValuesMinor(_).pivot(x).repositionLabels(l(y,t,n,a.scale(),S?"y":"x"))},a.copy=function(){return e(d3["axis"+s.capitalize(t)]())},a.orient=function(){return arguments.length?a:t},d3.rebind(a,n,"scale","ticks","tickArguments","tickValues","tickFormat","tickSize","tickSizeInner","tickSizeOuter","tickPadding")}(d3["axis"+s.capitalize(t)]())}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var a=n(1),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(a)},function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0});var a=n(1),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(a),o=n(6),l=function(t){return t&&t.__esModule?t:{default:t}}(o),c=l.default.extend({init:function(t,e){this.name="show";this.template=this.template||n(166),this.model_expects=this.model_expects||[{name:"state"},{name:"locale",type:"locale"}],this.tabsConfig=((t.ui.dialogs.dialog||{}).find||{}).showTabs||{},this._super(t,e)},readyOnce:function(){var t=this;this._super(),this.KEYS=s.unique(this.model.state.marker._getAllDimensions({exceptType:"time"})),this.resetFilter={};var e=this.model.state.marker._space;this.KEYS.forEach(function(n){t.resetFilter[n]=s.find(e,function(t){return t.dim===n}).show}),this.parentElement=d3.select(this.parent.element),this.contentEl=this.element=d3.select(this.element.parentNode),this.list=this.element.select(".vzb-show-list"),this.input_search=this.parentElement.select(".vzb-find-search"),this.deselect_all=this.parentElement.select(".vzb-show-deselect"),this.apply=this.parentElement.select(".vzb-show-apply");var n=this;this.deselect_all.on("click",function(){n.resetShow()}),this.apply.on("click",function(){n.applyShowChanges()}),this.root.on("ready",function(){n.ready()})},ready:function(){var t=this;this._super(),this.KEYS=s.unique(this.model.state.marker._getAllDimensions({exceptType:"time"})),this.labelNames=this.model.state.marker.getLabelHookNames();var e=this.model.state.marker.getSubhooks(!0);this.previewShow={},this.checkedDifference={},s.forEach(this.labelNames,function(n){var i=e[n].getEntity(),r=t.previewShow[i._name]={};s.forEach(i.show.$and||[i.show],function(t){s.forEach(t,function(t,e){r[e]=(t.$in||[]).slice(0)})})}),this.redraw(),this.showHideButtons(),s.preventAncestorScrolling(this.element.select(".vzb-dialog-scrollable"))},redraw:function(){var t=this,e=this;this.translator=this.model.locale.getTFunction(),this.model.state.marker.getFrame(this.model.state.time.value,function(n){if(n){var i=t.model.state.marker.getSubhooks(!0);e.list.html("");var a=[];s.forEach(t.labelNames,function(e,n){var s=i[e].getEntity(),o=s._name;a.push({dim:n,entities:o,labelName:e,key:n,category:t.root.model.dataManager.getConceptProperty(n,"name")});var l=s.getEntitySets().map(function(e){return{entities:o,key:e,dim:n,isSet:!0,category:t.root.model.dataManager.getConceptProperty(e,"name")}});a.push.apply(a,r(l))}),s.forEach(a,function(i){var r=(i.dim,i.key),a=i.category,o=i.labelName,l=i.entities,c=i.isSet,u=c?t.model.state[l].getEntitySets("data")[r][0].map(function(t){var n={entities:l,category:r};return n[r]=t[r],n.label=t.name,n.isShown=e.model.state[l].isInShowFilter(t,r),n}):s.keys(n[o]).map(function(t){var i={entities:l,category:r};return i[r]=t,i.label=n[o][t],i.isShown=e.model.state[l].isInShowFilter(i,r),i});u.sort(function(t,e){return t.label<e.label?-1:1});var h=e.list.append("div").attr("class","vzb-accordion-section").classed("vzb-accordion-active","open"===t.tabsConfig[r]).datum({key:r,isSet:c});h.append("div").attr("class","vzb-accordion-section-title").on("click",function(t){var e=d3.select(this.parentNode);e.classed("vzb-fullexpand",!1).classed("vzb-accordion-active",!e.classed("vzb-accordion-active"))}).call(function(t){return t.append("span").attr("class","vzb-show-category").classed("vzb-show-category-set",function(t){return t.isSet}).text(a).attr("title",function(t){return this.offsetWidth<this.scrollWidth?a:null})}).call(function(t){return t.append("span").attr("class","vzb-show-clear-cross").text("✖").on("click",function(){d3.event.stopPropagation(),h.selectAll(".vzb-checked input").property("checked",!1).dispatch("change")})}).call(function(t){return t.append("span").attr("class","vzb-show-more vzb-dialog-button").text(e.translator("buttons/moreellipsis")).on("click",function(){d3.event.stopPropagation(),h.classed("vzb-fullexpand",!0)})});var d=h.append("div").attr("class","vzb-show-category-list"),f=d.selectAll(".vzb-show-item").data(u).enter().append("div").attr("class","vzb-show-item vzb-dialog-checkbox").classed("vzb-checked",function(t){return t.isShown});f.append("input").attr("type","checkbox").attr("class","vzb-show-item").attr("id",function(t){return"-show-"+t.category+"-"+t[r]+"-"+e._id}).property("checked",function(t){return t.isShown}).on("change",function(e,n,i){if(e.isShown!==i[n].checked?t.checkedDifference[e.category+e[r]]=!0:delete t.checkedDifference[e.category+e[r]],t.apply.classed("vzb-disabled",!Object.keys(t.checkedDifference).length),!t.previewShow[e.entities][e.category]){var a=t.model.state[e.entities].show;t.previewShow[e.entities][e.category]=((a[e.category]||(a.$and||{})[e.category]||{}).$in||[]).slice(0)}var s=t.previewShow[e.entities][e.category].indexOf(e[e.category]);-1===s?t.previewShow[e.entities][e.category].push(e[e.category]):t.previewShow[e.entities][e.category].splice(s,1)}),f.append("label").attr("for",function(t){return"-show-"+t.category+"-"+t[r]+"-"+e._id}).text(function(t){return t.label}).attr("title",function(t){return this.offsetWidth<this.scrollWidth?t.label:null});var p=d.selectAll(".vzb-checked").classed("vzb-separator",!1).lower().nodes()[0];if(p&&p.nextSibling){var v=(d3.select(p).classed("vzb-separator",!!p.nextSibling),p.parentNode.offsetTop+p.offsetTop);d3.select(p.parentNode.parentNode).style("max-height",v+p.offsetHeight+25+"px").select(".vzb-show-more").style("transform","translate(0, "+v+"px)")}else h.select(".vzb-show-more").classed("vzb-hidden",!0);h.classed("vzb-filtered",!!p),h.classed("vzb-fullexpand",!!p&&"open"===t.tabsConfig[r])}),e.contentEl.node().scrollTop=0,e.input_search.attr("placeholder",e.translator("placeholder/search")+"...")}})},applyShowChanges:function(){var t=this;this.model.state.marker.clearSelected();var e={};s.forEach(this.previewShow,function(n,r){var a=[],o=[];s.forEach(n,function(t,e){o.push(e),t.length&&a.push(i({},e,{$in:t.slice(0)}))}),s.forEach(t.model.state[r].show.$and||[t.model.state[r].show],function(t){s.forEach(t,function(t,e){o.includes(e)||a.push(s.deepClone(t))})}),e[r]={show:a.length>1?{$and:a}:a[0]||{}}}),this.model.state.set(e)},showHideSearch:function(){if("show"===this.parent.getPanelMode()){var t=this.input_search.node().value||"";t=t.toLowerCase(),this.list.selectAll(".vzb-show-item").classed("vzb-hidden",function(e){return-1===(e.label||"").toString().toLowerCase().indexOf(t)}),""!==t&&this.list.selectAll(".vzb-accordion-section").classed("vzb-accordion-active",!0)}},showHideButtons:function(){"show"===this.parent.getPanelMode()&&(this.deselect_all.classed("vzb-hidden",this.hideResetButton()),this.apply.classed("vzb-hidden",!1).classed("vzb-disabled",!0))},hideResetButton:function(){var t=this,e=!0,n=this.model.state.marker._space;return s.forEach(this.KEYS,function(i){return e=s.comparePlainObjects(t.resetFilter[i]||{},s.find(n,function(t){return t.dim===i}).show)}),e},resetShow:function(){var t=this,e={},n=this.model.state.marker._space;this.KEYS.forEach(function(i){var r=s.find(n,function(t){return t.dim===i})._name;e[r]={show:t.resetFilter[i]||{}}}),this.model.state.set(e)},closeClick:function(){this.applyShowChanges()}});e.default=c},function(t,e,n){t.exports=!n(8)&&!n(4)(function(){return 7!=Object.defineProperty(n(80)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){e.f=n(7)},function(t,e,n){var i=n(17),r=n(18),a=n(62)(!1),s=n(82)("IE_PROTO");t.exports=function(t,e){var n,o=r(t),l=0,c=[];for(n in o)n!=s&&i(o,n)&&c.push(n);for(;e.length>l;)i(o,n=e[l++])&&(~a(c,n)||c.push(n));return c}},function(t,e,n){var i=n(9),r=n(2),a=n(40);t.exports=n(8)?Object.defineProperties:function(t,e){r(t);for(var n,s=a(e),o=s.length,l=0;o>l;)i.f(t,n=s[l++],e[n]);return t}},function(t,e,n){var i=n(18),r=n(43).f,a={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],o=function(t){try{return r(t)}catch(t){return s.slice()}};t.exports.f=function(t){return s&&"[object Window]"==a.call(t)?o(t):r(i(t))}},function(t,e,n){"use strict";var i=n(40),r=n(63),a=n(57),s=n(11),o=n(56),l=Object.assign;t.exports=!l||n(4)(function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(t){e[t]=t}),7!=l({},t)[n]||Object.keys(l({},e)).join("")!=i})?function(t,e){for(var n=s(t),l=arguments.length,c=1,u=r.f,h=a.f;l>c;)for(var d,f=o(arguments[c++]),p=u?i(f).concat(u(f)):i(f),v=p.length,g=0;v>g;)h.call(f,d=p[g++])&&(n[d]=f[d]);return n}:l},function(t,e,n){"use strict";var i=n(13),r=n(5),a=n(120),s=[].slice,o={},l=function(t,e,n){if(!(e in o)){for(var i=[],r=0;r<e;r++)i[r]="a["+r+"]";o[e]=Function("F,a","return new F("+i.join(",")+")")}return o[e](t,n)};t.exports=Function.bind||function(t){var e=i(this),n=s.call(arguments,1),o=function(){var i=n.concat(s.call(arguments));return this instanceof o?l(e,i.length,i):a(e,i,t)};return r(e.prototype)&&(o.prototype=e.prototype),o}},function(t,e){t.exports=function(t,e,n){var i=void 0===n;switch(e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var i=n(3).parseInt,r=n(52).trim,a=n(86),s=/^[-+]?0[xX]/;t.exports=8!==i(a+"08")||22!==i(a+"0x16")?function(t,e){var n=r(String(t),3);return i(n,e>>>0||(s.test(n)?16:10))}:i},function(t,e,n){var i=n(3).parseFloat,r=n(52).trim;t.exports=1/i(n(86)+"-0")!=-1/0?function(t){var e=r(String(t),3),n=i(e);return 0===n&&"-"==e.charAt(0)?-0:n}:i},function(t,e,n){var i=n(24);t.exports=function(t,e){if("number"!=typeof t&&"Number"!=i(t))throw TypeError(e);return+t}},function(t,e,n){var i=n(5),r=Math.floor;t.exports=function(t){return!i(t)&&isFinite(t)&&r(t)===t}},function(t,e){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,e,n){var i=n(89),r=Math.pow,a=r(2,-52),s=r(2,-23),o=r(2,127)*(2-s),l=r(2,-126),c=function(t){return t+1/a-1/a};t.exports=Math.fround||function(t){var e,n,r=Math.abs(t),u=i(t);return r<l?u*c(r/l/s)*l*s:(e=(1+s/a)*r,n=e-(e-r),n>o||n!=n?u*(1/0):u*n)}},function(t,e,n){var i=n(2);t.exports=function(t,e,n,r){try{return r?e(i(n)[0],n[1]):e(n)}catch(e){var a=t.return;throw void 0!==a&&i(a.call(t)),e}}},function(t,e,n){var i=n(13),r=n(11),a=n(56),s=n(10);t.exports=function(t,e,n,o,l){i(e);var c=r(t),u=a(c),h=s(c.length),d=l?h-1:0,f=l?-1:1;if(n<2)for(;;){if(d in u){o=u[d],d+=f;break}if(d+=f,l?d<0:h<=d)throw TypeError("Reduce of empty array with no initial value")}for(;l?d>=0:h>d;d+=f)d in u&&(o=e(o,u[d],d,c));return o}},function(t,e,n){"use strict";var i=n(11),r=n(41),a=n(10);t.exports=[].copyWithin||function(t,e){var n=i(this),s=a(n.length),o=r(t,s),l=r(e,s),c=arguments.length>2?arguments[2]:void 0,u=Math.min((void 0===c?s:r(c,s))-l,s-o),h=1;for(l<o&&o<l+u&&(h=-1,l+=u-1,o+=u-1);u-- >0;)l in n?n[o]=n[l]:delete n[o],o+=h,l+=h;return n}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){n(8)&&"g"!=/./g.flags&&n(9).f(RegExp.prototype,"flags",{configurable:!0,get:n(67)})},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){var i=n(2),r=n(5),a=n(104);t.exports=function(t,e){if(i(t),r(e)&&e.constructor===t)return e;var n=a.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){"use strict";var i=n(135),r=n(54);t.exports=n(71)("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=i.getEntry(r(this,"Map"),t);return e&&e.v},set:function(t,e){return i.def(r(this,"Map"),0===t?0:t,e)}},i,!0)},function(t,e,n){"use strict";var i=n(9).f,r=n(42),a=n(47),s=n(23),o=n(45),l=n(46),c=n(92),u=n(130),h=n(44),d=n(8),f=n(35).fastKey,p=n(54),v=d?"_s":"size",g=function(t,e){var n,i=f(e);if("F"!==i)return t._i[i];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,c){var u=t(function(t,i){o(t,u,e,"_i"),t._t=e,t._i=r(null),t._f=void 0,t._l=void 0,t[v]=0,void 0!=i&&l(i,n,t[c],t)});return a(u.prototype,{clear:function(){for(var t=p(this,e),n=t._i,i=t._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete n[i.i];t._f=t._l=void 0,t[v]=0},delete:function(t){var n=p(this,e),i=g(n,t);if(i){var r=i.n,a=i.p;delete n._i[i.i],i.r=!0,a&&(a.n=r),r&&(r.p=a),n._f==i&&(n._f=r),n._l==i&&(n._l=a),n[v]--}return!!i},forEach:function(t){p(this,e);for(var n,i=s(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(i(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!g(p(this,e),t)}}),d&&i(u.prototype,"size",{get:function(){return p(this,e)[v]}}),u},def:function(t,e,n){var i,r,a=g(t,e);return a?a.v=n:(t._l=a={i:r=f(e,!0),k:e,v:n,p:i=t._l,n:void 0,r:!1},t._f||(t._f=a),i&&(i.n=a),t[v]++,"F"!==r&&(t._i[r]=a)),t},getEntry:g,setStrong:function(t,e,n){c(t,e,function(t,n){this._t=p(t,e),this._k=n,this._l=void 0},function(){for(var t=this,e=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?"keys"==e?u(0,n.k):"values"==e?u(0,n.v):u(0,[n.k,n.v]):(t._t=void 0,u(1))},n?"entries":"values",!n,!0),h(e)}}},function(t,e,n){"use strict";var i=n(135),r=n(54);t.exports=n(71)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return i.def(r(this,"Set"),t=0===t?0:t,t)}},i)},function(t,e,n){"use strict";var i,r=n(30)(0),a=n(15),s=n(35),o=n(118),l=n(138),c=n(5),u=n(4),h=n(54),d=s.getWeak,f=Object.isExtensible,p=l.ufstore,v={},g=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},m={get:function(t){if(c(t)){var e=d(t);return!0===e?p(h(this,"WeakMap")).get(t):e?e[this._i]:void 0}},set:function(t,e){return l.def(h(this,"WeakMap"),t,e)}},b=t.exports=n(71)("WeakMap",g,m,l,!0,!0);u(function(){return 7!=(new b).set((Object.freeze||Object)(v),7).get(v)})&&(i=l.getConstructor(g,"WeakMap"),o(i.prototype,m),s.NEED=!0,r(["delete","has","get","set"],function(t){var e=b.prototype,n=e[t];a(e,t,function(e,r){if(c(e)&&!f(e)){this._f||(this._f=new i);var a=this._f[t](e,r);return"set"==t?this:a}return n.call(this,e,r)})}))},function(t,e,n){"use strict";var i=n(47),r=n(35).getWeak,a=n(2),s=n(5),o=n(45),l=n(46),c=n(30),u=n(17),h=n(54),d=c(5),f=c(6),p=0,v=function(t){return t._l||(t._l=new g)},g=function(){this.a=[]},m=function(t,e){return d(t.a,function(t){return t[0]===e})};g.prototype={get:function(t){var e=m(this,t);if(e)return e[1]},has:function(t){return!!m(this,t)},set:function(t,e){var n=m(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(t){var e=f(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,a){var c=t(function(t,i){o(t,c,e,"_i"),t._t=e,t._i=p++,t._l=void 0,void 0!=i&&l(i,n,t[a],t)});return i(c.prototype,{delete:function(t){if(!s(t))return!1;var n=r(t);return!0===n?v(h(this,e)).delete(t):n&&u(n,this._i)&&delete n[this._i]},has:function(t){if(!s(t))return!1;var n=r(t);return!0===n?v(h(this,e)).has(t):n&&u(n,this._i)}}),c},def:function(t,e,n){var i=r(a(e),!0);return!0===i?v(t).set(e,n):i[t._i]=n,t},ufstore:v}},function(t,e,n){var i=n(28),r=n(10);t.exports=function(t){if(void 0===t)return 0;var e=i(t),n=r(e);if(e!==n)throw RangeError("Wrong length!");return n}},function(t,e,n){var i=n(43),r=n(63),a=n(2),s=n(3).Reflect;t.exports=s&&s.ownKeys||function(t){var e=i.f(a(t)),n=r.f;return n?e.concat(n(t)):e}},function(t,e,n){"use strict";function i(t,e,n,c,u,h,d,f){for(var p,v,g=u,m=0,b=!!d&&o(d,f,3);m<c;){if(m in n){if(p=b?b(n[m],m,e):n[m],v=!1,a(p)&&(v=p[l],v=void 0!==v?!!v:r(p)),v&&h>0)g=i(t,e,p,s(p.length),g,h-1)-1;else{if(g>=9007199254740991)throw TypeError();t[g]=p}g++}m++}return g}var r=n(64),a=n(5),s=n(10),o=n(23),l=n(7)("isConcatSpreadable");t.exports=i},function(t,e,n){var i=n(10),r=n(88),a=n(27);t.exports=function(t,e,n,s){var o=String(a(t)),l=o.length,c=void 0===n?" ":String(n),u=i(e);if(u<=l||""==c)return o;var h=u-l,d=r.call(c,Math.ceil(h/c.length));return d.length>h&&(d=d.slice(0,h)),s?d+o:o+d}},function(t,e,n){var i=n(40),r=n(18),a=n(57).f;t.exports=function(t){return function(e){for(var n,s=r(e),o=i(s),l=o.length,c=0,u=[];l>c;)a.call(s,n=o[c++])&&u.push(t?[n,s[n]]:s[n]);return u}}},function(t,e,n){var i=n(58),r=n(145);t.exports=function(t){return function(){if(i(this)!=t)throw TypeError(t+"#toJSON isn't generic");return r(this)}}},function(t,e,n){var i=n(46);t.exports=function(t,e){var n=[];return i(t,!1,n.push,n,e),n}},function(t,e){t.exports=Math.scale||function(t,e,n,i,r){return 0===arguments.length||t!=t||e!=e||n!=n||i!=i||r!=r?NaN:t===1/0||t===-1/0?t:(t-e)*(r-i)/(n-e)+i}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=n(1),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(a),o=n(48),l=i(o),c=n(6),u=i(c),h=n(49),d=(i(h),n(395)),f=i(d),p=n(396),v=i(p),g=l.default.extend({init:function(t,e){this._id=s.uniqueId("tm"),this._type="tool",this._component=t,this.dimensionManager=(0,f.default)(this),this.dataManager=(0,v.default)(this),this.getClassDefaults=function(){return t.default_model};var n=s.extend(t.getToolListeners(),e.bind);delete e.bind,this._super(t.name,e,null,n)},getDefaults:function(){return s.deepExtend({},this.getSubmodelDefaults(),this.getClassDefaults())},validate:function(){function t(i){var r=JSON.stringify(n.getPlainObject());n._component.validate(n);var a=JSON.stringify(n.getPlainObject());i>=e?s.error("Max validation loop."):r!==a&&t(i++)}var e=10,n=this;t(0)}}),m=u.default.extend({init:function(t,e){this._id=s.uniqueId("t"),this.template=this.getToolTemplate(),this._super({placeholder:t,model:e}),this.prerender(),this.setCSSClasses(),this.setResizeHandler(),this.postrender()},createModel:function(t){t=t||{},t.bind=t.bind||{},this.model=new g(this,t),this.model.setInterModelListeners()},getToolTemplate:function(){return this.template||'<div class="vzb-tool vzb-tool-'+this.name+'"><div class="vzb-tool-stage"><div class="vzb-tool-viz"></div><div class="vzb-tool-time-speed-sliders"><div class="vzb-tool-timeslider"></div><div class="vzb-tool-stepped-speed-slider"></div></div></div><div class="vzb-tool-sidebar"><div class="vzb-tool-dialogs"></div><div class="vzb-tool-buttonlist"></div></div><div class="vzb-tool-datanotes vzb-hidden"></div><div class="vzb-tool-treemenu vzb-hidden"></div><div class="vzb-tool-datawarning vzb-hidden"></div><div class="vzb-tool-labels vzb-hidden"></div></div>'},getToolListeners:function(){var t=this,e=this;return s.extend(this.model_binds,{readyOnce:function(){return t.setResizeHandler()},change:function(t,n){e._ready&&(e.model.validate(),t.source.persistent&&e.model.trigger(new h.DefaultEvent(t.source,"persistentChange")))},hook_change:function(){e.model.state.time.splash||e.beforeLoading()},"resize:ui":function(){e._ready&&e.triggerResize()},"translate:locale":function(){e.translateStrings(),e.model.ui.setRTL(e.model.locale.isRTL())},load_error1:function(e,n){t.renderError(n)}})},setResizeHandler:function(){this.model.ui.setContainer(this.element)},getVizWidthHeight:function(){var t=0,e=0;return this.element?(t=d3.select(this.element).select(".vzb-tool-viz").node().clientWidth,e=d3.select(this.element).select(".vzb-tool-viz").node().clientHeight):s.warn("Tool getVizWidthHeight(): missing this.element"),{width:t,height:e}},triggerResize:s.throttle(function(){this.trigger("resize")},100),startLoading:function(){var t=this;this._super(),Promise.all([this.model.startPreload(),this.startPreload()]).then(this.afterPreload.bind(this)).then(this.loadSplashScreen.bind(this)).then(function(){return s.delay(300)}).then(this.model.startLoading.bind(this.model)).then(this.finishLoading.bind(this)).catch(function(e){s.error("error in tool promise chain"),t.model.triggerLoadError(e)})},loadSplashScreen:function(){return this.model.ui.splash?(this.model.state.time.splash=!0,this.model.startLoading({splashScreen:!0})):Promise.resolve()},finishLoading:function(){this.model.state.time.splash=!1},getPersistentModel:function(){function t(e){for(var n in e)"function"==typeof e[n]?(delete e[n],s.warn("minModel validation. Function found in enumerable properties of "+n+". This key is deleted from minModel")):"object"===r(e[n])&&t(e[n])}var e=this.model.getPlainObject(!0);return t(e),e},getPersistentMinimalModel:function(t){var e=this.model.getDefaults(),n=this.getPersistentModel(),i=s.deepExtend(e,t);return s.diffObject(n,i)},clear:function(){this.model.ui.clear(),this.setModel=this.getModel=function(){},this._super()},setModel:function(t,e){e?this.model.reset(t):this.model.set(t),this.setCSSClasses()},getModel:function(){return this.model.getPlainObject()||{}},beforeLoading:function(){s.addClass(this.placeholder,"vzb-loading-data")},validate:function(t){if(!(t=this.model||t)||!t.state)return s.warn("tool validation aborted: model.state looks wrong: "+t)},setCSSClasses:function(){s.addClass(this.placeholder,"vzb-placeholder"),this.model.ui&&this.model.ui.buttons&&this.model.ui.buttons.length?s.removeClass(this.element,"vzb-buttonlist-off"):s.addClass(this.element,"vzb-buttonlist-off")}});e.default=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(i),a=n(32),s=function(t){return t&&t.__esModule?t:{default:t}}(a),o={_continuous:{_default:"#ffb600",0:"hsl(270, 80%, 55%)",25:"hsl(202.5, 80%, 55%)",50:"hsl(135, 80%, 55%)",75:"hsl(48, 70%, 62%)",100:"hsl(0, 80%, 55%)"},_discrete:{_default:"#ffb600",0:"#4cd843",1:"#e83739",2:"#ff7f00",3:"#c027d4",4:"#d66425",5:"#0ab8d8",6:"#bcfa83",7:"#ff8684",8:"#ffb04b",9:"#f599f5",10:"#f4f459",11:"#7fb5ed"},_default:{_default:"#ffb600"}},l=s.default.extend({getClassDefaults:function(){var t={use:null,which:null,scaleType:null,syncModels:[],palette:{},paletteLabels:null,allow:{scales:["linear","log","genericLog","time","pow","ordinal"]}};return r.deepExtend(this._super(),t)},init:function(t,e,n,i){var r=this;this._type="color",this._super(t,e,n,i),this._syncModelReferences={},this._hasDefaultColor=!1,this.on("hook_change",function(){if(!r._readyOnce&&!r._loadCall&&(r._setSyncModels(),r.palette&&0!==Object.keys(r.palette._data).length)){var t=r.getDefaultPalette(),e=r.getPalette(),n={};Object.keys(t).forEach(function(i){e[i]&&t[i]!=e[i]||(n[i]=t[i])}),r.set("palette",n,!1,!1)}})},afterPreload:function(){this._super(),this._setSyncModels()},getColorShade:function(t){var e=this.getPalette();if(!t)return r.warn("getColorShade() is missing arguments");if(!r.isArray(e[t.colorID]))return"shade"==t.shadeID?d3.rgb(e[t.colorID]||this.scale(t.colorID)).darker(.5).toString():e[t.colorID];var n=this.getConceptprops().color,i=t.shadeID&&n&&n.shades&&n.shades[t.shadeID]?n.shades[t.shadeID]:0;return e[t.colorID][i]},isUserSelectable:function(){var t=this.getConceptprops().color;return null==t||null==t.selectable||t.selectable},setWhich:function(t){this.palette&&(this.palette._data={}),this._super(t),this._setSyncModels()},_setSyncModels:function(){var t=this;this.syncModels.forEach(function(e){var n=t.getClosestModel(e),i=n.isHook()?n._parent:n,r=i.getClosestModel(i.space[0]);t._syncModelReferences[e]={model:n,marker:i,entities:r},t.isDiscrete()&&"constant"!==t.use&&t._setSyncModel(n,i,r)})},_setSyncModel:function(t,e,n){if(t==e){var i={dim:this.which,show:{}};e.setDataSourceForAllSubhooks(this.data),n.set(i,!1,!1)}else t.isDiscrete()&&t.set({which:this.which,data:this.data,spaceRef:this.spaceRef},!1,!1)},getColorlegendMarker:function(){return(this._syncModelReferences.marker_colorlegend||{}).marker},getColorlegendEntities:function(){return(this._syncModelReferences.marker_colorlegend||{}).entities},setColor:function(t,e,n){var i=void 0,a=this.getPalette();this.isDiscrete()?(i=this.scale.range(),i[this.scale.domain().indexOf(e)]=t):(a[e]=t,i=r.values(a)),this.scale.range(i),this.palette.set(e,t,n,n)},mapValue:function(t){return null!=this.scale&&this.isDiscrete()&&this._hasDefaultColor&&-1==this.scale.domain().indexOf(t)&&(t="_default"),this._super(t)},getDefaultPalette:function(){var t=this.getConceptprops().color,e=void 0;return this.discreteDefaultPalette=!1,t&&t.palette?e=r.clone(t.palette):o[this.which]?e=r.clone(o[this.which]):"constant"===this.use?e=/^#([0-9a-f]{3}|[0-9a-f]{6})$/.test(this.which)?{_default:this.which}:r.clone(o._default):(e=r.clone(o[this.isDiscrete()?"_discrete":"_continuous"]),this.discreteDefaultPalette=!0),e},_getPaletteLabels:function(){var t=this.getConceptprops().color,e=null;return t&&t.paletteLabels&&(e=r.clone(t.paletteLabels)),e},getPaletteLabels:function(){return this.paletteLabels.getPlainObject()},getPalette:function(){if(!this.palette||0===Object.keys(this.palette._data).length){var t=this.getDefaultPalette();this.set("palette",t,!1,!1);var e=this._getPaletteLabels();this.set("paletteLabels",e,!1,!1)}var n=this.palette.getPlainObject();return"ordinal"!==this.scaleType&&delete n._default,n},buildScale:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scaleType,e=this,n=e.getPalette(),i=Object.keys(n),a=r.values(n);if(this._hasDefaultColor=i.indexOf("_default")>-1,"time"==t){var s=this._space.time,l=s.splash?{min:s.parse(s.startOrigin),max:s.parse(s.endOrigin)}:{min:s.start,max:s.end},c=l.max-l.min==0;i=i.sort(function(t,e){return t-e}),a=i.map(function(t){return c?n[i[0]]:n[t]}),i=i.map(function(t){return l.min.valueOf()+t/100*(l.max.valueOf()-l.min.valueOf())}),this.scale=d3.scaleUtc().domain(i).range(a).interpolate(d3.interpolateCubehelix)}else if(this.isDiscrete()){if(a=a.map(function(t){return r.isArray(t)?t[0]:t}),t="ordinal",this.discreteDefaultPalette){var u=r.extend({},o._discrete);delete u._default;var h=Object.keys(u);i=[].concat(this.getUnique(this.which)),a=i.map(function(t,e){return n[t]||u[h[e%h.length]]}),i.push("_default"),a.push(n._default)}this.scale=d3["scale"+r.capitalize(t)]().domain(i).range(a)}else{var d=this.getLimits(this.which);d=[d.min,d.max];var f=d[1]-d[0]==0;if(i=i.sort(function(t,e){return t-e}),a=i.map(function(t){return f?n[i[0]]:n[t]}),i=i.map(function(t){return d[0]+t/100*(d[1]-d[0])}),d3.min(i)<=0&&d3.max(i)>=0&&"log"===t&&(t="genericLog"),"log"===t||"genericLog"===t){var p=d3.scaleGenericlog().domain(d).range(d);i=i.map(function(t){return p.invert(t)})}this.scale=d3["scale"+r.capitalize(t)]().domain(i).range(a).interpolate(d3.interpolateCubehelix)}this.scaleType=t}});e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(i),a=n(32),s=function(t){return t&&t.__esModule?t:{default:t}}(a),o=s.default.extend({getClassDefaults:function(){var t={use:null,which:null,merge:!1,manualSorting:null,spaceRef:null,scaleType:"ordinal"};return r.deepExtend(this._super(),t)},init:function(t,e,n,i){this._type="model",this._super(t,e,n,i)},validate:function(){this.scale&&(this.scale=null),"property"!=this.use&&"constant"!=this.use&&(r.warn("group model: use must be 'property' or 'constant'. Resetting to property..."),this.use="property")}});e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(i),a=n(32),s=function(t){return t&&t.__esModule?t:{default:t}}(a),o=s.default.extend({getClassDefaults:function(){var t={use:null,which:null};return r.deepExtend(this._super(),t)},init:function(t,e,n,i){this._type="label",this._super(t,e,n,i)},autoconfigureModel:function(t){!this.which&&this.autoconfig&&(t=this._parent.getAvailableConcept(this.autoconfig)||this._parent.getAvailableConcept({type:"entity_domain"})),this._super(t)}});e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(i),a=n(55),s=function(t){return t&&t.__esModule?t:{default:t}}(a),o=["ar","ar-SA","he","he-IL"],l=s.default.extend({getClassDefaults:function(){var t={id:"en",filePath:"assets/translation/"};return r.deepExtend(this._super(),t)},dataConnectedChildren:["id"],strings:{},init:function(t,e,n,i){this._type="locale",this._super(t,e,n,i)},_isLoading:function(){return!this._loadedOnce||this._loadCall},preloadData:function(){return this.loadData()},loadData:function(t){var e=this;this.setReady(!1),this._loadCall=!0;var n=[];return t&&t.dataConnectedChange&&r.forEach(this._root._data,function(t){"data"===t._type&&n.push(t.loadConceptProps())}),this.strings[this.id]||n.push(new Promise(function(t,n){r.d3json(e.filePath+e.id+".json",function(i,r){if(i)return n(i);e._handleNewStrings(r),t()})})),Promise.all(n).then(function(){return e.trigger("translate")}).catch(function(t){return e.handleLoadError(t)})},_handleNewStrings:function(t){this.strings[this.id]=this.strings[this.id]?r.extend(this.strings[this.id],t):t},getUIString:function(t){return this.strings&&this.strings[this.id]&&(this.strings[this.id][t]||""===this.strings[this.id][t])?this.strings[this.id][t]:(this.strings&&this.strings[this.id]||r.warn("Strings are not loaded for the "+this.id+" locale. Check if translation JSON is valid"),t)},getTFunction:function(){var t=this;return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(n).reduce(function(t,e){var i=new RegExp("{{"+e+"}}","g");return t.replace(i,n[e])},t.getUIString(e))}},isRTL:function(){return-1!==o.indexOf(this.id)}});e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(i),a=n(32),s=function(t){return t&&t.__esModule?t:{default:t}}(a),o=s.default.extend({getClassDefaults:function(){var t={use:null,which:null};return r.deepExtend(this._super(),t)},init:function(t,e,n,i){this._type="side",i.readyOnce=this.readyOnce,this.state={left:{},right:{}},this._super(t,e,n,i)},readyOnce:function(){if(this.spaceRef){var t=this._space[this.spaceRef].dataConnectedChildren.slice(0);t.splice(t.indexOf("show"),1),this._space[this.spaceRef].dataConnectedChildren=t}},switchSideState:function(){var t=this.state.left;this.state.left=this.state.right,this.state.right=t},clearSideState:function(){this.state={left:{},right:{}}}});e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(107),r=function(t){return t&&t.__esModule?t:{default:t}}(i),a=n(1),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(a),o=r.default.extend({getClassDefaults:function(){var t={use:null,which:null,domainMin:null,domainMax:null,zoomedMin:null,zoomedMax:null,fixBaseline:0,extent:[0,.85],scaleType:null,allow:{scales:["ordinal","linear","log","genericLog","pow"]}};return s.deepExtend(this._super(),t)},_type:"size",buildScale:function(){this._super(),"ordinal"!==this.scaleType&&this.scale.clamp(!0)}});e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(i),a=n(32),s=function(t){return t&&t.__esModule?t:{default:t}}(a),o={ALL:"all",_default:"none"},l=s.default.extend({getClassDefaults:function(){var t={use:null,which:null,merge:!1,spaceRef:null};return r.deepExtend(this._super(),t)},init:function(t,e,n,i){this._type="model",this._super(t,e,n,i)},validate:function(){this.scale&&(this.scale=null),"indicator"===this.use&&(r.warn("stack model: use must not be 'indicator'. Resetting use to 'constant' and which to '"+o._default),this.use="constant",this.which=o._default),"constant"===this.use&&-1==r.values(o).indexOf(this.which)&&(r.warn("stack model: the requested value '"+this.which+"' is not allowed. resetting to '"+o._default),this.which=o._default,this.spaceRef=null)},getPalettes:function(){return o},buildScale:function(){}});e.default=l},function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function r(){var t=function(t){return e(t)+"w"+n(t)};t.parse=function(t){var e=t.match(/^(\d{4})w(\d{2})$/);return e?i(e[1],e[2]):null};var e=function(t){return t instanceof Date||(t=new Date(+t)),new Date(+t+864e5*(4-(t.getUTCDay()||7))).getUTCFullYear()},n=function(t){t instanceof Date||(t=new Date(+t));var e=new Date(+t+864e5*(4-(t.getUTCDay()||7))),n=Math.ceil(((e.getTime()-e.setUTCMonth(0,1))/864e5+1)/7);return n<10?"0"+n:n},i=function(t,e){var n=parseInt(e),i=t,r=new Date;r.setUTCFullYear(i),r.setUTCMonth(0),r.setUTCDate(4);var a=r.getUTCDay()||7,s=7*n+1-(a+4),o=u.year.data.parse(i);return o=new Date(o.getTime()+24*s*60*60*1e3)};return t}function a(){var t=function(t){return u.year.data(t)+"q"+e(t)};t.parse=function(t){var e=t.match(/^(\d{4})q(\d)$/);return e?n(e[1],e[2]):null};var e=function(t){return t instanceof Date||(t=new Date(+t)),1+(t.getUTCMonth()/3|0)},n=function(t,e){var n=parseInt(e),i=3*n-2,r=t;return u.month.data.parse([r,(i<9?"0":"")+i].join("-"))};return t}Object.defineProperty(e,"__esModule",{value:!0});var s=n(1),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(s),l=n(55),c=function(t){return t&&t.__esModule?t:{default:t}}(l);Date.prototype.utc=Date.prototype.toUTCString;var u={year:{data:d3.time.format.utc("%Y"),ui:d3.time.format.utc("%Y")},month:{data:d3.time.format.utc("%Y-%m"),ui:d3.time.format.utc("%b %Y")},day:{data:d3.time.format.utc("%Y%m%d"),ui:d3.time.format.utc("%c")},hour:{data:d3.time.format.utc("%Y%m%dT%H"),ui:d3.time.format.utc("%b %d %Y, %H")},minute:{data:d3.time.format.utc("%Y%m%dT%H%M"),ui:d3.time.format.utc("%b %d %Y, %H:%M")},second:{data:d3.time.format.utc("%Y%m%dT%H%M%S"),ui:d3.time.format.utc("%b %d %Y, %H:%M:%S")},week:{data:r(),ui:r()},quarter:{data:a(),ui:a()}},h=c.default.extend({getClassDefaults:function(){var t={dim:null,value:null,start:null,end:null,startOrigin:null,endOrigin:null,startSelected:null,endSelected:null,playable:!0,playing:!1,loop:!1,round:"round",delay:150,delayThresholdX2:90,delayThresholdX4:45,unit:"year",format:{data:null,ui:null},step:1,immediatePlay:!0,record:!1,offset:0};return o.deepExtend(this._super(),t)},objectLeafs:["autoconfig"],dataConnectedChildren:["startOrigin","endOrigin","dim"],init:function(t,e,n,i){this._type="time",this.hooksToListen=new Set([]),this._super(t,e,n,i);var r=this;this.initFormatters(),this.dragging=!1,this.postponePause=!1,this.allSteps={},this.delayAnimations=this.delay,this.on({"change:playing":function(){!0===r.playing?r._startPlaying():r._stopPlaying()},"change:format":function(){r.initFormatters()}})},initFormatters:function(){u[this.unit]&&(this.formatters=u[this.unit]),"string"==typeof this.format?this.formatters.data=this.formatters.ui=d3.time.format.utc(this.format):(this.format.data&&(this.formatters.data=d3.time.format.utc(this.format.data)),this.format.ui&&(this.formatters.ui=d3.time.format.utc(this.format.ui))),this.validateFormatting()},preloadData:function(){return this.dataSource=this.getClosestModel(this.data||"data"),this._super()},afterPreload:function(){this.autoconfigureModel()},_isLoading:function(){return![].concat(i(this.hooksToListen)).every(function(t){return t._ready})},autoconfigureModel:function(){if(!this.dim&&this.autoconfig){var t=this.dataSource.getConcept(this.autoconfig);t&&(this.dim=t.concept),o.printAutoconfigResult(this)}},setLinkWith:function(t){var e=this;this.hooksToListen.add(t),t.on("startLoading",function(){return e.setReady(!1)}),t.on("ready",this.checkTimeLimits.bind(this))},unsetLinkWith:function(t){var e=this;this.hooksToListen.delete(t),t.off("startLoading",function(){return e.setReady(!1)}),t.off("ready",this.checkTimeLimits.bind(this))},checkTimeLimits:function(){var t=this;if([].concat(i(this.hooksToListen)).every(function(t){return t._ready})){var e=[this.startOrigin],n=[this.endOrigin];this.hooksToListen.forEach(function(t){var i=t.getTimespan();if(i&&i.min&&i.max){if(!o.isDate(i.min)||!o.isDate(i.max))return o.warn("checkTimeLimits(): min-max for hook "+t._name+" look wrong: "+i.min+" "+i.max+". Expecting Date objects. Ensure that time is properly parsed in the data from reader");e.push(i.min),n.push(i.max)}});var r=d3.max(e),a=d3.min(n);r>a&&(o.warn("checkTimeLimits(): Availability of the indicator's data has no intersection. I give up and just return some valid time range where you'll find no data points. Enjoy!"),r=d3.min(e),a=d3.max(n));var s={};this.start-r==0&&(this.start||this.startOrigin)||(s.start=r),this.end-a==0&&(this.end||this.endOrigin)||(s.end=a),null==this.startSelected&&(s.startSelected=r),null==this.endSelected&&(s.endSelected=a),null==this.value&&(s.value=this.parse(this.formatDate(new Date))),this.setTreeFreezer(!0),this.set(s,!1,!1),(s.start||s.end)&&this.hooksToListen.forEach(function(e){e.which==t.dim&&e.buildScale()}),this.setTreeFreezer(!1),this.setReady()}},_formatToDates:function(){for(var t=["value"],e=["value","start","end","startSelected","endSelected"],n=0;n<e.length;n++){var i=e[n];if(!o.isDate(this[i])){var r=this.parse(this[i]);this.set(i,r,null,-1!==t.indexOf(i))}}},formatDate:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"data";return-1===["data","ui"].indexOf(e)&&(o.warn("Time.formatDate type parameter ("+e+') invalid. Using "data".'),e=data),null==t?null:this.formatters[e](t)},parse:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"data";return null==t?null:this.formatters[e].parse(t.toString())},findFormat:function(t){for(var e=Object.keys(u),n=0;n<e.length;n++){var i=u[e[n]].data.parse(t);if(i)return{unit:e[n],time:i,type:"data"};if(i=u[e[n]].ui.parse(t))return{unit:e[n],time:i,type:"ui"}}return null},validate:function(){null==this.start&&this.startOrigin&&this.set("start",this.startOrigin,null,!1),null==this.end&&this.endOrigin&&this.set("end",this.endOrigin,null,!1),this.formatters&&this.validateFormatting(),u[this.unit]||(o.warn(this.unit+' is not a valid time unit, using "year" instead.'),this.unit="year"),this.step<1&&(this.step=1),this.end<this.start&&null!=this.start&&this.set("end",new Date(this.start),null,!1),this.value<this.startSelected&&null!=this.value&&null!=this.startSelected&&(this.value=new Date(this.startSelected)),this.value>this.endSelected&&null!=this.value&&null!=this.endSelected&&(this.value=new Date(this.endSelected)),!1===this.splash&&((!this.startSelected||this.startSelected<this.start)&&null!=this.start&&this.set({startSelected:new Date(this.start)},null,!1),(!this.endSelected||this.endSelected>this.end)&&null!=this.end&&this.set({endSelected:new Date(this.end)},null,!1)),this.value<this.start&&null!=this.value&&null!=this.start?this.value=new Date(this.start):this.value>this.end&&null!=this.value&&null!=this.end&&(this.value=new Date(this.end)),!1===this.playable&&!0===this.playing&&this.set("playing",!1,null,!1)},validateFormatting:function(){o.isDate(this.start)&&o.isDate(this.end)&&o.isDate(this.value)&&o.isDate(this.startSelected)&&o.isDate(this.endSelected)||this._formatToDates()},play:function(){this._startPlaying()},pause:function(t){t?this.postponePause=!0:this.playing&&(this.set("playing",!1,null,!1),this.set("value",this.value,!0,!0))},dragStart:function(){this.dragging=!0},dragStop:function(){this.dragging=!1},getRange:function(){var t=this.getIntervalAndStep();return d3["utc"+t.interval].range(this.start,this.end,t.step)},getIntervalAndStep:function(){var t=void 0,e=void 0;switch(this.unit){case"week":t="monday",e=this.step;break;case"quarter":t="month",e=3*this.step;break;default:t=this.unit,e=this.step}return{interval:o.capitalize(t),step:e}},getFilter:function(t){var e=t.splash,n=this.parse(this.startOrigin),i=this.parse(this.endOrigin),r=this.getDimension(),a=null;if(e)null!=this.value&&(a={},a[r]=this.formatters.data(this.value));else{var s=void 0,o=void 0;null!=n&&(s=this.formatters.data(n)),null!=i&&(o=this.formatters.data(i)),(s||o)&&(a={},a[r]={},s&&(a[r].$gte=s),o&&(a[r].$lte=o))}return a},getParser:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data";return this.formatters[t].parse},getFormatter:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data";return this.formatters[t]},getAllSteps:function(){if(!this.start||!this.end)return o.warn("getAllSteps(): invalid start/end time is detected: "+this.start+", "+this.end),[];var t=""+this.offset+this.start+this.end+this.step;if(this.allSteps[t])return this.allSteps[t];this.allSteps[t]=[];for(var e=this.getIntervalAndStep(),n=d3["utc"+e.interval].count(this.start,this.end)<this.offset?new Date(this.start):d3["utc"+e.interval].offset(this.start,this.offset);+n<=+this.end;){var i=this.getIntervalAndStep();this.allSteps[t].push(n),n=d3["utc"+i.interval].offset(n,i.step)}return this.allSteps[t]},snap:function(t){if(this.round){null==t&&(t="value");var e="round";"ceil"===this.round&&(e="ceil"),"floor"===this.round&&(e="floor");var n=this.getIntervalAndStep(),i=d3["utc"+n.interval][e](this[t]);this.value-i==0&&this.value-this.start!=0&&this.value-this.end!=0||this.set(t,i,!0)}},_startPlaying:function(){if(this.playable){var t=this;this.value>=this.endSelected&&t.getModelObject("value").set(t.startSelected,null,!1),this.set("playing",!0,null,!1),this.playInterval(this.immediatePlay),this.trigger("play")}},playInterval:function(t){if(this.playing){var e=this;this.delayAnimations=this.delay,this.delay<this.delayThresholdX2&&(this.delayAnimations*=2),this.delay<this.delayThresholdX4&&(this.delayAnimations*=2);var n=t?1:this.delayAnimations;this._intervals.setInterval("playInterval_"+this._id,function(){if(e.value>=e.endSelected)e.loop?e.getModelObject("value").set(e.startSelected,null,!1):e.set("playing",!1,null,!1);else if(e._intervals.clearInterval("playInterval_"+e._id),e.postponePause||!e.playing)e.set("playing",!1,null,!1),e.postponePause=!1,e.getModelObject("value").set(e.value,!0,!0);else{var t=e.getIntervalAndStep();e.delay<e.delayThresholdX2&&(t.step*=2),e.delay<e.delayThresholdX4&&(t.step*=2);var n=d3["utc"+t.interval].offset(e.value,t.step);n>=e.endSelected?e.getModelObject("value").set(e.endSelected,null,!0):e.getModelObject("value").set(n,null,!1),e.playInterval()}},n)}},incrementTime:function(t){var e=this.getIntervalAndStep();return d3["utc"+e.interval].offset(t,e.step)},decrementTime:function(t){var e=this.getIntervalAndStep();return d3["utc"+e.interval].offset(t,-e.step)},_stopPlaying:function(){this._intervals.clearInterval("playInterval_"+this._id),this.trigger("pause")}});e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(i),a=n(48),s=function(t){return t&&t.__esModule?t:{default:t}}(a),o=s.default.extend({screen_profiles:{small:{min_width:0,min_height:0},medium:{min_width:600,min_height:400},large:{min_width:900,min_height:520}},getClassDefaults:function(){var t={presentation:!1,buttons:[],dialogs:{dialog:{find:{enableSelectShowSwitch:!1}},popup:[],sidebar:[],moreoptions:[]},splash:!1};return r.deepExtend(this._super(),t)},init:function(t,e,n,i){this._type="ui",this._container=null,this._curr_profile="small",this._prev_size={},this.resizeHandler=this.resizeHandler.bind(this),window.addEventListener("resize",this.resizeHandler),i["change:presentation"]=this.updatePresentation.bind(this),this._super(t,e,n,i);(function(){var t=/(?:iPad|iPhone|iPod).+OS\s+(\d+)_(\d+)/.exec(navigator.userAgent);return t&&+t[1]>=10&&+t[2]>2&&!window.MSStream})()&&(this.setSize=r.debounce(this.setSize,500))},resizeHandler:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._container&&this.setSize(t.force||!1)},setSize:function(t){var e=this,n=this._container.clientWidth,i=this._container.clientHeight;if(/^((?!chrome|android).)*safari/i.test(navigator.userAgent)&&navigator.userAgent.match(/iPhone/i)&&(this._container.style.top=0,this._container.clientWidth>this._container.clientHeight&&this._container.clientWidth<700)){var a=this._container.clientHeight,s=window.innerHeight;2<a-s&&a-s<=45&&(this._container.style.top="44px",document.body.scrollTop=44)}(t||!this._prev_size||this._prev_size.width!==n||this._prev_size.height!==i)&&n&&i&&(r.forEach(this.screen_profiles,function(t,a){r.removeClass(e._container,"vzb-"+a),n>=t.min_width&&i>=t.min_height&&(e._curr_profile=a)}),r.addClass(this._container,"vzb-"+this._curr_profile),r.classed(this._container,"vzb-portrait",n<i),r.classed(this._container,"vzb-landscape",!(n<i)),this._prev_size.width=n,this._prev_size.height=i,this.trigger("resize"))},setContainer:function(t){t.clientWidth&&t.clientHeight||r.warn("Vizabi is being initialised with a container of incorrect width or height. While this may be handled without a crash, it's not considered a healthy behavior. You should call Vizabi(placeholder,...) function when placeholder is not display:none and has some >0 !=auto width and height"),this._container=t,this.setSize(),this.updatePresentation()},updatePresentation:function(){r.classed(this._container,"vzb-presentation",this.presentation),this.trigger("resize")},getPresentationMode:function(){return this.presentation},setRTL:function(t){r.classed(this._container,"vzb-rtl",t)},currentProfile:function(){return this._curr_profile},clear:function(){window.removeEventListener("resize",this.resizeHandler)}});e.default=o},function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function r(){return function t(e){function n(t){var e=b(t);return u?u(e.scale(t*e.sign)):e.scale(t*e.sign)}var r=[],a=[],s=.1,o=5,l=e.domain(),c=e.range(),u=null,h=void 0,d=void 0,f=function(t){return t instanceof Array?t.map(function(t){return Math.abs(t)}):Math.abs(t)},p=function(t,e){return{domain:t,sign:1,range:e,scale:d3.scaleLinear().domain(t).range(e)}},v=function(t,e,n){var i=t;return n&&(i=f(t)),{domain:t,sign:n?-1:1,range:e,scale:d3.scaleLog().domain(i).range(e)}},g=function(){h=c[0]<c[c.length-1];var t=h?1:-1;if(r=[],1==a.length)r=a[0][0]<=0&&a[0][1]>=0?[p(a[0],c)]:[v(a[0],c,a[0][0]<=0)];else{var n=d3.max(f(l)),i=f(d3.max(c)-d3.min(c)),u=1,g=0,m=0,b=0,y=0;e.domain([s,n]).range([0,i]);var _=o;0!=l[0]&&f(l[0])>s&&(g=e(f(l[0]))),0!=l[l.length-1]&&f(l.length-1)>s&&(m=e(f(l[l.length-1]))),f(l[0])>s&&(b=_),f(l[l.length-1])>s&&(y=_),i=i-b-y,0!=m&&(u=f(g/m));var M=void 0,w=void 0;2==a.length?0==l[0]||f(l[0])<=s?(M=c[0]+g*u*t+y*t,r=[p(a[0],[c[0],M]),v(a[1],[M,c[c.length-1]],!d)]):(0==l[l.length-1]||f(l[l.length-1])<=s)&&(M=c[c.length-1]-(b+y)*u*t,r=[v(a[0],[c[0],M],d),p(a[1],[M,c[c.length-1]])]):(M=c[0]+i/(1/u+1)*t,w=c[0]+(i/(1/u+1)+b+y)*t,r=[v(a[0],[c[0],M],d),p(a[1],[M,w]),v(a[2],[w,c[c.length-1]],!d)])}},m=function(){if(d=l[0]<l[l.length-1],a=[],d3.min(l)>0&&d3.max(l)>0||d3.min(l)<0&&d3.max(l)<0)a=[l];else{var t=void 0,e=void 0;d?(t=l[0],e=l[l.length-1]):(t=l[l.length-1],e=l[0]);for(var n=function(t,e){d?a.push([t,e]):a.unshift([e,t])};t!=e;)e<=-s||t>=-s&&e<=s||t>=s?(n(t,e),t=e):t<-s&&e>=-s?(n(t,-s),t=-s):t>=-s&&e>=s?(n(t,s),t=s):(console.warn("Something wrong while build subdomains: "+t+" "+e),t=e)}g()},b=function(t){if(d){if(t<l[0])return r[0];if(t>l[l.length-1])return r[r.length-1];for(var e=0;e<r.length;e++)if(t>=r[e].domain[0]&&t<=r[e].domain[r[e].domain.length-1])return r[e]}else{if(t>l[0])return r[0];if(t<l[l.length-1])return r[r.length-1];for(var n=0;n<r.length;n++)if(t<=r[n].domain[0]&&t>=r[n].domain[r[n].domain.length-1])return r[n]}},y=function(t){if(h){if(t<c[0])return r[0];if(t>c[c.length-1])return r[r.length-1];for(var e=0;e<r.length;e++)if(t>=r[e].range[0]&&t<=r[e].range[r[e].range.length-1])return r[e]}else{if(t>c[0])return r[0];if(t<c[c.length-1])return r[r.length-1];for(var n=0;n<r.length;n++)if(t<=r[n].range[0]&&t>=r[n].range[1])return r[n]}};return Math.sign=Math.sign||function(t){return t=+t,0===t||isNaN(t)?t:t>0?1:-1},n.eps=function(t){return arguments.length?(s=t,n.domain(l),n):s},n.delta=function(t){return arguments.length?(o=t,n.range(c),n):o},n.domain=function(t){if(!arguments.length)return l;switch(t.length){case 0:t=l;break;case 1:t=[t[0]/2,2*t[0]]}t[0]==t[t.length-1]&&(t[0]/=2,t[t.length-1]=2*t[t.length-1]),l=t;var e=d3.min(f(l).filter(function(t){return!!t}));return e&&(s=Math.min(s,e/100)),m(),n},n.range=function(t,e){if(!arguments.length)return u?u.range():c;switch(t.length){case 0:t=c;break;case 1:t=[t[0]-100,t[0]+100]}if(u&&!e)u.range(t);else{c=t;var i=d3.min(f(c).filter(function(t){return!!t}));i&&(o=Math.min(o,i/100)),g()}return n},n.interpolate=function(t){var e=l;if(a.length>1){var i=l,r=c,s=[l[0],l[l.length-1]];n.domain(s).range(s),e=i.map(function(t){return n(t)}),n.domain(i).range(r)}return u=d3.scaleLinear().domain(e).range(c).interpolate(t),n.range(u.domain(),!0),n},n.invert=function(t){var e=y(t);return e.scale.invert(t)*e.sign},n.ticks=function(t){for(var e=void 0,n=[],a=0;a<r.length;a++)e=-1==r[a].sign?r[a].scale.ticks().reverse().map(function(t){return-1*t}):r[a].scale.ticks(),n.length>0&&e.length>0&&n[n.length-1]==e[0]&&e.splice(0,1),n.push.apply(n,i(e));return n},n.copy=function(){return t(e).domain(l).range(c).delta(o).eps(s)},d3.rebind(n,e,"base","rangeRound","clamp","nice","tickFormat")}(d3.scaleLog().domain([.1,200]).range([0,1e3]))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r},function(t,e,n){"use strict";function i(t,e,n){var i,r,a,s=e?".onTap":".onLongTap";d3.select(t).on("touchstart"+s,function(t,e){i=d3.event.timeStamp,r=d3.event.changedTouches[0].screenX,a=d3.event.changedTouches[0].screenY}).on("touchend"+s,function(t,s){return r=Math.abs(r-d3.event.changedTouches[0].screenX),a=Math.abs(a-d3.event.changedTouches[0].screenY),r<5&&a<5?d3.event.timeStamp-i<500?e?e(t,s):void 0:n?n(t,s):void 0:void 0})}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return this.each(function(){i(this,t)})},a=function(t){return this.each(function(){i(this,null,t)})};e.default={onTap:r,onLongTap:a},e.onTap=r,e.onLongTap=a},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){var n=[],i=!0,r=!1,a=void 0;try{for(var s,o=t[Symbol.iterator]();!(i=(s=o.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,a=t}finally{try{!i&&o.return&&o.return()}finally{if(r)throw a}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=n(399),o=i(s),l=n(76),c=i(l),u=n(1),h=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(u),d={},f="https://docs.google.com/spreadsheets/",p=c.default.extend({_name:"csv",init:function(t){var e=this;if(this._data=[],this._lastModified=t.lastModified||"",this._basepath=t.path,this.delimiter=t.delimiter,this.keySize=t.keySize||1,this.hasNameColumn=t.hasNameColumn||!1,this.assetsPath=t.assetsPath||"",this._basepath.includes(f)&&!this._basepath.includes("tqx=out:csv")){var n=this._basepath.split(f)[1].split("/"),i=n[n.indexOf("d")+1];this._basepath=f+"d/"+i+"/gviz/tq?tqx=out:csv"}this._parseStrategies=[].concat(r([",.",".,"].map(function(t){return e._createParseStrategy(t)})),[function(t){return t}]),Object.assign(this.ERRORS,{WRONG_TIME_COLUMN_OR_UNITS:"reader/error/wrongTimeUnitsOrColumn",NOT_ENOUGH_ROWS_IN_FILE:"reader/error/notEnoughRows",UNDEFINED_DELIMITER:"reader/error/undefinedDelimiter",EMPTY_HEADERS:"reader/error/emptyHeaders",DIFFERENT_SEPARATORS:"reader/error/differentSeparators",FILE_NOT_FOUND:"reader/error/fileNotFoundOrPermissionsOrEmpty"})},ensureDataIsCorrect:function(t,e){var n=t.columns,i=t.rows,r=n[this.keySize],s=a(i,1),o=s[0],l=e[r],c=o[r].trim();if(l&&!l(c))throw this.error(this.ERRORS.WRONG_TIME_COLUMN_OR_UNITS,void 0,c);if(!n.filter(Boolean).length)throw this.error(this.ERRORS.EMPTY_HEADERS)},getDatasetInfo:function(){return{name:this._basepath.split("/").pop()}},getCached:function(){return d},load:function(){var t=this,e=this._basepath,n=this._lastModified,i=d[e+n],r=this.keySize;return i||(d[e+n]=new Promise(function(n,i){h.d3text(e,function(a,s){if(a)return a.name=t.ERRORS.FILE_NOT_FOUND,a.message="No permissions, missing or empty file: "+e,a.endpoint=e,i(a);try{var o=t.delimiter,l=void 0===o?t._guessDelimiter(s):o,c=d3.dsvFormat(l),u=c.parse(s,function(t){return Object.keys(t).every(function(e){return!t[e]})?null:t}),h=u.columns;t.hasNameColumn&&h.splice(r+1,0,h.splice(0,1)[0]);n({columns:h,rows:u})}catch(t){return i(t)}})}))},getAsset:function(t){var e=this,n=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],this.assetsPath+t);return new Promise(function(t,i){h.d3json(n,function(r,a){if(r)return r.name=e.ERRORS.FILE_NOT_FOUND,r.message="No permissions, missing or empty file: "+n,r.endpoint=n,i(r);t(a)})})},_guessDelimiter:function(t){var e=this._getRows(t.replace(/"[^\r]*?"/g,""),2);if(2!==e.length)throw this.error(this.ERRORS.NOT_ENOUGH_ROWS_IN_FILE);var n=a(e,2),i=n[0],r=n[1],s=this._countCharsInLine(i,","),o=this._countCharsInLine(i,";"),l=this._countCharsInLine(r,","),c=this._countCharsInLine(r,";");if(this._checkDelimiters(s,l,o,c))return",";if(this._checkDelimiters(o,c,s,l))return";";throw this.error(this.ERRORS.UNDEFINED_DELIMITER)},_checkDelimiters:function(t,e,n,i){return t===e&&t>1&&(n!==i||!n&&!i||t>n&&e>i)},_getRows:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=/([^\r\n]+)/g,i=[],r=0,a=!0;a&&r!==e;)(a=n.exec(t))&&a.length>1&&(++r,i.push(a[1]));return i},_countCharsInLine:function(t,e){var n=new RegExp(e,"g"),i=t.match(n);return i?i.length:0},_createParseStrategy:function(t){var e=this;return function(n){if(!new RegExp("[^-\\d"+t+"]").test(n)&&n){var i=(0,o.default)(n,t);return isFinite(i)&&!isNaN(i)||(e._isParseSuccessful=!1),i}return n}},_mapRows:function(t,e,n){var i=this._getRowMapper(e,n);this._failedParseStrategies=0;var r=!0,a=!1,s=void 0;try{for(var o,l=this._parseStrategies[Symbol.iterator]();!(r=(o=l.next()).done);r=!0){var c=o.value;this._parse=c,this._isParseSuccessful=!0;var u=[],h=!0,d=!1,f=void 0;try{for(var p,v=t[Symbol.iterator]();!(h=(p=v.next()).done);h=!0){var g=p.value,m=i(g);if(!this._isParseSuccessful){this._failedParseStrategies++;break}u.push(m)}}catch(t){d=!0,f=t}finally{try{!h&&v.return&&v.return()}finally{if(d)throw f}}if(this._isParseSuccessful){if(this._failedParseStrategies===this._parseStrategies.length-1)throw this.error(this.ERRORS.DIFFERENT_SEPARATORS);return u}}}catch(t){a=!0,s=t}finally{try{!r&&l.return&&l.return()}finally{if(a)throw s}}},_onLoadError:function(t){var e=this._basepath,n=this._lastModified;delete d[e+n],this._super(t)},versionInfo:{version:"0.34.1",build:1537556334486}});e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(i),a=n(78),s=function(t){return t&&t.__esModule?t:{default:t}}(a),o={TEXT_PARAMS:{TOP:11,LEFT:10,MAX_WIDTH:42,MAX_HEIGHT:16},THUMB_STROKE_WIDTH:4},l={small:{minRadiusPx:.5,maxRadiusEm:.05},medium:{minRadiusPx:1,maxRadiusEm:.05},large:{minRadiusPx:1,maxRadiusEm:.05}},c=s.default.extend({init:function(t,e){this.name="bubblesize";var n=r.extend({},o);this.options=r.extend(n,this.options||{});var i=r.extend({},l);this.profiles=r.extend(i,this.profiles||{}),this.model_expects=[{name:"submodel",type:"size"},{name:"locale",type:"locale"}];this.changeHandler=this.changeHandler.bind(this),this.readyHandler=this.readyHandler.bind(this),this.model_binds={"change:submodel.domainMin":this.changeHandler,"change:submodel.domainMax":this.changeHandler},this._setModel=r.throttle(this._setModel,50),this._super(t,e)},changeHandler:function(t,e){var n=this.model.submodel.extent||[this.options.EXTENT_MIN,this.options.EXTENT_MAX];this._updateLabels(n),this._super(t,e)},readyHandler:function(t){this._super(t),this.sizeScaleMinMax=this.model.submodel.getScale().domain(),this._setLabelsText()},readyOnce:function(){var t=this;this._super(),this.showArcs=!1!==t.model.submodel.showArcs,this.padding.bottom=this.options.BAR_WIDTH+this.options.TEXT_PARAMS.MAX_HEIGHT,t.showArcs&&this.sliderEl.selectAll(".vzb-bs-slider-thumb-arc").data([0,0]).enter().append("path").attr("class","vzb-bs-slider-thumb-arc"),this.sliderArcsEl=this.sliderEl.selectAll(".vzb-bs-slider-thumb-arc"),this.sliderLabelsWrapperEl=this.sliderEl.append("g"),this.sliderLabelsWrapperEl.selectAll("text").data([0,0]).enter().append("text").attr("class","vzb-bs-slider-thumb-label").attr("text-anchor",function(t,e){return e?"start":"end"}).attr("dy",function(t,e){return e?"-0.7em":"1.4em"}),this.sliderLabelsEl=this.sliderEl.selectAll("text.vzb-bs-slider-thumb-label"),this.sizeScaleMinMax=this.model.submodel.getScale().domain(),this.sizeScaleMinMax&&this._setLabelsText()},ready:function(){this._super(),this._updateLabels()},getMinMaxBubbleRadius:function(){var t=this.root.getVizWidthHeight(),e=r.hypotenuse(t.width,t.height),n=this.profiles[this.getLayoutProfile()].minRadiusPx,i=this.profiles[this.getLayoutProfile()].maxRadiusEm*e;return n>i&&(i=n),{min:n,max:i}},_updateSize:function(){var t=this;this._super(),this.sliderLabelsWrapperEl.attr("transform",this.isRTL?"scale(-1,1)":null),this.sliderLabelsEl.attr("text-anchor",function(e,n){return(t.isRTL?!n:n)?"start":"end"})},_resize:function(){var t=this.getMinMaxBubbleRadius(),e=this.element.node().offsetWidth-2*t.max;this.padding.top=t.max+this.options.BAR_WIDTH,this.padding.left=.5*e,this.padding.right=.5*e,this.rescaler.range([2*t.min,2*t.max]),this._super()},_getComponentWidth:function(){return 2*this.getMinMaxBubbleRadius().max},_updateThumbs:function(t){this._updateArcs(t),this._updateLabels(t)},_updateArcs:function(t){if(this.showArcs){var e=this,n=d3.arc().outerRadius(function(t){return.5*e.rescaler(t)}).innerRadius(function(t){return.5*e.rescaler(t)}).startAngle(.5*-Math.PI).endAngle(.5*Math.PI);this.sliderArcsEl.data(t).attr("d",n).attr("transform",function(t){return"translate("+.5*e.rescaler(t)+",0)"})}},_updateLabels:function(t){var e=this,n=this;t&&this.sliderLabelsEl.data(t),this.sliderLabelsEl.attr("transform",function(t,i){var r={v:e.options.TEXT_PARAMS.TOP,h:e.options.TEXT_PARAMS.LEFT},a=r.h*(i?.5:-1)+n.rescaler(t);return"translate("+(n.isRTL?-1:1)*a+",0)"})},_setLabelsText:function(){var t=this,e=[t.model.submodel.getTickFormatter()(t.sizeScaleMinMax[0]),t.model.submodel.getTickFormatter()(t.sizeScaleMinMax[1])];t.sliderLabelsEl.text(function(t,n){return e[n]})}});e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(i),a=n(78),s=function(t){return t&&t.__esModule?t:{default:t}}(a),o={},l={small:{minLabelTextSize:7,maxLabelTextSize:21,defaultLabelTextSize:12},medium:{minLabelTextSize:7,maxLabelTextSize:30,defaultLabelTextSize:15},large:{minLabelTextSize:6,maxLabelTextSize:48,defaultLabelTextSize:20}},c=s.default.extend({init:function(t,e){this.name="sizeslider";var n=r.extend({},o);this.options=r.extend(n,this.options||{});var i=r.extend({},l);this.profiles=r.extend(i,this.profiles||{}),this.propertyName=t.propertyname,this.model_expects=[{name:"submodel",type:"size"},{name:"locale",type:"locale"}];this.changeHandler=this.changeHandler.bind(this),this.readyHandler=this.readyHandler.bind(this),this.model_binds={"change:submodel.domainMin":this.changeHandler,"change:submodel.domainMax":this.changeHandler},this._setModel=r.throttle(this._setModel,50),this._super(t,e)},changeHandler:function(t,e){var n=this.model.submodel.extent||[this.options.EXTENT_MIN,this.options.EXTENT_MAX];this._updateLabels(n),this._super(t,e)},readyHandler:function(t){this.modelUse=this.model.submodel.use;var e=this.model.submodel.extent||[this.options.EXTENT_MIN,this.options.EXTENT_MAX];if("constant"!=this.modelUse)this.sizeScaleMinMax=this.model.submodel.getScale().domain(),this.sliderEl.selectAll(".w").classed("vzb-hidden",!1),this.sliderEl.select(".selection").classed("vzb-hidden",!1),this.sliderEl.select(".overlay").classed("vzb-pointerevents-none",!1),this._setLabelsText();else if(this.sliderEl.selectAll(".w").classed("vzb-hidden",!0),this.sliderEl.select(".selection").classed("vzb-hidden",!0),this.sliderEl.select(".overlay").classed("vzb-pointerevents-none",!0),!this.model.submodel.which){var n=this.propertyActiveProfile;e[1]=(n.default-n.min)/(n.max-n.min),this.model.submodel.which="_default"}this._moveBrush(e)},readyOnce:function(){this._super();var t=this.options,e=t.BAR_WIDTH;this.propertyActiveProfile=this.getPropertyActiveProfile(),this.propertyScale=d3.scaleLinear().domain([t.EXTENT_MIN,t.EXTENT_MAX]).range([this.propertyActiveProfile.min,this.propertyActiveProfile.max]).clamp(!0),this.padding.top=this.propertyActiveProfile.max+1.25*e,this.translator=this.model.locale.getTFunction(),this.sliderLabelsWrapperEl=this.sliderEl.append("g"),this.sliderLabelsWrapperEl.selectAll("text").data([0,0]).enter().append("text").attr("class",function(t,e){return"vzb-szs-slider-thumb-label "+(e?"e":"w")}).attr("dy",1.25*-e+"px"),this.sliderLabelsEl=this.sliderEl.selectAll("text.vzb-szs-slider-thumb-label"),this.sizeScaleMinMax=this.model.submodel.getScale().domain(),this.sizeScaleMinMax&&this._setLabelsText(),this.model._ready&&this.readyHandler()},ready:function(){this._super(),this._updateLabels()},getPropertyActiveProfile:function(){var t=this.profiles[this.getLayoutProfile()];return{min:t["min"+this.propertyName],max:t["max"+this.propertyName],default:t["default"+this.propertyName]}},_updateSize:function(){var t=this;this._super(),this.sliderLabelsWrapperEl.attr("transform",this.isRTL?"scale(-1,1)":null),this.sliderLabelsEl.attr("text-anchor",function(e,n){return(t.isRTL?n:!n)?"start":"end"})},_resize:function(){this.propertyActiveProfile=this.getPropertyActiveProfile(),this.propertyScale.range([this.propertyActiveProfile.min,this.propertyActiveProfile.max]),this.padding.top=this.propertyActiveProfile.max+1.25*this.options.BAR_WIDTH,this._super()},_updateThumbs:function(t){this._updateLabels(t)},_updateLabels:function(t){var e=this;t&&this.sliderLabelsEl.data(t),this.sliderLabelsEl.attr("transform",function(t,n){var i=e.rescaler(n);return"translate("+(e.isRTL?-1:1)*i+",0)"}).attr("font-size",function(t,n){return e.propertyScale(t)}),"constant"===e.model.submodel.use&&this.sliderLabelsEl.text(function(t){return~~e.propertyScale(t)+(e.translator(e.ui.constantUnit)||"")})},_setLabelsText:function(){var t=this,e=[t.model.submodel.getTickFormatter()(t.sizeScaleMinMax[0]),t.model.submodel.getTickFormatter()(t.sizeScaleMinMax[1])];t.sliderLabelsEl.text(function(t,n){return e[n]})}});e.default=c},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(){return!!window&&(void 0!==window.document.webkitIsFullScreen?window.document.webkitIsFullScreen:void 0!==window.document.mozFullScreen?window.document.mozFullScreen:void 0!==window.document.msFullscreenElement&&window.document.msFullscreenElement)}function a(t){r()||(o.call(this),this.resizeInExitHandler?this.root.ui.resizeHandler():t())}function s(t){if(window){var e=window.document;this.exitFullscreenHandler=a.bind(this,t),e.addEventListener("webkitfullscreenchange",this.exitFullscreenHandler,!1),e.addEventListener("mozfullscreenchange",this.exitFullscreenHandler,!1),e.addEventListener("fullscreenchange",this.exitFullscreenHandler,!1),e.addEventListener("MSFullscreenChange",this.exitFullscreenHandler,!1)}}function o(){var t=window.document;t.removeEventListener("webkitfullscreenchange",this.exitFullscreenHandler),t.removeEventListener("mozfullscreenchange",this.exitFullscreenHandler),t.removeEventListener("fullscreenchange",this.exitFullscreenHandler),t.removeEventListener("MSFullscreenChange",this.exitFullscreenHandler)}function l(t){t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen&&u()&&t.webkitRequestFullscreen()}function c(){document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&u()?document.webkitExitFullscreen():(o.call(this),this.resizeInExitHandler=!1)}function u(){return!(navigator.vendor&&navigator.vendor.indexOf("Apple")>-1&&navigator.userAgent&&!navigator.userAgent.match("CriOS"))}Object.defineProperty(e,"__esModule",{value:!0});var h=n(1),d=i(h),f=n(6),p=function(t){return t&&t.__esModule?t:{default:t}}(f),v=n(21),g=i(v),m=p.default.extend({init:function(t,e){var n=this;this.name=this.name||"gapminder-buttonlist",this.model_expects=[{name:"state",type:"model"},{name:"ui",type:"ui"},{name:"locale",type:"locale"}],this._available_buttons={find:{title:"buttons/find",icon:"search",required:!1},show:{title:"buttons/show",icon:"asterisk",required:!1},moreoptions:{title:"buttons/more_options",icon:"gear",required:!0},colors:{title:"buttons/colors",icon:"paintbrush",required:!1},mapcolors:{title:"buttons/mapcolors",icon:"paintbrush",required:!1},size:{title:"buttons/size",icon:"circle",required:!1},zoom:{title:"buttons/zoom",icon:"cursorPlus",required:!1},fullscreen:{title:"buttons/expand",icon:"expand",func:this.toggleFullScreen.bind(this),required:!0},trails:{title:"buttons/trails",icon:"trails",func:this.toggleBubbleTrails.bind(this),required:!1,statebind:"ui.chart.trails",statebindfunc:this.setBubbleTrails.bind(this)},lock:{title:"buttons/lock",icon:"lock",func:this.toggleBubbleLock.bind(this),required:!1,statebind:"ui.chart.lockNonSelected",statebindfunc:this.setBubbleLock.bind(this)},inpercent:{title:"buttons/inpercent",icon:"percent",func:this.toggleInpercent.bind(this),required:!1,statebind:"ui.chart.inpercent",statebindfunc:this.setInpercent.bind(this)},presentation:{title:"buttons/presentation",icon:"presentation",func:this.togglePresentationMode.bind(this),required:!1,statebind:"ui.presentation",statebindfunc:this.setPresentationMode.bind(this)},about:{title:"buttons/about",icon:"about",required:!1},axes:{title:"buttons/axes",icon:"axes",required:!1},axesmc:{title:"buttons/axesmc",icon:"axes",required:!1},stack:{title:"buttons/stack",icon:"stack",required:!1},side:{title:"buttons/side",icon:"side",required:!1},_default:{title:"Button",icon:"asterisk",required:!1}},this._active_comp=!1,this.model_binds={"change:state.marker.select":function(t){n._readyOnce&&(n.setBubbleTrails(),n.setBubbleLock(),n._toggleButtons())},"change:ui.chart":function(t,e){n._readyOnce&&(e.indexOf("lockActive")>-1||e.indexOf("lockUnavailable")>-1)&&n.setBubbleLock()}},t.ui.buttons.forEach(function(t){var e=n._available_buttons[t];e&&e.statebind&&(n.model_binds["change:"+e.statebind]=function(i){n._readyOnce&&e.statebindfunc(t,i.source.value)})}),this._super(t,e),this.validatePopupButtons(this.model.ui.buttons,this.model.ui.dialogs)},readyOnce:function(){var t=this;this.element=d3.select(this.placeholder),this.element.selectAll("div").remove(),this.root.findChildByName("gapminder-dialogs").on("close",function(e,n){t.setButtonActive(n.id,!1)});var e=(this.model.ui.dialogs||{}).sidebar||[],n=[].concat(this.model.ui.buttons);this.model.ui.buttons=n,this._addButtons(n,e),this._prev_body_overflow=document.body.style.overflow,this.setBubbleTrails(),this.setBubbleLock(),this.setInpercent(),this.setPresentationMode(),this._toggleButtons()},proceedClick:function(t){var e=this,n=e.element.selectAll(".vzb-buttonlist-btn[data-btn='"+t+"']"),i=n.attr("class"),r=e._available_buttons[t];if(r&&r.func)r.func(t);else{var a=-1===i.indexOf("vzb-active");n.classed("vzb-active",a);var s={};s.id=t,s.active=a,e.trigger("click",s)}},validatePopupButtons:function(t,e){for(var n=this,i=e.popup,r=t.filter(function(t){return n._available_buttons[t]&&!n._available_buttons[t].func}),a=0,s=r.length;a<s;a++)if(-1==i.indexOf(r[a]))return d.error('Buttonlist: bad buttons config: "'+r[a]+'" is missing in popups list');return!1},_showAllButtons:function(){this.element.selectAll(".vzb-buttonlist-btn").each(function(t,e){d3.select(this).style("display","")})},_toggleButtons:function(){var t=this,e=this.parent.element.node?this.parent.element:d3.select(this.parent.element),n=(this.model.ui.dialogs||{}).sidebar||[];t._showAllButtons();var i=this.element.selectAll(".vzb-buttonlist-btn"),r=(this.element.node().getBoundingClientRect(),[]),a=[],s=80,o=80,l=this.element.node().getBoundingClientRect().width,c=this.element.node().getBoundingClientRect().height,u=0,h=0;i.each(function(e,i){var l=e,c=d3.select(this),d=-1!==n.indexOf(l.id),f={top:parseInt(c.style("margin-top")),right:parseInt(c.style("margin-right")),left:parseInt(c.style("margin-left")),bottom:parseInt(c.style("margin-bottom"))};s=c.node().getBoundingClientRect().width+f.right+f.left,o=c.node().getBoundingClientRect().height+f.top+f.bottom,c.classed("vzb-hidden")||(d&&"large"===t.getLayoutProfile()?c.style("display","none"):(u+=s,h+=o,l.required?a.push(c):r.push(c)))});var d=u-l,f=h-c,p=1;e.classed("vzb-large")&&e.classed("vzb-dialog-expand-true")||e.classed("vzb-small")&&e.classed("vzb-portrait")?(d>0&&d<=10&&(l+=d),(p=Math.floor(l/s)-a.length)<0&&(p=0)):(f>0&&f<=10&&(c+=f),(p=Math.floor(c/o)-a.length)<0&&(p=0)),r.reverse();for(var v=[],g=0,m=r.length-p;g<m;g++)r[g].style("display","none"),v.push(r[g].attr("data-btn"));var b={};b.hiddenButtons=v,t.trigger("toggle",b)},_addButtons:function(t,e){var n=this;this._components_config=[];var i=[];if(t.length){for(var r=0;r<t.length;r++){var a=t[r],s=this._available_buttons[a],o=s?a:"_default",l=d.clone(this._available_buttons[o]);"_default"==o&&(l.title="buttons/"+a),l.id=a,l.icon=g[l.icon],i.push(l)}var c=this.getTranslationFunction(!0);this.element.selectAll("button").data(i).enter().append("button").attr("class",function(t){var n="vzb-buttonlist-btn";return e.length>0&&e.indexOf(t.id)>-1&&(n+=" vzb-dialog-side-btn"),n}).attr("data-btn",function(t){return t.id}).html(function(t){return"<span class='vzb-buttonlist-btn-icon fa'>"+t.icon+"</span><span class='vzb-buttonlist-btn-title'>"+c(t.title)+"</span>"});this.element.selectAll(".vzb-buttonlist-btn").on("click",function(){d3.event.preventDefault(),d3.event.stopPropagation();var t=d3.select(this).attr("data-btn");n.proceedClick(t)})}},scrollToEnd:function(){var t=0,e=d3.select(".vzb-tool");e.classed("vzb-portrait")&&e.classed("vzb-small")?(this.model.state.marker.select.length>0&&(t=this.element.node().scrollWidth),this.element.node().scrollLeft=t):(this.model.state.marker.select.length>0&&(t=this.element.node().scrollHeight),this.element.node().scrollTop=t)},resize:function(){if(!this.element.selectAll)return d.warn("buttonlist resize() aborted because element is not yet defined");"small"===this.getLayoutProfile()&&this.model.ui.presentation&&this.togglePresentationMode(),this._toggleButtons()},setButtonActive:function(t,e){this.element.selectAll(".vzb-buttonlist-btn[data-btn='"+t+"']").classed("vzb-active",e)},toggleBubbleTrails:function(){this.model.ui.chart.trails=!this.model.ui.chart.trails,this.setBubbleTrails()},setBubbleTrails:function(){var t=(this.model.ui.chart||{}).trails;if(t||!1===t){var e=this.element.selectAll(".vzb-buttonlist-btn[data-btn='trails']");if(!e.node())return d.warn("setBubbleTrails: no button 'trails' found in DOM. doing nothing");e.classed("vzb-active-locked",t),e.classed("vzb-hidden",0==this.model.state.marker.select.length)}},toggleBubbleLock:function(t){var e=(this.model.ui.chart||{}).lockActive;if(0!=this.model.state.marker.select.length||e){var n=this.model.ui.chart.lockNonSelected,i=this.model.state.time;n=n?0:i.formatDate(i.value),this.model.ui.chart.lockNonSelected=n,this.setBubbleLock()}},setBubbleLock:function(){var t=(this.model.ui.chart||{}).lockNonSelected,e=(this.model.ui.chart||{}).lockActive,n=(this.model.ui.chart||{}).lockUnavailable||!1;if(t||0===t){0===t||0!==this.model.state.marker.select.length||e||(t=this.model.ui.chart.lockNonSelected=0);var i=this.element.selectAll(".vzb-buttonlist-btn[data-btn='lock']");if(!i.node())return d.warn("setBubbleLock: no button 'lock' found in DOM. doing nothing");var r=this.model.locale.getTFunction();i.classed("vzb-unavailable",n),void 0===e?i.classed("vzb-hidden",0==this.model.state.marker.select.length):i.classed("vzb-hidden",!e),i.classed("vzb-active-locked",t),i.select(".vzb-buttonlist-btn-icon").html(g[t?"lock":"unlock"]),i.select(".vzb-buttonlist-btn-title>span").text(t||r("buttons/lock")).attr("data-vzb-translate",t?null:"buttons/lock")}},toggleInpercent:function(){this.model.ui.chart.inpercent=!this.model.ui.chart.inpercent,this.setInpercent()},setInpercent:function(){if(void 0!==(this.model.ui.chart||{}).inpercent){this.model.locale.getTFunction();this.element.selectAll(".vzb-buttonlist-btn[data-btn='inpercent']").classed("vzb-active-locked",this.model.ui.chart.inpercent)}},togglePresentationMode:function(){this.model.ui.presentation=!this.model.ui.presentation,this.setPresentationMode()},setPresentationMode:function(){this.model.locale.getTFunction();this.element.selectAll(".vzb-buttonlist-btn[data-btn='presentation']").classed("vzb-active-locked",this.model.ui.presentation)},toggleFullScreen:function(t,e){if(window){for(var n=this,i=n.placeholder,r=this.element.selectAll(".vzb-buttonlist-btn[data-btn='"+t+"']"),a=!this.model.ui.fullscreen,o=a?"hidden":this._prev_body_overflow;!d.hasClass(i,"vzb-placeholder");)n=n.parent,i=n.placeholder;a?(this.resizeInExitHandler=!1,l(i),s.call(this,this.toggleFullScreen.bind(this,t,!0))):(this.resizeInExitHandler=!e,c.call(this)),d.classed(i,"vzb-force-fullscreen",a),"undefined"!=typeof container&&d.classed(container,"vzb-container-fullscreen",a),this.model.ui.fullscreen=a;var u=this.model.locale.getTFunction();r.classed("vzb-active-locked",a),r.select(".vzb-buttonlist-btn-icon").html(g[a?"unexpand":"expand"]),r.select(".vzb-buttonlist-btn-title>span").text(u("buttons/"+(a?"unexpand":"expand"))).attr("data-vzb-translate","buttons/"+(a?"unexpand":"expand")),document.body.style.overflow=o,this.resizeInExitHandler||this.root.ui.resizeHandler()}}});e.default=m},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),a=(i(r),n(162)),s=function(t){return t&&t.__esModule?t:{default:t}}(a),o=n(21),l=(i(o),s.default.extend({init:function(t,e){this.name="gapminder-optionsbuttonlist",this._super(t,e)},readyOnce:function(){var t=this;Object.keys(this._available_buttons).forEach(function(e){var n=t._available_buttons[e];n.required=!n.required}),this.buttonListComp=this.root.findChildByName("gapminder-buttonlist"),this.buttonListComp.on("click",function(e,n){t.element.selectAll(".vzb-buttonlist-btn[data-btn='"+n.id+"']").classed("vzb-active",n.active)}),this.buttonListComp.on("toggle",function(e,n){var i=0;t.element.selectAll(".vzb-buttonlist-btn").each(function(t){var e=d3.select(this),r=-1==n.hiddenButtons.indexOf(t.id);e.style("display",r?"none":""),r||i++})}),this._super()},proceedClick:function(t){var e=this;this.buttonListComp.proceedClick(t),this.element.selectAll(".vzb-buttonlist-btn[data-btn='"+t+"']").datum().func&&setTimeout(function(){e.root.findChildByName("gapminder-dialogs").closeAllDialogs()},200)},_toggleButtons:function(){}}));e.default=l},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){var n=[],i=!0,r=!1,a=void 0;try{for(var s,o=t[Symbol.iterator]();!(i=(s=o.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,a=t}finally{try{!i&&o.return&&o.return()}finally{if(r)throw a}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=n(1),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(s),l=n(6),c=i(l),u=n(165),h=i(u),d=n(111),f=i(d),p=n(21),v=c.default.extend({init:function(t,e){var n=this;this.template='<div class="vzb-cl-outer"></div>',this.name="colorlegend",this.model_expects=[{name:"time",type:"time"},{name:"entities",type:"entities"},{name:"marker",type:"marker"},{name:"color",type:"color"},{name:"locale",type:"locale"},{name:"ui",type:"ui"}],this.model_binds={"change:color.scaleType":function(t,e){n._readyOnce&&!n.colorModel.isDiscrete()&&n.updateView()},"change:color.palette":function(t,e){!n._readyOnce||n.colorModel.isDiscrete()&&!n.frame||n.updateView()},"change:marker.highlight":function(t,e){n.colorModel.isDiscrete()&&n.model.marker.getFrame(n.model.time.value,function(t){if(t){var e=n.model.marker.getHighlighted(n.KEY);n.updateGroupsOpacity(e.map(function(e){return t[n.colorModel._name][e]}))}else n.updateGroupsOpacity()})},"change:time.start":function(t,e){n._readyOnce&&!n.model.time.splash&&n.colorModel.which==n.model.time.dim&&n.ready()},"change:time.end":function(t,e){n._readyOnce&&!n.model.time.splash&&n.colorModel.which==n.model.time.dim&&n.ready()},"translate:locale":function(){n._translateSelectDialog(n.model.locale.getTFunction()),n.colorPicker.translate(n.model.locale.getTFunction())}},this._super(t,e)},readyOnce:function(){var t=this;this.element=d3.select(this.element),d3.select(this.placeholder.parentNode).classed("vzb-dialog-scrollable",!0),this.colorModel=this.model.color,this.colorlegendMarker=this.colorModel.getColorlegendMarker(),this.colorlegendMarker&&this.colorlegendMarker.on("ready",function(){t.ready()}),this.listColorsEl=this.element.append("div").attr("class","vzb-cl-holder").append("div").attr("class","vzb-cl-colorlist"),this.rainbowEl=this.listColorsEl.append("div").attr("class","vzb-cl-rainbow"),this.rainbowCanvasEl=this.rainbowEl.append("canvas"),this.minimapEl=this.listColorsEl.append("div").attr("class","vzb-cl-minimap"),this.rainbowLegendEl=this.listColorsEl.append("div").attr("class","vzb-cl-rainbow-legend"),this.rainbowLegendSVG=this.rainbowLegendEl.append("svg"),this.rainbowLegendG=this.rainbowLegendSVG.append("g"),this.rainbowLegend=null,this.labelScaleEl=this.listColorsEl.append("div").attr("class","vzb-cl-labelscale"),this.labelScaleSVG=this.labelScaleEl.append("svg"),this.labelScaleG=this.labelScaleSVG.append("g"),this.subtitleDiv=this.listColorsEl.append("div").attr("class","vzb-cl-subtitle"),this.subtitleText=this.subtitleDiv.append("span").attr("class","vzb-cl-subtitle-text"),this.minimapSVG=this.minimapEl.append("svg"),this.minimapG=this.minimapSVG.append("g"),this.colorPicker=new h.default(o.isArray(this.root.element)?this.root.element:d3.select(this.root.element)),this.colorPicker.translate(this.model.locale.getTFunction()),this._initSelectDialog()},_initSelectDialog:function(){this.moreOptionsHint=this.listColorsEl.append("span").classed("vzb-cl-more-hint vzb-hidden",!0),this.selectDialog=this.listColorsEl.append("div").classed("vzb-cl-select-dialog vzb-hidden",!0),this._initSelectDialogItems(),this._translateSelectDialog(this.model.locale.getTFunction())},_initSelectDialogItems:function(){var t=this;this.selectDialogTitle=this.selectDialog.append("div").classed("vzb-cl-select-dialog-title",!0),this.selectDialog.append("div").classed("vzb-cl-select-dialog-close",!0).html(p.close).on("click",function(){return t._closeSelectDialog()}),this.selectAllButton=this.selectDialog.append("div").classed("vzb-cl-select-dialog-item",!0),this.removeElseButton=this.selectDialog.append("div").classed("vzb-cl-select-dialog-item",!0),this.editColorButton=this.selectDialog.append("div").classed("vzb-cl-select-dialog-item vzb-cl-select-dialog-item-moreoptions",!0),this.editColorButtonTooltip=this.editColorButton.append("div").classed("vzb-cl-select-dialog-item-tooltip",!0)},_translateSelectDialog:function(t){this.moreOptionsHint.text(t("hints/color/more")),this.selectAllButton.text("✅ "+t("dialogs/color/select-all")),this.removeElseButton.text("🗑️ "+t("dialogs/color/remove-else")),this.editColorButton.text("🎨 "+t("dialogs/color/edit-color")),this.editColorButtonTooltip.text("Dataset author doesn't want you to change this")},_closeSelectDialog:function(){this.selectDialog.classed("vzb-hidden",!0)},_bindSelectDialogItems:function(){for(var t=this,e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];var s=a(n,3),o=s[1],l=s[2];this.selectDialogTitle.text(l[o].textContent),this.selectAllButton.on("click",function(){var e;(e=t._interact()).clickToSelect.apply(e,r(n)),t._closeSelectDialog()}),this.removeElseButton.on("click",function(){var e;(e=t._interact()).clickToShow.apply(e,r(n)),t._closeSelectDialog()}),this.editColorButton.on("click",function(){var e;(e=t._interact()).clickToChangeColor.apply(e,r(n)),t._closeSelectDialog()})},ready:function(){var t=this;if(this.KEYS=o.unique(this.model.marker._getAllDimensions({exceptType:"time"})),this.KEY=this.KEYS.join(","),this.colorlegendDim=this.KEY,this.canShowMap=!1,this.colorModel.isDiscrete()&&"constant"!==this.colorModel.use&&this.colorlegendMarker){if(!this.colorlegendMarker._ready)return;return this.markerKeys=t.model.marker.getKeys(),this.KEY=t.colorModel.getDataKeys()[0],this.colorlegendDim=this.colorModel.getColorlegendEntities().getDimension(),void this.colorlegendMarker.getFrame(this.model.time.value,function(e){if(!e)return o.warn("colorlegend received empty frame in ready()");t.frame=e,t.canShowMap=o.keys((t.frame||{}).hook_geoshape||{}).length,t.colorlegendKeys=t.colorlegendMarker.getKeys(t.colorlegendDim),t.colorlegendKeys.forEach(function(e){((t.frame||{}).hook_geoshape||{})[e[t.colorlegendDim]]||(t.canShowMap=!1)}),t.updateView(),t.updateGroupsOpacity()})}t.updateView(),t.updateGroupsOpacity()},updateView:function(){var t=this;if(!this.element.selectAll)return o.warn("colorlegend resize() aborted because element is not yet defined");var e=this,n=this.KEY,i=this.colorModel.getPalette(),r=this.canShowMap,a=this.colorlegendKeys||[],s=this.listColorsEl.selectAll(".vzb-cl-option"),l=r||"_default"==this.colorModel.which||this.colorlegendMarker&&this.colorlegendDim==this.KEY&&a.length>10&&o.comparePlainObjects(this.colorModel.getColorlegendEntities().getFilter(),this.model.entities.getFilter());s.classed("vzb-hidden",l),this._updateSelectDialog(),this.rainbowEl.classed("vzb-hidden",this.colorModel.isDiscrete()),this.labelScaleEl.classed("vzb-hidden",this.colorModel.isDiscrete()),this.rainbowLegendEl.classed("vzb-hidden",this.colorModel.isDiscrete()),this.minimapEl.classed("vzb-hidden",!r||!this.colorModel.isDiscrete()),this.subtitleDiv.classed("vzb-hidden",!0);var c=this.colorModel.getScale();if(this.colorModel.isDiscrete())if(r){var u=this.minimapEl.append("div").attr("class","vzb-temp");this.minimapSVG.attr("viewBox",null),this.minimapSVG.selectAll("g").remove(),this.minimapG=this.minimapSVG.append("g"),this.minimapG.selectAll("path").data(a,function(t){return t[e.colorlegendDim]}).enter().append("path").on("mouseover",e._interact().mouseover).on("mouseout",e._interact().mouseout).on("click",function(){t._bindSelectDialogItems.apply(t,arguments),t.selectDialog.classed("vzb-hidden",!1)}).each(function(t){var n=e.frame.hook_geoshape[t[e.colorlegendDim]].trim();"<svg"==n.slice(0,4)&&(u.html(n),n=u.select("svg").select("path").attr("d")),d3.select(this).attr("d",n).style("fill",c(t[e.colorlegendDim])).append("title").text(e.frame.label[t[e.colorlegendDim]]),u.html("")});var h=this.minimapG.node().getBBox();this.minimapSVG.attr("viewBox","0 0 "+1.05*h.width+" "+1.05*h.height),u.remove()}else s="_default"==this.colorModel.which?s.data([]):s.data(l?[]:a.length?e.colorlegendDim==n?o.unique(e.markerKeys,function(t){return t[n]}):a:Object.keys(this.colorModel.getPalette()).map(function(t){var n={};return n[e.colorlegendDim]=t,n}),function(t){return t[e.colorlegendDim]}),s.exit().remove(),s=s.enter().append("div").attr("class","vzb-cl-option").each(function(){var t=this;d3.select(this).append("div").attr("class","vzb-cl-color-sample").on("click",function(){t._bindSelectDialogItems.apply(t,arguments),t.selectDialog.classed("vzb-hidden",!1)}),d3.select(this).append("div").attr("class","vzb-cl-color-legend")}).on("mouseover",e._interact().mouseover).on("mouseout",e._interact().mouseout).on("click",function(){t._bindSelectDialogItems.apply(t,arguments),t.selectDialog.classed("vzb-hidden",!1)}).merge(s),s.each(function(t,n){d3.select(this).select(".vzb-cl-color-sample").style("background-color",c(t[e.colorlegendDim])).style("border","1px solid "+c(t[e.colorlegendDim]));var i=e.colorlegendMarker?e.frame.label[t[e.colorlegendDim]]:null;i||0===i||(i=t[e.colorlegendDim]),d3.select(this).select(".vzb-cl-color-legend").text(i)});else{var d=this.rainbowEl.node().getBoundingClientRect().width,p=Object.keys(i).map(parseFloat),v=void 0,g=void 0,m=this.colorModel.getTickFormatter(),b=null,y=this.colorModel.paletteLabels;if(y){b="optimistic",v=y.map(function(t){return parseFloat(t)});var _=d3.max(v);g=v.map(function(t){return t/_*d})}else{v=c.domain();var M=d3.max(p);g=p.map(function(t){return t/M*d})}var w=d3.min(v)<=0&&d3.max(v)>=0&&"log"===this.colorModel.scaleType?"genericLog":this.colorModel.scaleType,x=d3["scale"+o.capitalize("time"===w?"linear":w)]().domain(v).range(g),S=parseInt(this.rainbowEl.style("left"),10)||0,z=parseInt(this.rainbowEl.style("right"),10)||S;this.labelScaleSVG.style("width",S+d+z+"px"),this.labelScaleG.attr("transform","translate("+S+",0)"),this.rainbowLegendSVG.style("width",S+d+z+"px"),this.rainbowLegendG.attr("transform","translate("+S+", 7)");var O=(0,f.default)("bottom");O.scale(x).tickSizeOuter(0).tickPadding(6).tickSizeMinor(3,0).labelerOptions({scaleType:this.colorModel.scaleType,toolMargin:{right:z,left:S},showOuter:!0,formatter:m,bump:S,cssFontSize:"11px",fitIntoScale:b}),this.labelScaleG.call(O);var E=c.range(),k=g.map(function(t,e){return{val:t,color:E[e],paletteKey:p[e]}});this.rainbowLegend=this.rainbowLegendG.selectAll("circle").data(k),this.rainbowLegend.exit().remove(),this.rainbowLegend=this.rainbowLegend.enter().append("circle").attr("r","6px").attr("stroke","#000").on("click",e._interact().clickToChangeColor).merge(this.rainbowLegend),this.rainbowLegend.each(function(t,e){d3.select(this).attr("fill",t.color),d3.select(this).attr("cx",t.val)}),this.rainbowCanvasEl.attr("width",d).attr("height",1).style("width",d+"px").style("height","100%");for(var T,P=this.rainbowCanvasEl.node().getContext("2d"),C=P.createImageData(d,1),D=0,A=-1;D<d;++D)T=d3.rgb(c(x.invert(D))),C.data[++A]=T.r,C.data[++A]=T.g,C.data[++A]=T.b,C.data[++A]=255;P.putImageData(C,0,0);var L=this.colorModel.getConceptprops(),I=o.getSubtitle(L.name,L.name_short);this.subtitleDiv.classed("vzb-hidden",""==I),this.subtitleText.text(I),s.classed("vzb-hidden",!0)}},_updateSelectDialog:function(){var t=this.colorModel.isUserSelectable();this.editColorButtonTooltip.classed("vzb-hidden",t),this.editColorButton.classed("vzb-cl-select-dialog-item-disabled",!t),this.selectDialog.classed("vzb-hidden",!0)},_highlight:function(t){o.getProp(this,["model","ui","chart","superhighlightOnMinimapHover"])?this.model.marker.setSuperHighlight(t):this.model.marker.setHighlight(t)},_unhighlight:function(){o.getProp(this,["model","ui","chart","superhighlightOnMinimapHover"])?this.model.marker.clearSuperHighlighted():this.model.marker.clearHighlighted()},_interact:function(){var t=this,e=this.KEYS,n=this.KEY,i=this.colorlegendDim;return{mouseover:function(e,r){if(t.moreOptionsHint.classed("vzb-hidden",!1),t.colorModel.isDiscrete()){var a=(d3.select(this),e[i]),s=t.colorModel.getValidItems().filter(function(e){return e[t.colorModel.which]==a}).reduce(function(t,e){return t[e[n]]=!0,t},{});t._highlight(t.markerKeys.filter(function(t){return s[t[n]]}))}},mouseout:function(e,n){t.moreOptionsHint.classed("vzb-hidden",!0),t.colorModel.isDiscrete()&&t._unhighlight()},clickToChangeColor:function(e,n){if(t.colorModel.isUserSelectable()){var r=t.colorModel.getPalette(),a=t.colorModel.getDefaultPalette(),s=(d3.select(this),t.colorModel.isDiscrete()?e[i]:e.paletteKey);t.colorPicker.colorOld(r[s]).colorDef(a[s]).callback(function(e,n){return t.colorModel.setColor(e,s,n)}).fitToScreen([d3.event.pageX,d3.event.pageY]).show(!0)}},clickToShow:function(e,n){if(t.colorModel.isDiscrete()){var r=(d3.select(this),e[i],t.model.entities.show[i]&&t.model.entities.show[i].$in?o.clone(t.model.entities.show[i].$in):[]),a=r.indexOf(e[i]);-1!==a?r.splice(a,1):r.push(e[i]);var s={};r.length>0&&(s[i]={$in:r}),t.model.entities.set({show:s})}},clickToSelect:function(r,a){if(t.colorModel.isDiscrete()){var s=(d3.select(this),r[i]),l=t.colorModel.getValidItems().filter(function(e){return e[t.colorModel.which]==s}).reduce(function(t,e){return t[e[n]]=!0,t},{}),c=t.markerKeys.filter(function(t){return l[t[n]]}).map(function(t){return o.clone(t,e)});c.filter(function(e){return t.model.marker.isSelected(e)}).length==c.length?t.model.marker.clearSelected():t.model.marker.setSelect(c)}}}},resize:function(){this.frame&&this.updateView(),this.colorPicker.resize(d3.select(".vzb-colorpicker-svg"))},updateGroupsOpacity:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=this,n=this.colorModel.getColorlegendMarker()||{},i=n.opacityRegular||.8,r=n.opacityHighlightDim||.5,a=e.canShowMap?".vzb-cl-minimap path":".vzb-cl-option .vzb-cl-color-sample";this.listColorsEl.selectAll(a).style("opacity",function(n){return t.length?t.indexOf(n[e.colorlegendDim])>-1?1:r:i})}});e.default=v},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(1),s={INVISIBLE:"vzb-invisible",COLOR_POINTER:"vzb-colorpicker-pointer",COLOR_BUTTON:"vzb-colorpicker-cell",COLOR_DEFAULT:"vzb-colorpicker-default",COLOR_SAMPLE:"vzb-colorpicker-sample",COLOR_PICKER:"vzb-colorpicker-svg",COLOR_CIRCLE:"vzb-colorpicker-circle",COLOR_CIRCLES:"vzb-colorpicker-circles",COLOR_SEGMENT:"vzb-colorpicker-segment",COLOR_BACKGR:"vzb-colorpicker-background"},o=function(){function t(e){i(this,t),this._container=e,this._wrapper=this._container.select("."+s.COLOR_PICKER),this._init()}return r(t,[{key:"_init",value:function(){this._initVariables(),this._initCircles(),this._style(),this.resize(this._svg)}},{key:"_initVariables",value:function(){this._maxWidth=280,this._maxHeight=323,this._colorOld="#000",this._colorDef="#000",this._colorWhite="#f8f8f8",this._margin={top:.1,bottom:.1,left:.1,right:.1},this._initSvg();var t=getComputedStyle(this._svg.node()),e=t.width,n=t.height;this._width=this.constructor.px2num(e),this._height=this.constructor.px2num(n),this._maxRadius=this._width/2*(1-this._margin.left-this._margin.right),this._nCellsH=15,this._minH=0,this._nCellsL=4,this._minL=.5,this._satConstant=.7,this._outerL_display=.4,this._outerL_meaning=.3,this._firstAngleSat=0,this._minRadius=15,this._arc=d3.arc(),this._pie=d3.pie().sort(null).value(function(t){return 1}),this._colorPointer=null,this._showColorPicker=!1,this._sampleRect=null,this._sampleText=null,this._callback=function(t){return console.info("Color picker callback example. Setting color to "+t)},this._colorData=this._generateColorData()}},{key:"_generateColorData",value:function(){for(var t=this._minL,e=this._minH,n=this._nCellsL,i=this._nCellsH,r=this._firstAngleSat,a=this._satConstant,s=this._outerL_display,o=this._outerL_meaning,l=[],c=0;c<n;c++){var u=t+(1-t)/n*c;l.push([]);for(var h=0;h<=i;h++){var d=e+(1-e)/i*h;l[c].push({display:this.constructor.hsl2rgb(d,0===h?r:a,0===c?s:u),meaning:this.constructor.hsl2rgb(d,0===h?r:a,0===c?o:u)})}}return l}},{key:"_initSvg",value:function(){var t=this;this._wrapper=this._container.append("div").style("position","absolute").style("top","0").style("left","0").style("width","100%").style("max-width",this._maxWidth+"px").style("height","100%").style("max-height",this._maxHeight+"px").style("z-index",9999).attr("class",s.COLOR_PICKER+" vzb-dialog-shadow").classed(s.INVISIBLE,!this._showColorPicker).on("mouseout",function(){return t._cellHover(t._colorOld)}),this._svg=this._wrapper.append("svg").style("width","100%").style("height","100%")}},{key:"_initCircles",value:function(){var t=this,e=this._svg,n=this._maxHeight,i=this._width,r=this._height,a=this._margin,o=this._colorData,l=this._nCellsL,c=this._minRadius,u=this._maxRadius,h=this._colorWhite;e.append("rect").attr("width",i).attr("height",n).attr("class",s.COLOR_BACKGR).on("mouseover",function(){return t._cellHover(t._colorOld)}).on("click",function(){d3.event.stopPropagation(),t._changeColor(t._colorOld),t.show(!1)});var d=u+i*a.left,f=u+r*a.top,p=e.append("g").attr("class",s.COLOR_CIRCLES).attr("transform","translate("+d+", "+f+")");e.append("rect").attr("class",s.COLOR_SAMPLE).attr("width",i/2).attr("height",r*a.top/2),this._sampleRect=e.append("rect").attr("class",s.COLOR_SAMPLE).attr("width",i/2).attr("x",i/2).attr("height",r*a.top/2),e.append("text").attr("x",i*a.left).attr("y",r*a.top/2).attr("dy","1.3em").attr("class",s.COLOR_SAMPLE).style("text-anchor","start"),this._sampleText=e.append("text").attr("x",i*(1-a.right)).attr("y",r*a.top/2).attr("dy","1.3em").attr("class",s.COLOR_SAMPLE).style("text-anchor","end"),e.append("text").attr("x",.1*i).attr("y",r*(1-a.bottom)).attr("dy","1.2em").attr("class","vzb-default-label").style("text-anchor","start").text("default"),e.append("circle").attr("class",s.COLOR_DEFAULT+" "+s.COLOR_BUTTON).attr("r",i*a.left/2).attr("cx",i*a.left*1.5).attr("cy",r*(1-1.5*a.bottom)).on("mouseover",function(){d3.select(this).style("stroke","#444"),v._cellHover(v._colorDef)}).on("mouseout",function(){d3.select(this).style("stroke","none")});var v=this;p.selectAll("."+s.COLOR_CIRCLE).data(o).enter().append("g").attr("class",s.COLOR_CIRCLE).each(function(t,e){v._arc.outerRadius(c+(u-c)/l*(l-e)).innerRadius(c+(u-c)/l*(l-e-1)),d3.select(this).selectAll("."+s.COLOR_SEGMENT).data(v._pie(t)).enter().append("g").attr("class",s.COLOR_SEGMENT).append("path").attr("class",s.COLOR_BUTTON).attr("d",v._arc).style("fill",function(t){return t.data.display}).style("stroke",function(t){return t.data.display}).on("mouseover",function(t){v._cellHover(t.data.meaning,this)}).on("mouseout",function(){return v._cellUnhover()})}),p.append("circle").attr("r",c).attr("fill",h).attr("class",s.COLOR_BUTTON).on("mouseover",function(){d3.select(this).style("stroke","#555"),v._cellHover(h)}).on("mouseout",function(){d3.select(this).style("stroke","none")}),this._colorPointer=p.append("path").attr("class",s.COLOR_POINTER+" "+s.INVISIBLE),e.selectAll("."+s.COLOR_BUTTON).on("click",function(e){d3.event.stopPropagation(),t._changeColor(e?e.data.meaning:t._colorDef,!0),t.show(!1)})}},{key:"_style",value:function(){var t=this._svg,e=this._colorWhite;t.select("."+s.COLOR_BACKGR).style("fill","white"),t.select("."+s.COLOR_POINTER).style("stroke-width",2).style("stroke",e).style("pointer-events","none").style("fill","none"),t.selectAll("."+s.COLOR_BUTTON).style("cursor","pointer"),t.selectAll("text").style("pointer-events","none").style("fill","#D9D9D9").style("font-size","0.7em").style("text-transform","uppercase"),t.selectAll("circle."+s.COLOR_BUTTON).style("stroke-width",2),t.selectAll("rect."+s.COLOR_SAMPLE).style("pointer-events","none")}},{key:"_cellHover",value:function(t,e){null!=e&&this._colorPointer.classed(s.INVISIBLE,!1).attr("d",d3.select(e).attr("d")),this._sampleRect.style("fill",t),this._sampleText.text(t);var n=(0,a.isTouchDevice)();this._changeColor(t,n),n&&this.show(!1)}},{key:"_changeColor",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._callback(t,e)}},{key:"_cellUnhover",value:function(){this._colorPointer.classed(s.INVISIBLE,!0)}},{key:"resize",value:function(t){if(arguments.length){if(void 0!==t){var e=this._margin,n=t,i=getComputedStyle(n.node()),r=i.width,a=i.height,o=this.constructor.px2num(r),l=this.constructor.px2num(a),c=o/2*(1-e.left-e.right),u=n.select("."+s.COLOR_DEFAULT),h=n.select(".vzb-default-label"),d=n.select("."+s.COLOR_CIRCLES),f=c+l*e.top,p=(1+.5*e.top)*l*.5,v=c+o*e.left,g=f>p?p:f;d.attr("transform","translate("+v+", "+g+")"),u.attr("cx",o*e.left*1.5).attr("cy",l*(1-1.5*e.bottom)),h.attr("x",.1*o).attr("y",l*(1-e.bottom))}return this.fitToScreen()}}},{key:"fitToScreen",value:function(t){var e=this._container.node().getBoundingClientRect(),n=void 0,i=void 0,r=getComputedStyle(this._wrapper.node()),a=r.width,s=r.height,o=r.right,l=r.top,c=this.constructor.px2num(a),u=this.constructor.px2num(s);t?(n=t[0]-e.left,i=t[1]-e.top):(n=e.width-this.constructor.px2num(o)-c,i=this.constructor.px2num(l));var h={left:""};return.8*e.width<=c?h.right=.5*(e.width-c)+"px":n+c>e.width?h.right=Math.min(.1*e.width,20)+"px":h.right=e.width-n-c+"px",h.right&&this._wrapper.style("right",h.right),.8*e.height<=u?h.top=.5*(e.height-u)+"px":i+1.2*u>e.height?h.top=.9*e.height-u+"px":h.top=i+"px",h.top&&this._wrapper.style("top",h.top),this._wrapper.style("left",h.left),this}},{key:"show",value:function(t){if(!arguments.length)return this._showColorPicker;null==this._svg&&console.warn("Color picker is missing SVG element. Was init sequence performed?"),this._showColorPicker="toggle"==t?!this._showColorPicker:t,this._showColorPicker||(this._callback=function(){}),this._wrapper.classed(s.INVISIBLE,!this._showColorPicker)}},{key:"_getOrSet",value:function(t,e){return t="_"+t,arguments.length>1?(this[t]=e,this):this[t]}},{key:"nCellsH",value:function(){return this._getOrSet.apply(this,["nCellsH"].concat(Array.prototype.slice.call(arguments)))}},{key:"minH",value:function(){return this._getOrSet.apply(this,["minH"].concat(Array.prototype.slice.call(arguments)))}},{key:"nCellsL",value:function(){return this._getOrSet.apply(this,["nCellsL"].concat(Array.prototype.slice.call(arguments)))}},{key:"minL",value:function(){return this._getOrSet.apply(this,["minL"].concat(Array.prototype.slice.call(arguments)))}},{key:"outerL_display",value:function(){return this._getOrSet.apply(this,["outerL_display"].concat(Array.prototype.slice.call(arguments)))}},{key:"outerL_meaning",value:function(){return this._getOrSet.apply(this,["outerL_meaning"].concat(Array.prototype.slice.call(arguments)))}},{key:"satConstant",value:function(){return this._getOrSet.apply(this,["satConstant"].concat(Array.prototype.slice.call(arguments)))}},{key:"firstAngleSat",value:function(){return this._getOrSet.apply(this,["firstAngleSat"].concat(Array.prototype.slice.call(arguments)))}},{key:"minRadius",value:function(){return this._getOrSet.apply(this,["minRadius"].concat(Array.prototype.slice.call(arguments)))}},{key:"margin",value:function(){return this._getOrSet.apply(this,["margin"].concat(Array.prototype.slice.call(arguments)))}},{key:"callback",value:function(){return this._getOrSet.apply(this,["callback"].concat(Array.prototype.slice.call(arguments)))}},{key:"colorDef",value:function(t){return arguments.length?(void 0!==t&&(this._colorDef=t),null==this._svg&&console.warn("Color picker is missing SVG element. Was init sequence performed?"),this._svg.select("."+s.COLOR_DEFAULT).style("fill",this._colorDef),this):this._colorDef}},{key:"translate",value:function(t){return"function"==typeof t&&this._svg.select(".vzb-default-label").text(t("colorpicker/default")),this}},{key:"colorOld",value:function(t){return arguments.length?(this._colorOld=t,null==this._svg&&console.warn("Color picker is missing SVG element. Was init sequence performed?"),this._svg.select("rect."+s.COLOR_SAMPLE).style("fill",this._colorOld),this._svg.select("text."+s.COLOR_SAMPLE).text(this._colorOld),this):this._colorOld}}],[{key:"hsl2rgb",value:function(t,e,n){var i=void 0,r=void 0,a=void 0;if(0==e)i=r=a=n;else{var s=n<.5?n*(1+e):n+e-n*e,o=2*n-s;i=this.hue2rgb(o,s,t+1/3),r=this.hue2rgb(o,s,t),a=this.hue2rgb(o,s,t-1/3)}return"#"+Math.round(255*i).toString(16)+Math.round(255*r).toString(16)+Math.round(255*a).toString(16)}},{key:"hue2rgb",value:function(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}},{key:"px2num",value:function(t){return parseFloat(t)||0}}]),t}();e.default=o},function(t,e){t.exports='<div class="vzb-show-list vzb-accordion">\n  \x3c!-- list will be placed here --\x3e\n</div>\n'},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),a=(function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);e.default=t}(r),n(12)),s=i(a),o=n(110),l=i(o),c=n(147),u=(i(c),n(108)),h=i(u),d=s.default.extend("about",{init:function(t,e){this.name="about",this._super(t,e)},readyOnce:function(){var t=l.default.version,e=new Date(parseInt(l.default.build));this.element=d3.select(this.element),this.element.select(".vzb-about-text0").html("This chart is made with Vizabi,"),this.element.select(".vzb-about-text1").html("a project by <a href='http://gapminder.org' target='_blank'>Gapminder Foundation</a>"),this.element.select(".vzb-about-version").html("<a href='https://github.com/Gapminder/vizabi/releases/tag/v"+t+"' target='_blank'>Version: "+t+"</a>"),this.element.select(".vzb-about-updated").html("Build: "+d3.time.format("%Y-%m-%d at %H:%M")(e)),this.element.select(".vzb-about-report").html("<a href='https://getsatisfaction.com/gapminder/' target='_blank'>Report a problem</a>"),this.element.select(".vzb-about-credits").html("<a href='https://github.com/Gapminder/vizabi/graphs/contributors' target='_blank'>Contributors</a>");var n=h.default,i={},r=this.root.versionInfo;i.version=r?r.version:"N/A",i.build=r?d3.time.format("%Y-%m-%d at %H:%M")(new Date(parseInt(r.build))):"N/A",i.name=this.root.name;var a=this.element.select(".vzb-about-tool");a.html(""),a.append("p").text("Tool: "+i.name),a.append("p").text("-version: "+i.version),a.append("p").text("-build: "+i.build);var s=n.instances.map(function(t){var e={},n=t.readerObject.versionInfo;return e.version=n?n.version:"N/A",e.build=n?d3.time.format("%Y-%m-%d at %H:%M")(new Date(parseInt(n.build))):"N/A",e.name=t.readerObject._name,e}),o=this.element.select(".vzb-about-readers").selectAll(".vzb-about-reader").data(s);o.exit().remove(),o=o.enter().append("p").attr("class","vzb-about-reader"),o.append("p").text(function(t){return t.name}),o.append("p").text(function(t){return"-version: "+t.version}),o.append("p").text(function(t){return"-build: "+t.build});var c=n.instances.map(function(t){return t.getDatasetName()}),u=this.element.select(".vzb-about-datasets").selectAll(".vzb-about-dataset").data(c);u.exit().remove(),u=u.enter().append("p").attr("class","vzb-about-dataset"),u.append("p").text(function(t){return t})}});e.default=d},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),a=(function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);e.default=t}(r),n(6)),s=(i(a),n(12)),o=i(s),l=n(50),c=i(l),u=n(169),h=i(u),d=o.default.extend("axes",{init:function(t,e){this.name="axes";this.components=[{component:c.default,placeholder:".vzb-xaxis-selector",model:["state.time","state.marker.axis_x","locale"]},{component:h.default,placeholder:".vzb-xaxis-minmax",model:["state.marker","state.time","locale"],markerID:"axis_x",ui:{selectDomainMinMax:!1,selectZoomedMinMax:!0}},{component:c.default,placeholder:".vzb-yaxis-selector",model:["state.time","state.marker.axis_y","locale"]},{component:h.default,placeholder:".vzb-yaxis-minmax",model:["state.marker","state.time","locale"],markerID:"axis_y",ui:{selectDomainMinMax:!1,selectZoomedMinMax:!0}}],this._super(t,e)}});e.default=d},function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(r),s=n(6),o=function(t){return t&&t.__esModule?t:{default:t}}(s),l=o.default.extend({init:function(t,e){var r,s=this;this.name="gapminder-minmaxinputs",this.template=n(421),this.model_expects=[{name:"marker",type:"marker"},{name:"time",type:"time"},{name:"locale",type:"locale"}],this.markerID=t.markerID,t.markerID||a.warn("minmaxinputs.js complains on 'markerID' property: "+t.markerID),this.model_binds=(r={"translate:locale":function(){s.updateView()}},i(r,"change:marker."+this.markerID,function(){s.updateView()}),i(r,"ready",function(){s.updateView()}),r),this._super(t,e),this.ui=a.extend({selectDomainMinMax:!1,selectZoomedMinMax:!1},this.ui.getPlainObject())},ready:function(){this.updateView()},readyOnce:function(){var t=this;this.element=d3.select(this.element),this.el_domain_labelMin=this.element.select(".vzb-mmi-domainmin-label"),this.el_domain_labelMax=this.element.select(".vzb-mmi-domainmax-label"),this.el_domain_fieldMin=this.element.select(".vzb-mmi-domainmin"),this.el_domain_fieldMax=this.element.select(".vzb-mmi-domainmax"),this.el_break=this.element.select(".vzb-mmi-break"),this.el_zoomed_labelMin=this.element.select(".vzb-mmi-zoomedmin-label"),this.el_zoomed_labelMax=this.element.select(".vzb-mmi-zoomedmax-label"),this.el_zoomed_fieldMin=this.element.select(".vzb-mmi-zoomedmin"),this.el_zoomed_fieldMax=this.element.select(".vzb-mmi-zoomedmax"),t.el_domain_fieldMin.on("change",function(){t._setModel("domainMin",this.value)}),t.el_domain_fieldMax.on("change",function(){t._setModel("domainMax",this.value)}),t.el_zoomed_fieldMin.on("change",function(){t._setModel("zoomedMin",this.value)}),t.el_zoomed_fieldMax.on("change",function(){t._setModel("zoomedMax",this.value)}),this.element.selectAll("input").on("keypress",function(){13==d3.event.which&&document.activeElement.blur()})},updateView:function(){var t=this;this.translator=this.model.locale.getTFunction(),this.el_domain_labelMin.text(this.translator("hints/min")+":"),this.el_domain_labelMax.text(this.translator("hints/max")+":"),this.el_zoomed_labelMin.text(this.translator("hints/min")+":"),this.el_zoomed_labelMax.text(this.translator("hints/max")+":"),this.el_domain_labelMin.classed("vzb-hidden",!this.ui.selectDomainMinMax),this.el_domain_labelMax.classed("vzb-hidden",!this.ui.selectDomainMinMax),this.el_domain_fieldMin.classed("vzb-hidden",!this.ui.selectDomainMinMax),this.el_domain_fieldMax.classed("vzb-hidden",!this.ui.selectDomainMinMax),this.el_break.classed("vzb-hidden",!(this.ui.selectDomainMinMax&&this.ui.selectZoomedMinMax)),this.el_zoomed_labelMin.classed("vzb-hidden",!this.ui.selectZoomedMinMax),this.el_zoomed_labelMax.classed("vzb-hidden",!this.ui.selectZoomedMinMax),this.el_zoomed_fieldMin.classed("vzb-hidden",!this.ui.selectZoomedMinMax),this.el_zoomed_fieldMax.classed("vzb-hidden",!this.ui.selectZoomedMinMax);var e=function(e){return e||0===e?a.isDate(e)?t.model.time.formatDate(e):d3.format(".2r")(e):e},n=this.model.marker[this.markerID],i=n.getScale().domain();this.el_domain_fieldMin.property("value",e(d3.min(i))),this.el_domain_fieldMax.property("value",e(d3.max(i))),this.el_zoomed_fieldMin.property("value",e(n.getZoomedMin())),this.el_zoomed_fieldMax.property("value",e(n.getZoomedMax()))},_setModel:function(t,e){this.model.marker[this.markerID][t]=a.strToFloat(e)}});e.default=l},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),a=(function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);e.default=t}(r),n(6)),s=(i(a),n(12)),o=i(s),l=n(164),c=i(l),u=n(50),h=i(u),d=o.default.extend("colors",{init:function(t,e){this.name="colors",this.components=[{component:h.default,placeholder:".vzb-caxis-selector",model:["state.time","state.marker.color","locale"],showHoverValues:!0},{component:c.default,placeholder:".vzb-clegend-container",model:["state.time","state.entities","state.marker","state.marker.color","locale","ui"]}],this._super(t,e)}});e.default=d},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(12),a=i(r),s=n(1),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(s),l=n(6),c=i(l),u=c.default.extend({init:function(t,e){this.name="gapminder-dialogs",this._curr_dialog_index=20,this.model_expects=[{name:"state",type:"model"},{name:"ui",type:"ui"},{name:"locale",type:"locale"}];var n=a.default.getCollection();this._available_dialogs=Object.keys(n).reduce(function(t,e){var i=n[e];return i.prototype.isDialog&&!e.startsWith("_")&&(t[e]={dialog:i}),t},{}),this._super(t,e)},domReady:function(){var t=(this.model.ui.dialogs||{}).popup||[],e=(this.model.ui.dialogs||{}).sidebar||[];this.rootEl=this.root.element instanceof Array?this.root.element:d3.select(this.root.element),!0===e&&(e=t,(this.model.ui.dialogs||{}).sidebar=e),0!==e.length&&this.rootEl.classed("vzb-dialog-expand-true",!0),this.dialog_popup=t,this.dialog_sidebar=e},readyOnce:function(){var t=this;if(this.element=d3.select(this.placeholder),this.element.selectAll("div").remove(),o.isTouchDevice()&&this.element.classed("vzb-no-hover",!0),this._addDialogs(this.dialog_popup,this.dialog_sidebar),o.defer(function(){t.trigger("resize")}),0!==this.dialog_popup.length){this.root.findChildByName("gapminder-buttonlist").on("click",function(e,n){t._available_dialogs[n.id]&&(n.active?t.openDialog(n.id):t.closeDialog(n.id))});var e=this.element.selectAll(".vzb-top-dialog").filter(function(e){return t.dialog_popup.indexOf(e.id)>-1});e.select(".vzb-top-dialog>.vzb-dialog-modal>.vzb-dialog-buttons>[data-click='closeDialog']").on("click",function(e,n){t.closeDialog(e.id)});e.select(".vzb-top-dialog>.vzb-dialog-modal>[data-click='pinDialog']").on("click",function(e,n){t.pinDialog(e.id)}),this.rootEl.node().addEventListener("click",function(){t.closeAllDialogs()}),this.rootEl.on("mousedown",function(e){if(this._active_comp){for(var n=d3.event.target,i=!0;n;){if(n.classList.contains("vzb-dialog-modal")){i=!1;break}n=n.parentElement}i&&t.closeAllDialogs()}})}this.element.on("click",function(){d3.event.stopPropagation()})},resize:function(){if(!this.element.selectAll)return o.warn("dialogs resize() aborted because element is not yet defined");var t=this,e=this.getLayoutProfile();this.element.selectAll(".vzb-top-dialog").each(function(n){var i=d3.select(this),r=i.attr("class").replace(" vzb-popup","").replace(" vzb-sidebar","");"large"===e&&t.dialog_sidebar.indexOf(n.id)>-1?r+=" vzb-sidebar":t.dialog_popup.indexOf(n.id)>-1&&(r+=" vzb-popup"),i.attr("class",r)})},_addDialogs:function(t,e){var n=(this.getLayoutProfile(),[]);n=t?n.concat(t):n,n=e?n.concat(e):n,n=o.unique(n),this._components_config=[];var i=[];if(n.length){for(var r=0;r<n.length;r++){var a=n[r],s=this._available_dialogs[a];if(s&&s.dialog){var l=this._components_config;l.push({component:s.dialog,placeholder:'.vzb-dialogs-dialog[data-dlg="'+a+'"]',model:["state","ui","locale"]}),s.component=l.length-1}s.id=a,i.push(s)}this.element.selectAll("div").data(i).enter().append("div").attr("data-dlg",function(t){return t.id}).attr("class","vzb-top-dialog vzb-dialogs-dialog vzb-dialog-shadow"),this.loadSubComponents();var c=this;o.forEach(this.components,function(t){t.render(),c.on("resize",function(){t.trigger("resize")}),t.on("dragstart",function(){c.bringForward(t.name)}),t.on("close",function(){this.placeholderEl.each(function(t){var e={};e.id=t.id,c.trigger("close",e)})})})}},bringForward:function(t){this.element.select(".vzb-popup.vzb-dialogs-dialog[data-dlg='"+t+"']").style("z-index",this._curr_dialog_index),this._curr_dialog_index+=10},openDialog:function(t){var e="small"===this.getLayoutProfile();this.closeAllDialogs(e);var n=this.element.selectAll(".vzb-popup.vzb-dialogs-dialog[data-dlg='"+t+"']");this._active_comp=this.components[this._available_dialogs[t].component],this._active_comp.beforeOpen(),n.classed("vzb-active",!0),this.bringForward(t),this._active_comp.open()},pinDialog:function(t){var e=this.element.select(".vzb-popup.vzb-dialogs-dialog[data-dlg='"+t+"']");this._available_dialogs[t].ispin?(e.classed("pinned",!1),this._available_dialogs[t].ispin=!1):(e.classed("pinned",!0),this._available_dialogs[t].ispin=!0)},closeDialog:function(t){var e=this.element.selectAll(".vzb-popup.vzb-dialogs-dialog[data-dlg='"+t+"']");this._active_comp=this.components[this._available_dialogs[t].component],this._active_comp&&!this._active_comp.isOpen||(this._available_dialogs[t].ispin&&this.pinDialog(t),this._active_comp&&this._active_comp.beforeClose(),e.classed("vzb-active",!1),this._active_comp&&this._active_comp.close(),this._active_comp=!1)},closeAllDialogs:function(t){var e=this,n=t?".vzb-popup.vzb-dialogs-dialog.vzb-active":".vzb-popup.vzb-dialogs-dialog.vzb-active:not(.pinned)";this.element.selectAll(n).each(function(t){e.closeDialog(t.id)})}});e.default=u},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(r),s=n(12),o=i(s),l=n(112),c=i(l),u=n(59),h=i(u),d=n(50),f=i(d),p=o.default.extend("find",{init:function(t,e){this.name="find";var n=this;this.components=[{component:c.default,placeholder:".vzb-dialog-panel-show",model:["state","locale"]},{component:h.default,placeholder:".vzb-dialog-bubbleopacity",model:["state.marker","locale"],arg:"opacitySelectDim"}],this.enableSelectShowSwitch=((t.ui.dialogs.dialog||{}).find||{}).enableSelectShowSwitch||!1,this.panelMode=((t.ui.dialogs.dialog||{}).find||{}).panelMode||"find",this.enablePicker=((t.ui.dialogs.dialog||{}).find||{}).enablePicker,this.enablePicker&&this.components.push({component:f.default,placeholder:".vzb-find-filter-selector",model:["state.time","state.marker","locale"]}),this.model_binds={"change:state.marker.select":function(t){n.items.order(),n.selectDataPoints(),n.showHideButtons()},"change:state.time.playing":function(t){n.model.state.time.playing||(n.time=n.model.state.time.value,n.model.state.marker.getFrame(n.time,function(t,e){!t||n.time-e||n.redrawDataPoints(t)}))},"change:state.time.value":function(t){(n.placeholderEl.classed("vzb-active")||n.placeholderEl.classed("vzb-sidebar"))&&(n.time=n.model.state.time.value,n.model.state.marker.getFrame(n.time,function(t){t&&n.redrawDataPoints(t)}))},"change:ui.dialogs.dialog.find.enableSelectShowSwitch":function(e){n._readyOnce&&(n.enableSelectShowSwitch=((t.ui.dialogs.dialog||{}).find||{}).enableSelectShowSwitch||!1,n.element.select(".vzb-dialog-title-switch .vzb-switch-slider").classed("vzb-hidden",!n.enableSelectShowSwitch),n.element.select(".vzb-dialog-title-switch").style("pointer-events",n.enableSelectShowSwitch?"auto":"none"))},"translate:locale":function(){n._readyOnce&&n.input_search.attr("placeholder",n.translator("placeholder/search")+"...")}},this._super(t,e)},readyOnce:function(){this._super(),this.panelComps={find:this,show:this.findChildByName("show")},this.titleSwitch=this.element.select(".vzb-dialog-title-switch input"),this.panelsEl=this.contentEl.selectAll(".vzb-dialog-content"),this.list=this.element.select(".vzb-find-list"),this.input_search=this.element.select(".vzb-find-search"),this.deselect_all=this.element.select(".vzb-find-deselect"),this.opacity_nonselected=this.element.select(".vzb-dialog-bubbleopacity"),this.element.select(".vzb-dialog-title-switch .vzb-switch-slider").classed("vzb-hidden",!this.enableSelectShowSwitch),this.element.select(".vzb-dialog-title-switch").style("pointer-events",this.enableSelectShowSwitch?"auto":"none"),this.element.select(".vzb-find-filter-selector").classed("vzb-hidden",!this.enablePicker),this.element.select(".vzb-dialog-title").classed("vzb-title-two-rows",this.enablePicker),this.KEY=this.model.state.entities.getDimension();var t=this;this.titleSwitch.on("change",function(){t.panelMode=t.titleSwitch.property("checked")?"show":"find",t.panelsEl.classed("vzb-active",!1),t.contentEl.select(".vzb-dialog-panel-"+t.panelMode).classed("vzb-active",!0),t.panelComps[t.panelMode].showHideSearch(),t._buttonAdjust(),t.panelComps[t.panelMode].showHideButtons()}),this.titleSwitch.property("checked","find"!==this.panelMode),this.titleSwitch.dispatch("change"),this.input_search.on("keyup",function(){13==d3.event.keyCode&&"select all"==t.input_search.node().value&&(t.input_search.node().value="",a.isTouchDevice()||t.model.state.marker.clearHighlighted(),t.model.state.marker.selectAll())}),this.input_search.on("input",function(){t.panelComps[t.panelMode].showHideSearch()}),d3.select(this.input_search.node().parentNode).on("reset",function(){a.defer(function(){return t.panelComps[t.panelMode].showHideSearch()})}),this.deselect_all.on("click",function(){t.deselectMarkers()}),this.buttonsEl.select(".vzb-dialog-button[data-click='closeDialog']").on("click.panel",function(){return t.panelComps[t.panelMode].closeClick()}),this.translator=this.model.locale.getTFunction(),this.input_search.attr("placeholder",this.translator("placeholder/search")+"..."),this.root.on("ready",function(){t.ready()})},getPanelMode:function(){return this.panelMode},_buttonAdjust:function(){this.buttonsEl.selectAll(".vzb-dialog-buttons > :not([data-dialogtype])").classed("vzb-hidden",!0),this.buttonsEl.selectAll("[data-panel="+this.panelMode+"]").classed("vzb-hidden",!1)},open:function(){var t=this;this._super(),this.input_search.node().value="",this.showHideSearch(),this.time=this.model.state.time.value,this.model.state.marker.getFrame(this.time,function(e){e&&t.redrawDataPoints(e)})},ready:function(){this._super();var t=this;this.KEYS=a.unique(this.model.state.marker._getAllDimensions({exceptType:"time"}));this.importantHooks=t.model.state.marker.getImportantHooks(),this.time=this.model.state.time.value,this.model.state.marker.getFrame(this.time,function(e){if(e){var n=t.model.state.marker.getKeys().map(function(n){return n.brokenData=!1,n.name=t.model.state.marker.getCompoundLabelText(n,e),n});n.sort(function(t,e){return t.name<e.name?-1:1}),t.list.html(""),t.items=t.list.selectAll(".vzb-find-item").data(n).enter().append("div").attr("class","vzb-find-item vzb-dialog-checkbox"),t.items.append("input").attr("type","checkbox").attr("class","vzb-find-item").attr("id",function(e,n){return"-find-"+n+"-"+t._id}).on("change",function(e){a.isTouchDevice()||t.model.state.marker.clearHighlighted(),t.model.state.marker.selectMarker(e),a.isTouchDevice()||e.brokenData||t.model.state.marker.highlightMarker(e)}),t.items.append("label").attr("for",function(e,n){return"-find-"+n+"-"+t._id}).text(function(t){return t.name}).attr("title",function(t){return this.offsetWidth<this.scrollWidth?t.name:null}).on("mouseover",function(e){a.isTouchDevice()||e.brokenData||t.model.state.marker.highlightMarker(e)}).on("mouseout",function(e){a.isTouchDevice()||t.model.state.marker.clearHighlighted()}),a.preventAncestorScrolling(t.element.select(".vzb-dialog-scrollable")),t.redrawDataPoints(e),t.selectDataPoints(),t.showHideSearch(),t.showHideButtons()}})},redrawDataPoints:function(t){var e=this,n=this.KEYS;e.items.each(function(i){var r=d3.select(this).select("label");i.brokenData=!1,a.forEach(e.importantHooks,function(r){if("constant"!=e.model.state.marker[r].use){var s=t[r];if(s){var o=s[a.getKey(i,n)];return o||0===o?void 0:(i.brokenData=!0,!1)}}});var s=this.offsetWidth<this.scrollWidth?i.name:"";r.classed("vzb-find-item-brokendata",i.brokenData).attr("title",s+(i.brokenData?(s?" | ":"")+e.model.state.time.formatDate(e.time)+": "+e.translator("hints/nodata"):""))})},selectDataPoints:function(){var t=(this.KEY,this.model.state.marker);this.items.selectAll("input").property("checked",function(e){var n=t.isSelected(e);return d3.select(this.parentNode).classed("vzb-checked",n),n});var e=this.list.selectAll(".vzb-checked").classed("vzb-separator",!1).lower().nodes()[0];d3.select(e).classed("vzb-separator",!0),this.contentEl.node().scrollTop=0},showHideSearch:function(){if("find"===this.getPanelMode()){var t=this.input_search.node().value||"";t=t.toLowerCase(),this.list.selectAll(".vzb-find-item").classed("vzb-hidden",function(e){return-1===(e.name||"").toString().toLowerCase().indexOf(t)})}},showHideButtons:function(){if("find"===this.getPanelMode()){var t=!!this.model.state.marker.select.length;this.deselect_all.classed("vzb-hidden",!t),this.opacity_nonselected.classed("vzb-hidden",!t),t&&this.findChildByName("singlehandleslider").trigger("resize")}},deselectMarkers:function(){this.model.state.marker.clearSelected()},transitionEnd:function(t){this._super(t),a.isTouchDevice()||this.input_search.node().focus()},closeClick:function(){}});e.default=p},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),a=(function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);e.default=t}(r),n(6)),s=(i(a),n(12)),o=i(s),l=n(59),c=i(l),u=o.default.extend("grouping",{init:function(t,e){this.name="grouping",this.groupStops=[1,5,10,15],this.components=[{component:c.default,placeholder:".vzb-dialog-placeholder",model:["state.entities_age","locale"],arg:"grouping",properties:{snapValue:!0,suppressInput:!0,domain:this.groupStops}}],this._super(t,e)},readyOnce:function(){this._super(),this.element.select(".vzb-dialog-groups").selectAll(".vzb-dialog-groups-title").data(this.groupStops).enter().append("span").attr("class",".vzb-dialog-groups-title").text(function(t){return t})}});e.default=u},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),a=(function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);e.default=t}(r),n(6)),s=(i(a),n(12)),o=i(s),l=n(161),c=i(l),u=n(50),h=i(u),d=n(60),f=i(d),p=o.default.extend("label",{init:function(t,e){this.name="label",this.components=[{component:c.default,placeholder:".vzb-dialog-sizeslider",model:["state.marker.size_label","locale"],propertyname:"LabelTextSize",ui:{constantUnit:"unit/pixels"}},{component:h.default,placeholder:".vzb-saxis-selector",model:["state.time","state.marker.size_label","locale"],showHoverValues:!0},{component:f.default,placeholder:".vzb-removelabelbox-switch",model:["ui.chart","locale"],checkbox:"removeLabelBox",submodel:"labels"}],this._super(t,e)}});e.default=p},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(r),s=n(6),o=(i(s),n(12)),l=i(o),c=n(163),u=i(c),h=l.default.extend("moreoptions",{init:function(t,e){this.name="moreoptions",this.components=[{component:u.default,placeholder:".vzb-dialog-options-buttonlist",model:["state","ui","locale"]}],this._super(t,e)},readyOnce:function(){this._super();var t=this;this.accordionEl=this.contentEl.select(".vzb-accordion"),this.on("dragend",function(){t._setMaxHeight()});var e=(this.model.ui.dialogs||{}).popup||[],n=(this.model.ui.dialogs||{}).moreoptions||[];if(!0===n&&(n=e,(this.model.ui.dialogs||{}).moreoptions=n),this._addDialogs(n),this.accordionEl){this.accordionEl.selectAll(".vzb-accordion-section").select(".vzb-dialog-title>span:first-child").on("click",function(e){var n=(t.components[e.component].element,t.components[e.component].placeholderEl),i=t.accordionEl.select(".vzb-accordion-active");i&&i.classed("vzb-accordion-active",!1),n.node()!==i.node()&&(n.classed("vzb-accordion-active",!0),t.transitionEvents.forEach(function(i){n.on(i,function(){t.transitionEvents.forEach(function(t){n.on(t,null)}),t.components[e.component].trigger("resize")})}))})}},_addDialogs:function(t){this._components_config=[];var e=[];if(t.length){for(var n=0;n<t.length;n++)if("moreoptions"!==t[n]){var i=t[n],r=a.deepClone(this.parent._available_dialogs[i]);if(r&&r.dialog){var s=this._components_config;s.push({component:r.dialog,placeholder:'.vzb-dialogs-dialog[data-dlg="'+i+'"]',model:["state","ui","locale"]}),r.component=s.length-1,r.id=i,e.push(r)}}this.accordionEl.selectAll("div").data(e).enter().append("div").attr("class",function(t){return"vzb-dialogs-dialog vzb-moreoptions vzb-accordion-section"}).attr("data-dlg",function(t){return t.id}),this.loadSubComponents();var o=this;a.forEach(this.components,function(t){t.render(),o.on("resize",function(){t.trigger("resize")})})}}});e.default=h},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),a=(function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);e.default=t}(r),n(6)),s=(i(a),n(12)),o=i(s),l=n(59),c=i(l),u=o.default.extend("opacity",{init:function(t,e){this.name="opacity",this.components=[{component:c.default,placeholder:".vzb-dialog-bubbleopacity-regular",model:["state.marker","locale"],arg:"opacityRegular"},{component:c.default,placeholder:".vzb-dialog-bubbleopacity-selectdim",model:["state.marker","locale"],arg:"opacitySelectDim"}],this._super(t,e)}});e.default=u},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),a=(function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);e.default=t}(r),n(6)),s=(i(a),n(12)),o=i(s),l=n(60),c=i(l),u=o.default.extend("presentation",{init:function(t,e){this.name="presentation",this.components=[{component:c.default,placeholder:".vzb-presentationmode-switch",model:["ui","locale"],checkbox:"presentation"},{component:c.default,placeholder:".vzb-decorations-switch",model:["ui.chart.decorations","locale"],checkbox:"enabled"},{component:c.default,placeholder:".vzb-advancedshowandselect-switch",model:["ui.dialogs.dialog.find","locale"],checkbox:"enableSelectShowSwitch"}],this._super(t,e)}});e.default=u},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0});var a=n(1),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(a),o=n(6),l=(i(o),n(12)),c=i(l),u=n(50),h=i(u),d=n(60),f=(i(d),c.default.extend("side",{init:function(t,e){this.name="side";var n=this;this.model_binds={"change:ui.chart.flipSides":function(t){n._readyOnce&&(n.updateState(),n.redraw())}},this.components=[{component:h.default,placeholder:".vzb-side-selector",model:["state.time","state.marker.side","locale"],showHoverValues:!1}],this._super(t,e)},readyOnce:function(){this._super(),this.listLeft=this.element.select(".vzb-side-list-left"),this.listRight=this.element.select(".vzb-side-list-right"),this.switchSides=this.element.select(".vzb-side-switch-sides"),this.TIMEDIM=this.model.state.time.getDimension(),this.state={};var t=this;this.switchSides.on("click",function(){t.model.ui.chart.flipSides=!t.model.ui.chart.flipSides}),this.model.state.marker.side.getEntity().on("change:show",function(){t.updateState(),t.redraw()}),this.root.on("ready",function(){t.redraw()})},ready:function(){this._super();var t=this.model.state.marker.side.getEntity();if(this.KEY=t.getDimension(),this.labelNames=this.model.state.marker.getLabelHookNames(),"constant"!==this.model.state.marker.side.use&&!(t.show[this.KEY]||{}).$in){var e=this.model.state.marker.side.getUnique(this.model.state.marker.side.which).filter(function(t){return null!==t}),n=e.sort(d3.ascending).slice(0,2);if(n.length>0){var i=Object.assign({},t.show);i[this.KEY]={$in:n},t.set("show",i)}}this.updateState(),this.redraw(),s.preventAncestorScrolling(this.element.select(".vzb-dialog-scrollable"))},updateState:function(){var t=this,e=this.model.state.marker.side.getEntity().getDimension(),n=this.model.state.marker.side;if(this.state.right={},this.state.left={},n.state.left[e]&&n.state.right[e])this.state.left[e]=n.state.left[e],this.state.right[e]=n.state.right[e];else{var i=this.model.state.marker.getKeys(e),r=[],a=!!this.model.state.marker.side.getEntity().show[e];if(r=i.filter(function(e){return!a||t.model.state.marker.side.getEntity().isShown(e)}).map(function(t){return t[e]}),r.length>2&&(r.length=2),r.length>1){var s=this.ui.chart.flipSides?d3.ascending:d3.descending;r.sort(s)}this.state.right={},this.state.right[e]=r[0],this.state.left={},this.state.left[e]=r[1]?r[1]:r[0]}var o="constant"==this.model.state.marker.side.use;this.listLeft.classed("vzb-hidden",o),this.listRight.classed("vzb-hidden",o),this.switchSides.classed("vzb-hidden",o||this.state.left[e]==this.state.right[e])},redraw:function(){var t=this,e=this.labelNames,n=this.KEY;this.translator=this.model.locale.getTFunction(),t.model.state.marker.side.getEntity().dim&&this.model.state.marker.getFrame(this.model.state.time.value,function(i){if(i){var a=[],o=t.model.state.marker.side.getConceptprops();"entity_set"==o.concept_type?a.push.apply(a,r(t.model.state.marker.side.getEntity().getEntitySets("data")[o.concept][0].map(function(t){var e={};return e[n]=t[o.concept],e.label=t.name,e}))):s.forEach(i[e[n]],function(t,e){var i={};i[n]=e,i.label=t,a.push(i)}),a.sort(function(t,e){return t.label<e.label?-1:1}),t.listLeft.html(""),t.listRight.html(""),t.createList(t.listLeft,"left",a),t.createList(t.listRight,"right",a)}})},createList:function(t,e,n){var i=this,r=this.model.state.marker.side.getEntity().getDimension(),a=t.selectAll(".vzb-side-item").data(n).enter().append("div").attr("class","vzb-side-item vzb-dialog-radio");a.append("input").attr("type","radio").attr("name",e+"-"+i._id).attr("class","vzb-side-item").attr("id",function(t){return"-side-"+e+"-"+t[r]+"-"+i._id}).property("checked",function(t){return i.state[e][r]===t[r]}).on("change",function(t,n){var r=i.model.state.marker.side.getEntity(),a=r.getDimension(),s="left"==e?"right":"left",o=i.model.state.marker.side;o.state[e][a]=t[a],o.state[s][a]=i.state[s][a];var l=[];if(r.isShown(t)||l.push(t),t[a]===i.state[s][a]||r.isShown(i.state[s])||l.push(i.state[s]),i.state[e][a]!==i.state[s][a]&&r.isShown(i.state[e])&&l.push(i.state[e]),t[a]!==i.state[s][a]){var c=[t[a],i.state[s][a]],u=i.ui.chart.flipSides?d3.ascending:d3.descending;c.sort(u),c["left"==e?0:1]==t[a]&&(i.model.state.marker.side.switchSideState(),i.ui.chart.flipSides=!i.ui.chart.flipSides)}l.length&&r.showEntity(l)}),a.append("label").attr("for",function(t){return"-side-"+e+"-"+t[i.KEY]+"-"+i._id}).text(function(t){return t.label})}}));e.default=f},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(r),s=n(6),o=(i(s),n(12)),l=i(o),c=n(160),u=i(c),h=n(50),d=i(h),f=l.default.extend("size",{init:function(t,e){this.name="size";var n=this;this.model_binds={"change:state.marker.size.which":function(t){n._readyOnce&&n.updateSubtitle()},"translate:locale":function(){n._readyOnce&&n.updateSubtitle()}},this.components=[{component:d.default,placeholder:".vzb-saxis-selector",model:["state.time","state.marker.size","locale"],showHoverValues:!0}],t.ui.chart&&0===t.ui.chart.sizeSelectorActive||this.components.push({component:u.default,placeholder:".vzb-dialog-bubblesize",model:["state.marker.size","locale"],ui:{show_button:!1}}),this._super(t,e)},readyOnce:function(){this._super(),this.updateSubtitle()},updateSubtitle:function(){var t=this.model.state.marker.size.getConceptprops(),e=a.getSubtitle(t.name,t.name_short);this.element.select(".vzb-dialog-subtitle").text(e)}});e.default=f},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),a=(function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);e.default=t}(r),n(6)),s=(i(a),n(12)),o=i(s),l=n(59),c=i(l),u=o.default.extend("speed",{init:function(t,e){this.name="speed",this.components=[{component:c.default,placeholder:".vzb-dialog-placeholder",model:["state.time","locale"],arg:"delay",properties:{domain:[1200,900,450,200,150,100],roundDigits:0}}],this._super(t,e)}});e.default=u},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),a=(function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);e.default=t}(r),n(6)),s=(i(a),n(12)),o=i(s),l=n(182),c=i(l),u=o.default.extend("stack",{init:function(t,e){this.name="stack";var n=this;this.components=[{component:c.default,placeholder:".vzb-dialog-draggablelist",model:["state.marker.group","state.marker.color","locale","ui.chart"],groupID:"manualSorting",isEnabled:"manualSortingEnabled",dataArrFn:n.manualSorting.bind(n),lang:""}],this.model_binds={"change:state.marker.group":function(t){n._ready&&n.updateView()}},this._super(t,e)},readyOnce:function(){this._super();var t=this;this.group=this.model.state.marker.group,this.stack=this.model.state.marker.stack,this.howToStackEl=this.element.select(".vzb-howtostack").selectAll("input").on("change",function(){t.setModel("stack",d3.select(this).node().value)}),this.howToMergeEl=this.element.select(".vzb-howtomerge").selectAll("input").on("change",function(){t.setModel("merge",d3.select(this).node().value)}),this.updateView()},ready:function(){if(this._super(),!this.model.state.marker.color.isDiscrete()){if("property"==this.stack.use)return void this.setModel("stack","none");if(this.group.merge)return void this.setModel("merge","none")}this.updateView()},updateView:function(){var t=this;this.howToStackEl.property("checked",function(){return"none"===d3.select(this).node().value?"none"===t.stack.which:"bycolor"===d3.select(this).node().value?t.stack.which===t.model.state.marker.color.which:"all"===d3.select(this).node().value?"all"===t.stack.which:void 0}).attr("disabled",function(){return"none"===d3.select(this).node().value?null:"all"===d3.select(this).node().value?null:"bycolor"===d3.select(this).node().value?"property"!==t.model.state.marker.color.use||null:void 0}),t.model.ui.chart.manualSortingEnabled="all"==t.stack.which,this.howToMergeEl.property("checked",function(){return"none"===d3.select(this).node().value?!t.group.merge&&!t.stack.merge:"grouped"===d3.select(this).node().value?t.group.merge:"stacked"===d3.select(this).node().value?t.stack.merge:void 0}).attr("disabled",function(){return"none"===d3.select(this).node().value?null:"grouped"===d3.select(this).node().value?"none"===t.stack.which||"property"!==t.model.state.marker.color.use||null:"stacked"===d3.select(this).node().value?"all"!==t.stack.which||null:void 0})},manualSorting:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(0===arguments.length)return this.model.state.marker.group.manualSorting;this.model.state.marker.group.set({manualSorting:t},!1,e)},setModel:function(t,e){var n={stack:{},group:{}};if("merge"===t)switch(e){case"none":n.group.merge=!1,n.stack.merge=!1;break;case"grouped":n.group.merge=!0,n.stack.merge=!1;break;case"stacked":n.group.merge=!1,n.stack.merge=!0}if("stack"===t){switch(e){case"all":n.stack.use="constant",n.stack.which="all";break;case"none":n.stack.use="constant",n.stack.which="none";break;case"bycolor":n.stack.use="property",n.stack.which=this.model.state.marker.color.which,n.stack.spaceRef=this.model.state.marker.color.spaceRef}"none"===e&&this.group.merge&&(n.group.merge=!1),"all"!==e&&this.stack.merge&&(n.stack.merge=!1)}this.model.state.marker.set(n)}});e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(i),a=n(6),s=function(t){return t&&t.__esModule?t:{default:t}}(a),o=s.default.extend({init:function(t,e){this.template='<span class="vzb-dl-holder"><ul class="vzb-draggable list vzb-dialog-scrollable"></ul></span>';var n=this;this.name="draggableList",this.dataArrFn=t.dataArrFn,this.lang=t.lang,this.model_expects=[{name:"group",type:"model"},{name:"color",type:"color"},{name:"locale",type:"locale"},{name:"chart",type:"model"}],this.groupID=t.groupID,this.isEnabled=t.isEnabled,this.draggable=!0,t.groupID||r.warn("draggablelist.js complains on 'groupID' property: "+t.groupID),this.model_binds={"translate:locale":function(t){n.updateView()},"change:group.which":function(t){n.updateView()}},this.model_binds["change:group."+this.groupID]=function(t){n.updateView()},this.model_binds["change:chart."+this.isEnabled]=function(t){n.draggable=n.model.chart[n.isEnabled],n.updateView()},this._super(t,e),this.updateData=r.debounce(this.updateData,1e3),this.itemDragger=d3.drag().on("start",function(t,e){!n.dataUpdateFlag&&n.draggable&&(d3.event.sourceEvent.stopPropagation(),n.parentBoundRect=n.element.node().getBoundingClientRect(),n.element.selectAll("div").each(function(e,i){var r=this.getBoundingClientRect();e._y=r.top,e._top=0,t.data===e.data&&(e._height=r.height,n.selectedNode=this)}),d3.select(n.selectedNode).classed("dragged",!0))}).on("drag",function(t,e){if(!n.dataUpdateFlag&&n.draggable){t._top+=d3.event.dy;var i=t._y+t._top;i>n.parentBoundRect.top&&i+t._height<n.parentBoundRect.top+n.parentBoundRect.height&&n.itemsEl.style("top",function(n,r){var a=0;return r<e&&n._y+.5*t._height>i?a=t._height:r>e&&n._y-.5*t._height<i&&(a=-t._height),r!=e&&(n._top=a),n._top+"px"})}}).on("end",function(t,e){!n.dataUpdateFlag&&n.draggable&&n.getData()})},ready:function(){var t=this;this.updateView(),this.itemsEl=this.element.selectAll("div"),this.itemsEl.call(t.itemDragger);this.itemsEl.select("li").on("mouseover",function(){d3.select(this).classed("hover",!0)}).on("mouseout",function(){d3.select(this).classed("hover",!1)}).on("touchstart",function(){d3.event.preventDefault()})},updateView:function(){var t=this,e=t.model.color.getColorlegendMarker().label.getItems(),n=r.keys(e),i=n.slice().sort(),a=(this.dataArrFn()||[]).slice().sort();!1===r.arrayEquals(i,a)&&this.dataArrFn(n),this.items=this.element.selectAll("div").data(function(){return(t.dataArrFn()||[]).map(function(t){return{data:t}})}),this.items.exit().remove(),this.items=this.items.enter().append("div").each(function(){var t=d3.select(this).append("li");t.append("span").classed("label-circle",!0),t.append("span").classed("label-text",!0)}).merge(this.items);var s=this.model.color.getScale();this.items.select("li").each(function(t){var n=t.data,i=d3.select(this);i.classed("hover",!1).attr("data",n),i.select(".label-circle").style("background",s(n)),i.select(".label-text").text(e[n])});var o=!!t.draggable||null;this.element.selectAll("div").style("top","").attr("draggable",o).classed("dragged",!1),this.dataUpdateFlag=!1},getData:function(){var t=[];t=this.element.selectAll("div").data().sort(function(t,e){return t._y+t._top-(e._y+e._top)}).map(function(t){return t.data}),r.arrayEquals(this.dataArrFn(),t)?this.updateView():(this.dataUpdateFlag=!0,this.updateData(t,!0))},updateData:function(t,e){this.dataArrFn(t,e)},readyOnce:function(){this.element=d3.select(this.element).select(".list")}});e.default=o},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(12),a=i(r),s=n(184),o=i(s),l=a.default.extend("timedisplay",{init:function(t,e){var n=this;this.name="timedisplay",this.model_binds={"change:state.time.value":function(){n.updateTime()}},this._super(t,e)},ready:function(){this.updateTime()},readyOnce:function(){this._super(),this.timeLabel=new o.default(this.element.select(".vzb-timedisplay")),this.timeLabel.setConditions({widthRatio:1,heightRatio:1}),this.resize()},resize:function(){this.timeLabel&&this.timeLabel.resize(this.contentEl.style("width"),this.contentEl.style("height"))},updateTime:function(){var t=this.model.state.time;this.time_1=null==this.time?t.value:this.time,this.time=t.value;var e=t.playing&&this.time-this.time_1>0?t.delayAnimations:0;this.timeLabel.setText(t.formatDate(this.time,"ui"),e)}});e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(31),r=function(t){return t&&t.__esModule?t:{default:t}}(i);e.default=r.default.extend({init:function(t,e){this.context=t,this.context.classed("vzb-dynamic-background",!0),this.width=0,this.height=0,this.topOffset=0,this.leftOffset=0,this.bottomOffset=0,this.rightOffset=0,this.textWidth=0,this.textHeight=0,this.widthRatio=.9,this.heightRatio=.9,this.xAlign="center",this.yAlign="center",this.element=this.context.append("text").style("font-size","20px"),this._sample=this.context.append("text").style("font-size","20px").style("opacity",0),e&&this.setConditions(e)},setConditions:function(t){return!isNaN(parseFloat(t.rightOffset))&&isFinite(t.rightOffset)&&(this.rightOffset=t.rightOffset),!isNaN(parseFloat(t.leftOffset))&&isFinite(t.leftOffset)&&(this.leftOffset=t.leftOffset),!isNaN(parseFloat(t.topOffset))&&isFinite(t.topOffset)&&(this.topOffset=t.topOffset),!isNaN(parseFloat(t.bottomOffset))&&isFinite(t.bottomOffset)&&(this.bottomOffset=t.bottomOffset),t.xAlign&&(this.xAlign=t.xAlign),t.yAlign&&(this.yAlign=t.yAlign),!isNaN(parseFloat(t.widthRatio))&&t.widthRatio>0&&t.widthRatio<=1&&(this.widthRatio=t.widthRatio),!isNaN(parseFloat(t.heightRatio))&&t.heightRatio>0&&t.heightRatio<=1&&(this.heightRatio=t.heightRatio),this},resize:function(t,e,n,i){this.width=parseInt(t,10)||0,this.height=parseInt(e,10)||0,n&&(this.topOffset=n),i&&(this.leftOffset=i),this._resizeText()},setText:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=function(){e._sample.text(t),e._resizeText(),e.element.text(t)},r=function(){clearTimeout(e._text.timeout),delete e._text};return n?(this._text&&(this._text.callback(),r()),this._text={callback:i,timeout:setTimeout(function(){i(),r()},n)}):(this._text&&r(),i()),this},_resizeText:function(){var t=this._sample.node().getBBox();if(!(t.width&&t.height&&this.width&&this.height))return this;var e=this.width*this.widthRatio/t.width,n=this.height*this.heightRatio/t.height;switch(this.scalar=Math.min(e,n),this.element.attr("transform","scale("+this.scalar+")"),this.textHeight=t.height*this.scalar,this.textWidth=t.width*this.scalar,this.yAlign){case"bottom":case"center":this.context.select("text").attr("dy",".325em");break;case"top":this.context.select("text").attr("dy","0")}return this.context.attr("transform","translate("+this._getLeftOffset()+","+this._getTopOffset()+")"),this},_getLeftOffset:function(){switch(this.xAlign){case"right":return this.width-this.textWidth/2-this.rightOffset;case"left":return this.textWidth/2+this.leftOffset;default:return this.width/2}},_getTopOffset:function(){switch(this.yAlign){case"top":return this.textHeight/2+this.topOffset;case"bottom":return this.height-this.textHeight/2-this.bottomOffset;default:return this.height/2}}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),a=(function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);e.default=t}(r),n(6)),s=(i(a),n(12)),o=i(s),l=n(186),c=i(l),u=n(60),h=i(u),d=o.default.extend("zoom",{init:function(t,e){this.name="zoom",this.components=[{component:c.default,placeholder:".vzb-dialog-zoom-buttonlist",model:["state","ui","locale"]},{component:h.default,placeholder:".vzb-panwitharrow-switch",model:["ui","locale"],checkbox:"panWithArrow"},{component:h.default,placeholder:".vzb-zoomonscrolling-switch",model:["ui","locale"],checkbox:"zoomOnScrolling"},{component:h.default,placeholder:".vzb-adaptminmaxzoom-switch",model:["ui","locale"],checkbox:"adaptMinMaxZoom"}],this._super(t,e)}});e.default=d},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),a=i(r),s=n(6),o=function(t){return t&&t.__esModule?t:{default:t}}(s),l=n(21),c=i(l),u=o.default.extend({init:function(t,e){var n=this;this.name="gapminder-zoombuttonlist",this.model_expects=[{name:"state",type:"model"},{name:"ui",type:"ui"},{name:"locale",type:"locale"}],this._available_buttons={arrow:{title:"buttons/cursorarrow",icon:"cursorArrow",func:this.toggleCursorMode.bind(this),required:!0,statebind:"ui.cursorMode",statebindfunc:this.setCursorMode.bind(this)},plus:{title:"buttons/cursorplus",icon:"cursorPlus",func:this.toggleCursorMode.bind(this),required:!0,statebind:"ui.cursorMode",statebindfunc:this.setCursorMode.bind(this)},minus:{title:"buttons/cursorminus",icon:"cursorMinus",func:this.toggleCursorMode.bind(this),required:!0,statebind:"ui.cursorMode",statebindfunc:this.setCursorMode.bind(this)},hand:{title:"buttons/cursorhand",icon:"cursorHand",func:this.toggleCursorMode.bind(this),required:!0,statebind:"ui.cursorMode",statebindfunc:this.setCursorMode.bind(this)},hundredpercent:{title:"buttons/hundredpercent",icon:"hundredPercent",func:this.toggleHundredPercent.bind(this),required:!0}},this.model_binds={},Object.keys(this._available_buttons).forEach(function(t){var e=n._available_buttons[t];e&&e.statebind&&(n.model_binds["change:"+e.statebind]=function(n){e.statebindfunc(t,n.source.value)})}),this._super(t,e)},readyOnce:function(){this.element=d3.select(this.placeholder),this.element.selectAll("div").remove(),this._addButtons(Object.keys(this._available_buttons),[]),this.setCursorMode("arrow")},_addButtons:function(t,e){var n=this;this._components_config=[];var i=[];if(t.length){for(var r=0;r<t.length;r++){var s=t[r],o=this._available_buttons[s],l=o?s:"_default",u=a.clone(this._available_buttons[l]);u.id=s,u.icon=c[u.icon],i.push(u)}var h=this.getTranslationFunction(!0);this.element.selectAll("button").data(i).enter().append("button").attr("class",function(t){var n="vzb-buttonlist-btn";return e.length>0&&e.indexOf(t.id)>-1&&(n+=" vzb-dialog-side-btn"),n}).attr("data-btn",function(t){return t.id}).html(function(t){return"<span class='vzb-buttonlist-btn-icon fa'>"+t.icon+"</span><span class='vzb-buttonlist-btn-title'>"+h(t.title)+"</span>"});this.element.selectAll(".vzb-buttonlist-btn").on("click",function(){d3.event.preventDefault(),d3.event.stopPropagation();var t=d3.select(this).attr("data-btn");n.proceedClick(t)})}},proceedClick:function(t){var e=this,n=e.element.selectAll(".vzb-buttonlist-btn[data-btn='"+t+"']"),i=n.attr("class"),r=e._available_buttons[t];if(r&&r.func)r.func(t);else{var a=-1===i.indexOf("vzb-active");n.classed("vzb-active",a);var s={};s.id=t,s.active=a,e.trigger("click",s)}},setButtonActive:function(t,e){this.element.selectAll(".vzb-buttonlist-btn[data-btn='"+t+"']").classed("vzb-active",e)},toggleCursorMode:function(t){var e=t;this.model.ui.set("cursorMode",e,!1,!1)},setCursorMode:function(t){var e=this.model.ui.cursorMode?this.model.ui.cursorMode:"arrow";this.element.selectAll(".vzb-buttonlist-btn").classed("vzb-active",function(t){return t.id==e})},toggleHundredPercent:function(t){this.root.trigger("resetZoom")}});e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(188);var i=n(390),r=function(t){return t&&t.__esModule?t:{default:t}}(i);n(436),e.default=r.default,t.exports=r.default},function(t,e,n){"use strict";(function(t){function e(t,e,n){t[e]||Object[i](t,e,{writable:!0,configurable:!0,value:n})}if(n(189),n(386),n(387),t._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");t._babelPolyfill=!0;var i="defineProperty";e(String.prototype,"padLeft","".padStart),e(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(t){[][t]&&e(Array,t,Function.call.bind([][t]))})}).call(e,n(79))},function(t,e,n){n(190),n(192),n(193),n(194),n(195),n(196),n(197),n(198),n(199),n(200),n(201),n(202),n(203),n(204),n(205),n(206),n(208),n(209),n(210),n(211),n(212),n(213),n(214),n(215),n(216),n(217),n(218),n(219),n(220),n(221),n(222),n(223),n(224),n(225),n(226),n(227),n(228),n(229),n(230),n(231),n(232),n(233),n(234),n(235),n(236),n(237),n(238),n(239),n(240),n(241),n(242),n(243),n(244),n(245),n(246),n(247),n(248),n(249),n(250),n(251),n(252),n(253),n(254),n(255),n(256),n(257),n(258),n(259),n(260),n(261),n(262),n(263),n(264),n(265),n(266),n(267),n(268),n(270),n(271),n(273),n(274),n(275),n(276),n(277),n(278),n(279),n(281),n(282),n(283),n(284),n(285),n(286),n(287),n(288),n(289),n(290),n(291),n(292),n(293),n(101),n(294),n(295),n(131),n(296),n(297),n(298),n(299),n(300),n(134),n(136),n(137),n(301),n(302),n(303),n(304),n(305),n(306),n(307),n(308),n(309),n(310),n(311),n(312),n(313),n(314),n(315),n(316),n(317),n(318),n(319),n(320),n(321),n(322),n(323),n(324),n(325),n(326),n(327),n(328),n(329),n(330),n(331),n(332),n(333),n(334),n(335),n(336),n(337),n(338),n(339),n(340),n(341),n(342),n(343),n(344),n(345),n(346),n(347),n(348),n(349),n(350),n(351),n(352),n(353),n(354),n(355),n(356),n(357),n(358),n(359),n(360),n(361),n(362),n(363),n(364),n(365),n(366),n(367),n(368),n(369),n(370),n(371),n(372),n(373),n(374),n(375),n(376),n(377),n(378),n(379),n(380),n(381),n(382),n(383),n(384),n(385),t.exports=n(22)},function(t,e,n){"use strict";var i=n(3),r=n(17),a=n(8),s=n(0),o=n(15),l=n(35).KEY,c=n(4),u=n(61),h=n(51),d=n(39),f=n(7),p=n(114),v=n(81),g=n(191),m=n(64),b=n(2),y=n(5),_=n(18),M=n(26),w=n(38),x=n(42),S=n(117),z=n(19),O=n(9),E=n(40),k=z.f,T=O.f,P=S.f,C=i.Symbol,D=i.JSON,A=D&&D.stringify,L=f("_hidden"),I=f("toPrimitive"),R={}.propertyIsEnumerable,N=u("symbol-registry"),j=u("symbols"),q=u("op-symbols"),F=Object.prototype,H="function"==typeof C,B=i.QObject,V=!B||!B.prototype||!B.prototype.findChild,W=a&&c(function(){return 7!=x(T({},"a",{get:function(){return T(this,"a",{value:7}).a}})).a})?function(t,e,n){var i=k(F,e);i&&delete F[e],T(t,e,n),i&&t!==F&&T(F,e,i)}:T,Y=function(t){var e=j[t]=x(C.prototype);return e._k=t,e},U=H&&"symbol"==typeof C.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof C},G=function(t,e,n){return t===F&&G(q,e,n),b(t),e=M(e,!0),b(n),r(j,e)?(n.enumerable?(r(t,L)&&t[L][e]&&(t[L][e]=!1),n=x(n,{enumerable:w(0,!1)})):(r(t,L)||T(t,L,w(1,{})),t[L][e]=!0),W(t,e,n)):T(t,e,n)},K=function(t,e){b(t);for(var n,i=g(e=_(e)),r=0,a=i.length;a>r;)G(t,n=i[r++],e[n]);return t},X=function(t,e){return void 0===e?x(t):K(x(t),e)},Q=function(t){var e=R.call(this,t=M(t,!0));return!(this===F&&r(j,t)&&!r(q,t))&&(!(e||!r(this,t)||!r(j,t)||r(this,L)&&this[L][t])||e)},$=function(t,e){if(t=_(t),e=M(e,!0),t!==F||!r(j,e)||r(q,e)){var n=k(t,e);return!n||!r(j,e)||r(t,L)&&t[L][e]||(n.enumerable=!0),n}},J=function(t){for(var e,n=P(_(t)),i=[],a=0;n.length>a;)r(j,e=n[a++])||e==L||e==l||i.push(e);return i},Z=function(t){for(var e,n=t===F,i=P(n?q:_(t)),a=[],s=0;i.length>s;)!r(j,e=i[s++])||n&&!r(F,e)||a.push(j[e]);return a};H||(C=function(){if(this instanceof C)throw TypeError("Symbol is not a constructor!");var t=d(arguments.length>0?arguments[0]:void 0),e=function(n){this===F&&e.call(q,n),r(this,L)&&r(this[L],t)&&(this[L][t]=!1),W(this,t,w(1,n))};return a&&V&&W(F,t,{configurable:!0,set:e}),Y(t)},o(C.prototype,"toString",function(){return this._k}),z.f=$,O.f=G,n(43).f=S.f=J,n(57).f=Q,n(63).f=Z,a&&!n(36)&&o(F,"propertyIsEnumerable",Q,!0),p.f=function(t){return Y(f(t))}),s(s.G+s.W+s.F*!H,{Symbol:C});for(var tt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;tt.length>et;)f(tt[et++]);for(var nt=E(f.store),it=0;nt.length>it;)v(nt[it++]);s(s.S+s.F*!H,"Symbol",{for:function(t){return r(N,t+="")?N[t]:N[t]=C(t)},keyFor:function(t){if(!U(t))throw TypeError(t+" is not a symbol!");for(var e in N)if(N[e]===t)return e},useSetter:function(){V=!0},useSimple:function(){V=!1}}),s(s.S+s.F*!H,"Object",{create:X,defineProperty:G,defineProperties:K,getOwnPropertyDescriptor:$,getOwnPropertyNames:J,getOwnPropertySymbols:Z}),D&&s(s.S+s.F*(!H||c(function(){var t=C();return"[null]"!=A([t])||"{}"!=A({a:t})||"{}"!=A(Object(t))})),"JSON",{stringify:function(t){for(var e,n,i=[t],r=1;arguments.length>r;)i.push(arguments[r++]);if(n=e=i[1],(y(e)||void 0!==t)&&!U(t))return m(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!U(e))return e}),i[1]=e,A.apply(D,i)}}),C.prototype[I]||n(14)(C.prototype,I,C.prototype.valueOf),h(C,"Symbol"),h(Math,"Math",!0),h(i.JSON,"JSON",!0)},function(t,e,n){var i=n(40),r=n(63),a=n(57);t.exports=function(t){var e=i(t),n=r.f;if(n)for(var s,o=n(t),l=a.f,c=0;o.length>c;)l.call(t,s=o[c++])&&e.push(s);return e}},function(t,e,n){var i=n(0);i(i.S,"Object",{create:n(42)})},function(t,e,n){var i=n(0);i(i.S+i.F*!n(8),"Object",{defineProperty:n(9).f})},function(t,e,n){var i=n(0);i(i.S+i.F*!n(8),"Object",{defineProperties:n(116)})},function(t,e,n){var i=n(18),r=n(19).f;n(29)("getOwnPropertyDescriptor",function(){return function(t,e){return r(i(t),e)}})},function(t,e,n){var i=n(11),r=n(20);n(29)("getPrototypeOf",function(){return function(t){return r(i(t))}})},function(t,e,n){var i=n(11),r=n(40);n(29)("keys",function(){return function(t){return r(i(t))}})},function(t,e,n){n(29)("getOwnPropertyNames",function(){return n(117).f})},function(t,e,n){var i=n(5),r=n(35).onFreeze;n(29)("freeze",function(t){return function(e){return t&&i(e)?t(r(e)):e}})},function(t,e,n){var i=n(5),r=n(35).onFreeze;n(29)("seal",function(t){return function(e){return t&&i(e)?t(r(e)):e}})},function(t,e,n){var i=n(5),r=n(35).onFreeze;n(29)("preventExtensions",function(t){return function(e){return t&&i(e)?t(r(e)):e}})},function(t,e,n){var i=n(5);n(29)("isFrozen",function(t){return function(e){return!i(e)||!!t&&t(e)}})},function(t,e,n){var i=n(5);n(29)("isSealed",function(t){return function(e){return!i(e)||!!t&&t(e)}})},function(t,e,n){var i=n(5);n(29)("isExtensible",function(t){return function(e){return!!i(e)&&(!t||t(e))}})},function(t,e,n){var i=n(0);i(i.S+i.F,"Object",{assign:n(118)})},function(t,e,n){var i=n(0);i(i.S,"Object",{is:n(207)})},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,n){var i=n(0);i(i.S,"Object",{setPrototypeOf:n(85).set})},function(t,e,n){"use strict";var i=n(58),r={};r[n(7)("toStringTag")]="z",r+""!="[object z]"&&n(15)(Object.prototype,"toString",function(){return"[object "+i(this)+"]"},!0)},function(t,e,n){var i=n(0);i(i.P,"Function",{bind:n(119)})},function(t,e,n){var i=n(9).f,r=Function.prototype,a=/^\s*function ([^ (]*)/;"name"in r||n(8)&&i(r,"name",{configurable:!0,get:function(){try{return(""+this).match(a)[1]}catch(t){return""}}})},function(t,e,n){"use strict";var i=n(5),r=n(20),a=n(7)("hasInstance"),s=Function.prototype;a in s||n(9).f(s,a,{value:function(t){if("function"!=typeof this||!i(t))return!1;if(!i(this.prototype))return t instanceof this;for(;t=r(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,n){var i=n(0),r=n(121);i(i.G+i.F*(parseInt!=r),{parseInt:r})},function(t,e,n){var i=n(0),r=n(122);i(i.G+i.F*(parseFloat!=r),{parseFloat:r})},function(t,e,n){"use strict";var i=n(3),r=n(17),a=n(24),s=n(87),o=n(26),l=n(4),c=n(43).f,u=n(19).f,h=n(9).f,d=n(52).trim,f=i.Number,p=f,v=f.prototype,g="Number"==a(n(42)(v)),m="trim"in String.prototype,b=function(t){var e=o(t,!1);if("string"==typeof e&&e.length>2){e=m?e.trim():d(e,3);var n,i,r,a=e.charCodeAt(0);if(43===a||45===a){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===a){switch(e.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+e}for(var s,l=e.slice(2),c=0,u=l.length;c<u;c++)if((s=l.charCodeAt(c))<48||s>r)return NaN;return parseInt(l,i)}}return+e};if(!f(" 0o1")||!f("0b1")||f("+0x1")){f=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof f&&(g?l(function(){v.valueOf.call(n)}):"Number"!=a(n))?s(new p(b(e)),n,f):b(e)};for(var y,_=n(8)?c(p):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),M=0;_.length>M;M++)r(p,y=_[M])&&!r(f,y)&&h(f,y,u(p,y));f.prototype=v,v.constructor=f,n(15)(i,"Number",f)}},function(t,e,n){"use strict";var i=n(0),r=n(28),a=n(123),s=n(88),o=1..toFixed,l=Math.floor,c=[0,0,0,0,0,0],u="Number.toFixed: incorrect invocation!",h=function(t,e){for(var n=-1,i=e;++n<6;)i+=t*c[n],c[n]=i%1e7,i=l(i/1e7)},d=function(t){for(var e=6,n=0;--e>=0;)n+=c[e],c[e]=l(n/t),n=n%t*1e7},f=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==c[t]){var n=String(c[t]);e=""===e?n:e+s.call("0",7-n.length)+n}return e},p=function(t,e,n){return 0===e?n:e%2==1?p(t,e-1,n*t):p(t*t,e/2,n)},v=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e};i(i.P+i.F*(!!o&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(4)(function(){o.call({})})),"Number",{toFixed:function(t){var e,n,i,o,l=a(this,u),c=r(t),g="",m="0";if(c<0||c>20)throw RangeError(u);if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(g="-",l=-l),l>1e-21)if(e=v(l*p(2,69,1))-69,n=e<0?l*p(2,-e,1):l/p(2,e,1),n*=4503599627370496,(e=52-e)>0){for(h(0,n),i=c;i>=7;)h(1e7,0),i-=7;for(h(p(10,i,1),0),i=e-1;i>=23;)d(1<<23),i-=23;d(1<<i),h(1,1),d(2),m=f()}else h(0,n),h(1<<-e,0),m=f()+s.call("0",c);return c>0?(o=m.length,m=g+(o<=c?"0."+s.call("0",c-o)+m:m.slice(0,o-c)+"."+m.slice(o-c))):m=g+m,m}})},function(t,e,n){"use strict";var i=n(0),r=n(4),a=n(123),s=1..toPrecision;i(i.P+i.F*(r(function(){return"1"!==s.call(1,void 0)})||!r(function(){s.call({})})),"Number",{toPrecision:function(t){var e=a(this,"Number#toPrecision: incorrect invocation!");return void 0===t?s.call(e):s.call(e,t)}})},function(t,e,n){var i=n(0);i(i.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,e,n){var i=n(0),r=n(3).isFinite;i(i.S,"Number",{isFinite:function(t){return"number"==typeof t&&r(t)}})},function(t,e,n){var i=n(0);i(i.S,"Number",{isInteger:n(124)})},function(t,e,n){var i=n(0);i(i.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,n){var i=n(0),r=n(124),a=Math.abs;i(i.S,"Number",{isSafeInteger:function(t){return r(t)&&a(t)<=9007199254740991}})},function(t,e,n){var i=n(0);i(i.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){var i=n(0);i(i.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,n){var i=n(0),r=n(122);i(i.S+i.F*(Number.parseFloat!=r),"Number",{parseFloat:r})},function(t,e,n){var i=n(0),r=n(121);i(i.S+i.F*(Number.parseInt!=r),"Number",{parseInt:r})},function(t,e,n){var i=n(0),r=n(125),a=Math.sqrt,s=Math.acosh;i(i.S+i.F*!(s&&710==Math.floor(s(Number.MAX_VALUE))&&s(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:r(t-1+a(t-1)*a(t+1))}})},function(t,e,n){function i(t){return isFinite(t=+t)&&0!=t?t<0?-i(-t):Math.log(t+Math.sqrt(t*t+1)):t}var r=n(0),a=Math.asinh;r(r.S+r.F*!(a&&1/a(0)>0),"Math",{asinh:i})},function(t,e,n){var i=n(0),r=Math.atanh;i(i.S+i.F*!(r&&1/r(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,e,n){var i=n(0),r=n(89);i(i.S,"Math",{cbrt:function(t){return r(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,e,n){var i=n(0);i(i.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,e,n){var i=n(0),r=Math.exp;i(i.S,"Math",{cosh:function(t){return(r(t=+t)+r(-t))/2}})},function(t,e,n){var i=n(0),r=n(90);i(i.S+i.F*(r!=Math.expm1),"Math",{expm1:r})},function(t,e,n){var i=n(0);i(i.S,"Math",{fround:n(126)})},function(t,e,n){var i=n(0),r=Math.abs;i(i.S,"Math",{hypot:function(t,e){for(var n,i,a=0,s=0,o=arguments.length,l=0;s<o;)n=r(arguments[s++]),l<n?(i=l/n,a=a*i*i+1,l=n):n>0?(i=n/l,a+=i*i):a+=n;return l===1/0?1/0:l*Math.sqrt(a)}})},function(t,e,n){var i=n(0),r=Math.imul;i(i.S+i.F*n(4)(function(){return-5!=r(4294967295,5)||2!=r.length}),"Math",{imul:function(t,e){var n=+t,i=+e,r=65535&n,a=65535&i;return 0|r*a+((65535&n>>>16)*a+r*(65535&i>>>16)<<16>>>0)}})},function(t,e,n){var i=n(0);i(i.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},function(t,e,n){var i=n(0);i(i.S,"Math",{log1p:n(125)})},function(t,e,n){var i=n(0);i(i.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,e,n){var i=n(0);i(i.S,"Math",{sign:n(89)})},function(t,e,n){var i=n(0),r=n(90),a=Math.exp;i(i.S+i.F*n(4)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(r(t)-r(-t))/2:(a(t-1)-a(-t-1))*(Math.E/2)}})},function(t,e,n){var i=n(0),r=n(90),a=Math.exp;i(i.S,"Math",{tanh:function(t){var e=r(t=+t),n=r(-t);return e==1/0?1:n==1/0?-1:(e-n)/(a(t)+a(-t))}})},function(t,e,n){var i=n(0);i(i.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},function(t,e,n){var i=n(0),r=n(41),a=String.fromCharCode,s=String.fromCodePoint;i(i.S+i.F*(!!s&&1!=s.length),"String",{fromCodePoint:function(t){for(var e,n=[],i=arguments.length,s=0;i>s;){if(e=+arguments[s++],r(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?a(e):a(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},function(t,e,n){var i=n(0),r=n(18),a=n(10);i(i.S,"String",{raw:function(t){for(var e=r(t.raw),n=a(e.length),i=arguments.length,s=[],o=0;n>o;)s.push(String(e[o++])),o<i&&s.push(String(arguments[o]));return s.join("")}})},function(t,e,n){"use strict";n(52)("trim",function(t){return function(){return t(this,3)}})},function(t,e,n){"use strict";var i=n(91)(!0);n(92)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){"use strict";var i=n(0),r=n(91)(!1);i(i.P,"String",{codePointAt:function(t){return r(this,t)}})},function(t,e,n){"use strict";var i=n(0),r=n(10),a=n(94),s="".endsWith;i(i.P+i.F*n(95)("endsWith"),"String",{endsWith:function(t){var e=a(this,t,"endsWith"),n=arguments.length>1?arguments[1]:void 0,i=r(e.length),o=void 0===n?i:Math.min(r(n),i),l=String(t);return s?s.call(e,l,o):e.slice(o-l.length,o)===l}})},function(t,e,n){"use strict";var i=n(0),r=n(94);i(i.P+i.F*n(95)("includes"),"String",{includes:function(t){return!!~r(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var i=n(0);i(i.P,"String",{repeat:n(88)})},function(t,e,n){"use strict";var i=n(0),r=n(10),a=n(94),s="".startsWith;i(i.P+i.F*n(95)("startsWith"),"String",{startsWith:function(t){var e=a(this,t,"startsWith"),n=r(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),i=String(t);return s?s.call(e,i,n):e.slice(n,n+i.length)===i}})},function(t,e,n){"use strict";n(16)("anchor",function(t){return function(e){return t(this,"a","name",e)}})},function(t,e,n){"use strict";n(16)("big",function(t){return function(){return t(this,"big","","")}})},function(t,e,n){"use strict";n(16)("blink",function(t){return function(){return t(this,"blink","","")}})},function(t,e,n){"use strict";n(16)("bold",function(t){return function(){return t(this,"b","","")}})},function(t,e,n){"use strict";n(16)("fixed",function(t){return function(){return t(this,"tt","","")}})},function(t,e,n){"use strict";n(16)("fontcolor",function(t){return function(e){return t(this,"font","color",e)}})},function(t,e,n){"use strict";n(16)("fontsize",function(t){return function(e){return t(this,"font","size",e)}})},function(t,e,n){"use strict";n(16)("italics",function(t){return function(){return t(this,"i","","")}})},function(t,e,n){"use strict";n(16)("link",function(t){return function(e){return t(this,"a","href",e)}})},function(t,e,n){"use strict";n(16)("small",function(t){return function(){return t(this,"small","","")}})},function(t,e,n){"use strict";n(16)("strike",function(t){return function(){return t(this,"strike","","")}})},function(t,e,n){"use strict";n(16)("sub",function(t){return function(){return t(this,"sub","","")}})},function(t,e,n){"use strict";n(16)("sup",function(t){return function(){return t(this,"sup","","")}})},function(t,e,n){var i=n(0);i(i.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,e,n){"use strict";var i=n(0),r=n(11),a=n(26);i(i.P+i.F*n(4)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(t){var e=r(this),n=a(e);return"number"!=typeof n||isFinite(n)?e.toISOString():null}})},function(t,e,n){var i=n(0),r=n(269);i(i.P+i.F*(Date.prototype.toISOString!==r),"Date",{toISOString:r})},function(t,e,n){"use strict";var i=n(4),r=Date.prototype.getTime,a=Date.prototype.toISOString,s=function(t){return t>9?t:"0"+t};t.exports=i(function(){return"0385-07-25T07:06:39.999Z"!=a.call(new Date(-5e13-1))})||!i(function(){a.call(new Date(NaN))})?function(){if(!isFinite(r.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),n=t.getUTCMilliseconds(),i=e<0?"-":e>9999?"+":"";return i+("00000"+Math.abs(e)).slice(i?-6:-4)+"-"+s(t.getUTCMonth()+1)+"-"+s(t.getUTCDate())+"T"+s(t.getUTCHours())+":"+s(t.getUTCMinutes())+":"+s(t.getUTCSeconds())+"."+(n>99?n:"0"+s(n))+"Z"}:a},function(t,e,n){var i=Date.prototype,r=i.toString,a=i.getTime;new Date(NaN)+""!="Invalid Date"&&n(15)(i,"toString",function(){var t=a.call(this);return t===t?r.call(this):"Invalid Date"})},function(t,e,n){var i=n(7)("toPrimitive"),r=Date.prototype;i in r||n(14)(r,i,n(272))},function(t,e,n){"use strict";var i=n(2),r=n(26);t.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return r(i(this),"number"!=t)}},function(t,e,n){var i=n(0);i(i.S,"Array",{isArray:n(64)})},function(t,e,n){"use strict";var i=n(23),r=n(0),a=n(11),s=n(127),o=n(96),l=n(10),c=n(97),u=n(98);r(r.S+r.F*!n(66)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,r,h,d=a(t),f="function"==typeof this?this:Array,p=arguments.length,v=p>1?arguments[1]:void 0,g=void 0!==v,m=0,b=u(d);if(g&&(v=i(v,p>2?arguments[2]:void 0,2)),void 0==b||f==Array&&o(b))for(e=l(d.length),n=new f(e);e>m;m++)c(n,m,g?v(d[m],m):d[m]);else for(h=b.call(d),n=new f;!(r=h.next()).done;m++)c(n,m,g?s(h,v,[r.value,m],!0):r.value);return n.length=m,n}})},function(t,e,n){"use strict";var i=n(0),r=n(97);i(i.S+i.F*n(4)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)r(n,t,arguments[t++]);return n.length=e,n}})},function(t,e,n){"use strict";var i=n(0),r=n(18),a=[].join;i(i.P+i.F*(n(56)!=Object||!n(25)(a)),"Array",{join:function(t){return a.call(r(this),void 0===t?",":t)}})},function(t,e,n){"use strict";var i=n(0),r=n(84),a=n(24),s=n(41),o=n(10),l=[].slice;i(i.P+i.F*n(4)(function(){r&&l.call(r)}),"Array",{slice:function(t,e){var n=o(this.length),i=a(this);if(e=void 0===e?n:e,"Array"==i)return l.call(this,t,e);for(var r=s(t,n),c=s(e,n),u=o(c-r),h=new Array(u),d=0;d<u;d++)h[d]="String"==i?this.charAt(r+d):this[r+d];return h}})},function(t,e,n){"use strict";var i=n(0),r=n(13),a=n(11),s=n(4),o=[].sort,l=[1,2,3];i(i.P+i.F*(s(function(){l.sort(void 0)})||!s(function(){l.sort(null)})||!n(25)(o)),"Array",{sort:function(t){return void 0===t?o.call(a(this)):o.call(a(this),r(t))}})},function(t,e,n){"use strict";var i=n(0),r=n(30)(0),a=n(25)([].forEach,!0);i(i.P+i.F*!a,"Array",{forEach:function(t){return r(this,t,arguments[1])}})},function(t,e,n){var i=n(5),r=n(64),a=n(7)("species");t.exports=function(t){var e;return r(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!r(e.prototype)||(e=void 0),i(e)&&null===(e=e[a])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){"use strict";var i=n(0),r=n(30)(1);i(i.P+i.F*!n(25)([].map,!0),"Array",{map:function(t){return r(this,t,arguments[1])}})},function(t,e,n){"use strict";var i=n(0),r=n(30)(2);i(i.P+i.F*!n(25)([].filter,!0),"Array",{filter:function(t){return r(this,t,arguments[1])}})},function(t,e,n){"use strict";var i=n(0),r=n(30)(3);i(i.P+i.F*!n(25)([].some,!0),"Array",{some:function(t){return r(this,t,arguments[1])}})},function(t,e,n){"use strict";var i=n(0),r=n(30)(4);i(i.P+i.F*!n(25)([].every,!0),"Array",{every:function(t){return r(this,t,arguments[1])}})},function(t,e,n){"use strict";var i=n(0),r=n(128);i(i.P+i.F*!n(25)([].reduce,!0),"Array",{reduce:function(t){return r(this,t,arguments.length,arguments[1],!1)}})},function(t,e,n){"use strict";var i=n(0),r=n(128);i(i.P+i.F*!n(25)([].reduceRight,!0),"Array",{reduceRight:function(t){return r(this,t,arguments.length,arguments[1],!0)}})},function(t,e,n){"use strict";var i=n(0),r=n(62)(!1),a=[].indexOf,s=!!a&&1/[1].indexOf(1,-0)<0;i(i.P+i.F*(s||!n(25)(a)),"Array",{indexOf:function(t){return s?a.apply(this,arguments)||0:r(this,t,arguments[1])}})},function(t,e,n){"use strict";var i=n(0),r=n(18),a=n(28),s=n(10),o=[].lastIndexOf,l=!!o&&1/[1].lastIndexOf(1,-0)<0;i(i.P+i.F*(l||!n(25)(o)),"Array",{lastIndexOf:function(t){if(l)return o.apply(this,arguments)||0;var e=r(this),n=s(e.length),i=n-1;for(arguments.length>1&&(i=Math.min(i,a(arguments[1]))),i<0&&(i=n+i);i>=0;i--)if(i in e&&e[i]===t)return i||0;return-1}})},function(t,e,n){var i=n(0);i(i.P,"Array",{copyWithin:n(129)}),n(37)("copyWithin")},function(t,e,n){var i=n(0);i(i.P,"Array",{fill:n(100)}),n(37)("fill")},function(t,e,n){"use strict";var i=n(0),r=n(30)(5),a=!0;"find"in[]&&Array(1).find(function(){a=!1}),i(i.P+i.F*a,"Array",{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(37)("find")},function(t,e,n){"use strict";var i=n(0),r=n(30)(6),a="findIndex",s=!0;a in[]&&Array(1)[a](function(){s=!1}),i(i.P+i.F*s,"Array",{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(37)(a)},function(t,e,n){n(44)("Array")},function(t,e,n){var i=n(3),r=n(87),a=n(9).f,s=n(43).f,o=n(65),l=n(67),c=i.RegExp,u=c,h=c.prototype,d=/a/g,f=/a/g,p=new c(d)!==d;if(n(8)&&(!p||n(4)(function(){return f[n(7)("match")]=!1,c(d)!=d||c(f)==f||"/a/i"!=c(d,"i")}))){c=function(t,e){var n=this instanceof c,i=o(t),a=void 0===e;return!n&&i&&t.constructor===c&&a?t:r(p?new u(i&&!a?t.source:t,e):u((i=t instanceof c)?t.source:t,i&&a?l.call(t):e),n?this:h,c)};for(var v=s(u),g=0;v.length>g;)!function(t){t in c||a(c,t,{configurable:!0,get:function(){return u[t]},set:function(e){u[t]=e}})}(v[g++]);h.constructor=c,c.prototype=h,n(15)(i,"RegExp",c)}n(44)("RegExp")},function(t,e,n){"use strict";n(131);var i=n(2),r=n(67),a=n(8),s=/./.toString,o=function(t){n(15)(RegExp.prototype,"toString",t,!0)};n(4)(function(){return"/a/b"!=s.call({source:"a",flags:"b"})})?o(function(){var t=i(this);return"/".concat(t.source,"/","flags"in t?t.flags:!a&&t instanceof RegExp?r.call(t):void 0)}):"toString"!=s.name&&o(function(){return s.call(this)})},function(t,e,n){n(68)("match",1,function(t,e,n){return[function(n){"use strict";var i=t(this),r=void 0==n?void 0:n[e];return void 0!==r?r.call(n,i):new RegExp(n)[e](String(i))},n]})},function(t,e,n){n(68)("replace",2,function(t,e,n){return[function(i,r){"use strict";var a=t(this),s=void 0==i?void 0:i[e];return void 0!==s?s.call(i,a,r):n.call(String(a),i,r)},n]})},function(t,e,n){n(68)("search",1,function(t,e,n){return[function(n){"use strict";var i=t(this),r=void 0==n?void 0:n[e];return void 0!==r?r.call(n,i):new RegExp(n)[e](String(i))},n]})},function(t,e,n){n(68)("split",2,function(t,e,i){"use strict";var r=n(65),a=i,s=[].push,o="length";if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[o]||2!="ab".split(/(?:ab)*/)[o]||4!=".".split(/(.?)(.?)/)[o]||".".split(/()()/)[o]>1||"".split(/.?/)[o]){var l=void 0===/()??/.exec("")[1];i=function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!r(t))return a.call(n,t,e);var i,c,u,h,d,f=[],p=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),v=0,g=void 0===e?4294967295:e>>>0,m=new RegExp(t.source,p+"g");for(l||(i=new RegExp("^"+m.source+"$(?!\\s)",p));(c=m.exec(n))&&!((u=c.index+c[0][o])>v&&(f.push(n.slice(v,c.index)),!l&&c[o]>1&&c[0].replace(i,function(){for(d=1;d<arguments[o]-2;d++)void 0===arguments[d]&&(c[d]=void 0)}),c[o]>1&&c.index<n[o]&&s.apply(f,c.slice(1)),h=c[0][o],v=u,f[o]>=g));)m.lastIndex===c.index&&m.lastIndex++;return v===n[o]?!h&&m.test("")||f.push(""):f.push(n.slice(v)),f[o]>g?f.slice(0,g):f}}else"0".split(void 0,0)[o]&&(i=function(t,e){return void 0===t&&0===e?[]:a.call(this,t,e)});return[function(n,r){var a=t(this),s=void 0==n?void 0:n[e];return void 0!==s?s.call(n,a,r):i.call(String(a),n,r)},i]})},function(t,e,n){"use strict";var i,r,a,s,o=n(36),l=n(3),c=n(23),u=n(58),h=n(0),d=n(5),f=n(13),p=n(45),v=n(46),g=n(69),m=n(102).set,b=n(103)(),y=n(104),_=n(132),M=n(70),w=n(133),x=l.TypeError,S=l.process,z=S&&S.versions,O=z&&z.v8||"",E=l.Promise,k="process"==u(S),T=function(){},P=r=y.f,C=!!function(){try{var t=E.resolve(1),e=(t.constructor={})[n(7)("species")]=function(t){t(T,T)};return(k||"function"==typeof PromiseRejectionEvent)&&t.then(T)instanceof e&&0!==O.indexOf("6.6")&&-1===M.indexOf("Chrome/66")}catch(t){}}(),D=function(t){var e;return!(!d(t)||"function"!=typeof(e=t.then))&&e},A=function(t,e){if(!t._n){t._n=!0;var n=t._c;b(function(){for(var i=t._v,r=1==t._s,a=0;n.length>a;)!function(e){var n,a,s,o=r?e.ok:e.fail,l=e.resolve,c=e.reject,u=e.domain;try{o?(r||(2==t._h&&R(t),t._h=1),!0===o?n=i:(u&&u.enter(),n=o(i),u&&(u.exit(),s=!0)),n===e.promise?c(x("Promise-chain cycle")):(a=D(n))?a.call(n,l,c):l(n)):c(i)}catch(t){u&&!s&&u.exit(),c(t)}}(n[a++]);t._c=[],t._n=!1,e&&!t._h&&L(t)})}},L=function(t){m.call(l,function(){var e,n,i,r=t._v,a=I(t);if(a&&(e=_(function(){k?S.emit("unhandledRejection",r,t):(n=l.onunhandledrejection)?n({promise:t,reason:r}):(i=l.console)&&i.error&&i.error("Unhandled promise rejection",r)}),t._h=k||I(t)?2:1),t._a=void 0,a&&e.e)throw e.v})},I=function(t){return 1!==t._h&&0===(t._a||t._c).length},R=function(t){m.call(l,function(){var e;k?S.emit("rejectionHandled",t):(e=l.onrejectionhandled)&&e({promise:t,reason:t._v})})},N=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),A(e,!0))},j=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw x("Promise can't be resolved itself");(e=D(t))?b(function(){var i={_w:n,_d:!1};try{e.call(t,c(j,i,1),c(N,i,1))}catch(t){N.call(i,t)}}):(n._v=t,n._s=1,A(n,!1))}catch(t){N.call({_w:n,_d:!1},t)}}};C||(E=function(t){p(this,E,"Promise","_h"),f(t),i.call(this);try{t(c(j,this,1),c(N,this,1))}catch(t){N.call(this,t)}},i=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},i.prototype=n(47)(E.prototype,{then:function(t,e){var n=P(g(this,E));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=k?S.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&A(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),a=function(){var t=new i;this.promise=t,this.resolve=c(j,t,1),this.reject=c(N,t,1)},y.f=P=function(t){return t===E||t===s?new a(t):r(t)}),h(h.G+h.W+h.F*!C,{Promise:E}),n(51)(E,"Promise"),n(44)("Promise"),s=n(22).Promise,h(h.S+h.F*!C,"Promise",{reject:function(t){var e=P(this);return(0,e.reject)(t),e.promise}}),h(h.S+h.F*(o||!C),"Promise",{resolve:function(t){return w(o&&this===s?E:this,t)}}),h(h.S+h.F*!(C&&n(66)(function(t){E.all(t).catch(T)})),"Promise",{all:function(t){var e=this,n=P(e),i=n.resolve,r=n.reject,a=_(function(){var n=[],a=0,s=1;v(t,!1,function(t){var o=a++,l=!1;n.push(void 0),s++,e.resolve(t).then(function(t){l||(l=!0,n[o]=t,--s||i(n))},r)}),--s||i(n)});return a.e&&r(a.v),n.promise},race:function(t){var e=this,n=P(e),i=n.reject,r=_(function(){v(t,!1,function(t){e.resolve(t).then(n.resolve,i)})});return r.e&&i(r.v),n.promise}})},function(t,e,n){"use strict";var i=n(138),r=n(54);n(71)("WeakSet",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return i.def(r(this,"WeakSet"),t,!0)}},i,!1,!0)},function(t,e,n){"use strict";var i=n(0),r=n(72),a=n(105),s=n(2),o=n(41),l=n(10),c=n(5),u=n(3).ArrayBuffer,h=n(69),d=a.ArrayBuffer,f=a.DataView,p=r.ABV&&u.isView,v=d.prototype.slice,g=r.VIEW;i(i.G+i.W+i.F*(u!==d),{ArrayBuffer:d}),i(i.S+i.F*!r.CONSTR,"ArrayBuffer",{isView:function(t){return p&&p(t)||c(t)&&g in t}}),i(i.P+i.U+i.F*n(4)(function(){return!new d(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(t,e){if(void 0!==v&&void 0===e)return v.call(s(this),t);for(var n=s(this).byteLength,i=o(t,n),r=o(void 0===e?n:e,n),a=new(h(this,d))(l(r-i)),c=new f(this),u=new f(a),p=0;i<r;)u.setUint8(p++,c.getUint8(i++));return a}}),n(44)("ArrayBuffer")},function(t,e,n){var i=n(0);i(i.G+i.W+i.F*!n(72).ABV,{DataView:n(105).DataView})},function(t,e,n){n(33)("Int8",1,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){n(33)("Uint8",1,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){n(33)("Uint8",1,function(t){return function(e,n,i){return t(this,e,n,i)}},!0)},function(t,e,n){n(33)("Int16",2,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){n(33)("Uint16",2,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){n(33)("Int32",4,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){n(33)("Uint32",4,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){n(33)("Float32",4,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){n(33)("Float64",8,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){var i=n(0),r=n(13),a=n(2),s=(n(3).Reflect||{}).apply,o=Function.apply;i(i.S+i.F*!n(4)(function(){s(function(){})}),"Reflect",{apply:function(t,e,n){var i=r(t),l=a(n);return s?s(i,e,l):o.call(i,e,l)}})},function(t,e,n){var i=n(0),r=n(42),a=n(13),s=n(2),o=n(5),l=n(4),c=n(119),u=(n(3).Reflect||{}).construct,h=l(function(){function t(){}return!(u(function(){},[],t)instanceof t)}),d=!l(function(){u(function(){})});i(i.S+i.F*(h||d),"Reflect",{construct:function(t,e){a(t),s(e);var n=arguments.length<3?t:a(arguments[2]);if(d&&!h)return u(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var i=[null];return i.push.apply(i,e),new(c.apply(t,i))}var l=n.prototype,f=r(o(l)?l:Object.prototype),p=Function.apply.call(t,f,e);return o(p)?p:f}})},function(t,e,n){var i=n(9),r=n(0),a=n(2),s=n(26);r(r.S+r.F*n(4)(function(){Reflect.defineProperty(i.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,e,n){a(t),e=s(e,!0),a(n);try{return i.f(t,e,n),!0}catch(t){return!1}}})},function(t,e,n){var i=n(0),r=n(19).f,a=n(2);i(i.S,"Reflect",{deleteProperty:function(t,e){var n=r(a(t),e);return!(n&&!n.configurable)&&delete t[e]}})},function(t,e,n){"use strict";var i=n(0),r=n(2),a=function(t){this._t=r(t),this._i=0;var e,n=this._k=[];for(e in t)n.push(e)};n(93)(a,"Object",function(){var t,e=this,n=e._k;do{if(e._i>=n.length)return{value:void 0,done:!0}}while(!((t=n[e._i++])in e._t));return{value:t,done:!1}}),i(i.S,"Reflect",{enumerate:function(t){return new a(t)}})},function(t,e,n){function i(t,e){var n,o,u=arguments.length<3?t:arguments[2];return c(t)===u?t[e]:(n=r.f(t,e))?s(n,"value")?n.value:void 0!==n.get?n.get.call(u):void 0:l(o=a(t))?i(o,e,u):void 0}var r=n(19),a=n(20),s=n(17),o=n(0),l=n(5),c=n(2);o(o.S,"Reflect",{get:i})},function(t,e,n){var i=n(19),r=n(0),a=n(2);r(r.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return i.f(a(t),e)}})},function(t,e,n){var i=n(0),r=n(20),a=n(2);i(i.S,"Reflect",{getPrototypeOf:function(t){return r(a(t))}})},function(t,e,n){var i=n(0);i(i.S,"Reflect",{has:function(t,e){return e in t}})},function(t,e,n){var i=n(0),r=n(2),a=Object.isExtensible;i(i.S,"Reflect",{isExtensible:function(t){return r(t),!a||a(t)}})},function(t,e,n){var i=n(0);i(i.S,"Reflect",{ownKeys:n(140)})},function(t,e,n){var i=n(0),r=n(2),a=Object.preventExtensions;i(i.S,"Reflect",{preventExtensions:function(t){r(t);try{return a&&a(t),!0}catch(t){return!1}}})},function(t,e,n){function i(t,e,n){var l,d,f=arguments.length<4?t:arguments[3],p=a.f(u(t),e);if(!p){if(h(d=s(t)))return i(d,e,n,f);p=c(0)}if(o(p,"value")){if(!1===p.writable||!h(f))return!1;if(l=a.f(f,e)){if(l.get||l.set||!1===l.writable)return!1;l.value=n,r.f(f,e,l)}else r.f(f,e,c(0,n));return!0}return void 0!==p.set&&(p.set.call(f,n),!0)}var r=n(9),a=n(19),s=n(20),o=n(17),l=n(0),c=n(38),u=n(2),h=n(5);l(l.S,"Reflect",{set:i})},function(t,e,n){var i=n(0),r=n(85);r&&i(i.S,"Reflect",{setPrototypeOf:function(t,e){r.check(t,e);try{return r.set(t,e),!0}catch(t){return!1}}})},function(t,e,n){"use strict";var i=n(0),r=n(62)(!0);i(i.P,"Array",{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(37)("includes")},function(t,e,n){"use strict";var i=n(0),r=n(141),a=n(11),s=n(10),o=n(13),l=n(99);i(i.P,"Array",{flatMap:function(t){var e,n,i=a(this);return o(t),e=s(i.length),n=l(i,0),r(n,i,i,e,0,1,t,arguments[1]),n}}),n(37)("flatMap")},function(t,e,n){"use strict";var i=n(0),r=n(141),a=n(11),s=n(10),o=n(28),l=n(99);i(i.P,"Array",{flatten:function(){var t=arguments[0],e=a(this),n=s(e.length),i=l(e,0);return r(i,e,e,n,0,void 0===t?1:o(t)),i}}),n(37)("flatten")},function(t,e,n){"use strict";var i=n(0),r=n(91)(!0);i(i.P,"String",{at:function(t){return r(this,t)}})},function(t,e,n){"use strict";var i=n(0),r=n(142),a=n(70);i(i.P+i.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(a),"String",{padStart:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,e,n){"use strict";var i=n(0),r=n(142),a=n(70);i(i.P+i.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(a),"String",{padEnd:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,e,n){"use strict";n(52)("trimLeft",function(t){return function(){return t(this,1)}},"trimStart")},function(t,e,n){"use strict";n(52)("trimRight",function(t){return function(){return t(this,2)}},"trimEnd")},function(t,e,n){"use strict";var i=n(0),r=n(27),a=n(10),s=n(65),o=n(67),l=RegExp.prototype,c=function(t,e){this._r=t,this._s=e};n(93)(c,"RegExp String",function(){var t=this._r.exec(this._s);return{value:t,done:null===t}}),i(i.P,"String",{matchAll:function(t){if(r(this),!s(t))throw TypeError(t+" is not a regexp!");var e=String(this),n="flags"in l?String(t.flags):o.call(t),i=new RegExp(t.source,~n.indexOf("g")?n:"g"+n);return i.lastIndex=a(t.lastIndex),new c(i,e)}})},function(t,e,n){n(81)("asyncIterator")},function(t,e,n){n(81)("observable")},function(t,e,n){var i=n(0),r=n(140),a=n(18),s=n(19),o=n(97);i(i.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n,i=a(t),l=s.f,c=r(i),u={},h=0;c.length>h;)void 0!==(n=l(i,e=c[h++]))&&o(u,e,n);return u}})},function(t,e,n){var i=n(0),r=n(143)(!1);i(i.S,"Object",{values:function(t){return r(t)}})},function(t,e,n){var i=n(0),r=n(143)(!0);i(i.S,"Object",{entries:function(t){return r(t)}})},function(t,e,n){"use strict";var i=n(0),r=n(11),a=n(13),s=n(9);n(8)&&i(i.P+n(73),"Object",{__defineGetter__:function(t,e){s.f(r(this),t,{get:a(e),enumerable:!0,configurable:!0})}})},function(t,e,n){"use strict";var i=n(0),r=n(11),a=n(13),s=n(9);n(8)&&i(i.P+n(73),"Object",{__defineSetter__:function(t,e){s.f(r(this),t,{set:a(e),enumerable:!0,configurable:!0})}})},function(t,e,n){"use strict";var i=n(0),r=n(11),a=n(26),s=n(20),o=n(19).f;n(8)&&i(i.P+n(73),"Object",{__lookupGetter__:function(t){var e,n=r(this),i=a(t,!0);do{if(e=o(n,i))return e.get}while(n=s(n))}})},function(t,e,n){"use strict";var i=n(0),r=n(11),a=n(26),s=n(20),o=n(19).f;n(8)&&i(i.P+n(73),"Object",{__lookupSetter__:function(t){var e,n=r(this),i=a(t,!0);do{if(e=o(n,i))return e.set}while(n=s(n))}})},function(t,e,n){var i=n(0);i(i.P+i.R,"Map",{toJSON:n(144)("Map")})},function(t,e,n){var i=n(0);i(i.P+i.R,"Set",{toJSON:n(144)("Set")})},function(t,e,n){n(74)("Map")},function(t,e,n){n(74)("Set")},function(t,e,n){n(74)("WeakMap")},function(t,e,n){n(74)("WeakSet")},function(t,e,n){n(75)("Map")},function(t,e,n){n(75)("Set")},function(t,e,n){n(75)("WeakMap")},function(t,e,n){n(75)("WeakSet")},function(t,e,n){var i=n(0);i(i.G,{global:n(3)})},function(t,e,n){var i=n(0);i(i.S,"System",{global:n(3)})},function(t,e,n){var i=n(0),r=n(24);i(i.S,"Error",{isError:function(t){return"Error"===r(t)}})},function(t,e,n){var i=n(0);i(i.S,"Math",{clamp:function(t,e,n){return Math.min(n,Math.max(e,t))}})},function(t,e,n){var i=n(0);i(i.S,"Math",{DEG_PER_RAD:Math.PI/180})},function(t,e,n){var i=n(0),r=180/Math.PI;i(i.S,"Math",{degrees:function(t){return t*r}})},function(t,e,n){var i=n(0),r=n(146),a=n(126);i(i.S,"Math",{fscale:function(t,e,n,i,s){return a(r(t,e,n,i,s))}})},function(t,e,n){var i=n(0);i(i.S,"Math",{iaddh:function(t,e,n,i){var r=t>>>0,a=e>>>0,s=n>>>0;return a+(i>>>0)+((r&s|(r|s)&~(r+s>>>0))>>>31)|0}})},function(t,e,n){var i=n(0);i(i.S,"Math",{isubh:function(t,e,n,i){var r=t>>>0,a=e>>>0,s=n>>>0;return a-(i>>>0)-((~r&s|~(r^s)&r-s>>>0)>>>31)|0}})},function(t,e,n){var i=n(0);i(i.S,"Math",{imulh:function(t,e){var n=+t,i=+e,r=65535&n,a=65535&i,s=n>>16,o=i>>16,l=(s*a>>>0)+(r*a>>>16);return s*o+(l>>16)+((r*o>>>0)+(65535&l)>>16)}})},function(t,e,n){var i=n(0);i(i.S,"Math",{RAD_PER_DEG:180/Math.PI})},function(t,e,n){var i=n(0),r=Math.PI/180;i(i.S,"Math",{radians:function(t){return t*r}})},function(t,e,n){var i=n(0);i(i.S,"Math",{scale:n(146)})},function(t,e,n){var i=n(0);i(i.S,"Math",{umulh:function(t,e){var n=+t,i=+e,r=65535&n,a=65535&i,s=n>>>16,o=i>>>16,l=(s*a>>>0)+(r*a>>>16);return s*o+(l>>>16)+((r*o>>>0)+(65535&l)>>>16)}})},function(t,e,n){var i=n(0);i(i.S,"Math",{signbit:function(t){return(t=+t)!=t?t:0==t?1/t==1/0:t>0}})},function(t,e,n){"use strict";var i=n(0),r=n(22),a=n(3),s=n(69),o=n(133);i(i.P+i.R,"Promise",{finally:function(t){var e=s(this,r.Promise||a.Promise),n="function"==typeof t;return this.then(n?function(n){return o(e,t()).then(function(){return n})}:t,n?function(n){return o(e,t()).then(function(){throw n})}:t)}})},function(t,e,n){"use strict";var i=n(0),r=n(104),a=n(132);i(i.S,"Promise",{try:function(t){var e=r.f(this),n=a(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},function(t,e,n){var i=n(34),r=n(2),a=i.key,s=i.set;i.exp({defineMetadata:function(t,e,n,i){s(t,e,r(n),a(i))}})},function(t,e,n){var i=n(34),r=n(2),a=i.key,s=i.map,o=i.store;i.exp({deleteMetadata:function(t,e){var n=arguments.length<3?void 0:a(arguments[2]),i=s(r(e),n,!1);if(void 0===i||!i.delete(t))return!1;if(i.size)return!0;var l=o.get(e);return l.delete(n),!!l.size||o.delete(e)}})},function(t,e,n){var i=n(34),r=n(2),a=n(20),s=i.has,o=i.get,l=i.key,c=function(t,e,n){if(s(t,e,n))return o(t,e,n);var i=a(e);return null!==i?c(t,i,n):void 0};i.exp({getMetadata:function(t,e){return c(t,r(e),arguments.length<3?void 0:l(arguments[2]))}})},function(t,e,n){var i=n(136),r=n(145),a=n(34),s=n(2),o=n(20),l=a.keys,c=a.key,u=function(t,e){var n=l(t,e),a=o(t);if(null===a)return n;var s=u(a,e);return s.length?n.length?r(new i(n.concat(s))):s:n};a.exp({getMetadataKeys:function(t){return u(s(t),arguments.length<2?void 0:c(arguments[1]))}})},function(t,e,n){var i=n(34),r=n(2),a=i.get,s=i.key;i.exp({getOwnMetadata:function(t,e){return a(t,r(e),arguments.length<3?void 0:s(arguments[2]))}})},function(t,e,n){var i=n(34),r=n(2),a=i.keys,s=i.key;i.exp({getOwnMetadataKeys:function(t){return a(r(t),arguments.length<2?void 0:s(arguments[1]))}})},function(t,e,n){var i=n(34),r=n(2),a=n(20),s=i.has,o=i.key,l=function(t,e,n){if(s(t,e,n))return!0;var i=a(e);return null!==i&&l(t,i,n)};i.exp({hasMetadata:function(t,e){return l(t,r(e),arguments.length<3?void 0:o(arguments[2]))}})},function(t,e,n){var i=n(34),r=n(2),a=i.has,s=i.key;i.exp({hasOwnMetadata:function(t,e){return a(t,r(e),arguments.length<3?void 0:s(arguments[2]))}})},function(t,e,n){var i=n(34),r=n(2),a=n(13),s=i.key,o=i.set;i.exp({metadata:function(t,e){return function(n,i){o(t,e,(void 0!==i?r:a)(n),s(i))}}})},function(t,e,n){var i=n(0),r=n(103)(),a=n(3).process,s="process"==n(24)(a);i(i.G,{asap:function(t){var e=s&&a.domain;r(e?e.bind(t):t)}})},function(t,e,n){"use strict";var i=n(0),r=n(3),a=n(22),s=n(103)(),o=n(7)("observable"),l=n(13),c=n(2),u=n(45),h=n(47),d=n(14),f=n(46),p=f.RETURN,v=function(t){return null==t?void 0:l(t)},g=function(t){var e=t._c;e&&(t._c=void 0,e())},m=function(t){return void 0===t._o},b=function(t){m(t)||(t._o=void 0,g(t))},y=function(t,e){c(t),this._c=void 0,this._o=t,t=new _(this);try{var n=e(t),i=n;null!=n&&("function"==typeof n.unsubscribe?n=function(){i.unsubscribe()}:l(n),this._c=n)}catch(e){return void t.error(e)}m(this)&&g(this)};y.prototype=h({},{unsubscribe:function(){b(this)}});var _=function(t){this._s=t};_.prototype=h({},{next:function(t){var e=this._s;if(!m(e)){var n=e._o;try{var i=v(n.next);if(i)return i.call(n,t)}catch(t){try{b(e)}finally{throw t}}}},error:function(t){var e=this._s;if(m(e))throw t;var n=e._o;e._o=void 0;try{var i=v(n.error);if(!i)throw t;t=i.call(n,t)}catch(t){try{g(e)}finally{throw t}}return g(e),t},complete:function(t){var e=this._s;if(!m(e)){var n=e._o;e._o=void 0;try{var i=v(n.complete);t=i?i.call(n,t):void 0}catch(t){try{g(e)}finally{throw t}}return g(e),t}}});var M=function(t){u(this,M,"Observable","_f")._f=l(t)};h(M.prototype,{subscribe:function(t){return new y(t,this._f)},forEach:function(t){var e=this;return new(a.Promise||r.Promise)(function(n,i){l(t);var r=e.subscribe({next:function(e){try{return t(e)}catch(t){i(t),r.unsubscribe()}},error:i,complete:n})})}}),h(M,{from:function(t){var e="function"==typeof this?this:M,n=v(c(t)[o]);if(n){var i=c(n.call(t));return i.constructor===e?i:new e(function(t){return i.subscribe(t)})}return new e(function(e){var n=!1;return s(function(){if(!n){try{if(f(t,!1,function(t){if(e.next(t),n)return p})===p)return}catch(t){if(n)throw t;return void e.error(t)}e.complete()}}),function(){n=!0}})},of:function(){for(var t=0,e=arguments.length,n=new Array(e);t<e;)n[t]=arguments[t++];return new("function"==typeof this?this:M)(function(t){var e=!1;return s(function(){if(!e){for(var i=0;i<n.length;++i)if(t.next(n[i]),e)return;t.complete()}}),function(){e=!0}})}}),d(M.prototype,o,function(){return this}),i(i.G,{Observable:M}),n(44)("Observable")},function(t,e,n){var i=n(3),r=n(0),a=n(70),s=[].slice,o=/MSIE .\./.test(a),l=function(t){return function(e,n){var i=arguments.length>2,r=!!i&&s.call(arguments,2);return t(i?function(){("function"==typeof e?e:Function(e)).apply(this,r)}:e,n)}};r(r.G+r.B+r.F*o,{setTimeout:l(i.setTimeout),setInterval:l(i.setInterval)})},function(t,e,n){var i=n(0),r=n(102);i(i.G+i.B,{setImmediate:r.set,clearImmediate:r.clear})},function(t,e,n){for(var i=n(101),r=n(40),a=n(15),s=n(3),o=n(14),l=n(53),c=n(7),u=c("iterator"),h=c("toStringTag"),d=l.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=r(f),v=0;v<p.length;v++){var g,m=p[v],b=f[m],y=s[m],_=y&&y.prototype;if(_&&(_[u]||o(_,u,d),_[h]||o(_,h,m),l[m]=d,b))for(g in i)_[g]||a(_,g,i[g],!0)}},function(t,e,n){(function(e){!function(e){"use strict";function n(t,e,n,i){var a=e&&e.prototype instanceof r?e:r,s=Object.create(a.prototype),o=new f(i||[]);return s._invoke=c(t,n,o),s}function i(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function r(){}function a(){}function s(){}function o(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function l(t){function n(e,r,a,s){var o=i(t[e],t,r);if("throw"!==o.type){var l=o.arg,c=l.value;return c&&"object"==typeof c&&b.call(c,"__await")?Promise.resolve(c.__await).then(function(t){n("next",t,a,s)},function(t){n("throw",t,a,s)}):Promise.resolve(c).then(function(t){l.value=t,a(l)},s)}s(o.arg)}function r(t,e){function i(){return new Promise(function(i,r){n(t,e,i,r)})}return a=a?a.then(i,i):i()}"object"==typeof e.process&&e.process.domain&&(n=e.process.domain.bind(n));var a;this._invoke=r}function c(t,e,n){var r=z;return function(a,s){if(r===E)throw new Error("Generator is already running");if(r===k){if("throw"===a)throw s;return v()}for(n.method=a,n.arg=s;;){var o=n.delegate;if(o){var l=u(o,n);if(l){if(l===T)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===z)throw r=k,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=E;var c=i(t,e,n);if("normal"===c.type){if(r=n.done?k:O,c.arg===T)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=k,n.method="throw",n.arg=c.arg)}}}function u(t,e){var n=t.iterator[e.method];if(n===g){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=g,u(t,e),"throw"===e.method))return T;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return T}var r=i(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,T;var a=r.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=g),e.delegate=null,T):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,T)}function h(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function d(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function f(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(h,this),this.reset(!0)}function p(t){if(t){var e=t[_];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(b.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=g,e.done=!0,e};return i.next=i}}return{next:v}}function v(){return{value:g,done:!0}}var g,m=Object.prototype,b=m.hasOwnProperty,y="function"==typeof Symbol?Symbol:{},_=y.iterator||"@@iterator",M=y.asyncIterator||"@@asyncIterator",w=y.toStringTag||"@@toStringTag",x="object"==typeof t,S=e.regeneratorRuntime;if(S)return void(x&&(t.exports=S));S=e.regeneratorRuntime=x?t.exports:{},S.wrap=n;var z="suspendedStart",O="suspendedYield",E="executing",k="completed",T={},P={};P[_]=function(){return this};var C=Object.getPrototypeOf,D=C&&C(C(p([])));D&&D!==m&&b.call(D,_)&&(P=D);var A=s.prototype=r.prototype=Object.create(P);a.prototype=A.constructor=s,s.constructor=a,s[w]=a.displayName="GeneratorFunction",S.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===a||"GeneratorFunction"===(e.displayName||e.name))},S.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,w in t||(t[w]="GeneratorFunction")),t.prototype=Object.create(A),t},S.awrap=function(t){return{__await:t}},o(l.prototype),l.prototype[M]=function(){return this},S.AsyncIterator=l,S.async=function(t,e,i,r){var a=new l(n(t,e,i,r));return S.isGeneratorFunction(e)?a:a.next().then(function(t){return t.done?t.value:a.next()})},o(A),A[w]="Generator",A[_]=function(){return this},A.toString=function(){return"[object Generator]"},S.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},S.values=p,f.prototype={constructor:f,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=g,this.done=!1,this.delegate=null,this.method="next",this.arg=g,this.tryEntries.forEach(d),!t)for(var e in this)"t"===e.charAt(0)&&b.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=g)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){function e(e,i){return a.type="throw",a.arg=t,n.next=e,i&&(n.method="next",n.arg=g),!!i}if(this.done)throw t;for(var n=this,i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i],a=r.completion;if("root"===r.tryLoc)return e("end");if(r.tryLoc<=this.prev){var s=b.call(r,"catchLoc"),o=b.call(r,"finallyLoc");if(s&&o){if(this.prev<r.catchLoc)return e(r.catchLoc,!0);if(this.prev<r.finallyLoc)return e(r.finallyLoc)}else if(s){if(this.prev<r.catchLoc)return e(r.catchLoc,!0)}else{if(!o)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return e(r.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&b.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=t,a.arg=e,r?(this.method="next",this.next=r.finallyLoc,T):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),T},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),d(n),T}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;d(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:p(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=g),T}}}("object"==typeof e?e:"object"==typeof window?window:"object"==typeof self?self:this)}).call(e,n(79))},function(t,e,n){n(388),t.exports=n(22).RegExp.escape},function(t,e,n){var i=n(0),r=n(389)(/[\\^$*+?.()|[\]{}]/g,"\\$&");i(i.S,"RegExp",{escape:function(t){return r(t)}})},function(t,e){t.exports=function(t,e){var n=e===Object(e)?function(t){return e[t]}:e;return function(e){return String(e).replace(t,n)}}},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}function a(t,e,n){return function(){var i=n.apply(e,arguments);return i===e?t:i}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(106),o=r(s),l=n(1),c=i(l),u=n(147),h=r(u),d=n(31),f=r(d),p=n(6),v=r(p),g=n(48),m=r(g),b=n(76),y=r(b),_=n(49),M=r(_),w=n(110),x=r(w),S=n(21),z=i(S),O=n(157),E=r(O),k=n(158),T=function t(e,n,i){var r=h.default.get(e);if(r){var a=new r(n,i);return t._instances[a._id]=a,a}c.error('Tool "'+e+'" was not found.')};T._instances={},T._globals=x.default,T.clearInstances=function(t){if(t)T._instances[t]=void 0;else{for(var e in T._instances)T._instances[e].clear();T._instances={}}};var P=(0,o.default)(n(397));c.forEach(P,function(t,e){y.default.register(e,t)});var C=(0,o.default)(n(401),1);c.forEach(C,function(t,e){v.default.register(e,t)}),(0,o.default)(n(427)),T.helpers=(0,o.default)(n(428)),T.iconset=z,d3.rebind=function(t,e){for(var n=1,i=void 0,r=arguments.length;++n<r;)t[i=arguments[n]]=a(t,e,e[i]);return t},d3.time={},d3.time.scale=d3.scaleTime,d3.time.scale.utc=d3.scaleUtc,d3.time.format=function(t){var e=d3.timeFormat(t);return e.parse=d3.timeParse(t),e},d3.time.format.utc=function(t){var e=d3.utcFormat(t);return e.parse=d3.utcParse(t),e},d3.time.format.iso=function(t){var e=d3.isoFormat(t);return e.parse=d3.isoParse(t),e},d3.scaleGenericlog=E.default,d3.selection.prototype.onTap=k.onTap,d3.selection.prototype.onLongTap=k.onLongTap,T.Class=f.default,T.Tool=h.default,T.Component=v.default,T.Model=m.default,T.Reader=y.default,T.Events=M.default,T.utils=c,e.default=T},function(t,e){t.exports={linear:function(t,e,n,i,r){return+n+(r-t)/(e-t)*(i-n)},exp:function(t,e,n,i,r){return Math.exp((Math.log(n)*(e-r)-Math.log(i)*(t-r))/(e-t))},stepBefore:function(t,e,n,i,r){return i},stepAfter:function(t,e,n,i,r){return n},stepMiddle:function(t,e,n,i,r){return r<(t+e)/2?n:i}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(31),r=function(t){return t&&t.__esModule?t:{default:t}}(i),a=r.default.extend({init:function(){this.intervals={}},setInterval:function(t){function e(e,n,i){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t,e,n){this.clearInterval(t),this.intervals[t]=setInterval(e,n)}),clearInterval:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){t?this.intervals[t]&&(clearInterval(this.intervals[t]),delete this.intervals[t]):this.clearAllIntervals()}),clearAllIntervals:function(){for(var t in this.intervals)this.clearInterval(t)}});e.default=a},function(t,e,n){function i(t){return n(r(t))}function r(t){var e=a[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var a={"./axis":107,"./axis.js":107,"./color":148,"./color.js":148,"./data":108,"./data.js":108,"./dataconnected":55,"./dataconnected.js":55,"./entities":109,"./entities.js":109,"./group":149,"./group.js":149,"./hook":32,"./hook.js":32,"./label":150,"./label.js":150,"./locale":151,"./locale.js":151,"./marker":77,"./marker.js":77,"./side":152,"./side.js":152,"./size":153,"./size.js":153,"./stack":154,"./stack.js":154,"./time":155,"./time.js":155,"./ui":156,"./ui.js":156};i.keys=function(){return Object.keys(a)},i.resolve=r,t.exports=i,i.id=393},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e,n,i){return c.hashCode([t.select.key,t.where,t.from,t.join,t.dataset,t.version,t.language,e,n,i])}function a(t,e,n){var i=e[0]+" - "+e[e.length-1]+" ("+e.length+")";return n&&(i=i+"_"+n.join()),i}Object.defineProperty(e,"__esModule",{value:!0}),e.DataStorage=e.Storage=void 0;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(1),c=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(l),u=n(31),h=(function(t){t&&t.__esModule}(u),e.Storage=function(){function t(){i(this,t),this.queryIds={},this.queries={},this._collection={},this._collectionPromises={}}return o(t,[{key:"loadFromReader",value:function(t,e,n){var i=r(t,n._basepath,n._lastModified,n._name);return this.queries[i]||(this.queries[i]=this.queryQueue(n,i)),this.queries[i].getPromise(t,e)}},{key:"getDataId",value:function(t,e,n){var i=r(t,e._basepath,e._lastModified,e._name);return!!this.queries[i]&&this.queries[i].getDataId(t,n)}},{key:"queryQueue",value:function(t,e){var n=this,i=function(t,e){return 0==Object.keys(e).filter(function(n){return e[n]!==t[n]}).length&&(0==Object.keys(t).length||0!=Object.keys(e).length)};return new function(){this.readerObject=t,this.queries=[],this.query=null,this.parsers=null,this.defer={},this.getPromise=function(t,e){var n=this,r=!0,a=!1,o=void 0;try{for(var l,u=this.queries[Symbol.iterator]();!(r=(l=u.next()).done);r=!0){var h=l.value,d=function(n){if(0==t.select.value.filter(function(t){return-1==n.query.select.value.indexOf(t)}).length&&i(n.parsers,e))return{v:n.defer.promise}}(h);if("object"===(void 0===d?"undefined":s(d)))return d.v}}catch(t){a=!0,o=t}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return this.query?(this.query.select.value=this.query.select.value?c.unique(this.query.select.value.concat(t.select.value)):[],c.extend(this.parsers,e)):(this.query=t,this.parsers=e),c.debounce(function(){n.runQuery()},10)(),this.defer.promise&&this.defer.promise instanceof Promise||(this.defer.promise=new Promise(function(t,e){n.defer.resolve=t,n.defer.reject=e})),this.defer.promise},this.runQuery=function(){this.query&&(this.queries.push(this.reader(this.query,this.parsers,this.defer)),this.query=null,this.parsers=null,this.defer={})},this.getDataId=function(t,e){var n=!0,r=!1,a=void 0;try{for(var o,l=this.queries[Symbol.iterator]();!(n=(o=l.next()).done);n=!0){var c=o.value,u=function(n){if((!t.select.value||0==t.select.value.filter(function(t){return-1==n.query.select.value.indexOf(t)}).length)&&i(n.parsers,e)&&n.dataId)return{v:n.dataId}}(c);if("object"===(void 0===u?"undefined":s(u)))return u.v}}catch(t){r=!0,a=t}finally{try{!n&&l.return&&l.return()}finally{if(r)throw a}}return!1},this.reader=function(t,e,i){var r=this,a=t.grouping?c.clone(t,null,["grouping"]):t;return new function(){var s=this;this.defer=i,this.query=t,this.parsers=e,this.dataId=null;var o=void 0;o=t.select.key.includes(null)?Promise.resolve([]):r.readerObject.read(a,this.parsers),o.then(function(e){s.checkQueryResponse(t,e),s.dataId=c.hashCode([a,r.readerObject._basepath]),n._collection[s.dataId]={},n._collectionPromises[s.dataId]={};var i=n._collection[s.dataId];i.data=e,i.valid={},i.nested={},i.unique={},i.timespan={},i.limits={},i.frames={},i.haveNoDataPointsPerKey={},i.query=t,s.defer.resolve(s.dataId)}).catch(function(t){s.defer.reject(t)}),this.checkQueryResponse=function(t,e){var n=this;if(0==e.length&&c.warn("Reader for data source '"+this._name+"' returned empty array for query:",JSON.stringify(t,null,2)),e.length>0){for(var i=(t.select.key||[]).concat(t.select.value||[]),r=e.length-1;r>=0;r--){for(var a=i.length-1;a>=0;a--)(e[r][i[a]]||0===e[r][i[a]])&&i.splice(a,1);if(!i.length)break}i.forEach(function(i){if(-1==t.select.key.indexOf(i))c.warn("Reader result: Column '"+i+"' is missing from '"+t.from+"' data, but it might be ok");else{c.error("Reader result: Key column '"+i+"' is missing from '"+t.from+"' response",JSON.stringify(t));var r=new Error;r.name="reader/error/keyColumnMissingInReaderResult",r.message="Reader result: Key column '"+i+"' is missing from '"+t.from+"' response",r.details=i,r.ddfql=t,n.defer.reject(r),console.log(e)}})}}}}}}},{key:"aggregateData",value:function(t,e,n,i){if(Object.keys(e.grouping).every(function(t){return 1===e.grouping[t].grouping}))return Promise.resolve(t);var a=r(e,n._basepath,n._lastModified,n._name),s=c.hashCode([e,n._basepath]);if(!this._collection[s]||this._collection[s]._queryMergeId!==a){for(var o=e.grouping=e.grouping,l=e.select.key,u=e.select.value.filter(function(t){return"measure"===i[t].concept_type}),h="datapoints"===e.from?l.concat(e.animatable):l.slice(0),d=Object.keys(o||{}).filter(function(t){return-1!==h.indexOf(t)&&-1!==l.indexOf(t)&&o[t].grouping>1}),f=d.reduce(function(t,e){return function(n){return t[e]=function(t){return~~(+t/n)*n},t}(o[e].grouping)},{}),p=d3.nest(),v=0;v<h.length;v++)p=p.key(function(t,e){return e?function(n){return e(n[t])}:function(e){return e[t]}}(h[v],f[h[v]]));d.length&&(p=p.rollup(function(t){var e=Object.assign({},t[0]);return d.forEach(function(t){return e[t]=f[t](e[t])}),u.forEach(function(n){return e[n]=d3.sum(t,function(t){return+t[n]})}),[e]})),this._collection[s]={},this._collectionPromises[s]={};var g=this._collection[s];g.data=c.nestArrayToValues(p.entries(this._collection[t].data)),g.valid={},g.nested={},g.unique={},g.timespan={},g.limits={},g.frames={},g.haveNoDataPointsPerKey={},g.query=e,g._queryMergeId=a}return Promise.resolve(s)}},{key:"getData",value:function(t,e,n,i){if(!e||"data"==e)return this._collection[t].data;if("query"==e)return this._collection[t].query;if(!n)return this._collection[t][e];var r="string"==typeof n?n:JSON.stringify(n);if(this._collection[t][e][r])return this._collection[t][e][r];switch(e){case"unique":this._collection[t][e][r]=this._getUnique(t,n);break;case"valid":this._collection[t][e][r]=this._getValid(t,n);break;case"timespan":this._collection[t][e][r]=this._getTimespan(t,n);break;case"limits":this._collection[t][e][r]=this._getLimits(t,n);break;case"nested":this._collection[t][e][r]=this._getNested(t,n)}return this._collection[t][e][r]}},{key:"_getTimespan",value:function(t,e){var n=this._collection[t].query.animatable,i=this._collection[t].data.filter(function(t){return t[e]||0===t[e]}).map(function(t){return t[n]});return 0==i.length&&c.warn("_getTimespan() was unable to work with an empty array of valid datapoints"),{min:d3.min(i),max:d3.max(i)}}},{key:"_getValid",value:function(t,e){return this._collection[t].data.filter(function(t){return t[e]||0===t[e]})}},{key:"_getLimits",value:function(t,e){for(var n=this._collection[t].data,i=n.reduce(function(t,n){var i=c.isDate(n[e])?n[e]:parseFloat(n[e]);return isNaN(i)||t.push(i),t},[]),r=void 0,a=void 0,s={},o=0;o<i.length;o+=1){var l=i[o];(void 0===r||l<r)&&(r=l),(void 0===a||l>a)&&(a=l)}return s.min=r||0,s.max=a||100,s}},{key:"_getUnique",value:function(t,e){var n=void 0,i=this._collection[t].data;if(c.isArray(e)){var r=i.map(function(t){return c.clone(t,e)});n=c.unique(r,function(t){return JSON.stringify(t)})}else{var a=i.map(function(t){return t[e]});n=c.unique(a)}return n}},{key:"_getNested",value:function(t,e){for(var n=d3.nest(),i=0;i<e.length;i++)n=n.key(function(t){return function(e){return e[t]}}(e[i]));return c.nestArrayToObjWithFlatKeys(n.entries(this._collection[t].data))}},{key:"getFrames",value:function(t,e,n,i){var r=this,s=a(t,e,n);return this._collectionPromises[t][s]||(this._collectionPromises[t][s]={queue:this.framesQueue(e,s),promise:null}),this._collectionPromises[t][s]&&this._collectionPromises[t][s].promise instanceof Promise?this._collectionPromises[t][s].promise:(this._collectionPromises[t][s].promise=new Promise(function(a,o){t||o(c.warn("Data.js 'get' method doesn't like the dataId you gave it: "+t)),r._getFrames(t,s,e,n,i).then(function(e){r._collection[t].frames[s]=e,a(r._collection[t].frames[s])})}),this._collectionPromises[t][s].promise)}},{key:"getFrame",value:function(t,e,n,i){var r=this,s=a(t,e,i);return new Promise(function(e,i){r._collection[t].frames[s]&&r._collection[t].frames[s][n]?e(r._collection[t].frames[s]):r._collectionPromises[t][s].queue.forceFrame(n,function(){e(r._collection[t].frames[s])})})}},{key:"listenFrame",value:function(t,e,n,i){var r=a(t,e,n);this._collectionPromises[t][r].queue.defaultCallbacks.push(function(e){i(t,e)}),this._collection[t].frames[r]&&c.forEach(this._collection[t].frames[r],function(e,n){i(t,new Date(n))})}},{key:"_muteAllQueues",value:function(t){c.forEach(this._collectionPromises,function(e,n){c.forEach(e,function(e,n){1==e.queue.isActive&&e.queue.whatId!=t&&e.queue.mute()})})}},{key:"_checkForcedQueuesExists",value:function(){c.forEach(this._collectionPromises,function(t,e){c.forEach(t,function(t,e){t.queue.forcedQueue.length>0&&t.queue.unMute()})})}},{key:"_unmuteQueue",value:function(){c.forEach(this._collectionPromises,function(t,e){c.forEach(t,function(t,e){0==t.queue.isActive&&t.queue.unMute()})})}},{key:"framesQueue",value:function(t,e){var n=this;return new function(){this.defaultCallbacks=[],this.callbacks={},this.forcedQueue=[],this.isActive=!0,this.delayedAction=null,this.whatId=e,this.queue=t.slice(0);var i=this;this.queue.splice(0,0,this.queue.splice(this.queue.length-1,1)[0]),this.key=0,this.mute=function(){this.isActive=!1,this.delayedAction=Promise.resolve.bind(Promise)},this.unMute=function(){this.isActive=!0,"function"==typeof this.delayedAction&&this.delayedAction(),this.delayedAction=null,0==this.forcedQueue.length&&0==this.queue.length&&n._unmuteQueue()},this.frameComplete=function(t){var e=void 0;if(i.defaultCallbacks.length>0)for(e=0;e<i.defaultCallbacks.length;e++)i.defaultCallbacks[e](t);if(i.callbacks[t]&&i.callbacks[t].length>0)for(e=0;e<i.callbacks[t].length;e++)i.callbacks[t][e]()},this._waitingForActivation=function(){var t=this;return new Promise(function(e,n){if(t.isActive)return e();t.delayedAction=e})},this._getNextFrameName=function(){var t=null;return this.forcedQueue.length>0||this.queue.length>0?this.forcedQueue.length>0?t=this.forcedQueue.shift():(0==this.forcedQueue.length&&this.key>=this.queue.length-1&&(this.key=0),t=this.queue.splice(this.key,1).pop()):n._unmuteQueue(),t},this.checkForcedFrames=function(){this.forcedQueue.length>0||n._checkForcedQueuesExists()},this.getNext=function(){var t=this;return new Promise(function(e,n){t.checkForcedFrames(),t.isActive?e(t._getNextFrameName()):t._waitingForActivation().then(function(){e(t._getNextFrameName())})})},this.forceFrame=function(t,e){if(this.callbacks[t])this.callbacks[t].push(e);else{var i=function(t,e){for(var n=e.toString(),i=-1,r=0,a=t.length;r<a;r++)if(t[r].toString()==n){i=r;break}return i}(this.queue,t);-1!==i?(this.forcedQueue.unshift(this.queue.splice(i,1).pop()),n._muteAllQueues(this.whatId),this.unMute(),"function"==typeof e&&("object"!==s(this.callbacks[t])&&(this.callbacks[t]=[]),this.callbacks[t].push(e)),this.key=i):"object"===s(this.callbacks[t])?this.callbacks[t].push(e):this.callbacks[t]=[e]}}}}},{key:"_getFrames",value:function(t,e,n,i,r){var a=this;return a._collection[t].frames[e]||(a._collection[t].frames[e]={}),new Promise(function(s,o){r||c.warn("_getFrames in data.js is missing indicatorsDB, it's needed for gap filling"),n||c.warn("_getFrames in data.js is missing framesArray, it's needed so much");var l=a._collection[t].query.animatable,u=a._collection[t].query.select.key.slice(0);l&&-1!=u.indexOf(l)&&u.splice(u.indexOf(l),1);var h={},d=void 0,f=void 0,p=void 0,v=void 0,g=void 0,m=a.getData(t,"nested",u.concat([l]),r),b=Object.keys(m);i=i||b.map(function(t){return JSON.parse(t).join(",")});var y=a._collection[t].query,_=y.select.value.filter(function(t){return"_default"!==t}),M=_.length,w=void 0,x=void 0,S=void 0,z=void 0,O=void 0;for(S=0;S<i.length;S++)for(h[i[S]]={},O=0;O<M;O++)h[i[S]][_[O]]=null;for(O=0;O<M;O++)a._collection[t].haveNoDataPointsPerKey[_[O]]={};var E=function t(n,i,o,E){var k={};if("datapoints"!==y.from){var T=a._collection[o].data;for(O=0;O<M;O++)k[_[O]]={};for(var P=0;P<T.length;P++){var C=T[P];for(O=0;O<M;O++)k[_[O]][C[u[0]]]=C[_[O]],null==C[_[O]]&&(a._collection[o].haveNoDataPointsPerKey[_[O]][JSON.stringify([C[u[0]]])]=T.length)}}else{for(O=0;O<M;O++)k[_[O]]={};for(S=0;S<i.length;S++)for(w=i[S],x=b[S],O=0;O<M;O++)if(z=_[O],v=r[z]?r[z].interpolation:null,m[x]&&m[x][n]&&(m[x][n][0][z]||0===m[x][n][0][z]))k[z][w]=m[x][n][0][z];else if("none"===v||!1===y.gapfill)k[z][w]=null;else{if(null===(d=h[w][z])){var D=Object.keys(m[x]);d=new Array(D.length),f=0;for(var A=0,L=D.length;A<L;A++)p=m[x][D[A]],(p[0][z]||0===p[0][z])&&(d[f++]=p[0]);d.length=f,h[w][z]=0===f?[]:d,0==d.length&&(a._collection[o].haveNoDataPointsPerKey[z][x]=d.length)}d&&d.length>0&&(g=null,k[z][w]=c.interpolatePoint(d,void 0,z,g,l,n,v))}}a._collection[o].frames[e][n]=k,"function"==typeof E&&E(n),a._collectionPromises[o][e].queue.getNext().then(function(n){n?c.defer(function(){t(n,i,o,a._collectionPromises[o][e].queue.frameComplete)}):s(a._collection[o].frames[e])})};a._collectionPromises[t][e].queue.getNext().then(function(n){n&&E(n,i,t,a._collectionPromises[t][e].queue.frameComplete)})})}}]),t}());e.DataStorage=new h},function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t){var e=Object.create(o);return e.model=t,e}Object.defineProperty(e,"__esModule",{value:!0});var a=(function(){function t(t,e){var n=[],i=!0,r=!1,a=void 0;try{for(var s,o=t[Symbol.iterator]();!(i=(s=o.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,a=t}finally{try{!i&&o.return&&o.return()}finally{if(r)throw a}}return n}}(),n(1)),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(a),o={model:null,dimensionModels:new Map,updateDimensionModels:function(){var t=this;this.dimensionModels.clear(),s.forEach(this.model.state._data,function(e,n){void 0!==e.dim&&t.dimensionModels.set(n,e)})},getDimensionModelsForSpace:function(t,e){var n=this;this.updateDimensionModels();var r=[],a=Object.keys(t).reduce(function(n,i){return"entities"==t[i]._type&&(e.includes(t[i].dim)?n[t[i].dim]=i:r.push(i)),n},{});return e.map(function(e,s){var o=void 0;if(n.model.dataManager.isConceptType(e,"time"))o="time",t[o].dim=e;else{if(a[e])return a[e];if(void 0!==(o=r.shift()))t[o].setDimension(e);else{o="entities_"+e;var l=i({},o,{dim:e});n.model.state.set(l)}}return o})}};e.default=r},function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function r(t){var e=Object.create(o);return e.model=t,e}Object.defineProperty(e,"__esModule",{value:!0});var a=n(1),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(a),o={model:null,dataModels:new Map,getDataModels:function(){return this.updateDataModels(),this.dataModels},updateDataModels:function(){var t=this;this.dataModels.clear(),s.forEach(this.model._data,function(e,n){"data"==e._type&&t.dataModels.set(n,e)})},isConceptType:function(t,e){this.updateDataModels();var n=!0,i=!1,r=void 0;try{for(var a,s=this.dataModels.values()[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var o=a.value;if(o.conceptDictionary[t]&&o.conceptDictionary[t].concept_type==e)return!0}}catch(t){i=!0,r=t}finally{try{!n&&s.return&&s.return()}finally{if(i)throw r}}return!1},getConceptProperty:function(t,e){this.updateDataModels();var n=!0,i=!1,r=void 0;try{for(var a,s=this.dataModels.values()[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var o=a.value,l=o.getConceptprops(t);if(l&&l[e])return l[e]}}catch(t){i=!0,r=t}finally{try{!n&&s.return&&s.return()}finally{if(i)throw r}}return"Concept not found"},getAvailableDataForKey:function(t,e,n){this.updateDataModels();var i=[],r=!0,a=!1,s=void 0;try{for(var o,l=this.dataModels.values()[Symbol.iterator]();!(r=(o=l.next()).done);r=!0){var c=o.value,u=!0,h=!1,d=void 0;try{for(var f,p=((c.dataAvailability||{})[n]||[])[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){var v=f.value,g=v.key,m=v.value;!g.has(t)||e&&m!==e||i.push({data:c._name,key:t,value:m})}}catch(t){h=!0,d=t}finally{try{!u&&p.return&&p.return()}finally{if(h)throw d}}}}catch(t){a=!0,s=t}finally{try{!r&&l.return&&l.return()}finally{if(a)throw s}}return i},getDimensionValues:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object.assign({select:{key:[t],value:e},from:"entities"},n);return Promise.all([].concat(i(this.getDataModels().values())).filter(function(e){return e.getConceptprops(t)}).map(function(t){return t.load(r,void 0,!0).then(function(e){return t.getData(e).map(function(e){return e.dataSourceName=t._name,e})})}))},getTags:function(){var t=this;return this.getDimensionValues("tag",["name","parent"]).then(function(e){return t.mergeResults(e,["tag"])})},concatResults:function(t){return t.reduce(function(t,e){return t.concat(e)})},mergeResults:function(t,e){var n=new Map;return t.forEach(function(t){t.forEach(function(t){var i=e.map(function(e){return t[e]}).join(",");n.has(i)||n.set(i,t)})}),Array.from(n.values())}};e.default=r},function(t,e,n){function i(t){return n(r(t))}function r(t){var e=a[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var a={"./csv-time_in_columns/csv-time_in_columns.js":398,"./csv/csv.js":159,"./inline/inline.js":400};i.keys=function(){return Object.keys(a)},i.resolve=r,t.exports=i,i.id=397},function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){var n=[],i=!0,r=!1,a=void 0;try{for(var s,o=t[Symbol.iterator]();!(i=(s=o.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,a=t}finally{try{!i&&o.return&&o.return()}finally{if(r)throw a}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=n(159),s=function(t){return t&&t.__esModule?t:{default:t}}(a),o=n(1),l=s.default.extend({MISSED_INDICATOR_NAME:"indicator",_name:"csv-time_in_columns",init:function(t){this._super(t),this.timeKey="time",Object.assign(this.ERRORS,{REPEATED_KEYS:"reader/error/repeatedKeys"})},load:function(t){var e=this,n=this._basepath,a=this._lastModified,s=this._name,l=this.getCached()[s+"#"+n+a],c=this.keySize,u=null;return l||(this.getCached()[s+"#"+n+a]=this._super().then(function(n){var a=n.rows,s=n.columns;e.hasNameColumn&&(u=s.splice(c+1,1)[0]||"name");var l=t[e.timeKey]&&!!t[e.timeKey](s[c]);l&&(0,o.warn)("Indicator column is missed.");var h=l?e.MISSED_INDICATOR_NAME:s[c],d=s.slice(0,c).concat(e.timeKey).concat(u||[]).concat(l?(0,o.capitalize)(e.MISSED_INDICATOR_NAME):a.reduce(function(t,e){var n=e[h];return!t.includes(n)&&n&&t.push(n),t},[])),f=d.slice(c+1+(u?1:0)),p=r(d,1),v=p[0];return{columns:d,rows:a.reduce(function(t,n){var r=n[v],a=t.filter(function(t){return t[v]===r});if(a.length){if(null!==a[0][n[h]])throw e.error(e.ERRORS.REPEATED_KEYS,void 0,{indicator:n[h],key:n[v]});a.forEach(function(t){t[n[h]]=n[t[e.timeKey]]})}else Object.keys(n).forEach(function(r){if(![v,h,u].includes(r)){var a,s=(a={},i(a,v,n[v]),i(a,e.timeKey,r),a),o=u?i({},u,n[u]):{},c=f.reduce(function(t,e){return t[e]=l||n[h]===e?n[r]:null,t},{});t.push(Object.assign(s,o,c))}});return t},[])}}))},_onLoadError:function(t){var e=this._basepath,n=this._lastModified,i=this._name;delete this.getCached()[i+"#"+e+n],this._super(t)},versionInfo:{version:"0.34.1",build:1537556334486}});e.default=l},function(t,e){(function(){var e,n,i;i=[],e={},t.exports=n=function(t,n,r){var a,s,o,l,c,u,h,d;if(null==r&&(r=!0),"string"==typeof n){if(2!==n.length)throw{name:"ArgumentException",message:"The format for string options is '<thousands><decimal>' (exactly two characters)"};d=n[0],a=n[1]}else if(Array.isArray(n)){if(2!==n.length)throw{name:"ArgumentException",message:"The format for array options is ['<thousands>','[<decimal>'] (exactly two elements)"};d=n[0],a=n[1]}else d=(null!=n?n.thousands:void 0)||(null!=n?n.group:void 0)||e.thousands,a=(null!=n?n.decimal:void 0)||e.decimal;return u=""+d+a+r,c=i[u],null==c&&(o=r?3:1,c=i[u]=new RegExp("^\\s*([+-]?(?:(?:\\d{1,3}(?:\\"+d+"\\d{"+o+",3})+)|\\d*))(?:\\"+a+"(\\d*))?\\s*$")),null==(h=t.match(c))||3!==h.length?NaN:(l=h[1].replace(new RegExp("\\"+d,"g"),""),s=h[2],parseFloat(l+"."+s))},t.exports.setOptions=function(t){var n,i;for(n in t)i=t[n],e[n]=i},t.exports.factoryReset=function(){e={thousands:",",decimal:"."}},t.exports.withOptions=function(t,e){return null==e&&(e=!0),function(i){return n(i,t,e)}},t.exports.factoryReset()}).call(this)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(76),r=function(t){return t&&t.__esModule?t:{default:t}}(i),a=r.default.extend({_name:"inline",init:function(t){this._data=t.data||[{}]},load:function(){return Promise.resolve({columns:Object.keys(this._data[0]),rows:this._data})},versionInfo:{version:"0.34.1",build:1537556334486}});e.default=a},function(t,e,n){function i(t){return n(r(t))}function r(t){var e=a[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var a={"./brushslider/brushslider.js":78,"./brushslider/bubblesize/bubblesize.js":160,"./brushslider/singlehandleslider/singlehandleslider.js":59,"./brushslider/sizeslider/sizeslider.js":161,"./buttonlist/buttonlist.js":162,"./buttonlist/optionsbuttonlist/optionsbuttonlist.js":163,"./colorlegend/colorlegend.js":164,"./datanotes/datanotes.js":403,"./datawarning/datawarning.js":404,"./dialogs/_dialog.js":12,"./dialogs/about/about.js":167,"./dialogs/axes/axes.js":168,"./dialogs/colors/colors.js":170,"./dialogs/dialogs.js":171,"./dialogs/find/find.js":172,"./dialogs/find/show.js":112,"./dialogs/grouping/grouping.js":173,"./dialogs/label/label.js":174,"./dialogs/moreoptions/moreoptions.js":175,"./dialogs/opacity/opacity.js":176,"./dialogs/presentation/presentation.js":177,"./dialogs/side/side.js":178,"./dialogs/size/size.js":179,"./dialogs/speed/speed.js":180,"./dialogs/stack/stack.js":181,"./dialogs/timedisplay/timedisplay.js":183,"./dialogs/zoom/zoom.js":185,"./draggablelist/draggablelist.js":182,"./indicatorpicker/indicatorpicker.js":50,"./minmaxinputs/minmaxinputs.js":169,"./simplecheckbox/simplecheckbox.js":60,"./steppedspeedslider/steppedspeedslider.js":422,"./timeslider/timeslider.js":424,"./treemenu/treemenu.js":426,"./zoombuttonlist/zoombuttonlist.js":186};i.keys=function(){return Object.keys(a)},i.resolve=r,t.exports=i,i.id=401},function(t,e){t.exports='<div class="vzb-slider-holder">\n\t<svg class="vzb-slider-svg">\n\t\t<g class="vzb-slider-wrap">\n\t\t\t<g class="vzb-slider">\n\t\t\t</g>\n\t\t</g>\n\t</svg>\n</div>\n'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(i),a=n(6),s=function(t){return t&&t.__esModule?t:{default:t}}(a),o=n(21),l=s.default.extend({init:function(t,e){var n=this;this.name="gapminder-datanotes",this.model_expects=[{name:"marker",type:"marker"},{name:"locale",type:"locale"}],this.context=e,this.model_binds={"translate:locale":function(t){n._ready&&n._readyOnce&&n.ready()}},this._super(t,e),this.close=this.close.bind(this),this.hidden=!0,this.showNotes=!1,this.pinned=!1,this.left=0,this.top=0,this.hookName=null,this.newHookName=null},ready:function(){this.setValues()},readyOnce:function(){var t=this;this.translator=this.model.locale.getTFunction(),this.element=d3.select(this.placeholder),this.element.selectAll("div").remove();var e=this.element;e.append("div").html(o.close).on("click",function(){d3.event.stopPropagation(),t.close()}).select("svg").attr("width","0px").attr("height","0px").attr("class","vzb-data-notes-close").classed("vzb-hidden",!0),e.append("div").attr("class","vzb-data-notes-body vzb-dialog-scrollable"),e.append("div").attr("class","vzb-data-notes-link")},resize:function(){this.close()},close:function(){this.hidden||this.pin(!1).hide()},setHook:function(t){return this._readyOnce?this.pinned?(this.newHookName=t,this):(this.hookName&&this.model.marker[this.hookName].off("change:which",this.close),this.hookName=this.newHookName=t,this.model.marker[this.hookName].on("change:which",this.close),this.setValues(),this):this},setValues:function(){if(this.hookName){var t=this.model.marker[this.hookName],e=t.getConceptprops();if(this.element.select(".vzb-data-notes-body").classed("vzb-hidden",!e.description).text(r.replaceNumberSpacesToNonBreak(e.description)||""),this.element.select(".vzb-data-notes-link").classed("vzb-hidden",!e.sourceLink),e.sourceLink){var n=this.translator("hints/source"),i=e.sourceName||"";this.element.select(".vzb-data-notes-link").html("<span>"+(i?n+": ":"")+'<a href="'+r.normaliseLink(e.sourceLink)+'" target="_blank">'+(i||n)+"</a></span>")}this.showNotes=e.sourceLink||e.description}},setPos:function(t,e,n){if(this.left=t,this.top=e,this.pinned&&!n)return this;var i=this.parent.element.offsetHeight,r=this.element.node().offsetWidth,a=this.element.node().offsetHeight,s=void 0,o=void 0,l=this.left-r,c=this.top;return l<10&&(l=10,s=!0),c+a+10>i&&(c=i-a-10,o=!0),s&&o&&(c=this.top-a-30),this.element.style("top",c+"px"),this.element.style("left",l+"px"),this},pin:function(t){return this.hidden?this:(this.pinned=!this.pinned,null!=t&&(this.pinned=t),this.element.select(".vzb-data-notes-close").classed("vzb-hidden",!this.pinned),this.element.classed("vzb-data-notes-pinned",this.pinned),this.hookName!=this.newHookName&&this.setHook(this.newHookName),this.element.select(".vzb-data-notes-body").node().scrollTop=0,this.showNotes?this.setPos(this.left,this.top,!0):this.hide())},toggle:function(t){return this.pinned||!this.hookName?this:(null==t&&(t=!this.hidden),this.hidden=t,this.element.classed("vzb-hidden",this.hidden||!this.showNotes),this)},show:function(){return this.toggle(!1)},hide:function(){return this.toggle(!0)}});e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=(function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);e.default=t}(i),n(6)),a=function(t){return t&&t.__esModule?t:{default:t}}(r),s=n(21),o=!0,l=a.default.extend({init:function(t,e){var n=this;this.name="gapminder-datawarning",this.model_expects=[{name:"locale",type:"locale"}],this.context=e,this.model_binds={"translate:locale":function(t){n._ready&&n.redraw()}},this._super(t,e)},ready:function(){this.redraw()},readyOnce:function(){var t=this;this.element=d3.select(this.placeholder),this.element.selectAll("div").remove(),this.element.append("div").attr("class","vzb-data-warning-background").on("click",function(){t.toggle(!0)}),this.container=this.element.append("div").attr("class","vzb-data-warning-box"),this.container.append("div").html(s.close).on("click",function(){t.toggle()}).select("svg").attr("width","0px").attr("height","0px").attr("class","vzb-data-warning-close"),this.container.append("div").attr("class","vzb-data-warning-link").html(s.warn).append("div"),this.container.append("div").attr("class","vzb-data-warning-title"),this.container.append("div").attr("class","vzb-data-warning-body vzb-dialog-scrollable")},redraw:function(){this.translator=this.model.locale.getTFunction(),this.container.select(".vzb-data-warning-link div").text(this.translator("hints/dataWarning"));var t=this.translator("datawarning/title/"+this.parent.name);this.container.select(".vzb-data-warning-title").html(t).classed("vzb-hidden",!t||t=="datawarning/title/"+this.parent.name),this.container.select(".vzb-data-warning-body").html(this.translator("datawarning/body/"+this.parent.name))},toggle:function(t){null==t&&(t=!o),o=t,this.element.classed("vzb-hidden",o);var e=this;this.parent.components.forEach(function(t){t.element.classed("vzb-blur",t!=e&&!o)})}});e.default=l},function(t,e,n){function i(t){return n(r(t))}function r(t){var e=a[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var a={"./about/about.html":406,"./axes/axes.html":407,"./colors/colors.html":408,"./find/find.html":409,"./find/show.html":166,"./grouping/grouping.html":410,"./label/label.html":411,"./moreoptions/moreoptions.html":412,"./opacity/opacity.html":413,"./presentation/presentation.html":414,"./side/side.html":415,"./size/size.html":416,"./speed/speed.html":417,"./stack/stack.html":418,"./timedisplay/timedisplay.html":419,"./zoom/zoom.html":420};i.keys=function(){return Object.keys(a)},i.resolve=r,t.exports=i,i.id=405},function(t,e){t.exports='<div class=\'vzb-dialog-modal\'>\n  <div class="vzb-dialog-title"> \n      <%=t ("buttons/about") %>\n  </div>\n      \n  <div class="vzb-dialog-content">\n      <p class="vzb-about-text0"></p>\n      <p class="vzb-about-text1"></p>\n      <br/>\n      <p class="vzb-about-version"></p>\n      <p class="vzb-about-updated"></p>\n      <br/>\n      <p class="vzb-about-report"></p>\n      <br/>\n      <p class="vzb-about-credits"></p>\n      <br/>\n      <p class="vzb-about-tool"></p>\n      <br/>\n      <p class="vzb-about-datasets"><span>Datasets:</span></p>\n      <br/>\n      <p class="vzb-about-readers"><span>Readers:</span></p>\n  </div>\n      \n  <div class="vzb-dialog-buttons">\n    <div data-click="closeDialog" class="vzb-dialog-button vzb-label-primary">\n      <%=t ("buttons/ok") %>\n    </div>\n  </div>\n      \n\n</div>\n'},function(t,e){t.exports='<div class=\'vzb-dialog-modal\'>\n    <span class="thumb-tack-class thumb-tack-class-ico-pin fa" data-dialogtype="axes" data-click="pinDialog"></span>\n    <span class="thumb-tack-class thumb-tack-class-ico-drag fa" data-dialogtype="axes" data-click="dragDialog"></span>\n    <div class="vzb-dialog-title"><%=t ("buttons/axes") %></div>\n    <div class="vzb-dialog-content">\n      <p class="vzb-dialog-sublabel"> <%=t ("buttons/axis_x") %> <span class="vzb-xaxis-selector"></span> </p>\n      <div class="vzb-xaxis-minmax vzb-dialog-paragraph"></div>\n      <p class="vzb-dialog-sublabel"> <%=t ("buttons/axis_y") %> <span class="vzb-yaxis-selector"></span> </p>\n      <div class="vzb-yaxis-minmax vzb-dialog-paragraph"></div>\n    </div>\n    <div class="vzb-dialog-buttons">\n      <div data-click="closeDialog" class="vzb-dialog-button vzb-label-primary"><%=t ( "buttons/ok") %></div>\n    </div>\n</div>'},function(t,e){t.exports='<div class=\'vzb-dialog-modal\'>\n  <span class="thumb-tack-class thumb-tack-class-ico-pin fa" data-dialogtype="colors" data-click="pinDialog"></span>\n  <span class="thumb-tack-class thumb-tack-class-ico-drag fa" data-dialogtype="colors" data-click="dragDialog"></span>\n  \n  <div class="vzb-dialog-title">\n      <%=t ("buttons/colors") %>\n      <span class="vzb-caxis-selector"></span>\n  </div>\n  \n  \n  \n  <div class="vzb-dialog-content vzb-dialog-scrollable">\n    <div class="vzb-clegend-container"></div>\n  </div>\n\n  <div class="vzb-dialog-buttons">\n    <div data-click="closeDialog" class="vzb-dialog-button vzb-label-primary">\n      <%=t ("buttons/ok") %>\n    </div>\n  </div>\n\n</div>\n'},function(t,e){t.exports='<div class=\'vzb-dialog-modal\'>\n  <span class="thumb-tack-class thumb-tack-class-ico-pin fa" data-dialogtype="find" data-click="pinDialog"></span>\n  <span class="thumb-tack-class thumb-tack-class-ico-drag fa" data-dialogtype="find" data-click="dragDialog"></span>\n  <div class="vzb-dialog-title">\n    <label class="vzb-dialog-title-switch">\n      <input type="checkbox">\n      <span class="vzb-switch-slider round"></span>\n      <span class="vzb-switch-off"><%=t ("dialogs/find") %></span>\n      <span class="vzb-switch-on"><%=t ("buttons/show") %></span>\n    </label>\n    <span class="vzb-dialog-content vzb-find-filter">\n      <form>\n        <input class="vzb-find-search" type="search" required/>\n        <button class="vzb-cancel-button" type="reset"></button>\n      </form>\n    </span>\n    <span class="vzb-find-filter-selector"></span>\n  </div>\n  \n  <div class="vzb-dialog-content vzb-dialog-content-fixed vzb-dialog-scrollable">\n      <div class="vzb-dialog-content vzb-dialog-scrollable vzb-dialog-panel vzb-dialog-panel-find vzb-active">\n        <div class="vzb-find-list">\n          \x3c!-- list will be placed here --\x3e\n        </div>\n      </div>\n\n      <div class="vzb-dialog-content vzb-dialog-scrollable vzb-dialog-panel vzb-dialog-panel-show">\n      </div>\n  </div>\n\n  <div class="vzb-dialog-buttons">\n    <div class="vzb-dialog-bubbleopacity vzb-dialog-control" data-panel="find"></div>\n    <div class="vzb-dialog-button vzb-find-deselect" data-panel="find">\n      <%=t ("buttons/deselect") %>\n    </div>\n    <div class="vzb-dialog-button vzb-show-deselect" data-panel="show">\n      <%=t ("buttons/reset") %>\n    </div>\n    <div class="vzb-dialog-button vzb-show-apply" data-panel="show">\n      <%=t ("buttons/apply") %>\n    </div>\n      \n    <div data-dialogtype="find" data-click="closeDialog" class="vzb-dialog-button vzb-label-primary">\n      <%=t ("buttons/ok") %>\n    </div>\n  </div>  \n\n</div>\n'},function(t,e){t.exports='<div class=\'vzb-dialog-modal\'>\n  <div class="vzb-dialog-title"> \n      <%=t ("buttons/grouping") %>\n  </div>\n      \n  <div class="vzb-dialog-content">\n    <div class="vzb-dialog-groups"></div>\n    <div class="vzb-dialog-placeholder"></div>\n  </div>\n\n  <div class="vzb-dialog-buttons">\n    <div data-click="closeDialog" class="vzb-dialog-button vzb-label-primary">\n      <%=t ("buttons/ok") %>\n    </div>\n  </div>\n</div>\n'},function(t,e){t.exports='<div class=\'vzb-dialog-modal\'>\n  <span class="thumb-tack-class thumb-tack-class-ico-pin fa" data-dialogtype="label" data-click="pinDialog"></span>\n  <span class="thumb-tack-class thumb-tack-class-ico-drag fa" data-dialogtype="label" data-click="dragDialog"></span>\n  <div class="vzb-dialog-title"> \n      <%=t ("buttons/label") %>\n  </div>\n      \n      \n  <div class="vzb-dialog-content">\n    <span class="vzb-saxis-selector"></span>\n    <div class="vzb-dialog-sizeslider"></div>\n    <div class="vzb-removelabelbox-switch"></div>\n  </div>\n\n  <div class="vzb-dialog-buttons">\n    <div data-click="closeDialog" class="vzb-dialog-button vzb-label-primary">\n      <%=t ("buttons/ok") %>\n    </div>\n  </div>\n\n</div>\n'},function(t,e){t.exports='<div class=\'vzb-dialog-modal\'>\n  <span class="thumb-tack-class thumb-tack-class-ico-pin fa" data-dialogtype="moreoptions" data-click="pinDialog"></span>\n  <span class="thumb-tack-class thumb-tack-class-ico-drag fa" data-dialogtype="moreoptions" data-click="dragDialog"></span>\n\n\n  <div class="vzb-dialog-title">\n    <%=t ("buttons/more_options") %>\n  </div>\n\n  <div class="vzb-dialog-content vzb-dialog-scrollable">\n    <div class=\'vzb-dialog-options-buttonlist\'>\n    </div>\n    <div class="vzb-accordion">\n    </div>\n  </div>\n\n  <div class="vzb-dialog-buttons">\n    <div data-click="closeDialog" class="vzb-dialog-button vzb-label-primary">\n      <%=t ("buttons/ok") %>\n    </div>\n  </div>\n\n</div>'},function(t,e){t.exports='<div class=\'vzb-dialog-modal\'>\n  <div class="vzb-dialog-title"> \n      <%=t ("buttons/opacity") %>\n  </div>\n      \n  <div class="vzb-dialog-content">\n      <p class="vzb-dialog-sublabel">\n        <%=t ("buttons/opacityRegular") %>\n      </p>\n      <div class="vzb-dialog-bubbleopacity-regular"></div>\n\n      <p class="vzb-dialog-sublabel">\n        <%=t ("buttons/opacityNonselect") %>\n      </p>\n      <div class="vzb-dialog-bubbleopacity-selectdim"></div>\n    </div>\n  </div>\n\n</div>\n'},function(t,e){t.exports='<div class=\'vzb-dialog-modal\'>\n  <div class="vzb-dialog-title"> \n      <%=t ("dialogs/presentation") %>\n  </div>\n      \n  <div class="vzb-dialog-content">\n      <div class="vzb-presentationmode-switch"></div>\n      <div class="vzb-decorations-switch"></div>\n      <div class="vzb-advancedshowandselect-switch"></div>\n  </div>\n\n</div>\n'},function(t,e){t.exports='<div class=\'vzb-dialog-modal\'>\n  <span class="thumb-tack-class thumb-tack-class-ico-pin fa" data-dialogtype="side" data-click="pinDialog"></span>\n  <span class="thumb-tack-class thumb-tack-class-ico-drag fa" data-dialogtype="side" data-click="dragDialog"></span>\n  <div class="vzb-dialog-title">\n    <%=t ("buttons/side") %>\n    <span class="vzb-side-selector"></span>\n  </div>\n  \n  <div class="vzb-dialog-content vzb-dialog-scrollable">\n    <div class="vzb-side-list vzb-side-list-left">\n      \x3c!-- list will be placed here --\x3e\n    </div>\n    <div class="vzb-side-list vzb-side-list-right">\n      \x3c!-- list will be placed here --\x3e\n    </div>\n  </div>\n\n  <div class="vzb-dialog-buttons">\n    <div class="vzb-dialog-button vzb-label-primary vzb-side-switch-sides">\n      <%=t ("buttons/leftright") %>\n    </div>\n\n    <div data-click="closeDialog" class="vzb-dialog-button vzb-label-primary">\n      <%=t ("buttons/ok") %>\n    </div>\n  </div>\n\n</div>\n'},function(t,e){t.exports='<div class=\'vzb-dialog-modal\'>\n  <span class="thumb-tack-class thumb-tack-class-ico-pin fa" data-dialogtype="size" data-click="pinDialog"></span>\n  <span class="thumb-tack-class thumb-tack-class-ico-drag fa" data-dialogtype="size" data-click="dragDialog"></span>\n  <div class="vzb-dialog-title"> \n      <%=t ("buttons/size") %>\n      <span class="vzb-saxis-selector"></span>\n  </div>\n      \n      \n  <div class="vzb-dialog-content">\n    <div class="vzb-dialog-bubblesize"></div>\n    <span class="vzb-dialog-subtitle">teststs</span>\n  </div>\n\n  <div class="vzb-dialog-buttons">\n    <div data-click="closeDialog" class="vzb-dialog-button vzb-label-primary">\n      <%=t ("buttons/ok") %>\n    </div>\n  </div>\n\n</div>\n'},function(t,e){t.exports='<div class=\'vzb-dialog-modal\'>\n  <div class="vzb-dialog-title"> \n      <%=t ("buttons/speed") %>\n  </div>\n      \n  <div class="vzb-dialog-content">\n    <div class="vzb-dialog-placeholder"></div>\n  </div>\n\n</div>\n'},function(t,e){t.exports='<div class=\'vzb-dialog-modal\'>\n    <span class="thumb-tack-class thumb-tack-class-ico-pin fa" data-dialogtype="stack" data-click="pinDialog"></span>\n    <span class="thumb-tack-class thumb-tack-class-ico-drag fa" data-dialogtype="stack" data-click="dragDialog"></span>\n    <div class="vzb-dialog-title"><%=t ("buttons/stack") %></div>\n        \n    <div class="vzb-dialog-content vzb-dialog-scrollable">\n        \n        \x3c!--p class="vzb-dialog-sublabel"> <%=t ( "hints/mount/howtostack") %></p--\x3e\n        <form class="vzb-howtostack vzb-dialog-paragraph">\n            <label> <input type="radio" name="stack" value="none"> <%=t ("mount/stacking/none") %> </label>\n            <label> <input type="radio" name="stack" value="bycolor"> <%=t ("mount/stacking/color") %> </label>\n            <label> <input type="radio" name="stack" value="all"> <%=t ("mount/stacking/world") %> </label>\n        </form>\n        \n        <form class="vzb-howtomerge vzb-dialog-paragraph">\n            <p class="vzb-dialog-sublabel"> <%=t ("hints/mount/howtomerge") %> </p>\n            <label> <input type="radio" name="merge" value="none"> <%=t ("mount/merging/none") %> </label>\n            <label> <input type="radio" name="merge" value="grouped"> <%=t ("mount/merging/color") %> </label>\n            <label> <input type="radio" name="merge" value="stacked"> <%=t ("mount/merging/world") %> </label>\n        </form>\n        \n        <form class="vzb-manual-sorting">\n            <p class="vzb-dialog-sublabel"> <%=t ("mount/manualSorting") %> </p>\n            <div class="vzb-dialog-draggablelist vzb-dialog-control"></div>\n        </form>\n                \n    </div>\n\n    <div class="vzb-dialog-buttons">\n        <div data-click="closeDialog" class="vzb-dialog-button vzb-label-primary"><%=t ("buttons/ok") %></div>\n    </div>\n\n</div>'},function(t,e){t.exports='<div class="vzb-dialog-modal">\n  <div class="vzb-dialog-content vzb-dialog-content-fixed">\n    <svg>\n      <g class="vzb-timedisplay"></g>\n    </svg>\n  </div>\n  <div class="vzb-dialog-buttons"></div>\n</div>\n'},function(t,e){t.exports='<div class=\'vzb-dialog-modal\'>\n  <span class="thumb-tack-class thumb-tack-class-ico-pin fa" data-dialogtype="label" data-click="pinDialog"></span>\n  <span class="thumb-tack-class thumb-tack-class-ico-drag fa" data-dialogtype="label" data-click="dragDialog"></span>\n  <div class="vzb-dialog-title"> \n    <%=t ("buttons/zoom") %>\n    <div class="vzb-dialog-zoom-buttonlist"></div>\n  </div>\n      \n      \n  <div class="vzb-dialog-content">\n    <div class="vzb-panwitharrow-switch"></div>\n    <div class="vzb-zoomonscrolling-switch"></div>\n    <div class="vzb-adaptminmaxzoom-switch"></div>\n  </div>\n\n  <div class="vzb-dialog-buttons">\n    <div data-click="closeDialog" class="vzb-dialog-button vzb-label-primary">\n      <%=t ("buttons/ok") %>\n    </div>\n  </div>\n\n</div>\n'},function(t,e){t.exports='<div class="vzb-mmi-holder">\n\n    <span class="vzb-mmi-domainmin-label"></span>\n    <input type="text" class="vzb-mmi-domainmin" name="min">\n    <span class="vzb-mmi-domainmax-label"></span>\n    <input type="text" class="vzb-mmi-domainmax" name="max">\n\n    <br class="vzb-mmi-break"/>\n\n    <span class="vzb-mmi-zoomedmin-label"></span>\n    <input type="text" class="vzb-mmi-zoomedmin" name="min">\n    <span class="vzb-mmi-zoomedmax-label"></span>\n    <input type="text" class="vzb-mmi-zoomedmax" name="max">\n    \n</div>'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(6),r=function(t){return t&&t.__esModule?t:{default:t}}(i),a=n(1),s=r.default.extend({init:function(t,e){var i=this;this.name="steppedSpeedSlider",this.template=n(423),this.config=Object.assign({triangleWidth:10,triangleHeight:10,height:31,lineWidth:10,domain:[1,2,3,4,5,6],range:[1200,900,450,200,150,100]},t),this.config.height-=this.config.triangleHeight/2,this.model_expects=[{name:"time",type:"time"},{name:"locale",type:"locale"}],this.model_binds={"change:time.delay":function(){i.redraw()}},this.setDelay=(0,a.throttle)(this.setDelay,50),this._super(t,e)},readyOnce:function(){var t=this.config,e=t.domain,n=t.range,i=t.height;this.element=d3.select(this.element),this.svg=this.element.select("svg"),this.axisScale=d3.scaleLog().domain(d3.extent(e)).range([i,0]),this.delayScale=d3.scaleLinear().domain(e).range(n),this.initTriangle(),this.initAxis(),this.redraw()},initAxis:function(){var t=this,e=this.config,n=e.lineWidth,i=e.triangleWidth,r=e.triangleHeight,s=e.height,o=d3.axisLeft().scale(this.axisScale).tickFormat(function(){return""}).tickSizeInner(n).tickSizeOuter(0),l=i+n/2,c=r/2;this.svg.on("mousedown",function(){var e=d3.event.offsetY,n=Math.max(0,Math.min(e-c,s));t.setDelay(Math.round(t.delayScale(t.axisScale.invert(n))),!0,!0)}).select(".vzb-stepped-speed-slider-axis").attr("transform","translate("+l+", "+c+")").call(o),this.drag=d3.drag().on("drag",function(){var e=d3.event.dy,n=(0,a.transform)(t.slide.node()),i=n.translateY,r=Math.max(0,Math.min(e+i,s));t.setDelay(Math.round(t.delayScale(t.axisScale.invert(r)))),t.redraw(r)}).on("end",function(){t.setDelay(t.model.time.delay,!0,!0)}),this.svg.call(this.drag)},initTriangle:function(){var t=this.config;t.triangleWidth,t.triangleHeight,t.lineWidth;this.slide=this.svg.select(".vzb-stepped-speed-slider-triangle"),this.slide.append("g").append("path").attr("d",this.getTrianglePath())},getTrianglePath:function(){var t=this.config,e=t.triangleHeight;return"M "+t.triangleWidth+","+e/2+" 0,"+e+" 0,0 z"},setDelay:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.model.time.set("delay",t,e,n)},redraw:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.axisScale(this.delayScale.invert(this.model.time.delay));this.slide.attr("transform","translate(0, "+t+")")}});e.default=s},function(t,e){t.exports='<div class="vzb-stepped-speed-slider">\n  <svg>\n    <g class="vzb-stepped-speed-slider-triangle"></g>\n    <g class="vzb-stepped-speed-slider-axis"></g>\n  </svg>\n</div>\n'},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(r),s=n(6),o=i(s),l=n(111),c=i(l),u={small:{margin:{top:7,right:15,bottom:10,left:60},radius:8,label_spacing:5},medium:{margin:{top:0,right:15,bottom:10,left:50},radius:9,label_spacing:5},large:{margin:{top:-5,right:15,bottom:10,left:75},radius:11,label_spacing:8}},h={medium:{margin:{top:9}},large:{margin:{}}},d=o.default.extend({init:function(t,e){this.name="gapminder-timeslider",this.template=this.template||n(425),this.prevPosition=null,this.model_expects=[{name:"time",type:"time"},{name:"marker",type:"marker"},{name:"ui",type:"ui"}];var i=this;this.model_binds={"change:time":function(t,e){if(i.slide){if(-1!==["time.start","time.end"].indexOf(e)){if(!i.xScale)return;i.changeLimits()}i._optionClasses(),i.model.time.dragging||i._setHandle(i.model.time.playing)}},"change:time.start":function(t,e){i.slide&&(i.model.time.dragging||i._setHandle(i.model.time.playing),i.ready())},"change:time.end":function(t,e){i.slide&&(i.model.time.dragging||i._setHandle(i.model.time.playing),i.ready())},"change:time.offset":function(t,e){i.slide&&(i._updateProgressBar(),i.model.marker.listenFramesQueue(null,function(t){i._updateProgressBar(t)}))},"change:time.startSelected":function(t,e){i.slide&&i.updateSelectedStartLimiter()},"change:time.endSelected":function(t,e){i.slide&&i.updateSelectedEndLimiter()},"change:marker.select":function(t,e){i.setSelectedLimits()}},this._super(t,e),this.profiles=a.deepClone(u),this.presentationProfileChanges=a.deepClone(h),(this.model.ui.chart||{}).margin&&this.model.on("change:ui.chart.margin",function(t,e){var n=i.getLayoutProfile();if("small"!==n){i.profiles[n].margin.left=i.model.ui.chart.margin.left}i.slide&&i.updateSize()}),this.ui=a.extend({show_ticks:!1,show_value:!1,show_value_when_drag_play:!0,show_button:!0,axis_aligned:!1},t.ui.getPlainObject(),this.ui),this.width=0,this.height=0,this.availableTimeFrames=[],this.completedTimeFrames=[],this.getValueWidth=a.memoize(this.getValueWidth),this._setTime=a.throttle(this._setTime,50)},readyOnce:function(){var t=this;this.element=a.isArray(this.element)?this.element:d3.select(this.element),this.slider_outer=this.element.select(".vzb-ts-slider"),this.slider=this.slider_outer.select("g"),this.axis=this.element.select(".vzb-ts-slider-axis"),this.select=this.element.select(".vzb-ts-slider-select"),this.progressBar=this.element.select(".vzb-ts-slider-progress"),this.slide=this.element.select(".vzb-ts-slider-slide"),this.handle=this.element.select(".vzb-ts-slider-handle"),this.valueText=this.element.select(".vzb-ts-slider-value"),this.playButtons=this.element.select(".vzb-ts-btns"),this.element.select(".vzb-ts-btn-play").on("click",function(){t.model.time.play()}),this.element.select(".vzb-ts-btn-pause").on("click",function(){t.model.time.pause("soft")}),this.xScale=d3.scaleUtc().clamp(!0),this.xAxis=(0,c.default)("bottom"),this.valueText.classed("stroke",!0),this.slider.style("paint-order").length||(this.slider.insert("text",".vzb-ts-slider-value").attr("class","vzb-ts-slider-value stroke"),this.valueText.classed("stroke",!1)),this.valueText=this.element.selectAll(".vzb-ts-slider-value"),this.valueText.attr("text-anchor","middle").attr("dy","-0.7em");var e=t._getBrushed(),n=t._getBrushedEnd();this.brush=d3.drag().on("start drag",function(){e.call(this)}).on("end",function(){n.call(this)}),this.slide.call(this.brush),this.slider_outer.on("mousewheel",function(){if(t.model.time.dragging)return d3.event.stopPropagation(),d3.event.preventDefault(),d3.event.returnValue=!1,!1}),this._setSelectedLimitsId=0,this.model.time.startSelected>this.model.time.start&&t.updateSelectedStartLimiter(),this.model.time.endSelected<this.model.time.end&&t.updateSelectedEndLimiter(),this.parent.on("myEvent",function(e,n){var i=t.getLayoutProfile(),r=t.profiles[i];n.profile&&n.profile.margin&&(r.margin=n.profile.margin),t.element.select(".vzb-ts-slider-wrapper").style("right",n.mRight-r.margin.right+"px"),t.updateSize([0,n.rangeMax])}),this.on("resize",function(){t.updateSize()})},ready:function(){if(!this.model.time.splash){if(!this.model.time._ready)return a.warn("TODO timeslider is fired ready event while time model is not ready yet! how come?");var t=this;this.element.classed("vzb-ts-loading",!1),this.changeLimits(),this.changeTime(),this.updateSize(),t._updateProgressBar(),t.model.marker.listenFramesQueue(null,function(e){t._updateProgressBar(e)}),t.setSelectedLimits(!0)}},changeLimits:function(){var t=this.model.time.start,e=this.model.time.end;this.xScale.domain([t,e]),this.xAxis.tickValues([t,e]).tickFormat(this.model.time.getFormatter())},changeTime:function(){this.model.time.value;this._optionClasses()},updateSize:function(t){if(!this.model.time.splash){this.model.time.pause(),this.profile=this.getActiveProfile(this.profiles,this.presentationProfileChanges);var e=parseInt(this.slider_outer.style("width"),10)||0,n=parseInt(this.slider_outer.style("height"),10)||0;if(!n||!e)return a.warn("time slider resize() aborted because element is too small or has display:none");this.width=e-this.profile.margin.left-this.profile.margin.right,this.height=n-this.profile.margin.bottom-this.profile.margin.top;var i=this;this.slider.attr("transform","translate("+this.profile.margin.left+","+this.profile.margin.top+")"),this.xScale.range(t||[0,this.width]),this.slide.attr("transform","translate(0,"+this.height/2+")").attr("x1",this.xScale.range()[0]).attr("x2",this.xScale.range()[1]).style("stroke-width",2*this.profile.radius+"px"),this.xAxis=this.xAxis.scale(this.xScale).tickSizeInner(0).tickSizeOuter(0).tickPadding(this.profile.label_spacing).tickSizeMinor(0,0),this.axis.attr("transform","translate(0,"+this.height/2+")").call(this.xAxis),this.select.attr("transform","translate(0,"+this.height/2+")"),this.progressBar.attr("transform","translate(0,"+this.height/2+")"),this.slide.select(".background").attr("height",this.height),this.handle.attr("transform","translate(0,"+this.height/2+")").attr("r",this.profile.radius),this.sliderWidth=i.slider.node().getBoundingClientRect().width,this.resizeSelectedLimiters(),this._resizeProgressBar(),this._setHandle(),this.playButtons.style("width",this.profile.margin.left+"px")}},setSelectedLimits:function(t){var e=this;this._setSelectedLimitsId++;var n=this._setSelectedLimitsId,i=e.model.marker.select;if(0==i.length)return void(null!=e.model.time.start&&null!=e.model.time.end&&e.model.time.set({startSelected:new Date(e.model.time.start),endSelected:new Date(e.model.time.end)},null,!1));var r=a.unique(this.model.marker._getAllDimensions({exceptType:"time"})),s=[];a.forEach(i,function(t){s.push(e.model.marker.getEntityLimits(a.getKey(t,r)))}),Promise.all(s).then(function(i){if(n==e._setSelectedLimitsId){var r=i.shift(),s=r.min,o=r.max;a.forEach(i,function(t){s-t.min>0&&(s=t.min),o-t.max<0&&(o=t.max)}),e.model.time.set({startSelected:d3.max([s,new Date(e.model.time.start)]),endSelected:d3.min([o,new Date(e.model.time.end)])},t,!1)}})},updateSelectedStartLimiter:function(){var t=this;this.select.select("#clip-start-"+t._id).remove(),this.select.select(".selected-start").remove(),this.model.time.startSelected&&this.model.time.startSelected>this.model.time.start&&(this.select.append("clipPath").attr("id","clip-start-"+t._id).append("rect"),this.select.append("path").attr("clip-path","url("+location.pathname+"#clip-start-"+t._id+")").classed("selected-start",!0),this.resizeSelectedLimiters())},updateSelectedEndLimiter:function(){var t=this;this.select.select("#clip-end-"+t._id).remove(),this.select.select(".selected-end").remove(),this.model.time.endSelected&&this.model.time.endSelected<this.model.time.end&&(this.select.append("clipPath").attr("id","clip-end-"+t._id).append("rect"),this.select.append("path").attr("clip-path","url("+location.pathname+"#clip-end-"+t._id+")").classed("selected-end",!0),this.resizeSelectedLimiters())},resizeSelectedLimiters:function(){var t=this;this.select.select(".selected-start").attr("d","M0,0H"+this.xScale(this.model.time.startSelected)),this.select.select("#clip-start-"+t._id).select("rect").attr("x",-this.height/2).attr("y",-this.height/2).attr("height",this.height).attr("width",this.xScale(this.model.time.startSelected)+this.height/2),this.select.select(".selected-end").attr("d","M"+this.xScale(this.model.time.endSelected)+",0H"+this.xScale(this.model.time.end)),this.select.select("#clip-end-"+t._id).select("rect").attr("x",this.xScale(this.model.time.endSelected)).attr("y",-this.height/2).attr("height",this.height).attr("width",this.xScale(this.model.time.end)-this.xScale(this.model.time.endSelected)+this.height/2)},_resizeProgressBar:function(){var t=this;this.progressBar.selectAll("path").each(function(e){d3.select(this).attr("d","M"+t.xScale(e[0])+",0H"+t.xScale(e[1]))})},_updateProgressBar:function(t){var e=this;if(t){if(-1!=e.completedTimeFrames.indexOf(t))return;e.completedTimeFrames.push(t);var n=e.model.time.incrementTime(t),i=e.model.time.decrementTime(t);if(n>e.model.time.end){if(t-e.model.time.end!=0)return;n=t,t=i}if(0==e.availableTimeFrames.length||e.availableTimeFrames[e.availableTimeFrames.length-1][1]<t)e.availableTimeFrames.push([t,n]);else if(n<e.availableTimeFrames[0][0])e.availableTimeFrames.unshift([t,n]);else for(var r=0;r<e.availableTimeFrames.length;r++){if(t-e.availableTimeFrames[r][1]==0){r+1<e.availableTimeFrames.length&&n-e.availableTimeFrames[r+1][0]==0?(e.availableTimeFrames[r][1]=e.availableTimeFrames[r+1][1],e.availableTimeFrames.splice(r+1,1)):e.availableTimeFrames[r][1]=n;break}if(n-e.availableTimeFrames[r][0]==0){e.availableTimeFrames[r][0]=t;break}if(t-e.availableTimeFrames[r][1]>0&&n-e.availableTimeFrames[r+1][0]<0){e.availableTimeFrames.splice(r+1,0,[t,n]);break}}}else e.availableTimeFrames=[],e.completedTimeFrames=[];var a=this.progressBar.selectAll("path").data(e.availableTimeFrames);a.exit().remove(),a.enter().append("path").attr("class","domain").merge(a).each(function(t){d3.select(this).attr("d","M"+e.xScale(t[0])+",0H"+e.xScale(t[1])).classed("rounded",1==e.availableTimeFrames.length)})},getValueWidth:function(t,e){return this.valueText.node().getBoundingClientRect().width},_getBrushed:function(){var t=this;return function(){t.model.time.playing&&t.model.time.set("playing",!1,null,!1),t._optionClasses(),t.element.classed("vzb-ts-dragging",!0);var e=void 0;if(d3.event.sourceEvent){d3.event.sourceEvent.preventDefault(),t.model.time.dragStart();var n=a.roundStep(Math.round(d3.mouse(this)[0]),1);e=t.xScale.invert(n);var i=t.width;n>i?n=i:n<0&&(n=0),t.handle.attr("cx",n),t.valueText.attr("transform","translate("+n+","+t.height/2+")"),t.valueText.text(t.model.time.formatDate(e,"ui"))}e-t.model.time.value!=0&&t._setTime(e)}},_getBrushedEnd:function(){var t=this;return function(){t._setTime.recallLast(),t.element.classed("vzb-ts-dragging",!1),t.model.time.dragStop(),t.model.time.snap()}},_setHandle:function(t){var e=this,n=this.model.time.value,i=this.xScale(n);this.element.classed("vzb-ts-disabled",this.model.time.end<=this.model.time.start),null==e.prevPosition&&(e.prevPosition=i);var r=i>e.prevPosition?this.model.time.delayAnimations:0;t?(this.handle.attr("cx",e.prevPosition).transition().duration(r).ease(d3.easeLinear).attr("cx",i),this.valueText.attr("transform","translate("+e.prevPosition+","+this.height/2+")").transition("text").delay(r).text(this.model.time.formatDate(n,"ui")),this.valueText.transition().duration(r).ease(d3.easeLinear).attr("transform","translate("+i+","+this.height/2+")")):(this.handle.interrupt().attr("cx",i),this.valueText.interrupt().interrupt("text").transition("text"),this.valueText.attr("transform","translate("+i+","+this.height/2+")").text(this.model.time.formatDate(n,"ui"))),e.prevPosition=i},_setTime:function(t){var e=this,n=!this.model.time.dragging&&!this.model.time.playing;e.model.time.getModelObject("value").set(t,!1,n)},_optionClasses:function(){var t=this.ui.show_ticks,e=this.ui.show_value,n=this.ui.show_value_when_drag_play,i=this.ui.axis_aligned,r=this.ui.show_button&&this.model.time.playable;this.xAxis.labelerOptions({scaleType:"time",removeAllLabels:!t,limitMaxTickNumber:3,showOuter:!1,toolMargin:{left:10,right:10,top:0,bottom:30},fitIntoScale:"optimistic"}),this.element.classed("vzb-ts-hide-play-button",!r),this.element.classed("vzb-playing",this.model.time.playing),this.element.classed("vzb-ts-show-value",e),this.element.classed("vzb-ts-show-value-when-drag-play",n),this.element.classed("vzb-ts-axis-aligned",i)}});e.default=d},function(t,e){t.exports='<div class="vzb-timeslider vzb-ts-loading">\n  <div class="vzb-ts-slider-wrapper">\n    <svg class="vzb-ts-slider">\n      <g>\n        <g class="vzb-ts-slider-axis"></g>\n        <g class="vzb-ts-slider-progress"></g>\n        <g class="vzb-ts-slider-select"></g>\n        <circle class="vzb-ts-slider-handle"></circle>\n        <text class="vzb-ts-slider-value"></text>\n        <line class="vzb-ts-slider-slide"></line>\n      </g>\n      </svg>\n  </div>\n\n  \x3c!-- SVG VIZABI ICONS\n       source: https://github.com/encharm/Font-Awesome-SVG-PNG/ --\x3e\n  <div class="vzb-ts-btns">\n    <button class="vzb-ts-btn-loading vzb-ts-btn">\n      <div class=\'vzb-loader\'></div>\n    </button>\n    <button class="vzb-ts-btn-play vzb-ts-btn">\n      <svg class="vzb-icon vzb-icon-play" viewBox="3 3 42 42"\n           xmlns="http://www.w3.org/2000/svg">\n        <path xmlns="http://www.w3.org/2000/svg" d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm-4 29V15l12 9-12 9z"/>\n      </svg>\n    </button>\n    <button class="vzb-ts-btn-pause vzb-ts-btn">\n      <svg class="vzb-icon vzb-icon-pause" viewBox="3 3 42 42"\n           xmlns="http://www.w3.org/2000/svg">\n        <path xmlns="http://www.w3.org/2000/svg" d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm-2 28h-4V16h4v16zm8 0h-4V16h4v16z"/>\n      </svg>\n    </button>\n  </div>\n</div>\n'},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(r),s=n(6),o=i(s),l=n(31),c=i(l),u=n(32),h=(i(u),n(77)),d=i(h),f=n(21),p={wrapper:"vzb-treemenu-wrap",wrapper_outer:"vzb-treemenu-wrap-outer",background:"vzb-treemenu-background",close:"vzb-treemenu-close",search:"vzb-treemenu-search",list:"vzb-treemenu-list",list_outer:"vzb-treemenu-list-outer",list_item:"vzb-treemenu-list-item",list_item_leaf:"vzb-treemenu-list-item-leaf",leaf:"vzb-treemenu-leaf",leaf_content:"vzb-treemenu-leaf-content",leaf_content_item:"vzb-treemenu-leaf-content-item",leaf_content_item_title:"vzb-treemenu-leaf-content-item-title",leaf_content_item_descr:"vzb-treemenu-leaf-content-item-descr",hasChild:"vzb-treemenu-list-item-children",list_item_label:"vzb-treemenu-list-item-label",list_top_level:"vzb-treemenu-list-top",search_wrap:"vzb-treemenu-search-wrap",isSpecial:"vzb-treemenu-list-item-special",hidden:"vzb-hidden",title:"vzb-treemenu-title",scaletypes:"vzb-treemenu-scaletypes",scaletypesDisabled:"vzb-treemenu-scaletypes-disabled",scaletypesActive:"vzb-treemenu-scaletypes-active",alignYt:"vzb-align-y-top",alignYb:"vzb-align-y-bottom",alignXl:"vzb-align-x-left",alignXr:"vzb-align-x-right",alignXc:"vzb-align-x-center",menuHorizontal:"vzb-treemenu-horizontal",menuVertical:"vzb-treemenu-vertical",absPosVert:"vzb-treemenu-abs-pos-vert",absPosHoriz:"vzb-treemenu-abs-pos-horiz",menuOpenLeftSide:"vzb-treemenu-open-left-side",noTransition:"notransition"},v={MOUSE_LOCS:[],MOUSE_LOCS_TRACKED:3,DELAY:200,TOLERANCE:150,LAST_DELAY_LOC:null,TIMEOUT:null,SEARCH_PROPERTY:"id",SUBMENUS:"children",SEARCH_MIN_STR:1,RESIZE_TIMEOUT:null,MOBILE_BREAKPOINT:400,CURRENT_PATH:[],MIN_COL_WIDTH:60,MENU_DIRECTION:1,MAX_MENU_WIDTH:320,MENU_OPEN_LEFTSIDE:!1},g=c.default.extend({init:function(t,e,n){var i=this;this.parent=t,this.entity=e,this.OPTIONS=n,this.width=this.OPTIONS.MIN_COL_WIDTH,this.direction=this.OPTIONS.MENU_DIRECTION,this._setDirectionClass(),this.menuItems=[];var r=void 0;return this.entity.empty()?this:(this.entity.each(function(){r=d3.selectAll(this.childNodes).filter(function(){return d3.select(this).classed(p.list)})}),r.empty()&&(r=this.entity),e.selectAll("."+p.list_item).filter(function(){return this.parentNode==r.node()}).each(function(){i.addSubmenu(d3.select(this))}),!this.menuItems.length&&this.isActive()&&this.buildLeaf(),this)},setWidth:function(t,e,n){if(this.width!=t&&this.entity.node()){if(this.width=t,(this.entity.classed(p.list_top_level)||this.entity.classed("active"))&&1==this.direction&&(n?this.entity.style("width",this.width+"px"):this.entity.transition().delay(0).duration(100).style("width",this.width+"px")),this.entity.classed(p.list_top_level)&&this.entity.selectAll("."+p.leaf).style("width",this.width-1+"px"),e)for(var i=0;i<this.menuItems.length;i++)this.menuItems[i].setWidth(this.width,e,n);return this}},setDirection:function(t,e){if(this.direction=t,this.entity.style("width","").style("height",""),e)for(var n=0;n<this.menuItems.length;n++)this.menuItems[n].setDirection(this.direction,e);return this._setDirectionClass(),this},_setDirectionClass:function(){1==this.direction?(this.entity.classed(p.menuVertical,!1),this.entity.classed(p.menuHorizontal,!0)):(this.entity.classed(p.menuHorizontal,!1),this.entity.classed(p.menuVertical,!0))},addSubmenu:function(t){this.menuItems.push(new m(this,t,this.OPTIONS))},open:function(){var t=this,e=this;return this.isActive()||(e.parent.parentMenu.openSubmenuNow=!0,this.closeNeighbors(function(){1==e.direction?(t.menuItems.length||e.buildLeaf(),e._openHorizontal(),e.calculateMissingWidth(0)):e._openVertical()}),e.parent.parentMenu.openSubmenuNow=!1),this},calculateMissingWidth:function(t,e){var n=this;this.entity.classed(p.list_top_level)?t>this.OPTIONS.MAX_MENU_WIDTH&&"function"==typeof e&&e(t-this.OPTIONS.MAX_MENU_WIDTH):this.parent.parentMenu.calculateMissingWidth(t+this.width,function(t){t>0?n.reduceWidth(t,function(t){"function"==typeof e&&e(t)}):"function"==typeof e&&e(t)})},restoreWidth:function(t,e,n){var i=this;if(e)this.parent.parentMenu.restoreWidth(t,!1,n);else if(t<=0)"function"==typeof n&&n();else if(this.entity.classed(p.list_top_level))"function"==typeof n&&n();else{var r=this.entity.node().offsetWidth,a=Math.min(t,i.width);if(r<a){var s=r/a*250;this.entity.transition().delay(0).duration(s).style("width",a+"px").on("end",function(){}),i.parent.parentMenu.restoreWidth(t-a,!1,n)}else this.parent.parentMenu.restoreWidth(t,!1,n)}},reduceWidth:function(t,e){var n=this,i=this.entity.node().offsetWidth;if(i<=this.OPTIONS.MIN_COL_WIDTH)e(t-n.width+i);else{var r=Math.max(this.OPTIONS.MIN_COL_WIDTH,n.width-t),a=250/(n.width/r);this.entity.transition().delay(0).duration(a).style("width",r+"px").on("end",function(){e(t-n.width+r)})}},_openHorizontal:function(){var t=this;t.entity.classed("active",!0).transition().delay(0).duration(250).style("width",t.width+"px").on("end",function(){t.marqueeToggle(!0)})},_openVertical:function(){var t=this;t.entity.style("height","0px"),t.entity.transition().delay(0).duration(250).style("height",36*t.menuItems.length+"px").on("end",function(){t.entity.style("height","auto"),t.marqueeToggle(!0),t.scrollToFitView()}),t.entity.classed("active",!0)},closeAllChildren:function(t){for(var e=0,n=0;n<this.menuItems.length;n++)this.menuItems[n].isActive()&&(++e,this.menuItems[n].submenu.close(function(){0==--e&&"function"==typeof t&&t()}));0==e&&"function"==typeof t&&t()},closeNeighbors:function(t){this.parent?this.parent.closeNeighbors(t):t()},close:function(t){var e=this;this.closeAllChildren(function(){1==e.direction?e._closeHorizontal(t):e._closeVertical(t)})},_closeHorizontal:function(t){var e=(this.entity.node().offsetWidth,this),n=e.parent.parentMenu.openSubmenuNow;e.entity.transition().delay(0).duration(20).style("width","0px").on("end",function(){e.marqueeToggle(!1),e.entity.classed("active",!1),n?"function"==typeof t&&t():e.restoreWidth(e.OPTIONS.MAX_MENU_WIDTH,!0,function(){"function"==typeof t&&t()})})},_closeVertical:function(t){var e=this;e.entity.transition().delay(0).duration(100).style("height","0px").on("end",function(){e.marqueeToggle(!1),e.entity.classed("active",!1),"function"==typeof t&&t()})},isActive:function(){return this.entity.classed("active")},hasActiveParentNeighbour:function(){return this.menuItems.filter(function(t){return t.isActive()}).some(function(t){return!!d3.select(t.entity).node().classed(p.hasChild)})},marqueeToggle:function(t){for(var e=0;e<this.menuItems.length;e++)this.menuItems[e].marqueeToggle(t)},marqueeToggleAll:function(t){for(var e=0;e<this.menuItems.length;e++)this.menuItems[e].marqueeToggleAll(t)},findItemById:function(t){for(var e=0;e<this.menuItems.length;e++){if(this.menuItems[e].entity.data().id==t)return this.menuItems[e];if(this.menuItems[e].submenu){var n=this.menuItems[e].submenu.findItemById(t);if(n)return n}}return null},getTopMenu:function(){return this.parent?this.parent.parentMenu.getTopMenu():this},scrollToFitView:function(){var t=this.getTopMenu().entity.node().parentNode,e=this.entity.node().parentNode,n=t.getBoundingClientRect(),i=e.getBoundingClientRect(),r=i.top-n.top;if(r+i.height>n.height){var a=i.height>n.height?n.height-10:i.height+10,s=t.scrollTop+a-n.height+r;d3.select(t).transition().duration(100).tween("scrolltoptween",function(e){return function(){var n=d3.interpolateNumber(this.scrollTop,e);return function(e){t.scrollTop=n(e)}}}(s))}},buildLeaf:function(){var t=this.entity.datum();this.entity.selectAll("div").data([t]).enter().append("div").classed(p.leaf+" "+p.leaf_content+" vzb-dialog-scrollable",!0).style("width",this.width+"px").each(function(t){var e=d3.select(this);e.append("span").classed(p.leaf_content_item+" "+p.leaf_content_item_title,!0).text(a.replaceNumberSpacesToNonBreak(t.name)||""),e.append("span").classed(p.leaf_content_item+" "+p.leaf_content_item_descr,!0).text(a.replaceNumberSpacesToNonBreak(t.description)||"")})}}),m=c.default.extend({init:function(t,e,n){var i=this;this.parentMenu=t,this.entity=e;var r=e.select("."+p.list_outer);return r.node()&&(this.submenu=new g(this,r,n)),this.entity.select("."+p.list_item_label).on("mouseenter",function(){a.isTouchDevice()||(1!=i.parentMenu.direction||d3.select(this).attr("children")?i.parentMenu.hasActiveParentNeighbour()||i.closeNeighbors():i.openSubmenu(),i.marqueeToggle(!0))}).on("click.item",function(){if(!a.isTouchDevice())if(d3.event.stopPropagation(),1==i.parentMenu.direction)i.openSubmenu();else{var t=d3.select(this);if(!t.attr("children"))return;i.toggleSubmenu()}}).onTap(function(t){if(d3.event.stopPropagation(),2==i.parentMenu.direction){if(!i.entity.select("."+p.list_item_label).attr("children"))return}i.toggleSubmenu()}),this},setWidth:function(t,e,n){return this.submenu&&e&&this.submenu.setWidth(t,e,n),this},setDirection:function(t,e){return this.submenu&&e&&this.submenu.setDirection(t,e),this},toggleSubmenu:function(){this.submenu&&(this.submenu.isActive()?this.submenu.close():this.submenu.open())},openSubmenu:function(){this.submenu?this.submenu.open():this.closeNeighbors()},closeNeighbors:function(t){this.parentMenu.closeAllChildren(t)},isActive:function(){return this.submenu&&this.submenu.isActive()},marqueeToggleAll:function(t){this.entity.selectAll("."+p.list_item_label).each(function(){var e=d3.select(this).select("span"),n=d3.select(this.parentNode);if(n.classed("marquee",!1),e.style("width",""),t&&e.node().scrollWidth>e.node().offsetWidth){e.attr("data-content",e.text());var i=30+e.node().scrollWidth;e.style("width",i+"px"),n.classed("marquee",!0)}})},marqueeToggle:function(t){var e=this.entity.select("."+p.list_item_label).select("span");if(this.entity.classed("marquee",!1),e.style("width",""),t&&e.node().scrollWidth>e.node().offsetWidth){e.attr("data-content",e.text());var n=30+e.node().scrollWidth;e.style("width",n+"px"),this.entity.classed("marquee",!0)}}}),b=o.default.extend({indicatorsTree:function(t){return arguments.length?(this._indicatorsTree=t,this):this._indicatorsTree},callback:function(t){return arguments.length?(this._callback=t,this):this._callback},markerID:function(t){return arguments.length?(this._markerID=t,this.targetModel(this.model.marker[this._markerID]),this):this._markerID},showWhenReady:function(t){return arguments.length?(this._showWhenReady=t,this):this._showWhenReady},scaletypeSelectorDisabled:function(t){return arguments.length?(this._scaletypeSelectorDisabled=t,this):this._scaletypeSelectorDisabled},title:function(t){return arguments.length?(this._title=t,this):this._title},targetModel:function(t){return arguments.length?(this._targetModel&&this._targetModel.off("change",this.change),this._targetModel=t,this._targetModel.on("change",this.change),this._targetModel.isHook()&&(this._targetProp="which"),this._targetModel instanceof d.default&&(this._targetProp="space"),this):this._targetModel},targetProp:function(t){return arguments.length?(this._targetProp=t,this):this._targetProp},alignX:function(t){return arguments.length?(this._alignX=t,this):this._alignX},alignY:function(t){return arguments.length?(this._alignY=t,this):this._alignY},top:function(t){return arguments.length?(this._top=t,this):this._top},left:function(t){return arguments.length?(this._left=t,this):this._left},init:function(t,e){this.name="gapminder-treemenu",this.model_expects=[{name:"marker",type:"marker"},{name:"time",type:"time"},{name:"locale",type:"locale"},{name:"ui",type:"ui"}],this.context=e,this.menuEntity=null,this._super(t,e),this._callback=function(t){console.log("Indicator selector: stub callback fired. New indicator is ",t)},this._alignX="center",this._alignY="center",this.OPTIONS=a.deepClone(v),this.change=this.change.bind(this)},change:function(t,e){(-1!=e.indexOf("."+this._targetProp)||this._targetModel.isHook()&&-1!=e.indexOf(".scaleType"))&&this.updateView()},ready:function(){this.model.marker._root.dataManager.getTags().then(this._buildIndicatorsTree.bind(this)).then(this.updateView.bind(this))},readyOnce:function(){this.element=d3.select(this.placeholder);var t=this;this.element.selectAll("div").remove(),this.element.append("div").attr("class",p.background).on("click",function(){d3.event.stopPropagation(),t.toggle()}),this.wrapperOuter=this.element.append("div").classed(p.wrapper_outer,!0).classed(p.noTransition,!0),this.wrapper=this.wrapperOuter.append("div").classed(p.wrapper,!0).classed(p.noTransition,!0).classed("vzb-dialog-scrollable",!0),this.wrapper.on("click",function(){d3.event.stopPropagation()}),this.wrapper.append("div").attr("class",p.close).html(f.close).on("click",function(){d3.event.stopPropagation(),t.toggle()}).select("svg").attr("width","0px").attr("height","0px").attr("class",p.close+"-icon"),this.wrapper.append("div").classed(p.scaletypes,!0).append("span"),this.wrapper.append("div").classed(p.title,!0).append("span"),this.wrapper.append("div").classed(p.search_wrap,!0).append("input").classed(p.search,!0).attr("type","search").attr("id",p.search),d3.select("body").on("mousemove",t._mousemoveDocument),this.wrapper.on("mouseleave",function(){}),this.translator=this.model.locale.getTFunction(),t._enableSearch(),t.resize()},_buildIndicatorsTree:function(t){var e=this;!0!==t&&t||(t=[]);var n=this,i="_root",r=n.model.marker._root.dataManager.getDataModels(),s=1==r.size?"spread":"root",o={};o[i]={id:i,children:[]},o.advanced={id:"advanced",name:this.translator("treemenu/advanced"),type:"folder",children:[]},o[i].children.push(o.advanced),o.other_datasets={id:"other_datasets",name:this.translator("treemenu/other_datasets"),type:"folder",children:[]},o[i].children.push(o.other_datasets),t.forEach(function(t){o[t.tag]={id:t.tag,name:t.name,type:"folder",children:[]}});var l={};r.forEach(function(t){var n=a.getProp(e.model.ui,["treemenu","folderStrategyByDataset",t._name]),r=null;n||(n=s),n.includes(":")&&(r=n.split(":")[1],n=n.split(":")[0]),o[t._name]={id:t._name,name:t.getDatasetName(),type:"dataset",children:[]},"folder"==n&&o[r]?o[r].children.push(o[t._name]):"spread"==n?o[t._name]=o[i]:o[i].children.push(o[t._name]),l[t._name]=n});var c=o[i];t.forEach(function(t){t.parent&&o[t.parent]?o[t.parent].children.push(o[t.tag]):"spread"==l[t.dataSourceName]?o[i].children.push(o[t.tag]):o[t.dataSourceName].children.push(o[t.tag])});var u=this.model.marker.space.length>1;return this.model.marker.getAvailableData().forEach(function(t){var e=t.value;if(e&&"_none"!=e.tags){e.tags||(e.tags=t.dataSource._name||i);var r="_default"==e.concept?"constant":t.key.size>1||"time"===e.concept_type?"indicator":"property",s={id:e.concept,key:t.key,name:e.name,name_catalog:e.name_catalog,description:e.description,dataSource:t.dataSource._name,use:r};if(u&&1==t.key.length&&"_default"!=e.concept&&"time"!=e.concept_type){var l=t.key[0].concept+"_properties";if(!o[l]){var c=t.key[0];o[l]={id:l,name:c.name+" properties",type:"folder",children:[]},o[i].children.push(o[l])}o[l].children.push(s)}else e.tags.split(",").forEach(function(t){t=t.trim(),o[t]?o["_root"===t&&"_default"!=e.concept&&"time"!=e.concept_type?s.dataSource:t].children.push(s):(n.consoleGroupOpen||(console.groupCollapsed("Some tags were not found, so indicators went under menu root"),n.consoleGroupOpen=!0),a.warn("tag '"+t+"' for indicator '"+s.id+"'"),o[i].children.push(s))})}}),this.model.marker.getAvailableSpaces().forEach(function(t,e){c.children.push({id:e,name:t.map(function(t){return t.name}).join(", "),name_catalog:t.map(function(t){return t.name}).join(", "),description:"no description",dataSource:"All data sources",type:"space"})}),n.consoleGroupOpen&&(console.groupEnd(),delete n.consoleGroupOpen),this._sortChildren(c),this.indicatorsTree(c),Promise.resolve()},_sortChildren:function(t,e){var n=this;t.children&&(t.children.sort(a.firstBy()(function(t,e){return t="dataset"===t.type?1:0,(e="dataset"===e.type?1:0)-t}).thenBy(function(t,e){return t=t.children?1:0,e=e.children?1:0,t-e}).thenBy(function(t,n){if(!e){if("time"==t.id)return-1;if("time"==n.id)return 1;if("other_datasets"==t.id)return 1;if("other_datasets"==n.id)return-1;if("advanced"==t.id)return 1;if("advanced"==n.id)return-1;if("_default"==t.id)return 1;if("_default"==n.id)return-1}return(t.name_catalog||t.name)>(n.name_catalog||n.name)?1:-1})),t.children.forEach(function(t){n._sortChildren(t,!0)}))},resize:function(){var t=this;this.profiles={small:{col_width:200},medium:{col_width:200},large:{col_width:200}};var e=this._top,n=this._left;if(!this.wrapper)return a.warn("treemenu resize() abort because container is undefined");this.wrapper.classed(p.noTransition,!0),this.wrapper.node().scrollTop=0,this.activeProfile=this.profiles[this.getLayoutProfile()],this.OPTIONS.IS_MOBILE="small"===this.getLayoutProfile(),this.menuEntity&&(this.menuEntity.setWidth(this.activeProfile.col_width,!0,!0),this.OPTIONS.IS_MOBILE?2!=this.menuEntity.direction&&(this.menuEntity.setDirection(2,!0),this.OPTIONS.MENU_DIRECTION=2):1!=this.menuEntity.direction&&(this.menuEntity.setDirection(1,!0),this.OPTIONS.MENU_DIRECTION=1)),this.width=t.element.node().offsetWidth,this.height=t.element.node().offsetHeight;var i=this.wrapperOuter.node().getBoundingClientRect(),r=i.width,s=i.height;if(r)if(this.OPTIONS.IS_MOBILE)this.clearPos();else{(e||n)&&(this.wrapperOuter.node().offsetTop<10&&this.wrapperOuter.style("top","10px"),this.height-t.wrapperOuter.node().offsetTop-s<0&&(s>this.height&&(s=this.height-20),this.wrapperOuter.style("top",this.height-s-10+"px"),this.wrapperOuter.style("bottom","auto")),e&&(e=t.wrapperOuter.node().offsetTop));var o=void 0;o=this.wrapperOuter.classed(p.alignYb)?this.wrapperOuter.node().offsetTop+this.wrapperOuter.node().offsetHeight:this.height-this.wrapperOuter.node().offsetTop,this.wrapper.style("max-height",o-10+"px"),this.wrapperOuter.classed(p.alignXc,"center"===this._alignX),this.wrapperOuter.style("margin-left","center"===this._alignX?"-"+r/2+"px":null),"center"===this._alignX?this.OPTIONS.MAX_MENU_WIDTH=this.width/2-.5*r-10:this.OPTIONS.MAX_MENU_WIDTH=this.width-this.wrapperOuter.node().offsetLeft-r-10;var l=this.activeProfile.col_width+2*this.OPTIONS.MIN_COL_WIDTH,c=this.wrapperOuter.node().offsetLeft;this.OPTIONS.MENU_OPEN_LEFTSIDE=this.OPTIONS.MAX_MENU_WIDTH<l&&c>this.OPTIONS.MAX_MENU_WIDTH+10,this.OPTIONS.MENU_OPEN_LEFTSIDE?(c<l+10&&(c=l+10),this.OPTIONS.MAX_MENU_WIDTH=c-10):this.OPTIONS.MAX_MENU_WIDTH<l&&(c-=l-this.OPTIONS.MAX_MENU_WIDTH,this.OPTIONS.MAX_MENU_WIDTH=l),n?n=c:c!=this.wrapperOuter.node().offsetLeft&&(this.wrapperOuter.style("left","auto"),this.wrapperOuter.style("right",this.width-c-i.width+"px")),this._top=e,this._left=n,(n||e)&&this.setPos(),this.wrapperOuter.classed("vzb-treemenu-open-left-side",!this.OPTIONS.IS_MOBILE&&this.OPTIONS.MENU_OPEN_LEFTSIDE)}return this.wrapper.node().offsetHeight,this.wrapper.classed(p.noTransition,!1),this.setHorizontalMenuHeight(),this},toggle:function(){this.setHiddenOrVisible(!this.element.classed(p.hidden))},setHiddenOrVisible:function(t){var e=this;return this.element.classed(p.hidden,t),this.wrapper.classed(p.noTransition,t),t?(this.clearPos(),this.menuEntity.marqueeToggle(!1)):(this.setPos(),!a.isTouchDevice()&&this.focusSearch(),this.resize(),this.scrollToSelected()),this.parent.components.forEach(function(n){"gapminder-dialogs"==n.name?d3.select(n.placeholder.parentNode).classed("vzb-blur",!t):n.element.classed?n.element.classed("vzb-blur",n!=e&&!t):d3.select(n.element).classed("vzb-blur",n!=e&&!t)}),this.width=e.element.node().offsetWidth,this},scrollToSelected:function(){if(this.selectedNode){var t=this,e=function(t,e){t.scrollTop=0;var n=t.getBoundingClientRect(),i=e.getBoundingClientRect(),r=i.bottom-n.top-t.offsetHeight+10;t.scrollTop=r};if(2==this.menuEntity.direction)e(this.wrapper.node(),this.selectedNode),t.menuEntity.marqueeToggleAll(!0);else{this.menuEntity.findItemById(d3.select(this.selectedNode).data().id).submenu.calculateMissingWidth(0,function(){t.menuEntity.marqueeToggleAll(!0)});for(var n=this.selectedNode,i=void 0;!a.hasClass(n,p.list_top_level);)"LI"==n.tagName&&(i=a.hasClass(n.parentNode,p.list_top_level)?n.parentNode.parentNode:n.parentNode,e(i,n)),n=n.parentNode}}},setPos:function(){var t=this._top,e=this._left,n=this.wrapperOuter.node().getBoundingClientRect();if(t&&(this.wrapperOuter.style("top",t+"px"),this.wrapperOuter.style("bottom","auto"),this.wrapperOuter.classed(p.absPosVert,t)),e){var i=this.element.node().offsetWidth-e-n.width;i=i<10?10:i,this.wrapperOuter.style("right",i+"px"),this.wrapperOuter.style("left","auto"),this.wrapperOuter.classed(p.absPosHoriz,i)}},clearPos:function(){this._top="",this._left="",this.wrapperOuter.attr("style",""),this.wrapperOuter.classed(p.absPosVert,""),this.wrapperOuter.classed(p.absPosHoriz,""),this.wrapperOuter.classed(p.menuOpenLeftSide,""),this.wrapper.style("max-height","")},setHorizontalMenuHeight:function(){var t=null;if(this.menuEntity&&1==this.OPTIONS.MENU_DIRECTION&&this.menuEntity.menuItems.length){var e=parseInt(this.menuEntity.menuItems[0].entity.style("height"),10)||0,n=e*this._maxChildCount,i=Math.max(this.menuEntity.menuItems.length,3)*e+this.menuEntity.entity.node().offsetTop+parseInt(this.wrapper.style("padding-bottom"),10);t=Math.max(n,i)+"px"}this.wrapper.classed(p.noTransition,!0),this.wrapper.node().offsetHeight,this.wrapper.style("height",t),this.wrapper.node().offsetHeight,this.wrapper.classed(p.noTransition,!1)},_enableSearch:function(){var t=this,e=this.wrapper.select("."+p.search),n=function(e){var n={_id:"root",children:[]},i=function(e,n,i){var r=n[i].name;if(!r&&t.translator){r=t.translator("indicator/"+n[i][t.OPTIONS.SEARCH_PROPERTY]+"/"+t._targetModel._type)||t.translator("indicator/"+n[i][t.OPTIONS.SEARCH_PROPERTY])}return r&&r.toLowerCase().indexOf(e.toLowerCase())>=0};return function r(a){for(var s=t.OPTIONS.SUBMENUS,o=0;o<a.length;o++){var l=!1;l=i(e,a,o),l&&n.children.push(a[o]),!l&&a[o][s]&&r(a[o][s])}}(t.dataFiltered.children),n.children=a.unique(n.children,function(t){return t.id}),n},i=!1,r=a.debounce(function(){var r=e.node().value;(i||""!=r)&&(i=""!=r,r.length>=t.OPTIONS.SEARCH_MIN_STR?t.redraw(n(r),!0):t.redraw())},250);e.on("input",r)},_selectIndicator:function(t){this._callback(this._targetProp,t),this.toggle()},redraw:function(t,e){function n(t,e,r){if(e.children){i._maxChildCount=Math.max(i._maxChildCount,e.children.length);var s=r?t:t.append("div").classed(p.list_outer,!0),o=s.append("ul").classed(p.list,!r).classed(p.list_top_level,r).classed("vzb-dialog-scrollable",!0).selectAll("li").data(e.children,function(t){return t.id}).enter().append("li");o.append("span").classed(p.list_item_label,!0).attr("children",function(t){return t.children?"true":null}).attr("type",function(t){return t.type?t.type:null}).on("click",function(t){d3.select(this).attr("children")||(d3.event.stopPropagation(),i._selectIndicator({concept:t.id,key:t.key,dataSource:t.dataSource,use:t.use}))}).append("span").text(function(t){var e="_default"===t.id?i.translator("indicator/_default/"+c):t.name_catalog||t.name||t.id;return e||""===e||a.warn("translation missing: NAME of "+t.id),e||""}),o.classed(p.list_item,!0).classed(p.hasChild,function(t){return t.children}).classed(p.isSpecial,function(t){return t.special}).each(function(t){var e=d3.select(this);if(!t.children){"_default"===t.id&&(t.name=i.translator("indicator/_default/"+c),t.description=i.translator("description/_default/"+c)),t.description||(t.description=h);e.append("div").attr("class",p.menuHorizontal+" "+p.list_outer+" "+p.list_item_leaf).on("click",function(t){i._selectIndicator({concept:t.id,key:t.key,dataSource:t.dataSource,use:t.use})})}if(t.id==i._targetModel[i._targetProp]){var s=void 0;if(i.selectedNode&&r)for(s=i.selectedNode.parentNode,d3.select(i.selectedNode).select("."+p.list_item_leaf).classed("active",!1);!a.hasClass(s,p.list_top_level);)"UL"==s.tagName&&d3.select(s.parentNode).classed("active",!1),s=s.parentNode;if(!i.selectedNode||r){for(s=this.parentNode,d3.select(this).classed("item-active",!0).select("."+p.list_item_leaf).classed("active",!0);!a.hasClass(s,p.list_top_level);)"UL"==s.tagName&&d3.select(s.parentNode).classed("active",!0),"LI"==s.tagName&&d3.select(s).classed("item-active",!0),s=s.parentNode;i.selectedNode=this}}n(e,t)})}}var i=this,r=i._targetModel.isHook(),s=void 0,o=void 0,l={};a.forEach(this.model.marker._root._data,function(t){"data"===t._type&&a.deepExtend(l,t.getConceptprops())});var c=i._targetModel._type;e?s=t:(null==t&&(t=this._indicatorsTree),r?(o=a.keys(l).filter(function(t){if(i._targetModel.allow&&i._targetModel.allow.names){if(-1!=i._targetModel.allow.names.indexOf("!"+t))return!1;if(-1!=i._targetModel.allow.names.indexOf(t))return!0;if(i._targetModel.allow.namesOnlyThese)return!1}if(!i._targetModel.allow||!i._targetModel.allow.scales)return!0;if("*"==i._targetModel.allow.scales[0])return!0;if(!l[t].scales)return!0;for(var e=l[t].scales.length-1;e>=0;e--)if(i._targetModel.allow.scales.indexOf(l[t].scales[e])>-1)return!0;return!1}),s=a.pruneTree(t,function(t){return o.indexOf(t.id)>-1})):i._targetModel instanceof d.default?(o=t.children.map(function(t){return t.id}),s=a.pruneTree(t,function(t){return"space"==t.type})):(o=a.keys(l),s=a.pruneTree(t,function(t){return o.indexOf(t.id)>-1})),this.dataFiltered=s),this.wrapper.select("ul").remove();var u="";u=this._title||""===this._title?this._title:this.translator(i._targetModel instanceof d.default?i._targetModel._root._name+"/"+i._targetModel._name:"buttons/"+(r?i._targetModel._name:c+"/"+i._targetProp)),this.element.select("."+p.title).select("span").text(u),this.element.select("."+p.search).attr("placeholder",this.translator("placeholder/search")+"..."),this._maxChildCount=0;var h=i.translator("hints/nodescr");if(this.OPTIONS.IS_MOBILE?this.OPTIONS.MENU_DIRECTION=2:this.OPTIONS.MENU_DIRECTION=1,this.selectedNode=null,n(this.wrapper,s,!0),this.menuEntity=new g(null,this.wrapper.selectAll("."+p.list_top_level),this.OPTIONS),this.menuEntity&&this.menuEntity.setDirection(this.OPTIONS.MENU_DIRECTION),this.menuEntity&&this.menuEntity.setWidth(this.activeProfile.col_width,!0,!0),this.setHorizontalMenuHeight(),!e){var f="_default";if(o.indexOf(this._targetModel[i._targetProp])>-1&&(f=this._targetModel[i._targetProp]),l[f]||a.error("Concept properties of "+f+" are missing from the set, or the set is empty. Put a breakpoint here and check what you have in indicatorsDB"),!l[f].scales)return this.element.select("."+p.scaletypes).classed(p.hidden,!0),!0;var v=r?l[f].scales.filter(function(t){return!i._targetModel.allow||!i._targetModel.allow.scales||("*"==i._targetModel.allow.scales[0]||i._targetModel.allow.scales.indexOf(t)>-1)}):[];if(0==v.length)this.element.select("."+p.scaletypes).classed(p.hidden,!0);else{var m=this.element.select("."+p.scaletypes).classed(p.hidden,!1).selectAll("span").data(v,function(t){return t});m.exit().remove(),m=m.enter().append("span").on("click",function(t){d3.event.stopPropagation(),i._setModel("scaleType",t)}).merge(m);var b=i._targetModel.scaleType;m.classed(p.scaletypesDisabled,v.length<2||i._scaletypeSelectorDisabled).classed(p.scaletypesActive,function(t){return(t==b||"log"===t&&"genericLog"===b)&&v.length>1}).text(function(t){return i.translator("scaletype/"+t)})}}return this},updateView:function(){if(this._targetModel){this.wrapperOuter.classed(p.absPosVert,this._top),this.wrapperOuter.classed(p.alignYt,"top"===this._alignY),this.wrapperOuter.classed(p.alignYb,"bottom"===this._alignY),this.wrapperOuter.classed(p.absPosHoriz,this._left),this.wrapperOuter.classed(p.alignXl,"left"===this._alignX),this.wrapperOuter.classed(p.alignXr,"right"===this._alignX);var t=this._setModel.bind(this);return this.callback(t).redraw(),this._ready&&this._showWhenReady&&this.setHiddenOrVisible(!1).showWhenReady(!1),this.wrapper.select("."+p.search).node().value="",this}},focusSearch:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this.wrapper.select("."+p.search).node();t?e.focus():e.blur()},_setModel:function(t,e){var n=this._targetModel;"which"==t&&n.setWhich(e),"scaleType"==t&&n.setScaleType(e),"space"==t&&n.setSpace(e.concept.split(","))}});e.default=b},function(t,e,n){function i(t){return n(r(t))}function r(t){var e=a[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var a={"./_dialog.js":12,"./about/about.js":167,"./axes/axes.js":168,"./colors/colors.js":170,"./dialogs.js":171,"./find/find.js":172,"./find/show.js":112,"./grouping/grouping.js":173,"./label/label.js":174,"./moreoptions/moreoptions.js":175,"./opacity/opacity.js":176,"./presentation/presentation.js":177,"./side/side.js":178,"./size/size.js":179,"./speed/speed.js":180,"./stack/stack.js":181,"./timedisplay/timedisplay.js":183,"./zoom/zoom.js":185};i.keys=function(){return Object.keys(a)},i.resolve=r,t.exports=i,i.id=427},function(t,e,n){function i(t){return n(r(t))}function r(t){var e=a[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var a={"./d3.axisWithLabelPicker.js":111,"./d3.collisionResolver.js":429,"./d3.colorPicker.js":165,"./d3.dynamicBackground.js":184,"./d3.genericLogScale.js":157,"./d3.geoProjection.js":430,"./d3.touchEvents.js":158,"./labels.js":431,"./requireAll.js":106,"./svgexport.js":433,"./textEllipsis.js":434,"./topojson.js":435};i.keys=function(){return Object.keys(a)},i.resolve=r,t.exports=i,i.id=428},function(t,e,n){"use strict";function i(){return function(){function t(t){if(null==i)return void console.warn("D3 collision resolver stopped: missing a CSS slector");if(null==r)return void console.warn("D3 collision resolver stopped: missing height of the canvas");if(null==s)return void console.warn("D3 collision resolver stopped: missing pointer within data objects. Example: value = 'valueY' ");if(null==h)return void console.warn("D3 collision resolver stopped: missing a key for data. Example: key = 'geo' ");n=.8*t.node().getBBox().height;for(var a=t.filter(function(t){return l(t,o)}).sort(function(t,e){return d3.ascending(t.valueY,e.valueY)}).data(),c={},u=0;u<a.length-1;u++){var d=a[u],f=a[u+1];if(d.shiftY||(d.shiftY=0),f.shiftY=0,!(f.valueY-d.valueY-d.shiftY>=n)){var p=0;d.valueY>n&&(0==u?p=Math.min(n,d.valueY):d.valueY-a[u-1].valueY+a[u-1].shiftY>n&&(p=Math.min(n,d.valueY-a[u-1].valueY+a[u-1].shiftY))),d.upperAvailable=p;var v=0;f.valueY<r&&(u==a.length-2?v=Math.min(n,r-f.valueY):a[u+2].valueY-f.valueY>n&&(v=Math.min(n,a[u+2].valueY-f.valueY))),f.underAvailable=v;var g=n-(f.valueY-d.valueY-d.shiftY);c[d[h]]={},c[f[h]]={},p>=g/2&&v>=g/2?(d.shiftY=-g/2,f.shiftY=g/2):p>=g/2?(f.shiftY=v,d.shiftY=-Math.min(p,g-v)):v>=g/2?(d.shiftY-=p,f.shiftY=Math.min(v,g-p)):(d.shiftY=-p,f.shiftY=v),c[d[h]].valueY=d.valueY+d.shiftY,c[f[h]].valueY=f.valueY+f.shiftY}}t.each(function(t,n){c[t[h]]&&c[t[h]].valueY&&d3.select(this).selectAll(i).transition().duration(e).attr("transform","translate(0,"+c[t[h]].valueY+")")})}var e=300,n=0,i=null;t.selector=function(e){return arguments.length?(i=e,t):i};var r=null;t.height=function(e){return arguments.length?(r=e,t):r};var a=d3.scaleLinear().domain([0,1]).range([0,1]);t.scale=function(e){return arguments.length?(a=e,t):a};var s=null;t.value=function(e){return arguments.length?(s=e,t):s};var o=null;t.time=function(e){return arguments.length?(o=e,t):o};var l=function(){return!0};t.filter=function(e){return arguments.length?(l=e,t):l};var c=null;t.fixed=function(e){return arguments.length?(c=e,t):c};var u=null;t.handleResult=function(e){return arguments.length?(u=e,t):u};var h=null;return t.KEY=function(e){return arguments.length?(h=e,t):h},t}()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){function t(t,n){return{type:"Feature",id:t.id,properties:t.properties,geometry:e(t.geometry,n)}}function e(t,n){if(!t)return null;if("GeometryCollection"===t.type)return{type:"GeometryCollection",geometries:object.geometries.map(function(t){return e(t,n)})};if(!fe.hasOwnProperty(t.type))return null;var i=fe[t.type];return d3.geoUstream(t,n(i)),i.result()}function n(){}function i(t){if((e=t.length)<4)return!1;for(var e,n=0,i=t[e-1][1]*t[0][0]-t[e-1][0]*t[0][1];++n<e;)i+=t[n-1][1]*t[n][0]-t[n-1][0]*t[n][1];return i<=0}function r(t,e){for(var n=e[0],i=e[1],r=!1,a=0,s=t.length,o=s-1;a<s;o=a++){var l=t[a],c=l[0],u=l[1],h=t[o],d=h[0],f=h[1];u>i^f>i&&n<(d-c)*(i-u)/(f-u)+c&&(r=!r)}return r}function a(t){return t?t/Math.sin(t):1}function s(t){return t>0?1:t<0?-1:0}function o(t){return t>1?me:t<-1?-me:Math.asin(t)}function l(t){return t>1?0:t<-1?ge:Math.acos(t)}function c(t){return t>0?Math.sqrt(t):0}function u(t){function e(t,e){var n=Math.cos(t),r=Math.cos(e),a=Math.sin(e),s=r*n,o=-((1-s?Math.log(.5*(1+s))/(1-s):-.5)+i/(1+s));return[o*r*Math.sin(t),o*a]}var n=Math.tan(.5*t),i=2*Math.log(Math.cos(.5*t))/(n*n);return e.invert=function(e,n){var r,a=Math.sqrt(e*e+n*n),s=-.5*t,l=50;if(!a)return[0,0];do{var c=.5*s,u=Math.cos(c),h=Math.sin(c),d=Math.tan(c),f=Math.log(1/u);s-=r=(2/d*f-i*d-a)/(-f/(h*h)+1-i/(2*u*u))}while(Math.abs(r)>pe&&--l>0);var p=Math.sin(s);return[Math.atan2(e*p,a*Math.cos(s)),o(n*p/a)]},e}function h(){var t=me,e=we(u),n=e(t);return n.radius=function(n){return arguments.length?e(t=n*ge/180):t/ge*180},n}function d(t,e){var n=Math.cos(e),i=a(l(n*Math.cos(t/=2)));return[2*n*Math.sin(t)*i,Math.sin(e)*i]}function f(t){function e(t,e){var o=Math.cos(e),l=Math.cos(t/=2);return[(1+o)*Math.sin(t),(r*e>-Math.atan2(l,a)-.001?0:10*-r)+s+Math.sin(e)*i-(1+o)*n*l]}var n=Math.sin(t),i=Math.cos(t),r=t>0?1:-1,a=Math.tan(r*t),s=(1+n-i)/2;return e.invert=function(t,e){var o=0,l=0,c=50;do{var u=Math.cos(o),h=Math.sin(o),d=Math.cos(l),f=Math.sin(l),p=1+d,v=p*h-t,g=s+f*i-p*n*u-e,m=.5*p*u,b=-h*f,y=.5*n*p*h,_=i*d+n*u*f,M=b*y-_*m,w=.5*(g*b-v*_)/M,x=(v*y-g*m)/M;o-=w,l-=x}while((Math.abs(w)>pe||Math.abs(x)>pe)&&--c>0);return r*l>-Math.atan2(Math.cos(o),a)-.001?[2*o,l]:null},e}function p(){var t=ge/9,e=t>0?1:-1,n=Math.tan(e*t),i=we(f),r=i(t),a=r.stream;return r.parallel=function(r){return arguments.length?(n=Math.tan((e=(t=r*ge/180)>0?1:-1)*t),i(t)):t/ge*180},r.stream=function(i){var s=r.rotate(),o=a(i),l=(r.rotate([0,0]),a(i));return r.rotate(s),o.sphere=function(){l.polygonStart(),l.lineStart();for(var i=-180*e;e*i<180;i+=90*e)l.point(i,90*e);for(;e*(i-=t)>=-180;)l.point(i,e*-Math.atan2(Math.cos(i*ye/2),n)*_e);l.lineEnd(),l.polygonEnd()},o},r}function v(t){return((t=Math.exp(2*t))-1)/(t+1)}function g(t){return.5*(Math.exp(t)-Math.exp(-t))}function m(t){return.5*(Math.exp(t)+Math.exp(-t))}function b(t){return Math.log(t+c(t*t+1))}function y(t){return Math.log(t+c(t*t-1))}function _(t,e){var n=Math.tan(e/2),i=c(1-n*n),r=1+i*Math.cos(t/=2),a=Math.sin(t)*i/r,s=n/r,o=a*a,l=s*s;return[4/3*a*(3+o-3*l),4/3*s*(3+3*o-l)]}function M(t,e){var n=Math.abs(e);return n<ge/4?[t,Math.log(Math.tan(ge/4+e/2))]:[t*Math.cos(n)*(2*Math.SQRT2-1/Math.sin(n)),s(e)*(2*Math.SQRT2*(n-ge/4)-Math.log(Math.tan(n/2)))]}function w(t){function e(t,e){var i=Se(t,e);if(Math.abs(t)>me){var r=Math.atan2(i[1],i[0]),a=Math.sqrt(i[0]*i[0]+i[1]*i[1]),s=n*Math.round((r-me)/n)+me,l=Math.atan2(Math.sin(r-=s),2-Math.cos(r));r=s+o(ge/a*Math.sin(l))-l,i[0]=a*Math.cos(r),i[1]=a*Math.sin(r)}return i}var n=2*ge/t;return e.invert=function(t,e){var i=Math.sqrt(t*t+e*e);if(i>me){var r=Math.atan2(e,t),a=n*Math.round((r-me)/n)+me,s=r>a?-1:1,o=i*Math.cos(a-r),l=1/Math.tan(s*Math.acos((o-ge)/Math.sqrt(ge*(ge-2*o)+i*i)));r=a+2*Math.atan((l+s*Math.sqrt(l*l-3))/3),t=i*Math.cos(r),e=i*Math.sin(r)}return Se.invert(t,e)},e}function x(){var t=5,e=we(w),n=e(t),i=n.stream,r=.01,a=-Math.cos(r*ye),s=Math.sin(r*ye);return n.lobes=function(n){return arguments.length?e(t=+n):t},n.stream=function(e){var l=n.rotate(),c=i(e),u=(n.rotate([0,0]),i(e));return n.rotate(l),c.sphere=function(){u.polygonStart(),u.lineStart();for(var e=0,n=360/t,i=2*ge/t,l=90-180/t,c=me;e<t;++e,l-=n,c-=i)u.point(Math.atan2(s*Math.cos(c),a)*_e,o(s*Math.sin(c))*_e),l<-90?(u.point(-90,-180-l-r),u.point(-90,-180-l+r)):(u.point(90,l+r),u.point(90,l-r));u.lineEnd(),u.polygonEnd()},c},n}function S(t){return function(e){var n,i=t*Math.sin(e),r=30;do{e-=n=(e+Math.sin(e)-i)/(1+Math.cos(e))}while(Math.abs(n)>pe&&--r>0);return e/2}}function z(t,e,n){function i(n,i){return[t*n*Math.cos(i=r(i)),e*Math.sin(i)]}var r=S(n);return i.invert=function(i,r){var a=o(r/e);return[i/(t*Math.cos(a)),o((2*a+Math.sin(2*a))/n)]},i}function O(t,e){var n=2.00276,i=ze(e);return[n*t/(1/Math.cos(e)+1.11072/Math.cos(i)),(e+Math.SQRT2*Math.sin(i))/n]}function E(t){var e=0,n=we(t),i=n(e);return i.parallel=function(t){return arguments.length?n(e=t*ge/180):e/ge*180},i}function k(t,e){return[t*Math.cos(e),e]}function T(t){function e(e,i){var r=n+t-i,a=r?e*Math.cos(i)/r:r;return[r*Math.sin(a),n-r*Math.cos(a)]}if(!t)return k;var n=1/Math.tan(t);return e.invert=function(e,i){var r=Math.sqrt(e*e+(i=n-i)*i),a=n+t-r;return[r/Math.cos(a)*Math.atan2(e,i),a]},e}function P(t){function e(e,n){for(var i=Math.sin(n),r=Math.cos(n),a=new Array(3),c=0;c<3;++c){var u=t[c];if(a[c]=D(n-u[1],u[3],u[2],r,i,e-u[0]),!a[c][0])return u.point;a[c][1]=L(a[c][1]-u.v[1])}for(var h=l.slice(),c=0;c<3;++c){var d=2==c?0:c+1,f=A(t[c].v[0],a[c][0],a[d][0]);a[c][1]<0&&(f=-f),c?1==c?(f=s-f,h[0]-=a[c][0]*Math.cos(f),h[1]-=a[c][0]*Math.sin(f)):(f=o-f,h[0]+=a[c][0]*Math.cos(f),h[1]+=a[c][0]*Math.sin(f)):(h[0]+=a[c][0]*Math.cos(f),h[1]-=a[c][0]*Math.sin(f))}return h[0]/=3,h[1]/=3,h}t=t.map(function(t){return[t[0],t[1],Math.sin(t[1]),Math.cos(t[1])]});for(var n,i=t[2],r=0;r<3;++r,i=n)n=t[r],i.v=D(n[1]-i[1],i[3],i[2],n[3],n[2],n[0]-i[0]),i.point=[0,0];var a=A(t[0].v[0],t[2].v[0],t[1].v[0]),s=A(t[0].v[0],t[1].v[0],t[2].v[0]),o=ge-a;t[2].point[1]=0,t[0].point[0]=-(t[1].point[0]=.5*t[0].v[0]);var l=[t[2].point[0]=t[0].point[0]+t[2].v[0]*Math.cos(a),2*(t[0].point[1]=t[1].point[1]=t[2].v[0]*Math.sin(a))];return e}function C(){var t=[[0,0],[0,0],[0,0]],e=we(P),n=e(t),i=n.rotate;return delete n.rotate,n.points=function(r){if(!arguments.length)return t;t=r;var a=d3.geoCentroid({type:"MultiPoint",coordinates:t}),s=[-a[0],-a[1]];return i.call(n,s),e(t.map(d3.geoRotation(s)).map(I))},n.points([[-150,55],[-35,55],[-92.5,10]])}function D(t,e,n,i,r,a){var s,c=Math.cos(a);if(Math.abs(t)>1||Math.abs(a)>1)s=l(n*r+e*i*c);else{var u=Math.sin(.5*t),h=Math.sin(.5*a);s=2*o(Math.sqrt(u*u+e*i*h*h))}return Math.abs(s)>pe?[s,Math.atan2(i*Math.sin(a),e*r-n*i*c)]:[0,0]}function A(t,e,n){return l(.5*(t*t+e*e-n*n)/(t*e))}function L(t){return t-2*ge*Math.floor((t+ge)/(2*ge))}function I(t){return[t[0]*ye,t[1]*ye]}function R(t,e){var n=c(1-Math.sin(e));return[2/be*t*n,be*(1-n)]}function N(t){function e(t,e){return[t,(t?t/Math.sin(t):1)*(Math.sin(e)*Math.cos(t)-n*Math.cos(e))]}var n=Math.tan(t);return e.invert=n?function(t,e){t&&(e*=Math.sin(t)/t);var i=Math.cos(t);return[t,2*Math.atan2(Math.sqrt(i*i+n*n-e*e)-i,n-e)]}:function(t,e){return[t,o(t?e*Math.tan(t)/t:e)]},e}function j(t,e){var n=Math.sqrt(3);return[n*t*(2*Math.cos(2*e/3)-1)/be,n*be*Math.sin(e/3)]}function q(t){function e(t,e){return[t*n,Math.sin(e)/n]}var n=Math.cos(t);return e.invert=function(t,e){return[t/n,o(e*n)]},e}function F(t){function e(t,e){return[t*n,(1+n)*Math.tan(.5*e)]}var n=Math.cos(t);return e.invert=function(t,e){return[t/n,2*Math.atan(e/(1+n))]},e}function H(t,e){var n=Math.sqrt(8/(3*ge));return[n*t*(1-Math.abs(e)/ge),n*e]}function B(t,e){var n=Math.sqrt(4-3*Math.sin(Math.abs(e)));return[2/Math.sqrt(6*ge)*t*n,s(e)*Math.sqrt(2*ge/3)*(2-n)]}function V(t,e){var n=Math.sqrt(ge*(4+ge));return[2/n*t*(1+Math.sqrt(1-4*e*e/(ge*ge))),4/n*e]}function W(t,e){var n=(2+me)*Math.sin(e);e/=2;for(var i=0,r=1/0;i<10&&Math.abs(r)>pe;i++){var a=Math.cos(e);e-=r=(e+Math.sin(e)*(a+2)-n)/(2*a*(1+a))}return[2/Math.sqrt(ge*(4+ge))*t*(1+Math.cos(e)),2*Math.sqrt(ge/(4+ge))*Math.sin(e)]}function Y(t,e){return[t*(1+Math.cos(e))/Math.sqrt(2+ge),2*e/Math.sqrt(2+ge)]}function U(t,e){for(var n=(1+me)*Math.sin(e),i=0,r=1/0;i<10&&Math.abs(r)>pe;i++)e-=r=(e+Math.sin(e)-n)/(1+Math.cos(e));return n=Math.sqrt(2+ge),[t*(1+Math.cos(e))/n,2*e/n]}function G(t,e){var n=Math.sin(t/=2),i=Math.cos(t),r=Math.sqrt(Math.cos(e)),a=Math.cos(e/=2),s=Math.sin(e)/(a+Math.SQRT2*i*r),o=Math.sqrt(2/(1+s*s)),l=Math.sqrt((Math.SQRT2*a+(i+n)*r)/(Math.SQRT2*a+(i-n)*r));return[ke*(o*(l-1/l)-2*Math.log(l)),ke*(o*s*(l+1/l)-2*Math.atan(s))]}function K(t,e){var n=Math.tan(e/2);return[t*Te*c(1-n*n),(1+Te)*n]}function X(t,e){var n=e/2,i=Math.cos(n);return[2*t/be*Math.cos(e)*i*i,be*Math.tan(n)]}function Q(t,e){function n(e,n){var a=Pe(e,n),s=a[0],o=a[1],l=s*s+o*o;if(l>r){var c=Math.sqrt(l),u=Math.atan2(o,s),h=i*Math.round(u/i),d=u-h,f=t*Math.cos(d),p=(t*Math.sin(d)-d*Math.sin(f))/(me-f),v=$(d,p),g=(ge-t)/Z(v,f,ge);s=c;var m,b=50;do{s-=m=(t+Z(v,f,s)*g-c)/(v(s)*g)}while(Math.abs(m)>pe&&--b>0);o=d*Math.sin(s),s<me&&(o-=p*(s-me));var y=Math.sin(h),_=Math.cos(h);a[0]=s*_-o*y,a[1]=s*y+o*_}return a}var i=2*ge/e,r=t*t;return n.invert=function(e,n){var a=e*e+n*n;if(a>r){var s=Math.sqrt(a),o=Math.atan2(n,e),l=i*Math.round(o/i),c=o-l,e=s*Math.cos(c);n=s*Math.sin(c);for(var u=e-me,h=Math.sin(e),d=n/h,f=e<me?1/0:0,p=10;;){var v=t*Math.sin(d),g=t*Math.cos(d),m=Math.sin(g),b=me-g,y=(v-d*m)/b,_=$(d,y);if(Math.abs(f)<ve||!--p)break;d-=f=(d*h-y*u-n)/(h-2*u*(b*(g+d*v*Math.cos(g)-m)-v*(v-d*m))/(b*b))}s=t+Z(_,g,e)*(ge-t)/Z(_,g,ge),o=l+d,e=s*Math.cos(o),n=s*Math.sin(o)}return Pe.invert(e,n)},n}function $(t,e){return function(n){var i=t*Math.cos(n);return n<me&&(i-=e),Math.sqrt(1+i*i)}}function J(){var t=6,e=30*ye,n=Math.cos(e),i=Math.sin(e),r=we(Q),a=r(e,t),s=a.stream,o=-Math.cos(.01*ye),l=Math.sin(.01*ye);return a.radius=function(a){return arguments.length?(n=Math.cos(e=a*ye),i=Math.sin(e),r(e,t)):e*_e},a.lobes=function(n){return arguments.length?r(e,t=+n):t},a.stream=function(e){var r=a.rotate(),c=s(e),u=(a.rotate([0,0]),s(e));return a.rotate(r),c.sphere=function(){u.polygonStart(),u.lineStart();for(var e=0,r=2*ge/t,a=0;e<t;++e,a-=r)u.point(Math.atan2(l*Math.cos(a),o)*_e,Math.asin(l*Math.sin(a))*_e),u.point(Math.atan2(i*Math.cos(a-r/2),n)*_e,Math.asin(i*Math.sin(a-r/2))*_e);u.lineEnd(),u.polygonEnd()},c},a}function Z(t,e,n){for(var i=(n-e)/50,r=t(e)+t(n),a=1,s=e;a<50;++a)r+=2*t(s+=i);return.5*r*i}function tt(t,e,n,i,r,a,s,o){function l(l,c){if(!c)return[t*l/ge,0];var u=c*c,h=t+u*(e+u*(n+u*i)),d=c*(r-1+u*(a-o+u*s)),f=(h*h+d*d)/(2*d),p=l*Math.asin(h/f)/ge;return[f*Math.sin(p),c*(1+u*o)+f*(1-Math.cos(p))]}return arguments.length<8&&(o=0),l.invert=function(l,u){var h,d,f=ge*l/t,p=u,v=50;do{var g=p*p,m=t+g*(e+g*(n+g*i)),b=p*(r-1+g*(a-o+g*s)),y=m*m+b*b,_=2*b,M=y/_,w=M*M,x=Math.asin(m/M)/ge,S=f*x;if(xB2=m*m,dxBdφ=(2*e+g*(4*n+6*g*i))*p,dyBdφ=r+g*(3*a+5*g*s),dpdφ=2*(m*dxBdφ+b*(dyBdφ-1)),dqdφ=2*(dyBdφ-1),dmdφ=(dpdφ*_-y*dqdφ)/(_*_),cosα=Math.cos(S),sinα=Math.sin(S),mcosα=M*cosα,msinα=M*sinα,dαdφ=f/ge*(1/c(1-xB2/w))*(dxBdφ*M-m*dmdφ)/w,fx=msinα-l,fy=p*(1+g*o)+M-mcosα-u,δxδφ=dmdφ*sinα+mcosα*dαdφ,δxδλ=mcosα*x,δyδφ=1+dmdφ-(dmdφ*cosα-msinα*dαdφ),δyδλ=msinα*x,denominator=δxδφ*δyδλ-δyδφ*δxδλ,!denominator)break;f-=h=(fy*δxδφ-fx*δyδφ)/denominator,p-=d=(fx*δyδλ-fy*δxδλ)/denominator}while((Math.abs(h)>pe||Math.abs(d)>pe)&&--v>0);return[f,p]},l}function et(t,e){var n=t*t,i=e*e;return[t*(1-.162388*i)*(.87-952426e-9*n*n),e*(1+i/12)]}function nt(t){function e(){var t=!1,e=we(n),i=e(t);return i.quincuncial=function(n){return arguments.length?e(t=!!n):t},i}function n(e){var n=e?function(e,n){var r=Math.abs(e)<me,a=t(r?e:e>0?e-ge:e+ge,n),o=(a[0]-a[1])*Math.SQRT1_2,l=(a[0]+a[1])*Math.SQRT1_2;if(r)return[o,l];var c=i*Math.SQRT1_2,u=o>0^l>0?-1:1;return[u*o-s(l)*c,u*l-s(o)*c]}:function(e,n){var r=e>0?-.5:.5,a=t(e+r*ge,n);return a[0]-=r*i,a};return t.invert&&(n.invert=e?function(e,n){var r=(e+n)*Math.SQRT1_2,a=(n-e)*Math.SQRT1_2,s=Math.abs(r)<.5*i&&Math.abs(a)<.5*i;if(!s){var o=i*Math.SQRT1_2,l=r>0^a>0?-1:1,c=-l*(e+(a>0?1:-1)*o),u=-l*(n+(r>0?1:-1)*o);r=(-c-u)*Math.SQRT1_2,a=(c-u)*Math.SQRT1_2}var h=t.invert(r,a);return s||(h[0]+=r>0?ge:-ge),h}:function(e,n){var r=e>0?-.5:.5,a=t.invert(e+r*i,n),s=a[0]-r*ge;return s<-ge?s+=2*ge:s>ge&&(s-=2*ge),a[0]=s,a}),n}var i=t(me,0)[0]-t(-me,0)[0];return e.raw=n,e}function it(t,e){var n=s(t),i=s(e),r=Math.cos(e),a=Math.cos(t)*r,l=Math.sin(t)*r,c=Math.sin(i*e);t=Math.abs(Math.atan2(l,c)),e=o(a),Math.abs(t-me)>pe&&(t%=me);var u=rt(t>ge/4?me-t:t,e);return t>ge/4&&(c=u[0],u[0]=-u[1],u[1]=-c),u[0]*=n,u[1]*=-i,u}function rt(t,e){if(e===me)return[0,0];var n=Math.sin(e),i=n*n,r=i*i,a=1+r,s=1+3*r,l=1-r,u=o(1/Math.sqrt(a)),h=l+i*a*u,d=(1-n)/h,f=Math.sqrt(d),p=d*a,v=Math.sqrt(p),g=f*l;if(0===t)return[0,-(g+i*v)];var m=Math.cos(e),b=1/m,y=2*n*m,_=(-3*i+u*s)*y,M=(-h*m-(1-n)*_)/(h*h),w=.5*M/f,x=l*w-2*i*f*y,S=i*a*M+d*s*y,z=-b*y,O=-b*S,E=-2*b*x,k=4*t/ge;if(t>.222*ge||e<ge/4&&t>.175*ge){var T=(g+i*c(p*(1+r)-g*g))/(1+r);if(t>ge/4)return[T,T];var P=T,C=.5*T,D=50;T=.5*(C+P);do{var A=Math.sqrt(p-T*T),L=T*(E+z*A)+O*o(T/v)-k;if(!L)break;L<0?C=T:P=T,T=.5*(C+P)}while(Math.abs(P-C)>pe&&--D>0)}else{var I,T=pe,D=25;do{var R=T*T,A=c(p-R),N=E+z*A,L=T*N+O*o(T/v)-k,j=N+(O-z*R)/A;T-=I=A?L/j:0}while(Math.abs(I)>pe&&--D>0)}return[T,-g-i*c(p-T*T)]}function at(t,e){for(var n=0,i=1,r=.5,a=50;;){var s=r*r,o=Math.sqrt(r),l=Math.asin(1/Math.sqrt(1+s)),c=1-s+r*(1+s)*l,u=(1-o)/c,h=Math.sqrt(u),d=u*(1+s),f=h*(1-s),p=d-t*t,v=Math.sqrt(p),g=e+f+r*v;if(Math.abs(i-n)<ve||0==--a||0===g)break;g>0?n=r:i=r,r=.5*(n+i)}if(!a)return null;var m=Math.asin(o),b=Math.cos(m),y=1/b,_=2*o*b,M=(-3*r+l*(1+3*s))*_,w=(-c*b-(1-o)*M)/(c*c);return[ge/4*(t*(-2*y*(.5*w/h*(1-s)-2*r*h*_)+-y*_*v)+-y*(r*(1+s)*w+u*(1+3*s)*_)*Math.asin(t/Math.sqrt(d))),m]}function st(t,e,n){if(!t){var i=ot(e,1-n);return[[0,i[0]/i[1]],[1/i[1],0],[i[2]/i[1],0]]}var r=ot(t,n);if(!e)return[[r[0],0],[r[1],0],[r[2],0]];var i=ot(e,1-n),a=i[1]*i[1]+n*r[0]*r[0]*i[0]*i[0];return[[r[0]*i[2]/a,r[1]*r[2]*i[0]*i[1]/a],[r[1]*i[1]/a,-r[0]*r[2]*i[0]*i[2]/a],[r[2]*i[1]*i[2]/a,-n*r[0]*r[1]*i[0]/a]]}function ot(t,e){var n,i,r,a,s;if(e<pe)return a=Math.sin(t),i=Math.cos(t),n=.25*e*(t-a*i),[a-n*i,i+n*a,1-.5*e*a*a,t-n];if(e>=1-pe)return n=.25*(1-e),i=m(t),a=v(t),r=1/i,s=i*g(t),[a+n*(s-t)/(i*i),r-n*a*r*(s-t),r+n*a*r*(s+t),2*Math.atan(Math.exp(t))-me+n*(s-t)/i];var l=[1,0,0,0,0,0,0,0,0],u=[Math.sqrt(e),0,0,0,0,0,0,0,0],h=0;for(i=Math.sqrt(1-e),s=1;Math.abs(u[h]/l[h])>pe&&h<8;)n=l[h++],u[h]=.5*(n-i),l[h]=.5*(n+i),i=c(n*i),s*=2;r=s*l[h]*t;do{a=u[h]*Math.sin(i=r)/l[h],r=.5*(o(a)+r)}while(--h);return[Math.sin(r),a=Math.cos(r),a/Math.cos(r-i),r]}function lt(t,e,n){var i=Math.abs(t),r=Math.abs(e),a=g(r);if(i){var o=1/Math.sin(i),l=1/(Math.tan(i)*Math.tan(i)),u=-(l+n*a*a*o*o-1+n),h=(n-1)*l,d=.5*(-u+Math.sqrt(u*u-4*h));return[ct(Math.atan(1/Math.sqrt(d)),n)*s(t),ct(Math.atan(c((d/l-1)/n)),1-n)*s(e)]}return[0,ct(Math.atan(a),1-n)*s(e)]}function ct(t,e){if(!e)return t;if(1===e)return Math.log(Math.tan(t/2+ge/4));for(var n=1,i=Math.sqrt(1-e),r=Math.sqrt(e),a=0;Math.abs(r)>pe;a++){if(t%ge){var s=Math.atan(i*Math.tan(t)/n);s<0&&(s+=ge),t+=s+~~(t/ge)*ge}else t+=t;r=(n+i)/2,i=Math.sqrt(n*i),r=((n=r)-i)/2}return t/(Math.pow(2,a)*n)}function ut(t,e){var n=(Math.SQRT2-1)/(Math.SQRT2+1),i=Math.sqrt(1-n*n),r=ct(me,i*i),a=Math.log(Math.tan(ge/4+Math.abs(e)/2)),s=Math.exp(-1*a)/Math.sqrt(n),o=ht(s*Math.cos(-1*t),s*Math.sin(-1*t)),l=lt(o[0],o[1],i*i);return[-l[1],(e>=0?1:-1)*(.5*r-l[0])]}function ht(t,e){var n=t*t,i=e+1,r=1-n-e*e;return[.5*((t>=0?me:-me)-Math.atan2(r,2*t)),-.25*Math.log(r*r+4*n)+.5*Math.log(i*i+n)]}function dt(t,e){var n=e[0]*e[0]+e[1]*e[1];return[(t[0]*e[0]+t[1]*e[1])/n,(t[1]*e[0]-t[0]*e[1])/n]}function ft(t){function e(t,e){var a=r(t,e);t=a[0],e=a[1];var s=Math.sin(e),o=Math.cos(e),c=Math.cos(t),u=l(n*s+i*o*c),h=Math.sin(u),d=Math.abs(h)>pe?u/h:1;return[d*i*Math.sin(t),(Math.abs(t)>me?d:-d)*(n*o-i*s*c)]}var n=Math.sin(t),i=Math.cos(t),r=pt(t);return r.invert=pt(-t),e.invert=function(t,e){var i=Math.sqrt(t*t+e*e),a=-Math.sin(i),s=Math.cos(i),o=i*s,l=-e*a,u=i*n,h=c(o*o+l*l-u*u),d=Math.atan2(o*u+l*h,l*u-o*h),f=(i>me?-1:1)*Math.atan2(t*a,i*Math.cos(d)*s+e*Math.sin(d)*a);return r.invert(f,d)},e}function pt(t){var e=Math.sin(t),n=Math.cos(t);return function(t,i){var r=Math.cos(i),a=Math.cos(t)*r,s=Math.sin(t)*r,l=Math.sin(i);return[Math.atan2(s,a*n-l*e),o(l*n+a*e)]}}function vt(){var t=0,e=we(ft),n=e(t),i=n.rotate,r=n.stream,a=d3.geoCircle();return n.parallel=function(i){if(!arguments.length)return t/ge*180;var r=n.rotate();return e(t=i*ge/180).rotate(r)},n.rotate=function(e){return arguments.length?(i.call(n,[e[0],e[1]-t/ge*180]),a.center([-e[0],-e[1]]),n):(e=i.call(n),e[1]+=t/ge*180,e)},n.stream=function(t){return t=r(t),t.sphere=function(){t.polygonStart();var e,n=a.radius(89.99)().coordinates[0],i=n.length-1,r=-1;for(t.lineStart();++r<i;)t.point((e=n[r])[0],e[1]);for(t.lineEnd(),n=a.radius(90.01)().coordinates[0],i=n.length-1,t.lineStart();--r>=0;)t.point((e=n[r])[0],e[1]);t.lineEnd(),t.polygonEnd()},t},n}function gt(t,e){function n(n,i){var r=Ie(n/e,i);return r[0]*=t,r}return arguments.length<2&&(e=t),1===e?Ie:e===1/0?bt:(n.invert=function(n,i){var r=Ie.invert(n/t,i);return r[0]*=e,r},n)}function mt(){var t=2,e=we(gt),n=e(t);return n.coefficient=function(n){return arguments.length?e(t=+n):t},n}function bt(t,e){return[t*Math.cos(e)/Math.cos(e/=2),2*Math.sin(e)]}function yt(t,e){for(var n,i=Math.sin(e)*(e<0?2.43763:2.67595),r=0;r<20&&(e-=n=(e+Math.sin(e)-i)/(1+Math.cos(e)),!(Math.abs(n)<pe));r++);return[.85*t*Math.cos(e*=.5),Math.sin(e)*(e<0?1.93052:1.75859)]}function _t(t){function e(e,u){var h,d=Math.abs(u);if(d>i){var f=Math.min(t-1,Math.max(0,Math.floor((e+ge)/c)));e+=ge*(t-1)/t-f*c,h=d3.geoCollignon.raw(e,d),h[0]=h[0]*r/a-r*(t-1)/(2*t)+f*r/t,h[1]=s+4*(h[1]-o)*l/r,u<0&&(h[1]=-h[1])}else h=n(e,u);return h[0]/=2,h}var n=d3.geoCylindricalEqualArea.raw(0),i=Re*ge/180,r=2*ge,a=d3.geoCollignon.raw(ge,i)[0]-d3.geoCollignon.raw(-ge,i)[0],s=n(0,i)[1],o=d3.geoCollignon.raw(0,i)[1],l=d3.geoCollignon.raw(0,me)[1]-o,c=2*ge/t;return e.invert=function(e,i){e*=2;var u=Math.abs(i);if(u>s){var h=Math.min(t-1,Math.max(0,Math.floor((e+ge)/c)));e=(e+ge*(t-1)/t-h*c)*a/r;var d=d3.geoCollignon.raw.invert(e,.25*(u-s)*r/l+o);return d[0]-=ge*(t-1)/t-h*c,i<0&&(d[1]=-d[1]),d}return n.invert(e,i)},e}function Mt(){function t(){var t=180/e;return{type:"Polygon",coordinates:[d3.range(-180,180+t/2,t).map(function(t,e){return[t,1&e?90-1e-6:Re]}).concat(d3.range(180,-180-t/2,-t).map(function(t,e){return[t,1&e?1e-6-90:-Re]}))]}}var e=2,n=we(_t),i=n(e),r=i.stream;return i.lobes=function(t){return arguments.length?n(e=+t):e},i.stream=function(e){var n=i.rotate(),a=r(e),s=(i.rotate([0,0]),r(e));return i.rotate(n),a.sphere=function(){d3.geoStream(t(),s)},a},i}function wt(t){function e(e,r){var o,l,d=1-Math.sin(r);if(d&&d<2){var f,p=me-r,v=25;do{var g=Math.sin(p),m=Math.cos(p),b=a+Math.atan2(g,i-m),y=1+h-2*i*m;p-=f=(p-u*a-i*g+y*b-.5*d*n)/(2*i*g*b)}while(Math.abs(f)>ve&&--v>0);o=s*Math.sqrt(y),l=e*b/ge}else o=s*(t+d),l=e*a/ge;return[o*Math.sin(l),c-o*Math.cos(l)]}var n,i=1+t,r=Math.sin(1/i),a=o(r),s=2*Math.sqrt(ge/(n=ge+4*a*i)),c=.5*s*(i+Math.sqrt(t*(2+t))),u=t*t,h=i*i;return e.invert=function(t,e){var r=t*t+(e-=c)*e,d=(1+h-r/(s*s))/(2*i),f=l(d),p=Math.sin(f),v=a+Math.atan2(p,i-d);return[o(t/Math.sqrt(r))*ge/v,o(1-2*(f-u*a-i*p+(1+h-2*i*d)*v)/n)]},e}function xt(){var t=1,e=we(wt),n=e(t);return n.ratio=function(n){return arguments.length?e(t=+n):t},n}function St(t,e){return e>-Ne?(t=Oe(t,e),t[1]+=je,t):k(t,e)}function zt(t,e){return Math.abs(e)>Ne?(t=Oe(t,e),t[1]-=e>0?je:-je,t):k(t,e)}function Ot(t,e){return[3*t/(2*ge)*Math.sqrt(ge*ge/3-e*e),e]}function Et(t){function e(e,n){if(Math.abs(Math.abs(n)-me)<pe)return[0,n<0?-2:2];var i=Math.sin(n),r=Math.pow((1+i)/(1-i),t/2),a=.5*(r+1/r)+Math.cos(e*=t);return[2*Math.sin(e)/a,(r-1/r)/a]}return e.invert=function(e,n){var i=Math.abs(n);if(Math.abs(i-2)<pe)return e?null:[0,s(n)*me];if(i>2)return null;e/=2,n/=2;var r=e*e,a=n*n,l=2*n/(1+r+a);return l=Math.pow((1+l)/(1-l),1/t),[Math.atan2(2*e,1-r-a)/t,o((l-1)/(l+1))]},e}function kt(){var t=.5,e=we(Et),n=e(t);return n.spacing=function(n){return arguments.length?e(t=+n):t},n}function Tt(t,e){return[t*(1+Math.sqrt(Math.cos(e)))/2,e/(Math.cos(e/2)*Math.cos(t/6))]}function Pt(t,e){var n=t*t,i=e*e;return[t*(.975534+i*(-.0143059*n-.119161+-.0547009*i)),e*(1.00384+n*(.0802894+-.02855*i+199025e-9*n)+i*(.0998909+-.0491032*i))]}function Ct(t,e){return[Math.sin(t)/Math.cos(e),Math.tan(e)*Math.cos(t)]}function Dt(t){function e(e,r){var a=r-t,s=Math.abs(a)<pe?e*n:Math.abs(s=ge/4+r/2)<pe||Math.abs(Math.abs(s)-me)<pe?0:e*a/Math.log(Math.tan(s)/i);return[s,a]}var n=Math.cos(t),i=Math.tan(ge/4+t/2);return e.invert=function(e,r){var a,s=r+t;return[Math.abs(r)<pe?e/n:Math.abs(a=ge/4+s/2)<pe||Math.abs(Math.abs(a)-me)<pe?0:e*Math.log(Math.tan(a)/i)/r,s]},e}function At(t,e){return[t,1.25*Math.log(Math.tan(ge/4+.4*e))]}function Lt(t){function e(e,i){for(var r,a=Math.cos(i),s=2/(1+a*Math.cos(e)),o=s*a*Math.sin(e),l=s*Math.sin(i),c=n,u=t[c],h=u[0],d=u[1];--c>=0;)u=t[c],h=u[0]+o*(r=h)-l*d,d=u[1]+o*d+l*r;return h=o*(r=h)-l*d,d=o*d+l*r,[h,d]}var n=t.length-1;return e.invert=function(e,i){var r=20,a=e,s=i;do{for(var l,c=n,u=t[c],h=u[0],d=u[1],f=0,p=0;--c>=0;)u=t[c],f=h+a*(l=f)-s*p,p=d+a*p+s*l,h=u[0]+a*(l=h)-s*d,d=u[1]+a*d+s*l;f=h+a*(l=f)-s*p,p=d+a*p+s*l,h=a*(l=h)-s*d-e,d=a*d+s*l-i;var v,g,m=f*f+p*p;a-=v=(h*f+d*p)/m,s-=g=(d*f-h*p)/m}while(Math.abs(v)+Math.abs(g)>pe*pe&&--r>0);if(r){var b=Math.sqrt(a*a+s*s),y=2*Math.atan(.5*b),_=Math.sin(y);return[Math.atan2(a*_,b*Math.cos(y)),b?o(s*_/b):0]}},e}function It(){var t=qe.miller,e=we(Lt),n=e(t);return n.coefficients=function(n){return arguments.length?e(t="string"==typeof n?qe[n]:n):t},n}function Rt(t,e){var n=Math.sqrt(6),i=Math.sqrt(7),r=Math.asin(7*Math.sin(e)/(3*n));return[n*t*(2*Math.cos(2*r/3)-1)/i,9*Math.sin(r/3)/i]}function Nt(t,e){for(var n,i=(1+Math.SQRT1_2)*Math.sin(e),r=e,a=0;a<25&&(r-=n=(Math.sin(r/2)+Math.sin(r)-i)/(.5*Math.cos(r/2)+Math.cos(r)),!(Math.abs(n)<pe));a++);return[t*(1+2*Math.cos(r)/Math.cos(r/2))/(3*Math.SQRT2),2*Math.sqrt(3)*Math.sin(r/2)/Math.sqrt(2+Math.SQRT2)]}function jt(t,e){for(var n,i=Math.sqrt(6/(4+ge)),r=(1+ge/4)*Math.sin(e),a=e/2,s=0;s<25&&(a-=n=(a/2+Math.sin(a)-r)/(.5+Math.cos(a)),!(Math.abs(n)<pe));s++);return[i*(.5+Math.cos(a))*t/1.5,i*a]}function qt(t,e){var n=e*e,i=n*n;return[t*(.8707-.131979*n+i*(i*(.003971*n-.001529*i)-.013791)),e*(1.007226+n*(.015085+i*(.028874*n-.044475-.005916*i)))]}function Ft(t,e){return[t*(1+Math.cos(e))/2,2*(e-Math.tan(e/2))]}function Ht(t,e){var n=e*e;return[t,e*(Fe+n*n*(He+n*(Be+Ve*n)))]}function Bt(t,e){if(Math.abs(e)<pe)return[t,0];var n=Math.tan(e),i=t*Math.sin(e);return[Math.sin(i)/n,e+(1-Math.cos(i))/n]}function Vt(t){function e(e,i){var r=n?Math.tan(e*n/2)/n:e/2;if(!i)return[2*r,-t];var a=2*Math.atan(r*Math.sin(i)),s=1/Math.tan(i);return[Math.sin(a)*s,i+(1-Math.cos(a))*s-t]}var n=Math.sin(t);return e.invert=function(e,i){if(Math.abs(i+=t)<pe)return[n?2*Math.atan(n*e/2)/n:e,0];var r,a=e*e+i*i,s=0,c=10;do{var u=Math.tan(s),h=1/Math.cos(s),d=a-2*i*s+s*s;s-=r=(u*d+2*(s-i))/(2+d*h*h+2*(s-i)*u)}while(Math.abs(r)>pe&&--c>0);var f=e*(u=Math.tan(s)),p=Math.tan(Math.abs(i)<Math.abs(s+1/u)?.5*o(f):.5*l(f)+ge/4)/Math.sin(s);return[n?2*Math.atan(n*p)/n:2*p,s]},e}function Wt(t,e){var n,i=Math.min(18,36*Math.abs(e)/ge),r=Math.floor(i),a=i-r,s=(n=Xe[r])[0],o=n[1],l=(n=Xe[++r])[0],c=n[1],u=(n=Xe[Math.min(19,++r)])[0],h=n[1];return[t*(l+a*(u-s)/2+a*a*(u-2*l+s)/2),(e>0?me:-me)*(c+a*(h-o)/2+a*a*(h-2*c+o)/2)]}function Yt(t){function e(e,n){var i=Math.cos(n),r=(t-1)/(t-i*Math.cos(e));return[r*i*Math.sin(e),r*Math.sin(n)]}return e.invert=function(e,n){var i=e*e+n*n,r=Math.sqrt(i),a=(t-Math.sqrt(1-i*(t+1)/(t-1)))/((t-1)/r+r/(t-1));return[Math.atan2(e*a,r*Math.sqrt(1-a*a)),r?o(n*a/r):0]},e}function Ut(t,e){function n(e,n){var s=i(e,n),o=s[1],l=o*a/(t-1)+r;return[s[0]*r/l,o/l]}var i=Yt(t);if(!e)return i;var r=Math.cos(e),a=Math.sin(e);return n.invert=function(e,n){var s=(t-1)/(t-1-n*a);return i.invert(s*e,s*n*r)},n}function Gt(){var t=1.4,e=0,n=we(Ut),i=n(t,e);return i.distance=function(i){return arguments.length?n(t=+i,e):t},i.tilt=function(i){return arguments.length?n(t,e=i*ge/180):180*e/ge},i}function Kt(t,e){var n=Math.tan(e/2),i=Math.sin(ge/4*n);return[t*(.74482-.34588*i*i),1.70711*n]}function Xt(t){function e(e,a){var s=l(Math.cos(a)*Math.cos(e-n)),o=l(Math.cos(a)*Math.cos(e-i)),u=a<0?-1:1;return s*=s,o*=o,[(s-o)/(2*t),u*c(4*r*o-(r-s+o)*(r-s+o))/(2*t)]}if(!t)return d3.geoAzimuthalEquidistant.raw;var n=-t/2,i=-n,r=t*t,a=Math.tan(i),s=.5/Math.sin(i);return e.invert=function(t,e){var r,o,c=e*e,u=Math.cos(Math.sqrt(c+(r=t+n)*r)),h=Math.cos(Math.sqrt(c+(r=t+i)*r));return[Math.atan2(o=u-h,r=(u+h)*a),(e<0?-1:1)*l(Math.sqrt(r*r+o*o)*s)]},e}function Qt(){var t=[[0,0],[0,0]],e=we(Xt),n=e(0),i=n.rotate;return delete n.rotate,n.points=function(n){if(!arguments.length)return t;t=n;var r=d3.geoInterpolate(n[0],n[1]),a=r(.5),s=d3.geoRotation([-a[0],-a[1]])(n[0]),l=.5*r.distance,c=-o(Math.sin(s[1]*ye)/Math.sin(l));return s[0]>0&&(c=ge-c),i.call(s,[-a[0],-a[1],-c*_e]),e(2*l)},n}function $t(t){function e(t,e){var i=d3.geoGnomonic.raw(t,e);return i[0]*=n,i}var n=Math.cos(t);return e.invert=function(t,e){return d3.geoGnomonic.raw.invert(t/n,e)},e}function Jt(){var t=[[0,0],[0,0]],e=we($t),n=e(0),i=n.rotate;return delete n.rotate,n.points=function(n){if(!arguments.length)return t;t=n;var r=d3.geoInterpolate(n[0],n[1]),a=r(.5),s=d3.geoRotation([-a[0],-a[1]])(n[0]),l=.5*r.distance,c=-o(Math.sin(s[1]*ye)/Math.sin(l));return s[0]>0&&(c=ge-c),i.call(s,[-a[0],-a[1],-c*_e]),e(l)},n}function Zt(t,e){if(Math.abs(e)<pe)return[t,0];var n=Math.abs(e/me),i=o(n);if(Math.abs(t)<pe||Math.abs(Math.abs(e)-me)<pe)return[0,s(e)*ge*Math.tan(i/2)];var r=Math.cos(i),a=Math.abs(ge/t-t/ge)/2,l=a*a,c=r/(n+r-1),u=c*(2/n-1),h=u*u,d=h+l,f=c-h,p=l+c;return[s(t)*ge*(a*f+Math.sqrt(l*f*f-d*(c*c-h)))/d,s(e)*ge*(u*p-a*Math.sqrt((l+1)*d-p*p))/d]}function te(t,e){if(Math.abs(e)<pe)return[t,0];var n=Math.abs(e/me),i=o(n);if(Math.abs(t)<pe||Math.abs(Math.abs(e)-me)<pe)return[0,s(e)*ge*Math.tan(i/2)];var r=Math.cos(i),a=Math.abs(ge/t-t/ge)/2,l=a*a,u=r*(Math.sqrt(1+l)-a*r)/(1+l*n*n);return[s(t)*ge*u,s(e)*ge*c(1-u*(2*a+u))]}function ee(t,e){if(Math.abs(e)<pe)return[t,0];var n=e/me,i=o(n);if(Math.abs(t)<pe||Math.abs(Math.abs(e)-me)<pe)return[0,ge*Math.tan(i/2)];var r=(ge/t-t/ge)/2,a=n/(1+Math.cos(i));return[ge*(s(t)*c(r*r+1-a*a)-r),ge*a]}function ne(t,e){if(!e)return[t,0];var n=Math.abs(e);if(!t||n===me)return[0,e];var i=n/me,r=i*i,a=(8*i-r*(r+2)-5)/(2*r*(i-1)),o=a*a,l=i*a,u=r+o+2*l,h=i+3*a,d=t/me,f=d+1/d,p=s(Math.abs(t)-me)*Math.sqrt(f*f-4),v=p*p,g=u*(r+o*v-1)+(1-r)*(r*(h*h+4*o)+12*l*o+4*o*o),m=(p*(u+o-1)+2*c(g))/(4*u+v);return[s(t)*me*m,s(e)*me*c(1+p*Math.abs(m)-m*m)]}function ie(t,e){return[t*Math.sqrt(1-3*e*e/(ge*ge)),e]}function re(t,e){var n=.90631*Math.sin(e),i=Math.sqrt(1-n*n),r=Math.sqrt(2/(1+i*Math.cos(t/=3)));return[2.66723*i*r*Math.sin(t),1.24104*n*r]}function ae(t,e){var n=Math.cos(e),i=Math.cos(t)*n,r=1-i,a=Math.cos(t=Math.atan2(Math.sin(t)*n,-Math.sin(e))),s=Math.sin(t);return n=c(1-i*i),[s*n-a*r,-a*n-s*r]}function se(t,e){var n=d(t,e);return[(n[0]+t/me)/2,(n[1]+e)/2]}d3.geoProject=function(t,n){var i=n.stream;if(!i)throw new Error("not yet supported");return(t&&oe.hasOwnProperty(t.type)?oe[t.type]:e)(t,i)};var oe={Feature:t,FeatureCollection:function(e,n){return{type:"FeatureCollection",features:e.features.map(function(e){return t(e,n)})}}},le=[],ce=[],ue={point:function(t,e){le.push([t,e])},result:function(){var t=le.length?le.length<2?{type:"Point",coordinates:le[0]}:{type:"MultiPoint",coordinates:le}:null;return le=[],t}},he={lineStart:n,point:function(t,e){le.push([t,e])},lineEnd:function(){le.length&&(ce.push(le),le=[])},result:function(){var t=ce.length?ce.length<2?{type:"LineString",coordinates:ce[0]}:{type:"MultiLineString",coordinates:ce}:null;return ce=[],t}},de={polygonStart:n,lineStart:n,point:function(t,e){le.push([t,e])},lineEnd:function(){var t=le.length;if(t){do{le.push(le[0].slice())}while(++t<4);ce.push(le),le=[]}},polygonEnd:n,result:function(){if(!ce.length)return null;var t=[],e=[];return ce.forEach(function(n){i(n)?t.push([n]):e.push(n)}),e.forEach(function(e){var n=e[0];t.some(function(t){return!!r(t[0],n)&&(t.push(e),!0)})||t.push([e])}),ce=[],t.length?t.length>1?{type:"MultiPolygon",coordinates:t}:{type:"Polygon",coordinates:t[0]}:null}},fe={Point:ue,MultiPoint:ue,LineString:he,MultiLineString:he,Polygon:de,MultiPolygon:de,Sphere:de},pe=1e-6,ve=pe*pe,ge=Math.PI,me=ge/2,be=Math.sqrt(ge),ye=ge/180,_e=180/ge,Me=d3.geoProjection,we=d3.geoProjectionMutator;d3.geoInterrupt=function(t){function e(e,n){for(var i=n<0?-1:1,r=o[+(n<0)],a=0,s=r.length-1;a<s&&e>r[a][2][0];++a);var l=t(e-r[a][1][0],n);return l[0]+=t(r[a][1][0],i*n>i*r[a][0][1]?r[a][0][1]:n)[0],l}function n(){s=o.map(function(e){return e.map(function(e){var n,i=t(e[0][0],e[0][1])[0],r=t(e[2][0],e[2][1])[0],a=t(e[1][0],e[0][1])[1],s=t(e[1][0],e[1][1])[1];return a>s&&(n=a,a=s,s=n),[[i,a],[r,s]]})})}function i(){for(var t=1e-6,e=[],n=0,i=o[0].length;n<i;++n){var a=o[0][n],s=180*a[0][0]/ge,l=180*a[0][1]/ge,c=180*a[1][1]/ge,u=180*a[2][0]/ge,h=180*a[2][1]/ge;e.push(r([[s+t,l+t],[s+t,c-t],[u-t,c-t],[u-t,h+t]],30))}for(var n=o[1].length-1;n>=0;--n){var a=o[1][n],s=180*a[0][0]/ge,l=180*a[0][1]/ge,c=180*a[1][1]/ge,u=180*a[2][0]/ge,h=180*a[2][1]/ge;e.push(r([[u-t,h-t],[u-t,c+t],[s+t,c+t],[s+t,l-t]],30))}return{type:"Polygon",coordinates:[d3.merge(e)]}}function r(t,e){for(var n,i,r,a=-1,s=t.length,o=t[0],l=[];++a<s;){n=t[a],i=(n[0]-o[0])/e,r=(n[1]-o[1])/e;for(var c=0;c<e;++c)l.push([o[0]+c*i,o[1]+c*r]);o=n}return l.push(n),l}function a(t,e){return Math.abs(t[0]-e[0])<pe&&Math.abs(t[1]-e[1])<pe}var s,o=[[[[-ge,0],[0,me],[ge,0]]],[[[-ge,0],[0,-me],[ge,0]]]];t.invert&&(e.invert=function(n,i){for(var r=s[+(i<0)],l=o[+(i<0)],c=0,u=r.length;c<u;++c){var h=r[c];if(h[0][0]<=n&&n<h[1][0]&&h[0][1]<=i&&i<h[1][1]){var d=t.invert(n-t(l[c][1][0],0)[0],i);return d[0]+=l[c][1][0],a(e(d[0],d[1]),[n,i])?d:null}}});var l=d3.geoProjection(e),c=l.stream;return l.stream=function(t){var e=l.rotate(),n=c(t),r=(l.rotate([0,0]),c(t));return l.rotate(e),n.sphere=function(){d3.geoStream(i(),r)},n},l.lobes=function(t){return arguments.length?(o=t.map(function(t){return t.map(function(t){return[[t[0][0]*ge/180,t[0][1]*ge/180],[t[1][0]*ge/180,t[1][1]*ge/180],[t[2][0]*ge/180,t[2][1]*ge/180]]})}),n(),l):o.map(function(t){return t.map(function(t){return[[180*t[0][0]/ge,180*t[0][1]/ge],[180*t[1][0]/ge,180*t[1][1]/ge],[180*t[2][0]/ge,180*t[2][1]/ge]]})})},l},(d3.geoAiry=h).raw=u,d.invert=function(t,e){if(!(t*t+4*e*e>ge*ge+pe)){var n=t,i=e,r=25;do{var a,s=Math.sin(n),o=Math.sin(n/2),c=Math.cos(n/2),u=Math.sin(i),h=Math.cos(i),d=Math.sin(2*i),f=u*u,p=h*h,v=o*o,g=1-p*c*c,m=g?l(h*c)*Math.sqrt(a=1/g):a=0,b=2*m*h*o-t,y=m*u-e,_=a*(p*v+m*h*c*f),M=a*(.5*s*d-2*m*u*o),w=.25*a*(d*o-m*u*p*s),x=a*(f*c+m*v*h),S=M*w-x*_;if(!S)break;var z=(y*M-b*x)/S,O=(b*w-y*_)/S;n-=z,i-=O}while((Math.abs(z)>pe||Math.abs(O)>pe)&&--r>0);return[n,i]}},(d3.geoAitoff=function(){return Me(d)}).raw=d,(d3.geoArmadillo=p).raw=f,_.invert=function(t,e){if(t*=3/8,e*=3/8,!t&&Math.abs(e)>1)return null;var n=t*t,i=e*e,r=1+n+i,a=Math.sqrt(.5*(r-Math.sqrt(r*r-4*e*e))),l=o(a)/3,c=a?y(Math.abs(e/a))/3:b(Math.abs(t))/3,u=Math.cos(l),h=m(c),d=h*h-u*u;return[2*s(t)*Math.atan2(g(c)*u,.25-d),2*s(e)*Math.atan2(h*Math.sin(l),.25+d)]},(d3.geoAugust=function(){return Me(_)}).raw=_;var xe=Math.log(1+Math.SQRT2);M.invert=function(t,e){if((i=Math.abs(e))<xe)return[t,2*Math.atan(Math.exp(e))-me];var n,i,r=Math.sqrt(8),a=ge/4,o=25;do{var l=Math.cos(a/2),c=Math.tan(a/2);a-=n=(r*(a-ge/4)-Math.log(c)-i)/(r-.5*l*l/c)}while(Math.abs(n)>ve&&--o>0);return[t/(Math.cos(a)*(r-1/Math.sin(a))),s(e)*a]},(d3.geoBaker=function(){return Me(M)}).raw=M;var Se=d3.geoAzimuthalEquidistant.raw;(d3.geoBerghaus=x).raw=w;var ze=S(ge),Oe=z(Math.SQRT2/me,Math.SQRT2,ge);(d3.geoMollweide=function(){return Me(Oe)}).raw=Oe,O.invert=function(t,e){var n,i,r=2.00276,a=r*e,s=e<0?-ge/4:ge/4,o=25;do{i=a-Math.SQRT2*Math.sin(s),s-=n=(Math.sin(2*s)+2*s-ge*Math.sin(i))/(2*Math.cos(2*s)+2+ge*Math.cos(i)*Math.SQRT2*Math.cos(s))}while(Math.abs(n)>pe&&--o>0);return i=a-Math.SQRT2*Math.sin(s),[t*(1/Math.cos(i)+1.11072/Math.cos(s))/r,i]},(d3.geoBoggs=function(){return Me(O)}).raw=O,k.invert=function(t,e){return[t/Math.cos(e),e]},(d3.geoSinusoidal=function(){return Me(k)}).raw=k,(d3.geoBonne=function(){return E(T).parallel(45)}).raw=T;var Ee=z(1,4/ge,ge);(d3.geoBromley=function(){return Me(Ee)}).raw=Ee,(d3.geoChamberlin=C).raw=P,R.invert=function(t,e){var n=(n=e/be-1)*n;return[n>0?t*Math.sqrt(ge/n)/2:0,o(1-n)]},(d3.geoCollignon=function(){return Me(R)}).raw=R,(d3.geoCraig=function(){return E(N)}).raw=N,j.invert=function(t,e){var n=Math.sqrt(3),i=3*o(e/(n*be));return[be*t/(n*(2*Math.cos(2*i/3)-1)),i]},(d3.geoCraster=function(){return Me(j)}).raw=j,(d3.geoCylindricalEqualArea=function(){return E(q)}).raw=q,(d3.geoCylindricalStereographic=function(){return E(F)}).raw=F,H.invert=function(t,e){var n=Math.sqrt(8/(3*ge)),i=e/n;return[t/(n*(1-Math.abs(i)/ge)),i]},(d3.geoEckert1=function(){return Me(H)}).raw=H,B.invert=function(t,e){var n=2-Math.abs(e)/Math.sqrt(2*ge/3);return[t*Math.sqrt(6*ge)/(2*n),s(e)*o((4-n*n)/3)]},(d3.geoEckert2=function(){return Me(B)}).raw=B,V.invert=function(t,e){var n=Math.sqrt(ge*(4+ge))/2;return[t*n/(1+c(1-e*e*(4+ge)/(4*ge))),e*n/2]},(d3.geoEckert3=function(){return Me(V)}).raw=V,W.invert=function(t,e){var n=.5*e*Math.sqrt((4+ge)/ge),i=o(n),r=Math.cos(i);return[t/(2/Math.sqrt(ge*(4+ge))*(1+r)),o((i+n*(r+2))/(2+me))]},(d3.geoEckert4=function(){return Me(W)}).raw=W,Y.invert=function(t,e){var n=Math.sqrt(2+ge),i=e*n/2;return[n*t/(1+Math.cos(i)),i]},(d3.geoEckert5=function(){return Me(Y)}).raw=Y,U.invert=function(t,e){var n=1+me,i=Math.sqrt(n/2);return[2*t*i/(1+Math.cos(e*=i)),o((e+Math.sin(e))/n)]},(d3.geoEckert6=function(){return Me(U)}).raw=U,G.invert=function(t,e){var n=d3.geoAugust.raw.invert(t/1.2,1.065*e);if(!n)return null;var i=n[0],r=n[1],a=20;t/=ke,e/=ke;do{var s=i/2,o=r/2,l=Math.sin(s),c=Math.cos(s),u=Math.sin(o),h=Math.cos(o),d=Math.cos(r),f=Math.sqrt(d),p=u/(h+Math.SQRT2*c*f),v=p*p,g=Math.sqrt(2/(1+v)),m=Math.SQRT2*h+(c+l)*f,b=Math.SQRT2*h+(c-l)*f,y=m/b,_=Math.sqrt(y),M=_-1/_,w=_+1/_,x=g*M-2*Math.log(_)-t,S=g*p*w-2*Math.atan(p)-e,z=u&&Math.SQRT1_2*f*l*v/u,O=(Math.SQRT2*c*h+f)/(2*(h+Math.SQRT2*c*f)*(h+Math.SQRT2*c*f)*f),E=-.5*p*g*g*g,k=E*z,T=E*O,P=(P=2*h+Math.SQRT2*f*(c-l))*P*_,C=(Math.SQRT2*c*h*f+d)/P,D=-Math.SQRT2*l*u/(f*P),A=M*k-2*C/_+g*(C+C/y),L=M*T-2*D/_+g*(D+D/y),I=p*w*k-2*z/(1+v)+g*w*z+g*p*(C-C/y),R=p*w*T-2*O/(1+v)+g*w*O+g*p*(D-D/y),N=L*I-R*A;if(!N)break;var j=(S*L-x*R)/N,q=(x*I-S*A)/N;i-=j,r=Math.max(-me,Math.min(me,r-q))}while((Math.abs(j)>pe||Math.abs(q)>pe)&&--a>0);return Math.abs(Math.abs(r)-me)<pe?[0,r]:a&&[i,r]};var ke=3+2*Math.SQRT2;(d3.geoEisenlohr=function(){return Me(G)}).raw=G,K.invert=function(t,e){var n=e/(1+Te);return[t?t/(Te*c(1-n*n)):0,2*Math.atan(n)]};var Te=Math.cos(35*ye);(d3.geoFahey=function(){return Me(K)}).raw=K,X.invert=function(t,e){var n=Math.atan(e/be),i=Math.cos(n),r=2*n;return[t*be*.5/(Math.cos(r)*i*i),r]},(d3.geoFoucaut=function(){return Me(X)}).raw=X,d3.geoGilbert=function(t){function e(e){return t([.5*e[0],o(Math.tan(.5*e[1]*ye))*_e])}var n=d3.geoEquirectangular().scale(_e).translate([0,0]);return t.invert&&(e.invert=function(e){return e=t.invert(e),e[0]*=2,e[1]=2*Math.atan(Math.sin(e[1]*ye))*_e,e}),e.stream=function(e){e=t.stream(e);var i=n.stream({point:function(t,n){e.point(.5*t,o(Math.tan(.5*-n*ye))*_e)},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}});return i.sphere=function(){e.sphere()},i.valid=!1,i},e};var Pe=d3.geoAzimuthalEquidistant.raw;(d3.geoGingery=J).raw=Q;var Ce=tt(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);(d3.geoGinzburg4=function(){return Me(Ce)}).raw=Ce;var De=tt(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);(d3.geoGinzburg5=function(){return Me(De)}).raw=De;var Ae=tt(5/6*ge,-.62636,-.0344,0,1.3493,-.05524,0,.045);(d3.geoGinzburg6=function(){return Me(Ae)}).raw=Ae,et.invert=function(t,e){var n,i=t,r=e,a=50;do{var s=r*r;r-=n=(r*(1+s/12)-e)/(1+s/4)}while(Math.abs(n)>pe&&--a>0);a=50,t/=1-.162388*s;do{var o=(o=i*i)*o;i-=n=(i*(.87-952426e-9*o)-t)/(.87-.00476213*o)}while(Math.abs(n)>pe&&--a>0);return[i,r]},(d3.geoGinzburg8=function(){return Me(et)}).raw=et;var Le=tt(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);(d3.geoGinzburg9=function(){return Me(Le)}).raw=Le,it.invert=function(t,e){var n=s(t),i=s(e),r=-n*t,a=-i*e,l=a/r<1,c=at(l?a:r,l?r:a),u=c[0],h=c[1];l&&(u=-me-u);var d=Math.cos(h),t=Math.cos(u)*d,e=Math.sin(u)*d,f=Math.sin(h);return[n*(Math.atan2(e,-f)+ge),i*o(t)]},d3.geoGringorten=nt(it),ut.invert=function(t,e){var n=(Math.SQRT2-1)/(Math.SQRT2+1),i=Math.sqrt(1-n*n),r=ct(me,i*i),a=st(.5*r-e,-t,i*i),s=dt(a[0],a[1]);return[Math.atan2(s[1],s[0])/-1,2*Math.atan(Math.exp(-.5*Math.log(n*s[0]*s[0]+n*s[1]*s[1])))-me]},d3.geoGuyou=nt(ut),(d3.geoHammerRetroazimuthal=vt).raw=ft;var Ie=d3.geoAzimuthalEqualArea.raw;bt.invert=function(t,e){var n=2*o(e/2);return[t*Math.cos(n/2)/Math.cos(n),n]},(d3.geoHammer=mt).raw=gt,yt.invert=function(t,e){var n=Math.abs(n=e*(e<0?.5179951515653813:.5686373742600607))>1-pe?n>0?me:-me:o(n);return[1.1764705882352942*t/Math.cos(n),Math.abs(n=((n+=n)+Math.sin(n))*(e<0?.4102345310814193:.3736990601468637))>1-pe?n>0?me:-me:o(n)]},(d3.geoHatano=function(){return Me(yt)}).raw=yt;var Re=41+48/36+37/3600;(d3.geoHealpix=Mt).raw=_t,(d3.geoHill=xt).raw=wt;var Ne=.7109889596207567,je=.0528035274542;St.invert=function(t,e){return e>-Ne?Oe.invert(t,e-je):k.invert(t,e)},(d3.geoSinuMollweide=function(){return Me(St).rotate([-20,-55])}).raw=St,zt.invert=function(t,e){return Math.abs(e)>Ne?Oe.invert(t,e+(e>0?je:-je)):k.invert(t,e)},(d3.geoHomolosine=function(){return Me(zt)}).raw=zt,Ot.invert=function(t,e){return[2/3*ge*t/Math.sqrt(ge*ge/3-e*e),e]},(d3.geoKavrayskiy7=function(){return Me(Ot)}).raw=Ot,(d3.geoLagrange=kt).raw=Et,Tt.invert=function(t,e){var n=Math.abs(t),i=Math.abs(e),r=ge/Math.SQRT2,a=pe,s=me;i<r?s*=i/r:a+=6*l(r/i);for(var o=0;o<25;o++){var u=Math.sin(s),h=c(Math.cos(s)),d=Math.sin(s/2),f=Math.cos(s/2),p=Math.sin(a/6),v=Math.cos(a/6),g=.5*a*(1+h)-n,m=s/(f*v)-i,b=h?-.25*a*u/h:0,y=.5*(1+h),_=(1+.5*s*d/f)/(f*v),M=s/f*(p/6)/(v*v),w=b*M-_*y,x=(g*M-m*y)/w,S=(m*b-g*_)/w;if(s-=x,a-=S,Math.abs(x)<pe&&Math.abs(S)<pe)break}return[t<0?-a:a,e<0?-s:s]},(d3.geoLarrivee=function(){return Me(Tt)}).raw=Tt,Pt.invert=function(t,e){var n=s(t)*ge,i=e/2,r=50;do{var a=n*n,o=i*i,l=n*i,c=n*(.975534+o*(-.0143059*a-.119161+-.0547009*o))-t,u=i*(1.00384+a*(.0802894+-.02855*o+199025e-9*a)+o*(.0998909+-.0491032*o))-e,h=.975534-o*(.119161+3*a*.0143059+.0547009*o),d=-l*(.238322+.2188036*o+.0286118*a),f=l*(.1605788+7961e-7*a+-.0571*o),p=1.00384+a*(.0802894+199025e-9*a)+o*(3*(.0998909-.02855*a)-.245516*o),v=d*f-p*h,g=(u*d-c*p)/v,m=(c*f-u*h)/v;n-=g,i-=m}while((Math.abs(g)>pe||Math.abs(m)>pe)&&--r>0);return r&&[n,i]},(d3.geoLaskowski=function(){return Me(Pt)}).raw=Pt,Ct.invert=function(t,e){var n=t*t,i=e*e,r=i+1,a=t?Math.SQRT1_2*Math.sqrt((r-Math.sqrt(n*n+2*n*(i-1)+r*r))/n+1):1/Math.sqrt(r);return[o(t*a),s(e)*l(a)]},(d3.geoLittrow=function(){return Me(Ct)}).raw=Ct,(d3.geoLoximuthal=function(){return E(Dt).parallel(40)}).raw=Dt,At.invert=function(t,e){return[t,2.5*Math.atan(Math.exp(.8*e))-.625*ge]},(d3.geoMiller=function(){return Me(At)}).raw=At;var qe={alaska:[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],gs48:[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],gs50:[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],miller:[[.9245,0],[0,0],[.01943,0]],lee:[[.721316,0],[0,0],[-.00881625,-.00617325]]};(d3.geoModifiedStereographic=It).raw=Lt,Rt.invert=function(t,e){var n=Math.sqrt(6),i=Math.sqrt(7),r=3*o(e*i/9);return[t*i/(n*(2*Math.cos(2*r/3)-1)),o(3*Math.sin(r)*n/7)]},(d3.geoMtFlatPolarParabolic=function(){return Me(Rt)}).raw=Rt,Nt.invert=function(t,e){var n=e*Math.sqrt(2+Math.SQRT2)/(2*Math.sqrt(3)),i=2*o(n);return[3*Math.SQRT2*t/(1+2*Math.cos(i)/Math.cos(i/2)),o((n+Math.sin(i))/(1+Math.SQRT1_2))]},(d3.geoMtFlatPolarQuartic=function(){return Me(Nt)}).raw=Nt,jt.invert=function(t,e){var n=Math.sqrt(6/(4+ge)),i=e/n;return Math.abs(Math.abs(i)-me)<pe&&(i=i<0?-me:me),[1.5*t/(n*(.5+Math.cos(i))),o((i/2+Math.sin(i))/(1+ge/4))]},(d3.geoMtFlatPolarSinusoidal=function(){return Me(jt)}).raw=jt,qt.invert=function(t,e){var n,i=e,r=25;do{var a=i*i,s=a*a;i-=n=(i*(1.007226+a*(.015085+s*(.028874*a-.044475-.005916*s)))-e)/(1.007226+a*(.045255+s*(.259866*a-.311325-.005916*11*s)))}while(Math.abs(n)>pe&&--r>0);return[t/(.8707+(a=i*i)*(a*(a*a*a*(.003971-.001529*a)-.013791)-.131979)),i]},(d3.geoNaturalEarth=function(){return Me(qt)}).raw=qt,Ft.invert=function(t,e){for(var n=e/2,i=0,r=1/0;i<10&&Math.abs(r)>pe;i++){var a=Math.cos(e/2);e-=r=(e-Math.tan(e/2)-n)/(1-.5/(a*a))}return[2*t/(1+Math.cos(e)),e]},(d3.geoNellHammer=function(){return Me(Ft)}).raw=Ft;var Fe=1.0148,He=.23185,Be=-.14499,Ve=.02406,We=Fe,Ye=5*He,Ue=7*Be,Ge=9*Ve;Ht.invert=function(t,e){e>1.790857183?e=1.790857183:e<-1.790857183&&(e=-1.790857183);var n,i=e;do{var r=i*i;i-=n=(i*(Fe+r*r*(He+r*(Be+Ve*r)))-e)/(We+r*r*(Ye+r*(Ue+Ge*r)))}while(Math.abs(n)>pe);return[t,i]},(d3.geoPatterson=function(){return Me(Ht)}).raw=Ht;var Ke=nt(ut);(d3.geoPeirceQuincuncial=function(){return Ke().quincuncial(!0).rotate([-90,-90,45]).clipAngle(180-1e-6)}).raw=Ke.raw,Bt.invert=function(t,e){if(Math.abs(e)<pe)return[t,0];var n,i=t*t+e*e,r=.5*e,a=10;do{var c=Math.tan(r),u=1/Math.cos(r),h=i-2*e*r+r*r;r-=n=(c*h+2*(r-e))/(2+h*u*u+2*(r-e)*c)}while(Math.abs(n)>pe&&--a>0);return c=Math.tan(r),[(Math.abs(e)<Math.abs(r+1/c)?o(t*c):s(t)*(l(Math.abs(t*c))+me))/Math.sin(r),r]},(d3.geoPolyconic=function(){return Me(Bt)}).raw=Bt,(d3.geoRectangularPolyconic=function(){return E(Vt)}).raw=Vt;var Xe=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];Xe.forEach(function(t){t[1]*=1.0144}),Wt.invert=function(t,e){var n=e/me,i=90*n,r=Math.min(18,Math.abs(i/5)),a=Math.max(0,Math.floor(r));do{var s=Xe[a][1],o=Xe[a+1][1],l=Xe[Math.min(19,a+2)][1],c=l-s,u=l-2*o+s,h=2*(Math.abs(n)-o)/c,d=u/c,f=h*(1-d*h*(1-2*d*h));if(f>=0||1===a){i=(e>=0?5:-5)*(f+r);var p,v=50;do{r=Math.min(18,Math.abs(i)/5),a=Math.floor(r),f=r-a,s=Xe[a][1],o=Xe[a+1][1],l=Xe[Math.min(19,a+2)][1],i-=(p=(e>=0?me:-me)*(o+f*(l-s)/2+f*f*(l-2*o+s)/2)-e)*_e}while(Math.abs(p)>ve&&--v>0);break}}while(--a>=0);var g=Xe[a][0],m=Xe[a+1][0],b=Xe[Math.min(19,a+2)][0];return[t/(m+f*(b-g)/2+f*f*(b-2*m+g)/2),i*ye]},(d3.geoRobinson=function(){return Me(Wt)}).raw=Wt,(d3.geoSatellite=Gt).raw=Ut,Kt.invert=function(t,e){var n=e/1.70711,i=Math.sin(ge/4*n);return[t/(.74482-.34588*i*i),2*Math.atan(n)]},(d3.geoTimes=function(){return Me(Kt)}).raw=Kt,(d3.geoTwoPointEquidistant=Qt).raw=Xt,(d3.geoTwoPointAzimuthal=Jt).raw=$t,Zt.invert=function(t,e){if(Math.abs(e)<pe)return[t,0];if(Math.abs(t)<pe)return[0,me*Math.sin(2*Math.atan(e/ge))];var n=(t/=ge)*t,i=(e/=ge)*e,r=n+i,a=r*r,o=-Math.abs(e)*(1+r),c=o-2*i+n,u=-2*o+1+2*i+a,h=i/u+(2*c*c*c/(u*u*u)-9*o*c/(u*u))/27,d=(o-c*c/(3*u))/u,f=2*Math.sqrt(-d/3),p=l(3*h/(d*f))/3;return[ge*(r-1+Math.sqrt(1+2*(n-i)+a))/(2*t),s(e)*ge*(-f*Math.cos(p+ge/3)-c/(3*u))]},(d3.geoVanDerGrinten=function(){return Me(Zt)}).raw=Zt,te.invert=function(t,e){if(!t)return[0,me*Math.sin(2*Math.atan(e/ge))];var n=Math.abs(t/ge),i=(1-n*n-(e/=ge)*e)/(2*n),r=i*i,a=Math.sqrt(r+1);return[s(t)*ge*(a-i),s(e)*me*Math.sin(2*Math.atan2(Math.sqrt((1-2*i*n)*(i+a)-n),Math.sqrt(a+i+n)))]},(d3.geoVanDerGrinten2=function(){return Me(te)}).raw=te,ee.invert=function(t,e){if(!e)return[t,0];var n=e/ge,i=(ge*ge*(1-n*n)-t*t)/(2*ge*t);return[t?ge*(s(t)*Math.sqrt(i*i+1)-i):0,me*Math.sin(2*Math.atan(n))]},(d3.geoVanDerGrinten3=function(){return Me(ee)}).raw=ee,ne.invert=function(t,e){if(!t||!e)return[t,e];e/=ge;var n=s(t)*t/me,i=(n*n-1+4*e*e)/Math.abs(n),r=i*i,a=2*e,o=50;do{var l=a*a,c=(8*a-l*(l+2)-5)/(2*l*(a-1)),u=(3*a-l*a-10)/(2*l*a),h=c*c,d=a*c,f=a+c,p=f*f,v=a+3*c,g=p*(l+h*r-1)+(1-l)*(l*(v*v+4*h)+h*(12*d+4*h)),m=-2*f*(4*d*h+(1-4*l+3*l*l)*(1+u)+h*(14*l-6-r+(8*l-8-2*r)*u)+d*(12*l-8+(10*l-10-r)*u)),b=Math.sqrt(g),y=i*(p+h-1)+2*b-n*(4*p+r),_=i*(2*c*u+2*f*(1+u))+m/b-8*f*(i*(-1+h+p)+2*b)*(1+u)/(r+4*p);a-=δ=y/_}while(δ>pe&&--o>0);return[s(t)*(Math.sqrt(i*i+4)+i)*ge/4,me*a]},(d3.geoVanDerGrinten4=function(){return Me(ne)}).raw=ne;var Qe=function(){var t=4*ge+3*Math.sqrt(3),e=2*Math.sqrt(2*ge*Math.sqrt(3)/t);return z(e*Math.sqrt(3)/ge,e,t/6)}();(d3.geoWagner4=function(){return Me(Qe)}).raw=Qe,ie.invert=function(t,e){return[t/Math.sqrt(1-3*e*e/(ge*ge)),e]},(d3.geoWagner6=function(){return Me(ie)}).raw=ie,re.invert=function(t,e){var n=t/2.66723,i=e/1.24104,r=Math.sqrt(n*n+i*i),a=2*o(r/2);return[3*Math.atan2(t*Math.tan(a),2.66723*r),r&&o(e*Math.sin(a)/(1.24104*.90631*r))]},(d3.geoWagner7=function(){return Me(re)}).raw=re,ae.invert=function(t,e){var n=-.5*(t*t+e*e),i=Math.sqrt(-n*(2+n)),r=e*n+t*i,a=t*n-e*i,s=Math.sqrt(a*a+r*r);return[Math.atan2(i*r,s*(1+n)),s?-o(i*a/s):0]},(d3.geoWiechel=function(){return Me(ae)}).raw=ae,se.invert=function(t,e){var n=t,i=e,r=25;do{var a,s=Math.cos(i),o=Math.sin(i),c=Math.sin(2*i),u=o*o,h=s*s,d=Math.sin(n),f=Math.cos(n/2),p=Math.sin(n/2),v=p*p,g=1-h*f*f,m=g?l(s*f)*Math.sqrt(a=1/g):a=0,b=.5*(2*m*s*p+n/me)-t,y=.5*(m*o+i)-e,_=.5*a*(h*v+m*s*f*u)+.5/me,M=a*(d*c/4-m*o*p),w=.125*a*(c*p-m*o*h*d),x=.5*a*(u*f+m*v*s)+.5,S=M*w-x*_,z=(y*M-b*x)/S,O=(b*w-y*_)/S;n-=z,i-=O}while((Math.abs(z)>pe||Math.abs(O)>pe)&&--r>0);return[n,i]},(d3.geoWinkel3=function(){return Me(se)}).raw=se}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(r),s=n(31),o=i(s),l=n(432),c=i(l),u=n(21),h=function(t){return function(){function e(t,n){return t.each(function(t,e){var i=d3.select(this);i.append("rect").attr("class","vzb-label-glow").attr("filter","url("+location.pathname+"#vzb-glow-filter)"),i.append("rect").attr("class","vzb-label-fill vzb-tooltip-border");var o=i.append("text").attr("class",s+"-label-content stroke");if(i.style("paint-order").length||(i.insert("text","."+s+"-label-content").attr("class",s+"-label-content "+s+"-label-shadow vzb-noexport"),o.classed("stroke",!1)),!n){var l=i.append("g").attr("class",s+"-label-x vzb-transparent");a.setIcon(l,u.close),l.insert("circle","svg"),l.select("svg").attr("class",s+"-label-x-icon").attr("width","0px").attr("height","0px"),l.on("click",function(){d3.event.defaultPrevented||(d3.event.stopPropagation(),r.model.marker.clearHighlighted(),r.model.marker.selectMarker(t))})}}),n||t.call(o).on("mouseover",function(t){if(!a.isTouchDevice()){r.model.marker.highlightMarker(t);var e=r.KEY||r.context.KEY;r.entityLabels.sort(function(n,i){return n[e]!=t[e]?-1:1}),d3.select(this).selectAll("."+s+"-label-x").classed("vzb-transparent",!1)}}).on("mouseout",function(t){a.isTouchDevice()||(r.model.marker.clearHighlighted(),d3.select(this).selectAll("."+s+"-label-x").classed("vzb-transparent",!0))}).on("click",function(t){if(a.isTouchDevice()){var e=d3.select(this).selectAll("."+s+"-label-x"),n=r.KEY||r.context.KEY,i=e.classed("vzb-transparent");i&&(r.entityLabels.sort(function(e,i){return e[n]!=t[n]?-1:1}),r.showCloseCross(null,!1)),e.classed("vzb-transparent",!i),r.options.SUPPRESS_HIGHLIGHT_DURING_PLAY&&r.model.time.playing||(i?r.model.marker.setHighlight(t):r.model.marker.clearHighlighted())}}),e}function n(t,e,n,a,s,o,l,c,u,h,d){var f=n||r.cached[t[r.KEY]],p=d3.select(a),v=!s&&0!==s||!o&&0!==o||!l&&0!==l||!c&&0!==c;if(v)return p.classed("vzb-invisible",v),void d.classed("vzb-invisible",v);var g=r.context.width,m=r.context.height,b=f.rectBBox,y=b.height,_=f.rectOffsetX,M=f.rectOffsetY;s+b.x<=0?(s=-b.x,f.labelX_=(s-r.xScale(f.labelX0))/g):s+_>g&&(s=g-_,f.labelX_=(s-r.xScale(f.labelX0))/g),o+b.y<=0?(o=-b.y,f.labelY_=(o-r.yScale(f.labelY0))/m):o+M>m&&(o=m-M,f.labelY_=(o-r.yScale(f.labelY0))/m),null==u&&(u=r.context.duration),f._new&&(u=0,delete f._new),u?h&&!t.hidden?(p.classed("vzb-invisible",t.hidden),p.attr("transform","translate("+s+","+o+")").style("opacity",0).transition().duration(u).ease(d3.easeExp).style("opacity",1).on("interrupt",function(){p.style("opacity",1)}),d.classed("vzb-invisible",t.hidden),d.attr("transform","translate("+s+","+o+")").style("opacity",0).transition().duration(u).ease(d3.easeExp).style("opacity",1).on("interrupt",function(){d.style("opacity",1)})):h&&t.hidden?(p.style("opacity",1).transition().duration(u).ease(d3.easeExp).style("opacity",0).on("end",function(){p.style("opacity",1).classed("vzb-invisible",t.hidden)}),d.style("opacity",1).transition().duration(u).ease(d3.easeExp).style("opacity",0).on("end",function(){d.style("opacity",1).classed("vzb-invisible",t.hidden)})):(p.transition().duration(u).ease(d3.easeLinear).attr("transform","translate("+s+","+o+")"),d.transition().duration(u).ease(d3.easeLinear).attr("transform","translate("+s+","+o+")")):(p.interrupt().attr("transform","translate("+s+","+o+")").transition(),d.interrupt().attr("transform","translate("+s+","+o+")").transition(),h&&p.classed("vzb-invisible",t.hidden),h&&d.classed("vzb-invisible",t.hidden));var w=l-s,x=c-o,S=p.select("text").node().getBBox(),z=.5*-S.width,O=.2*-y,E=r.model.ui.chart.labels,k=E.removeLabelBox?S:b,T=r.activeProfile.labelLeashCoeff||0,P=i({x:w,y:x,r:f.scaledS0},{x:z,y:O,width:2*k.height*T+k.width,height:k.height*(2*T+1)});if(d.select("line").classed("vzb-invisible",P),!P){if(E.removeLabelBox){var C=180*Math.atan2(w-z,x-O)/Math.PI,D=C>=0&&C<=180?.5*k.width:.5*-k.width,A=Math.abs(C)<=90?.55*k.height:.45*-k.height;z+=Math.abs(w-z)>.5*S.width?D:0,O+=Math.abs(x-O)>.5*S.height?A:.05*S.height}var L=Math.abs(w)>Math.abs(x)?Math.abs(w):Math.abs(x);d.select("line").style("stroke-dasharray","0 "+f.scaledS0+" "+2*~~L),d.selectAll("line").attr("x1",w).attr("y1",x).attr("x2",z).attr("y2",O)}}function i(t,e){var n=Math.abs(t.x-e.x),i=Math.abs(t.y-e.y),r=.5*e.width,a=.5*e.height;return!(n>r+t.r)&&(!(i>a+t.r)&&(n<=r||(i<=a||Math.pow(n-r,2)+Math.pow(i-a,2)<=Math.pow(t.r,2))))}var r=t,s=void 0;e.setCssPrefix=function(t){return s=t,e};var o=d3.drag().on("start",function(t,e){d3.event.sourceEvent.stopPropagation();r.KEY}).on("drag",function(t,n){var i=r.KEY;if(r.model.ui.chart.labels.dragging){this.druging||(r.druging=t[i]);var a=r.cached[t[i]];a.labelFixed=!0;var s=r.context.width,o=r.context.height;a.labelX_+=d3.event.dx/s,a.labelY_+=d3.event.dy/o;var l=r.xScale(a.labelX0)+a.labelX_*s,c=r.yScale(a.labelY0)+a.labelY_*o,u=r.xScale(a.labelX0),h=r.yScale(a.labelY0),d=r.entityLines.filter(function(e){return e[i]==t[i]});e._repositionLabels(t,n,null,this,l,c,u,h,0,null,d)}}).on("end",function(t,e){var n=r.KEY;if(r.druging){var i=r.cached[t[n]];r.druging=null,i.labelOffset[0]=i.labelX_,i.labelOffset[1]=i.labelY_,r.model.marker.setLabelOffset(t,[i.labelX_,i.labelY_])}});return e.line=function(t){t.append("line").attr("class",s+"-label-line")},e._repositionLabels=n,e}()},d={LABELS_CONTAINER_CLASS:"",LINES_CONTAINER_CLASS:"",LINES_CONTAINER_SELECTOR:"",CSS_PREFIX:"",SUPPRESS_HIGHLIGHT_DURING_PLAY:!0},f=o.default.extend({init:function(t,e){this.context=t,this.options=a.extend({},d),this.label=h(this),this._xScale=null,this._yScale=null,this._closeCrossHeight=0,this.labelSizeTextScale=null},ready:function(){this.KEYS=this.context.KEYS,this.KEY=this.context.KEY,this.updateIndicators(),this.updateLabelSizeLimits()},readyOnce:function(){var t=this;this.model=this.context.model,this.model.on("change:marker.select",function(){t.context._readyOnce&&t.selectDataPoints()}),this.model.marker.size_label&&this.model.on("change:marker.size_label.extent",function(e,n){t.context._readyOnce&&(t.updateLabelSizeLimits(),t.model.time.splash||t.updateLabelsOnlyTextSize())}),this.model.ui.chart.labels.hasOwnProperty("removeLabelBox")&&this.model.on("change:ui.chart.labels.removeLabelBox",function(e,n){t.context._readyOnce&&t.updateLabelsOnlyTextSize()}),this.KEYS=this.context.KEYS,this.KEY=this.context.KEY,this.cached={},this.label.setCssPrefix(this.options.CSS_PREFIX),this.rootEl=this.context.root.element instanceof Array?this.context.root.element:d3.select(this.context.root.element),this.labelsContainer=this.rootEl.select("."+this.options.LABELS_CONTAINER_CLASS),this.linesContainer=this.rootEl.select("."+this.options.LINES_CONTAINER_CLASS),this.updateIndicators(),this.updateSize(),this.selectDataPoints(),this._initLabelTooltip()},config:function(t){a.extend(this.options,t)},updateLabelSizeLimits:function(){var t=this;if(this.model.marker.size_label){var e=this.model.marker.size_label.extent||[0,1],n=this.activeProfile.minLabelTextSize,i=this.activeProfile.maxLabelTextSize,r=i-n;this.minLabelTextSize=Math.max(n+r*e[0],n),this.maxLabelTextSize=Math.max(n+r*e[1],n),"constant"==this.model.marker.size_label.use&&(this.minLabelTextSize=this.maxLabelTextSize),"ordinal"!==this.model.marker.size_label.scaleType||"constant"==this.model.marker.size_label.use?this.labelSizeTextScale.range([t.minLabelTextSize,t.maxLabelTextSize]):this.labelSizeTextScale.rangePoints([t.minLabelTextSize,t.maxLabelTextSize],0).range()}},updateIndicators:function(){this.model.marker.size_label&&(this.labelSizeTextScale=this.model.marker.size_label.getScale())},setScales:function(t,e){this._xScale=t,this._yScale=e},setCloseCrossHeight:function(t){this._closeCrossHeight!=t&&(this._closeCrossHeight=t,this.updateLabelCloseGroupSize(this.entityLabels.selectAll("."+this.options.CSS_PREFIX+"-label-x"),this._closeCrossHeight))},xScale:function(t){return this._xScale?this._xScale(t):t*this.context.width},yScale:function(t){return this._yScale?this._yScale(t):t*this.context.height},selectDataPoints:function(){var t=this,e=this.KEYS,n=this.KEY,i=this.options.CSS_PREFIX,r=t.model.marker.select.map(function(t){var i=a.clone(t,e);return i[n]=a.getKey(t,e),i});this.entityLabels=this.labelsContainer.selectAll("."+i+"-entity").data(r,function(t){return t[n]}),this.entityLines=this.linesContainer.selectAll("g.entity-line."+i+"-entity").data(r,function(t){return t[n]}),this.entityLabels.exit().each(function(e){null!=t.cached[e[n]]&&(t.cached[e[n]]=void 0)}).remove(),this.entityLines.exit().remove(),this.entityLines=this.entityLines.enter().insert("g",function(e){return this.querySelector("."+t.options.LINES_CONTAINER_SELECTOR_PREFIX+(0,c.default)(e[n]))}).attr("class",function(t,e){return i+"-entity entity-line line-"+t[n]}).each(function(e,n){t.label.line(d3.select(this))}).merge(this.entityLines),this.entityLabels=this.entityLabels.enter().append("g").attr("class",function(t,e){return i+"-entity label-"+t[n]}).each(function(e,i){t.cached[e[n]]={_new:!0},t.label(d3.select(this))}).merge(this.entityLabels)},showCloseCross:function(t,e){var n=this.KEY;this.entityLabels.filter(function(e){return!t||e[n]==t[n]}).select("."+this.options.CSS_PREFIX+"-label-x").classed("vzb-transparent",!e)},highlight:function(t,e){var n=this.KEY,i=this.entityLabels;t&&(i=i.filter(function(e){return!t||e[n]==t[n]})),i.classed("vzb-highlighted",e)},updateLabel:function(t,e,n,i,r,s,o,l,c,u,h){var d=this,f=this.KEYS,p=this.KEY;if(t[p]!=d.druging){var v=this.options.CSS_PREFIX;if(d.model.marker.isSelected(t)&&null!=d.entityLabels){null==d.cached[t[p]]&&this.selectDataPoints();var g=d.cached[t[p]];if(n&&a.extend(g,n),null!=g.scaledS0&&null!=g.labelX0&&null!=g.labelY0||this._initNewCache(g,i,r,s,o,c),null==g.labelX_||null==g.labelY_){var m=a.find(d.model.marker.select,function(e){return a.getKey(e,f)==t[p]});g.labelOffset=m.labelOffset||[0,0]}var b=!g.labelX0&&0!==g.labelX0||!g.labelY0&&0!==g.labelY0||!g.scaledS0&&0!==g.scaledS0,y=d.entityLines.filter(function(e){return e[p]==t[p]});d.entityLabels.filter(function(e){return e[p]==t[p]}).each(function(n){var i=d3.select(this);if(b)return i.classed("vzb-invisible",b),void y.classed("vzb-invisible",b);var r=i.selectAll("."+v+"-label-content").text(l);d._updateLabelSize(t,e,null,i,c,r),d.positionLabel(t,e,null,this,u,h,y)})}}},_initNewCache:function(t,e,n,i,r,s){(i||0===i)&&(t.scaledS0=a.areaToRadius(this.context.sScale(i))),t.labelX0=e,t.labelY0=n,t.valueLST=s,t.scaledC0=null!=r?this.context.cScale(r):this.context.COLOR_WHITEISH},_initLabelTooltip:function(){this.tooltipEl=this.labelsContainer.append("g").attr("class",this.options.CSS_PREFIX+"-tooltip")},setTooltip:function(t,e,n,i){if(e){var r=0,a=this.options.CSS_PREFIX;if(this.tooltipEl.raise().text(null),this.label(this.tooltipEl,!0),t){var s={};this._initNewCache(s,i.valueX,i.valueY,i.valueS,i.valueC,i.valueLST),this.tooltipEl.classed(this.options.CSS_PREFIX+"-tooltip",!1).classed(this.options.CSS_PREFIX+"-entity",!0).selectAll("."+a+"-label-content").text(i.labelText),this._updateLabelSize(t,null,s,this.tooltipEl,i.valueLST),r=this.positionLabel(t,null,s,this.tooltipEl.node(),0,null,this.tooltipEl.select(".lineemptygroup"))}this.tooltipEl.classed(this.options.CSS_PREFIX+"-entity",!1).classed(this.options.CSS_PREFIX+"-tooltip",!0).selectAll("."+a+"-label-content").text(e),this._updateLabelSize(t,null,n,this.tooltipEl,null),this.positionLabel(t,null,n,this.tooltipEl.node(),0,null,this.tooltipEl.select(".lineemptygroup"),r)}else this.tooltipEl.text(null)},setTooltipFontSize:function(t){this.tooltipEl.style("font-size",t)},_updateLabelSize:function(t,e,n,i,r,a){var s=this,o=this.KEY,l=n||s.cached[t[o]],c=this.options.CSS_PREFIX,u=s.model.ui.chart.labels||{};i.classed("vzb-label-boxremoved",u.removeLabelBox);var h=a||i.selectAll("."+c+"-label-content");if(s.labelSizeTextScale)if(null!=r){var d=s.labelSizeTextScale.range(),f=d[0]+Math.sqrt((s.labelSizeTextScale(r)-d[0])*(d[1]-d[0]));h.attr("font-size",f+"px")}else h.attr("font-size","");var p=h.node().getBBox(),v=i.selectAll("rect");if(!l.textWidth||l.textWidth!=p.width){l.textWidth=p.width;var g=s._closeCrossHeight||p.height,m=s.model.locale.isRTL(),b=i.select("."+c+"-label-x").attr("transform","translate("+(m?-p.width-4:4)+","+.85*-p.height+")");this.updateLabelCloseGroupSize(b,g),v.attr("width",p.width+8).attr("height",1.2*p.height).attr("x",-p.width-4).attr("y",.85*-p.height).attr("rx",.2*p.height).attr("ry",.2*p.height),l.rectBBox=v.node().getBBox(),l.rectOffsetX=l.rectBBox.width+l.rectBBox.x,l.rectOffsetY=l.rectBBox.height+l.rectBBox.y}var y=i.select(".vzb-label-glow");y.attr("stroke")!==l.scaledC0&&y.attr("stroke",l.scaledC0)},updateLabelCloseGroupSize:function(t,e){t.select("circle").attr("cx",0).attr("cy",0).attr("r",.5*e),t.select("svg").attr("x",.5*-e).attr("y",-.5*e).attr("width",e).attr("height",e)},updateLabelsOnlyTextSize:function(){var t=this,e=this.KEYS,n=this.KEY;this.entityLabels.each(function(i,r){t.cached[i[n]];t._updateLabelSize(i,r,null,d3.select(this),t.context.frame.size_label[a.getKey(i,e)]);var s=t.entityLines.filter(function(t){return t[n]==i[n]});t.positionLabel(i,r,null,this,0,null,s)})},updateLabelOnlyPosition:function(t,e,n){var i=this,r=this.KEY,s=this.cached[t[r]];n&&a.extend(s,n);var o=i.entityLines.filter(function(e){return e[r]==t[r]});this.entityLabels.filter(function(e){return e[r]==t[r]}).each(function(n){i.positionLabel(t,e,null,this,0,null,o)})},updateLabelOnlyColor:function(t,e,n){var i=this,r=this.KEY,s=this.cached[t[r]];n&&a.extend(s,n);var o=i.entityLabels.filter(function(e){return e[r]==t[r]});i._updateLabelSize(t,e,null,o,null)},positionLabel:function(t,e,n,i,r,s,o,l){var c=this.KEY,u=n||this.cached[t[c]],h=l||0===l,d=1&(l||0),f=(2&(l||0))>>1,p=0,v=0,g=this.context.width,m=this.context.height,b=this.xScale(u.labelX0),y=this.yScale(u.labelY0),_=u.rectOffsetX,M=u.rectOffsetY;u.labelOffset||(u.labelOffset=[0,0]),u.labelX_=u.labelOffset[0]||(.75*-u.scaledS0-_)/g,u.labelY_=u.labelOffset[1]||(.75*-u.scaledS0-M)/m;var w=b+u.labelX_*g,x=y+u.labelY_*m;if(u.labelOffset[0]+u.labelOffset[1]==0&&((!h&&x-u.rectBBox.height+M<=0||f)&&(v=1,u.labelY_=(.75*u.scaledS0+u.rectBBox.height-M)/m,x=y+u.labelY_*m),(!h&&w-u.rectBBox.width+_<=0||d)&&(p=1,u.labelX_=(.75*u.scaledS0+u.rectBBox.width-_)/g,(w=b+u.labelX_*g)>g&&(p=0,v=0==v&&y-.5*M-u.scaledS0<u.rectBBox.height?1:v,u.labelY_=v?.5*-M+u.rectBBox.height+u.scaledS0:1.5*-M-u.scaledS0,u.labelY_/=m,x=y+u.labelY_*m,u.labelX_=(u.rectBBox.width-_-b)/g,w=b+u.labelX_*g))),h){var S=!1;if(w-u.rectBBox.width+_<=0){var z=b-u.rectBBox.width,O=z>0?a.cathetus(u.scaledS0,z):u.scaledS0;x=v?y+u.rectBBox.height-.5*M+O:y-1.5*M-O,x-u.rectBBox.height<0&&(S=!0)}if(x-u.rectBBox.height+M<=0){var E=y-u.rectBBox.height,k=E>0?a.cathetus(u.scaledS0,E):u.scaledS0;w=p?b+u.rectBBox.width+k:b-2*_-k,(w-u.rectBBox.width<0||w>g)&&(S=!0)}if(S){v++;var T=b-u.rectBBox.width;x=y+u.rectBBox.height-.5*M+(T>0?a.cathetus(u.scaledS0,T):u.scaledS0)}}return this.label._repositionLabels(t,e,n,i,w,x,b,y,r,s,o),2*v+p},updateSize:function(){var t={small:{minLabelTextSize:7,maxLabelTextSize:21,defaultLabelTextSize:12,labelLeashCoeff:.4},medium:{minLabelTextSize:7,maxLabelTextSize:30,defaultLabelTextSize:15,labelLeashCoeff:.3},large:{minLabelTextSize:6,maxLabelTextSize:48,defaultLabelTextSize:20,labelLeashCoeff:.2}},e={medium:{minLabelTextSize:15,maxLabelTextSize:35,defaultLabelTextSize:15,labelLeashCoeff:.3},large:{minLabelTextSize:20,maxLabelTextSize:55,defaultLabelTextSize:20,labelLeashCoeff:.2}};this.activeProfile=this.context.getActiveProfile(t,e),this.updateLabelSizeLimits()}});e.default=f},function(t,e,n){(function(e){!function(e,n){t.exports=n(e)}(void 0!==e?e:this,function(t){if(t.CSS&&t.CSS.escape)return t.CSS.escape;var e=function(t){if(0==arguments.length)throw new TypeError("`CSS.escape` requires an argument.");for(var e,n=String(t),i=n.length,r=-1,a="",s=n.charCodeAt(0);++r<i;)e=n.charCodeAt(r),a+=0!=e?e>=1&&e<=31||127==e||0==r&&e>=48&&e<=57||1==r&&e>=48&&e<=57&&45==s?"\\"+e.toString(16)+" ":(0!=r||1!=i||45!=e)&&(e>=128||45==e||95==e||e>=48&&e<=57||e>=65&&e<=90||e>=97&&e<=122)?n.charAt(r):"\\"+n.charAt(r):"�";return a};return t.CSS||(t.CSS={}),t.CSS.escape=e,e})}).call(e,n(79))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(31),r=function(t){return t&&t.__esModule?t:{default:t}}(i),a="",s=[];e.default=r.default.extend({init:function(t){this.context=t,this.shapes=[],this.groups=[],this.counter=0,this.name="",this.label=""},reset:function(){this.container.remove(),this.context.element.selectAll(".vzb-export-redball").remove(),this.context.element.selectAll(".vzb-export-counter").remove(),this.counter=0},prefix:function(t){return arguments.length?(a=t,this):a},deleteClasses:function(t){return arguments.length?(s=t,this):s},open:function(t,e){var n=this;this.svg&&this.reset(),t||(t=this.context.element),e||(e=this.context.name),this.name=e;var i=parseInt(t.style("width"),10)||0,r=parseInt(t.style("height"),10)||0;this.container=t.append("div").attr("class","vzb-svg-export"),this.svg=this.container.node().appendChild(t.select("svg").node().cloneNode(!0)),this.svg=d3.select(this.svg),this.svg.attr("viewBox","0 0 "+i+" "+r).attr("version","1.1").attr("param1","http://www.w3.org/2000/svg").attr("param2","http://www.w3.org/1999/xlink").attr("x","0px").attr("y","0px").attr("style","enable-background:new 0 0 "+i+" "+r).attr("xml:space","preserve"),this.redBall=t.append("div").attr("class","vzb-export-redball").style("position","absolute").style("top","20px").style("right","20px").style("width","20px").style("height","20px").style("background","red").style("color","white").style("text-align","center").style("border-radius","10px").style("font-size","14px").style("line-height","20px").style("opacity",.8).style("cursor","pointer").on("mouseover",function(){d3.select(this).style("opacity",1).text("▼"),n.counterEl.text("Download")}).on("mouseout",function(){d3.select(this).style("opacity",.8).text(""),n.counterEl.text(n.label)}).on("click",function(){n.close()}),this.counterEl=t.append("div").attr("class","vzb-export-counter").style("position","absolute").style("top","20px").style("right","45px").style("color","red").style("opacity",.8).style("line-height","20px").style("font-size","14px").style("text-align","center"),this.root=this.svg.select("."+a+"graph"),this.root.selectAll("g, text, svg, line, rect").filter(function(){var t=d3.select(this),e=!1;return s.forEach(function(n){e=e||t.classed(n)}),e}).remove(),this.svg.selectAll(".tick line").attr("fill","none").attr("stroke","#999"),this.svg.selectAll("."+a+"axis-x path").attr("fill","none").attr("stroke","#999"),this.svg.selectAll("."+a+"axis-y path").attr("fill","none").attr("stroke","#999")},write:function(t){if(this.root||this.open(),!(this.shapes.indexOf(t.id+"_"+t.time)>-1)){this.shapes.push(t.id+"_"+t.time),-1==this.groups.indexOf(t.time)&&(this.root.append("g").attr("id","g_"+t.time),this.groups.push(t.time)),null==t.opacity&&(t.opacity=.5),null==t.fill&&(t.fill="#ff80dd");var e=this.root.select("#g_"+t.time).append(t.type).attr("id",t.id+"_"+t.time).style("fill",t.fill).style("opacity",t.opacity);switch(t.type){case"path":e.attr("d",t.d);break;case"circle":e.attr("cx",t.cx).attr("cy",t.cy).attr("r",t.r)}this.counter++,this.redBall.style("opacity",this.counter%10/12+.2),this.label=t.type+" shapes: "+this.counter,this.counterEl.text(this.label)}},close:function(){var t='<?xml version="1.0" encoding="utf-8"?> '+this.container.node().innerHTML.replace("param1","xmlns").replace("param2","xmlns:xlink").replace(/\d+(\.\d+)/g,function(t){return Math.round(100*+t)/100+""});if(t.length/1024/1024>2)alert("The file size is "+Math.round(t.length/1024)+"kB, which is too large to download. Will try to print it in the console instead..."),console.log(t);else{var e=document.createElement("a");e.download=this.name+" "+this.counter+" shapes.svg",e.href="data:,"+t,e.click()}}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(31),r=function(t){return t&&t.__esModule?t:{default:t}}(i),a=r.default.extend({init:function(t){this.context=t,this.interact=this._createInteract()},setTooltip:function(t){this.tooltip=t},_createInteract:function(){var t=this;return{mouseOver:function(){var e=d3.event,n=d3.mouse(t.context.element.node());t._setTooltip(d3.select(e.target).attr("data-text"),n[0],n[1])},mouseOut:function(){t._setTooltip()},tap:function(){}}},_setTooltip:function(t,e,n){if(t){this.tooltip.classed("vzb-hidden",!1).selectAll("text").text(t);var i=this.tooltip.select("text").node().getBBox();e-i.width<0?e+=i.width+5:e-=5,n-i.height<0?n+=i.height:n-=11,this.tooltip.attr("transform","translate("+e+","+n+")"),this.tooltip.selectAll("rect").attr("width",i.width+8).attr("height",1.2*i.height).attr("x",-i.width-4).attr("y",.85*-i.height).attr("rx",.2*i.height).attr("ry",.2*i.height)}else this.tooltip.classed("vzb-hidden",!0)},clear:function(t){t.attr("data-text",null)},wrap:function(t,e){var n=d3.select(t),i=Math.abs,r=n.attr("data-text");r||(r=n.text(),n.attr("data-text",r)),n.text(r);for(var a=r,s=a.length,o=n.node().getComputedTextLength();e-o<=0&&""!==a;)a=o>=e?a.slice(0,-i(.5*s)):r.slice(0,i(.5*s)),n.text(a+"…"),o=n.node().getComputedTextLength(),s=a.length;a!==r?(""===a&&n.text(r[0]),n.on("mouseover.tooltip",this.interact.mouseOver).on("mouseout.tooltip",this.interact.mouseOut).style("pointer-events","all")):n.on("mouseover.tooltip",null).on("mouseout.tooltip",null).style("pointer-events",null)}});e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){function t(t,e){function n(e){var n,i=t.arcs[e<0?~e:e],r=i[0];return t.transform?(n=[0,0],i.forEach(function(t){n[0]+=t[0],n[1]+=t[1]})):n=i[i.length-1],e<0?[n,r]:[r,n]}function i(t,e){for(var n in t){var i=t[n];delete e[i.start],delete i.start,delete i.end,i.forEach(function(t){r[t<0?~t:t]=1}),o.push(i)}}var r={},a={},s={},o=[],l=-1;return e.forEach(function(n,i){var r,a=t.arcs[n<0?~n:n];a.length<3&&!a[1][0]&&!a[1][1]&&(r=e[++l],e[l]=n,e[i]=r)}),e.forEach(function(t){var e,i,r=n(t),o=r[0],l=r[1];if(e=s[o])if(delete s[e.end],e.push(t),e.end=l,i=a[l]){delete a[i.start];var c=i===e?e:e.concat(i);a[c.start=e.start]=s[c.end=i.end]=c}else a[e.start]=s[e.end]=e;else if(e=a[l])if(delete a[e.start],e.unshift(t),e.start=o,i=s[o]){delete s[i.end];var u=i===e?e:i.concat(e);a[u.start=i.start]=s[u.end=e.end]=u}else a[e.start]=s[e.end]=e;else e=[t],a[e.start=o]=s[e.end=l]=e}),i(s,a),i(a,s),e.forEach(function(t){r[t<0?~t:t]||o.push([t])}),o}function e(e,n,i){function r(t){var e=t<0?~t:t;(u[e]||(u[e]=[])).push({i:t,g:c})}function a(t){t.forEach(r)}function s(t){t.forEach(a)}function o(t){"GeometryCollection"===t.type?t.geometries.forEach(o):t.type in h&&(c=t,h[t.type](t.arcs))}var l=[];if(arguments.length>1){var c,u=[],h={LineString:a,MultiLineString:s,Polygon:s,MultiPolygon:function(t){t.forEach(s)}};o(n),u.forEach(arguments.length<3?function(t){l.push(t[0].i)}:function(t){i(t[0].g,t[t.length-1].g)&&l.push(t[0].i)})}else for(var d=0,f=e.arcs.length;d<f;++d)l.push(d);return{type:"MultiLineString",arcs:t(e,l)}}function i(e,i){function r(t){t.forEach(function(e){e.forEach(function(e){(o[e=e<0?~e:e]||(o[e]=[])).push(t)})}),l.push(t)}function a(t){return h(s(e,{type:"Polygon",arcs:[t]}).coordinates[0])>0}var o={},l=[],c=[];return i.forEach(function(t){"Polygon"===t.type?r(t.arcs):"MultiPolygon"===t.type&&t.arcs.forEach(r)}),l.forEach(function(t){if(!t._){var e=[],n=[t];for(t._=1,c.push(e);t=n.pop();)e.push(t),t.forEach(function(t){t.forEach(function(t){o[t<0?~t:t].forEach(function(t){t._||(t._=1,n.push(t))})})})}}),l.forEach(function(t){delete t._}),{type:"MultiPolygon",arcs:c.map(function(i){var r=[];if(i.forEach(function(t){t.forEach(function(t){t.forEach(function(t){o[t<0?~t:t].length<2&&r.push(t)})})}),r=t(e,r),(n=r.length)>1)for(var s,l=a(i[0][0]),c=0;c<n;++c)if(l===a(r[c])){s=r[0],r[0]=r[c],r[c]=s;break}return r})}}function r(t,e){return"GeometryCollection"===e.type?{type:"FeatureCollection",features:e.geometries.map(function(e){return a(t,e)})}:a(t,e)}function a(t,e){var n={type:"Feature",id:e.id,properties:e.properties||{},geometry:s(t,e)};return null==e.id&&delete n.id,n}function s(t,e){function n(t,e){e.length&&e.pop();for(var n,i=u[t<0?~t:t],r=0,a=i.length;r<a;++r)e.push(n=i[r].slice()),c(n,r);t<0&&o(e,a)}function i(t){return t=t.slice(),c(t,0),t}function r(t){for(var e=[],i=0,r=t.length;i<r;++i)n(t[i],e);return e.length<2&&e.push(e[0].slice()),e}function a(t){for(var e=r(t);e.length<4;)e.push(e[0].slice());return e}function s(t){return t.map(a)}function l(t){var e=t.type;return"GeometryCollection"===e?{type:e,geometries:t.geometries.map(l)}:e in h?{type:e,coordinates:h[e](t)}:null}var c=v(t.transform),u=t.arcs,h={Point:function(t){return i(t.coordinates)},MultiPoint:function(t){return t.coordinates.map(i)},LineString:function(t){return r(t.arcs)},MultiLineString:function(t){return t.arcs.map(r)},Polygon:function(t){return s(t.arcs)},MultiPolygon:function(t){return t.arcs.map(s)}};return l(e)}function o(t,e){for(var n,i=t.length,r=i-e;r<--i;)n=t[r],t[r++]=t[i],t[i]=n}function l(t,e){for(var n=0,i=t.length;n<i;){var r=n+i>>>1;t[r]<e?n=r+1:i=r}return n}function c(t){function e(t,e){t.forEach(function(t){t<0&&(t=~t);var n=r[t];n?n.push(e):r[t]=[e]})}function n(t,n){t.forEach(function(t){e(t,n)})}function i(t,e){"GeometryCollection"===t.type?t.geometries.forEach(function(t){i(t,e)}):t.type in s&&s[t.type](t.arcs,e)}var r={},a=t.map(function(){return[]}),s={LineString:e,MultiLineString:n,Polygon:n,MultiPolygon:function(t,e){t.forEach(function(t){n(t,e)})}};t.forEach(i);for(var o in r)for(var c=r[o],u=c.length,h=0;h<u;++h)for(var d=h+1;d<u;++d){var f,p=c[h],v=c[d];(f=a[p])[o=l(f,v)]!==v&&f.splice(o,0,v),(f=a[v])[o=l(f,p)]!==p&&f.splice(o,0,p)}return a}function u(t,e){function n(t){a.remove(t),t[1][2]=e(t),a.push(t)}var i=v(t.transform),r=g(t.transform),a=p();return e||(e=d),t.arcs.forEach(function(t){for(var s,o,l=[],c=0,u=0,h=t.length;u<h;++u)o=t[u],i(t[u]=[o[0],o[1],1/0],u);for(var u=1,h=t.length-1;u<h;++u)s=t.slice(u-1,u+2),s[1][2]=e(s),l.push(s),a.push(s);for(var u=0,h=l.length;u<h;++u)s=l[u],s.previous=l[u-1],s.next=l[u+1];for(;s=a.pop();){var d=s.previous,f=s.next;s[1][2]<c?s[1][2]=c:c=s[1][2],d&&(d.next=f,d[2]=s[2],n(d)),f&&(f.previous=d,f[0]=s[0],n(f))}t.forEach(r)}),t}function h(t){for(var e,n=-1,i=t.length,r=t[i-1],a=0;++n<i;)e=r,r=t[n],a+=e[0]*r[1]-e[1]*r[0];return.5*a}function d(t){var e=t[0],n=t[1],i=t[2];return Math.abs((e[0]-i[0])*(n[1]-e[1])-(e[0]-n[0])*(i[1]-e[1]))}function f(t,e){return t[1][2]-e[1][2]}function p(){function t(t,e){for(;e>0;){var n=(e+1>>1)-1,r=i[n];if(f(t,r)>=0)break;i[r._=e]=r,i[t._=e=n]=t}}function e(t,e){for(;;){var n=e+1<<1,a=n-1,s=e,o=i[s];if(a<r&&f(i[a],o)<0&&(o=i[s=a]),n<r&&f(i[n],o)<0&&(o=i[s=n]),s===e)break;i[o._=e]=o,i[t._=e=s]=t}}var n={},i=[],r=0;return n.push=function(e){return t(i[e._=r]=e,r++),r},n.pop=function(){if(!(r<=0)){var t,n=i[0];return--r>0&&(t=i[r],e(i[t._=0]=t,0)),n}},n.remove=function(n){var a,s=n._;if(i[s]===n)return s!==--r&&(a=i[r],(f(a,n)<0?t:e)(i[a._=s]=a,s)),s},n}function v(t){if(!t)return m;var e,n,i=t.scale[0],r=t.scale[1],a=t.translate[0],s=t.translate[1];return function(t,o){o||(e=n=0),t[0]=(e+=t[0])*i+a,t[1]=(n+=t[1])*r+s}}function g(t){if(!t)return m;var e,n,i=t.scale[0],r=t.scale[1],a=t.translate[0],s=t.translate[1];return function(t,o){o||(e=n=0);var l=(t[0]-a)/i|0,c=(t[1]-s)/r|0;t[0]=l-e,t[1]=c-n,e=l,n=c}}function m(){}return{version:"1.6.19",mesh:function(t){return s(t,e.apply(this,arguments))},meshArcs:e,merge:function(t){return s(t,i.apply(this,arguments))},mergeArcs:i,feature:r,neighbors:c,presimplify:u}}()},function(t,e){}])});
//# sourceMappingURL=vizabi.min.js.map</script>
<script>var WsReader=function(t){function e(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var r={};return e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=44)}([function(t,e,r){"use strict";var n=Array.isArray;t.exports=n},function(t,e,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=r(28),i="object"==("undefined"==typeof self?"undefined":n(self))&&self&&self.Object===Object&&self,u=o||i||Function("return this")();t.exports=u},function(t,e,r){"use strict";function n(t,e){var r=i(t,e);return o(r)?r:void 0}var o=r(60),i=r(66);t.exports=n},function(t,e,r){"use strict";function n(t){return null==t?void 0===t?c:s:a&&a in Object(t)?i(t):u(t)}var o=r(11),i=r(62),u=r(63),s="[object Null]",c="[object Undefined]",a=o?o.toStringTag:void 0;t.exports=n},function(t,e,r){"use strict";function n(t){var e=void 0===t?"undefined":o(t);return null!=t&&("object"==e||"function"==e)}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=n},function(t,e,r){"use strict";function n(t){return null!=t&&"object"==(void 0===t?"undefined":o(t))}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=n},function(t,e,r){"use strict";function n(t){return null==t?"":o(t)}var o=r(7);t.exports=n},function(t,e,r){"use strict";function n(t){if("string"==typeof t)return t;if(u(t))return i(t,n)+"";if(s(t))return f?f.call(t):"";var e=t+"";return"0"==e&&1/t==-c?"-0":e}var o=r(11),i=r(25),u=r(0),s=r(15),c=1/0,a=o?o.prototype:void 0,f=a?a.toString:void 0;t.exports=n},function(t,e,r){"use strict";function n(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}var o=r(50),i=r(51),u=r(52),s=r(53),c=r(54);n.prototype.clear=o,n.prototype.delete=i,n.prototype.get=u,n.prototype.has=s,n.prototype.set=c,t.exports=n},function(t,e,r){"use strict";function n(t,e){for(var r=t.length;r--;)if(o(t[r][0],e))return r;return-1}var o=r(10);t.exports=n},function(t,e,r){"use strict";function n(t,e){return t===e||t!==t&&e!==e}t.exports=n},function(t,e,r){"use strict";var n=r(1),o=n.Symbol;t.exports=o},function(t,e,r){"use strict";var n=r(2),o=n(Object,"create");t.exports=o},function(t,e,r){"use strict";function n(t,e){var r=t.__data__;return o(e)?r["string"==typeof e?"string":"hash"]:r.map}var o=r(75);t.exports=n},function(t,e,r){"use strict";function n(t){return null!=t&&i(t.length)&&!o(t)}var o=r(27),i=r(21);t.exports=n},function(t,e,r){"use strict";function n(t){return"symbol"==(void 0===t?"undefined":o(t))||u(t)&&i(t)==s}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=r(3),u=r(5),s="[object Symbol]";t.exports=n},function(t,e,r){"use strict";function n(t){if("string"==typeof t||o(t))return t;var e=t+"";return"0"==e&&1/t==-i?"-0":e}var o=r(15),i=1/0;t.exports=n},function(t,e,r){"use strict";var n=r(2),o=r(1),i=n(o,"Map");t.exports=i},function(t,e,r){"use strict";function n(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}var o=r(67),i=r(74),u=r(76),s=r(77),c=r(78);n.prototype.clear=o,n.prototype.delete=i,n.prototype.get=u,n.prototype.has=s,n.prototype.set=c,t.exports=n},function(t,e,r){"use strict";function n(t){return u(t)?o(t):i(t)}var o=r(96),i=r(101),u=r(14);t.exports=n},function(t,e,r){"use strict";function n(t,e){return!!(e=null==e?o:e)&&("number"==typeof t||i.test(t))&&t>-1&&t%1==0&&t<e}var o=9007199254740991,i=/^(?:0|[1-9]\d*)$/;t.exports=n},function(t,e,r){"use strict";function n(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=o}var o=9007199254740991;t.exports=n},function(t,e,r){"use strict";function n(t,e){if(i(t))return!1;var r=void 0===t?"undefined":o(t);return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!u(t))||(c.test(t)||!s.test(t)||null!=e&&t in Object(e))}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=r(0),u=r(15),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,c=/^\w*$/;t.exports=n},function(t,e,r){"use strict";function n(t,e,r){var n=t.length;return r=void 0===r?n:r,!e&&r>=n?t:o(t,e,r)}var o=r(143);t.exports=n},function(t,e,r){"use strict";function n(t){return i(t)?u(t):o(t)}var o=r(147),i=r(42),u=r(148);t.exports=n},function(t,e,r){"use strict";function n(t,e){for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o}t.exports=n},function(t,e,r){"use strict";function n(t){var e=this.__data__=new o(t);this.size=e.size}var o=r(8),i=r(55),u=r(56),s=r(57),c=r(58),a=r(59);n.prototype.clear=i,n.prototype.delete=u,n.prototype.get=s,n.prototype.has=c,n.prototype.set=a,t.exports=n},function(t,e,r){"use strict";function n(t){if(!i(t))return!1;var e=o(t);return e==s||e==c||e==u||e==a}var o=r(3),i=r(4),u="[object AsyncFunction]",s="[object Function]",c="[object GeneratorFunction]",a="[object Proxy]";t.exports=n},function(t,e,r){"use strict";(function(e){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n="object"==(void 0===e?"undefined":r(e))&&e&&e.Object===Object&&e;t.exports=n}).call(e,r(61))},function(t,e,r){"use strict";function n(t){if(null!=t){try{return i.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var o=Function.prototype,i=o.toString;t.exports=n},function(t,e,r){"use strict";function n(t,e,r,u,s){return t===e||(null==t||null==e||!i(t)&&!i(e)?t!==t&&e!==e:o(t,e,r,u,n,s))}var o=r(79),i=r(5);t.exports=n},function(t,e,r){"use strict";function n(t,e,r,n,a,f){var p=r&s,l=t.length,y=e.length;if(l!=y&&!(p&&y>l))return!1;var d=f.get(t);if(d&&f.get(e))return d==e;var h=-1,v=!0,b=r&c?new o:void 0;for(f.set(t,e),f.set(e,t);++h<l;){var _=t[h],m=e[h];if(n)var x=p?n(m,_,h,e,t,f):n(_,m,h,t,e,f);if(void 0!==x){if(x)continue;v=!1;break}if(b){if(!i(e,function(t,e){if(!u(b,e)&&(_===t||a(_,t,r,n,f)))return b.push(e)})){v=!1;break}}else if(_!==m&&!a(_,m,r,n,f)){v=!1;break}}return f.delete(t),f.delete(e),v}var o=r(80),i=r(83),u=r(84),s=1,c=2;t.exports=n},function(t,e,r){"use strict";var n=r(98),o=r(5),i=Object.prototype,u=i.hasOwnProperty,s=i.propertyIsEnumerable,c=n(function(){return arguments}())?n:function(t){return o(t)&&u.call(t,"callee")&&!s.call(t,"callee")};t.exports=c},function(t,e,r){"use strict";(function(t){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=r(1),i=r(99),u="object"==n(e)&&e&&!e.nodeType&&e,s=u&&"object"==n(t)&&t&&!t.nodeType&&t,c=s&&s.exports===u,a=c?o.Buffer:void 0,f=a?a.isBuffer:void 0,p=f||i;t.exports=p}).call(e,r(34)(t))},function(t,e,r){"use strict";t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,r){"use strict";var n=r(100),o=r(36),i=r(37),u=i&&i.isTypedArray,s=u?o(u):n;t.exports=s},function(t,e,r){"use strict";function n(t){return function(e){return t(e)}}t.exports=n},function(t,e,r){"use strict";(function(t){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=r(28),i="object"==n(e)&&e&&!e.nodeType&&e,u=i&&"object"==n(t)&&t&&!t.nodeType&&t,s=u&&u.exports===i,c=s&&o.process,a=function(){try{return c&&c.binding&&c.binding("util")}catch(t){}}();t.exports=a}).call(e,r(34)(t))},function(t,e,r){"use strict";function n(t){return t===t&&!o(t)}var o=r(4);t.exports=n},function(t,e,r){"use strict";function n(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}}t.exports=n},function(t,e,r){"use strict";function n(t,e){e=o(e,t);for(var r=0,n=e.length;null!=t&&r<n;)t=t[i(e[r++])];return r&&r==n?t:void 0}var o=r(41),i=r(16);t.exports=n},function(t,e,r){"use strict";function n(t,e){return o(t)?t:i(t,e)?[t]:u(s(t))}var o=r(0),i=r(22),u=r(113),s=r(6);t.exports=n},function(t,e,r){"use strict";function n(t){return o.test(t)}var o=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");t.exports=n},function(t,e,r){"use strict";function n(t,e,r){return e===e?u(t,e,r):o(t,i,r)}var o=r(151),i=r(152),u=r(153);t.exports=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WsReader=void 0;var n=r(45),o=r(135);e.WsReader={getReader:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return Object.assign.apply(Object,[o.BaseWsReader].concat(e)),Object.assign({},o.BaseWsReader,n.WsJsonReader)}}},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.WsJsonReader=void 0;var o=r(46),i=n(o),u=r(129),s=n(u),c=r(4),a=n(c),f=r(134),p=n(f);e.WsJsonReader={_toPojo:function(t){var e=t.rows,r=t.headers;return(0,i.default)(e,function(t){return(0,s.default)(r,(0,i.default)(t,function(t){return(0,a.default)(t)?JSON.stringify(t):(0,p.default)(t)?null:t.toString()}))})}}},function(t,e,r){"use strict";function n(t,e){return(s(t)?o:u)(t,i(e,3))}var o=r(25),i=r(47),u=r(123),s=r(0);t.exports=n},function(t,e,r){"use strict";function n(t){return"function"==typeof t?t:null==t?s:"object"==(void 0===t?"undefined":o(t))?c(t)?u(t[0],t[1]):i(t):a(t)}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=r(48),u=r(111),s=r(119),c=r(0),a=r(120);t.exports=n},function(t,e,r){"use strict";function n(t){var e=i(t);return 1==e.length&&e[0][2]?u(e[0][0],e[0][1]):function(r){return r===t||o(r,t,e)}}var o=r(49),i=r(110),u=r(39);t.exports=n},function(t,e,r){"use strict";function n(t,e,r,n){var c=r.length,a=c,f=!n;if(null==t)return!a;for(t=Object(t);c--;){var p=r[c];if(f&&p[2]?p[1]!==t[p[0]]:!(p[0]in t))return!1}for(;++c<a;){p=r[c];var l=p[0],y=t[l],d=p[1];if(f&&p[2]){if(void 0===y&&!(l in t))return!1}else{var h=new o;if(n)var v=n(y,d,l,t,e,h);if(!(void 0===v?i(d,y,u|s,n,h):v))return!1}}return!0}var o=r(26),i=r(30),u=1,s=2;t.exports=n},function(t,e,r){"use strict";function n(){this.__data__=[],this.size=0}t.exports=n},function(t,e,r){"use strict";function n(t){var e=this.__data__,r=o(e,t);return!(r<0)&&(r==e.length-1?e.pop():u.call(e,r,1),--this.size,!0)}var o=r(9),i=Array.prototype,u=i.splice;t.exports=n},function(t,e,r){"use strict";function n(t){var e=this.__data__,r=o(e,t);return r<0?void 0:e[r][1]}var o=r(9);t.exports=n},function(t,e,r){"use strict";function n(t){return o(this.__data__,t)>-1}var o=r(9);t.exports=n},function(t,e,r){"use strict";function n(t,e){var r=this.__data__,n=o(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var o=r(9);t.exports=n},function(t,e,r){"use strict";function n(){this.__data__=new o,this.size=0}var o=r(8);t.exports=n},function(t,e,r){"use strict";function n(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}t.exports=n},function(t,e,r){"use strict";function n(t){return this.__data__.get(t)}t.exports=n},function(t,e,r){"use strict";function n(t){return this.__data__.has(t)}t.exports=n},function(t,e,r){"use strict";function n(t,e){var r=this.__data__;if(r instanceof o){var n=r.__data__;if(!i||n.length<s-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new u(n)}return r.set(t,e),this.size=r.size,this}var o=r(8),i=r(17),u=r(18),s=200;t.exports=n},function(t,e,r){"use strict";function n(t){return!(!u(t)||i(t))&&(o(t)?d:a).test(s(t))}var o=r(27),i=r(64),u=r(4),s=r(29),c=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,f=Function.prototype,p=Object.prototype,l=f.toString,y=p.hasOwnProperty,d=RegExp("^"+l.call(y).replace(c,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=n},function(t,e,r){"use strict";var n,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"===("undefined"==typeof window?"undefined":o(window))&&(n=window)}t.exports=n},function(t,e,r){"use strict";function n(t){var e=u.call(t,c),r=t[c];try{t[c]=void 0;var n=!0}catch(t){}var o=s.call(t);return n&&(e?t[c]=r:delete t[c]),o}var o=r(11),i=Object.prototype,u=i.hasOwnProperty,s=i.toString,c=o?o.toStringTag:void 0;t.exports=n},function(t,e,r){"use strict";function n(t){return i.call(t)}var o=Object.prototype,i=o.toString;t.exports=n},function(t,e,r){"use strict";function n(t){return!!i&&i in t}var o=r(65),i=function(){var t=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=n},function(t,e,r){"use strict";var n=r(1),o=n["__core-js_shared__"];t.exports=o},function(t,e,r){"use strict";function n(t,e){return null==t?void 0:t[e]}t.exports=n},function(t,e,r){"use strict";function n(){this.size=0,this.__data__={hash:new o,map:new(u||i),string:new o}}var o=r(68),i=r(8),u=r(17);t.exports=n},function(t,e,r){"use strict";function n(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}var o=r(69),i=r(70),u=r(71),s=r(72),c=r(73);n.prototype.clear=o,n.prototype.delete=i,n.prototype.get=u,n.prototype.has=s,n.prototype.set=c,t.exports=n},function(t,e,r){"use strict";function n(){this.__data__=o?o(null):{},this.size=0}var o=r(12);t.exports=n},function(t,e,r){"use strict";function n(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}t.exports=n},function(t,e,r){"use strict";function n(t){var e=this.__data__;if(o){var r=e[t];return r===i?void 0:r}return s.call(e,t)?e[t]:void 0}var o=r(12),i="__lodash_hash_undefined__",u=Object.prototype,s=u.hasOwnProperty;t.exports=n},function(t,e,r){"use strict";function n(t){var e=this.__data__;return o?void 0!==e[t]:u.call(e,t)}var o=r(12),i=Object.prototype,u=i.hasOwnProperty;t.exports=n},function(t,e,r){"use strict";function n(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=o&&void 0===e?i:e,this}var o=r(12),i="__lodash_hash_undefined__";t.exports=n},function(t,e,r){"use strict";function n(t){var e=o(this,t).delete(t);return this.size-=e?1:0,e}var o=r(13);t.exports=n},function(t,e,r){"use strict";function n(t){var e=void 0===t?"undefined":o(t);return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=n},function(t,e,r){"use strict";function n(t){return o(this,t).get(t)}var o=r(13);t.exports=n},function(t,e,r){"use strict";function n(t){return o(this,t).has(t)}var o=r(13);t.exports=n},function(t,e,r){"use strict";function n(t,e){var r=o(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var o=r(13);t.exports=n},function(t,e,r){"use strict";function n(t,e,r,n,v,_){var m=a(t),x=a(e),g=m?d:c(t),j=x?d:c(e);g=g==y?h:g,j=j==y?h:j;var w=g==h,S=j==h,O=g==j;if(O&&f(t)){if(!f(e))return!1;m=!0,w=!1}if(O&&!w)return _||(_=new o),m||p(t)?i(t,e,r,n,v,_):u(t,e,g,r,n,v,_);if(!(r&l)){var A=w&&b.call(t,"__wrapped__"),P=S&&b.call(e,"__wrapped__");if(A||P){var R=A?t.value():t,E=P?e.value():e;return _||(_=new o),v(R,E,r,n,_)}}return!!O&&(_||(_=new o),s(t,e,r,n,v,_))}var o=r(26),i=r(31),u=r(85),s=r(89),c=r(105),a=r(0),f=r(33),p=r(35),l=1,y="[object Arguments]",d="[object Array]",h="[object Object]",v=Object.prototype,b=v.hasOwnProperty;t.exports=n},function(t,e,r){"use strict";function n(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new o;++e<r;)this.add(t[e])}var o=r(18),i=r(81),u=r(82);n.prototype.add=n.prototype.push=i,n.prototype.has=u,t.exports=n},function(t,e,r){"use strict";function n(t){return this.__data__.set(t,o),this}var o="__lodash_hash_undefined__";t.exports=n},function(t,e,r){"use strict";function n(t){return this.__data__.has(t)}t.exports=n},function(t,e,r){"use strict";function n(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}t.exports=n},function(t,e,r){"use strict";function n(t,e){return t.has(e)}t.exports=n},function(t,e,r){"use strict";function n(t,e,r,n,o,w,O){switch(r){case j:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case g:return!(t.byteLength!=e.byteLength||!w(new i(t),new i(e)));case l:case y:case v:return u(+t,+e);case d:return t.name==e.name&&t.message==e.message;case b:case m:return t==e+"";case h:var A=c;case _:var P=n&f;if(A||(A=a),t.size!=e.size&&!P)return!1;var R=O.get(t);if(R)return R==e;n|=p,O.set(t,e);var E=s(A(t),A(e),n,o,w,O);return O.delete(t),E;case x:if(S)return S.call(t)==S.call(e)}return!1}var o=r(11),i=r(86),u=r(10),s=r(31),c=r(87),a=r(88),f=1,p=2,l="[object Boolean]",y="[object Date]",d="[object Error]",h="[object Map]",v="[object Number]",b="[object RegExp]",_="[object Set]",m="[object String]",x="[object Symbol]",g="[object ArrayBuffer]",j="[object DataView]",w=o?o.prototype:void 0,S=w?w.valueOf:void 0;t.exports=n},function(t,e,r){"use strict";var n=r(1),o=n.Uint8Array;t.exports=o},function(t,e,r){"use strict";function n(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r}t.exports=n},function(t,e,r){"use strict";function n(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}t.exports=n},function(t,e,r){"use strict";function n(t,e,r,n,u,c){var a=r&i,f=o(t),p=f.length;if(p!=o(e).length&&!a)return!1;for(var l=p;l--;){var y=f[l];if(!(a?y in e:s.call(e,y)))return!1}var d=c.get(t);if(d&&c.get(e))return d==e;var h=!0;c.set(t,e),c.set(e,t);for(var v=a;++l<p;){y=f[l];var b=t[y],_=e[y];if(n)var m=a?n(_,b,y,e,t,c):n(b,_,y,t,e,c);if(!(void 0===m?b===_||u(b,_,r,n,c):m)){h=!1;break}v||(v="constructor"==y)}if(h&&!v){var x=t.constructor,g=e.constructor;x!=g&&"constructor"in t&&"constructor"in e&&!("function"==typeof x&&x instanceof x&&"function"==typeof g&&g instanceof g)&&(h=!1)}return c.delete(t),c.delete(e),h}var o=r(90),i=1,u=Object.prototype,s=u.hasOwnProperty;t.exports=n},function(t,e,r){"use strict";function n(t){return o(t,u,i)}var o=r(91),i=r(93),u=r(19);t.exports=n},function(t,e,r){"use strict";function n(t,e,r){var n=e(t);return i(t)?n:o(n,r(t))}var o=r(92),i=r(0);t.exports=n},function(t,e,r){"use strict";function n(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}t.exports=n},function(t,e,r){"use strict";var n=r(94),o=r(95),i=Object.prototype,u=i.propertyIsEnumerable,s=Object.getOwnPropertySymbols,c=s?function(t){return null==t?[]:(t=Object(t),n(s(t),function(e){return u.call(t,e)}))}:o;t.exports=c},function(t,e,r){"use strict";function n(t,e){for(var r=-1,n=null==t?0:t.length,o=0,i=[];++r<n;){var u=t[r];e(u,r,t)&&(i[o++]=u)}return i}t.exports=n},function(t,e,r){"use strict";function n(){return[]}t.exports=n},function(t,e,r){"use strict";function n(t,e){var r=u(t),n=!r&&i(t),f=!r&&!n&&s(t),l=!r&&!n&&!f&&a(t),y=r||n||f||l,d=y?o(t.length,String):[],h=d.length;for(var v in t)!e&&!p.call(t,v)||y&&("length"==v||f&&("offset"==v||"parent"==v)||l&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||c(v,h))||d.push(v);return d}var o=r(97),i=r(32),u=r(0),s=r(33),c=r(20),a=r(35),f=Object.prototype,p=f.hasOwnProperty;t.exports=n},function(t,e,r){"use strict";function n(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}t.exports=n},function(t,e,r){"use strict";function n(t){return i(t)&&o(t)==u}var o=r(3),i=r(5),u="[object Arguments]";t.exports=n},function(t,e,r){"use strict";function n(){return!1}t.exports=n},function(t,e,r){"use strict";function n(t){return u(t)&&i(t.length)&&!!s[o(t)]}var o=r(3),i=r(21),u=r(5),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,t.exports=n},function(t,e,r){"use strict";function n(t){if(!o(t))return i(t);var e=[];for(var r in Object(t))s.call(t,r)&&"constructor"!=r&&e.push(r);return e}var o=r(102),i=r(103),u=Object.prototype,s=u.hasOwnProperty;t.exports=n},function(t,e,r){"use strict";function n(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||o)}var o=Object.prototype;t.exports=n},function(t,e,r){"use strict";var n=r(104),o=n(Object.keys,Object);t.exports=o},function(t,e,r){"use strict";function n(t,e){return function(r){return t(e(r))}}t.exports=n},function(t,e,r){"use strict";var n=r(106),o=r(17),i=r(107),u=r(108),s=r(109),c=r(3),a=r(29),f=a(n),p=a(o),l=a(i),y=a(u),d=a(s),h=c;(n&&"[object DataView]"!=h(new n(new ArrayBuffer(1)))||o&&"[object Map]"!=h(new o)||i&&"[object Promise]"!=h(i.resolve())||u&&"[object Set]"!=h(new u)||s&&"[object WeakMap]"!=h(new s))&&(h=function(t){var e=c(t),r="[object Object]"==e?t.constructor:void 0,n=r?a(r):"";if(n)switch(n){case f:return"[object DataView]";case p:return"[object Map]";case l:return"[object Promise]";case y:return"[object Set]";case d:return"[object WeakMap]"}return e}),t.exports=h},function(t,e,r){"use strict";var n=r(2),o=r(1),i=n(o,"DataView");t.exports=i},function(t,e,r){"use strict";var n=r(2),o=r(1),i=n(o,"Promise");t.exports=i},function(t,e,r){"use strict";var n=r(2),o=r(1),i=n(o,"Set");t.exports=i},function(t,e,r){"use strict";var n=r(2),o=r(1),i=n(o,"WeakMap");t.exports=i},function(t,e,r){"use strict";function n(t){for(var e=i(t),r=e.length;r--;){var n=e[r],u=t[n];e[r]=[n,u,o(u)]}return e}var o=r(38),i=r(19);t.exports=n},function(t,e,r){"use strict";function n(t,e){return s(t)&&c(e)?a(f(t),e):function(r){var n=i(r,t);return void 0===n&&n===e?u(r,t):o(e,n,p|l)}}var o=r(30),i=r(112),u=r(116),s=r(22),c=r(38),a=r(39),f=r(16),p=1,l=2;t.exports=n},function(t,e,r){"use strict";function n(t,e,r){var n=null==t?void 0:o(t,e);return void 0===n?r:n}var o=r(40);t.exports=n},function(t,e,r){"use strict";var n=r(114),o=/^\./,i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,u=/\\(\\)?/g,s=n(function(t){var e=[];return o.test(t)&&e.push(""),t.replace(i,function(t,r,n,o){e.push(n?o.replace(u,"$1"):r||t)}),e});t.exports=s},function(t,e,r){"use strict";function n(t){var e=o(t,function(t){return r.size===i&&r.clear(),t}),r=e.cache;return e}var o=r(115),i=500;t.exports=n},function(t,e,r){"use strict";function n(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(i);var r=function r(){var n=arguments,o=e?e.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var u=t.apply(this,n);return r.cache=i.set(o,u)||i,u};return r.cache=new(n.Cache||o),r}var o=r(18),i="Expected a function";n.Cache=o,t.exports=n},function(t,e,r){"use strict";function n(t,e){return null!=t&&i(t,e,o)}var o=r(117),i=r(118);t.exports=n},function(t,e,r){"use strict";function n(t,e){return null!=t&&e in Object(t)}t.exports=n},function(t,e,r){"use strict";function n(t,e,r){e=o(e,t);for(var n=-1,f=e.length,p=!1;++n<f;){var l=a(e[n]);if(!(p=null!=t&&r(t,l)))break;t=t[l]}return p||++n!=f?p:!!(f=null==t?0:t.length)&&c(f)&&s(l,f)&&(u(t)||i(t))}var o=r(41),i=r(32),u=r(0),s=r(20),c=r(21),a=r(16);t.exports=n},function(t,e,r){"use strict";function n(t){return t}t.exports=n},function(t,e,r){"use strict";function n(t){return u(t)?o(s(t)):i(t)}var o=r(121),i=r(122),u=r(22),s=r(16);t.exports=n},function(t,e,r){"use strict";function n(t){return function(e){return null==e?void 0:e[t]}}t.exports=n},function(t,e,r){"use strict";function n(t){return function(e){return o(e,t)}}var o=r(40);t.exports=n},function(t,e,r){"use strict";function n(t,e){var r=-1,n=i(t)?Array(t.length):[];return o(t,function(t,o,i){n[++r]=e(t,o,i)}),n}var o=r(124),i=r(14);t.exports=n},function(t,e,r){"use strict";var n=r(125),o=r(128),i=o(n);t.exports=i},function(t,e,r){"use strict";function n(t,e){return t&&o(t,e,i)}var o=r(126),i=r(19);t.exports=n},function(t,e,r){"use strict";var n=r(127),o=n();t.exports=o},function(t,e,r){"use strict";function n(t){return function(e,r,n){for(var o=-1,i=Object(e),u=n(e),s=u.length;s--;){var c=u[t?s:++o];if(!1===r(i[c],c,i))break}return e}}t.exports=n},function(t,e,r){"use strict";function n(t,e){return function(r,n){if(null==r)return r;if(!o(r))return t(r,n);for(var i=r.length,u=e?i:-1,s=Object(r);(e?u--:++u<i)&&!1!==n(s[u],u,s););return r}}var o=r(14);t.exports=n},function(t,e,r){"use strict";function n(t,e){return i(t||[],e||[],o)}var o=r(130),i=r(133);t.exports=n},function(t,e,r){"use strict";function n(t,e,r){var n=t[e];s.call(t,e)&&i(n,r)&&(void 0!==r||e in t)||o(t,e,r)}var o=r(131),i=r(10),u=Object.prototype,s=u.hasOwnProperty;t.exports=n},function(t,e,r){"use strict";function n(t,e,r){"__proto__"==e&&o?o(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var o=r(132);t.exports=n},function(t,e,r){"use strict";var n=r(2),o=function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=o},function(t,e,r){"use strict";function n(t,e,r){for(var n=-1,o=t.length,i=e.length,u={};++n<o;){var s=n<i?e[n]:void 0;r(u,t[n],s)}return u}t.exports=n},function(t,e,r){"use strict";function n(t){return null==t}t.exports=n},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.BaseWsReader=void 0;var i=function(){function t(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var u,s=t[Symbol.iterator]();!(n=(u=s.next()).done)&&(r.push(u.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}return r}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=r(136),s=o(u),c=r(4),a=o(c),f=r(141),p=o(f),l=r(142),y=o(l),d=r(149),h=o(d),v=r(154),b=o(v),_=r(156),m=n(_),x=r(157),g=n(x),j={NETWORK:"Server is not reachable",RESPONSE:"Bad Response",PARAM_PATH:"There is no base path for waffle reader, please, consider to provide one"};e.BaseWsReader={init:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._name="waffle",this._dataset=t.dataset,this._assetsPath=(0,h.default)(t.assetsPath||"/api/ddf/assets","/"),this._basepath=t.path,this._dataset_access_token=t.dataset_access_token,this.versionInfo={version:"2.2.1",build:1514998383362},this._basepath||console.error(j.PARAM_PATH)},getAsset:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this._toDatasetPath(e.dataset||this._dataset),n=(0,b.default)(t,"/"),o=(0,s.default)(n,".json"),i=e.dataset_access_token||this._dataset_access_token?"dataset_access_token="+(e.dataset_access_token||this._dataset_access_token):"",u=this._assetsPath+"/"+r+"/"+n;return g.ajax({url:i?u+"?"+i:u,json:o})},_toDatasetPath:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";if("default"===t)return t;var e=(0,y.default)(t,"#"),r=i(e,2),n=r[0],o=r[1],u=void 0===o?"master":o;return n?n+"/"+u:"default"},read:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,p.default)(t.dataset)?Object.assign({},t,{dataset:encodeURIComponent(t.dataset)}):t;this._dataset_access_token&&(n.dataset_access_token=this._dataset_access_token);var o=this._basepath+"?"+m.stringify(n),i=this._getWindowLocationHref();return this.onReadHook&&this.onReadHook(t,"request"),g.ajax({url:o,json:!0}).then(function(n){var u={query:t,response:n,parsers:r,endpoint:o,homepoint:i};return e._onReadSuccess(u)}).catch(function(r){var u={query:t,error:r,ddfql:n,endpoint:o,homepoint:i};return e._onReadError(u)})},_onReadError:function(t){var e=t.homepoint,r=t.endpoint,n=t.query,o=t.ddfql,i=t.error;if(this.onReadHook){var u=n.from,s=n.select;this.onReadHook({from:u,select:s,responseData:{code:i.status||null,message:i.stack||i.message,metadata:{endpoint:r,homepoint:e}}},"error")}return Promise.reject({error:i,data:{endpoint:r,homepoint:e,ddfql:o}})},_onReadSuccess:function(t){var e=t.homepoint,r=t.endpoint,n=t.query,o=n.from,i=n.select,u=t.parsers,s=t.response;if(!(0,a.default)(s)||s.error||s.message){var c=s.message||s.error||s,f={message:j.RESPONSE+": "+c,data:c};return Promise.reject(f)}if(this.onReadHook){var p=s.rows;this.onReadHook({from:o,select:i,responseData:{metadata:{endpoint:r,homepoint:e},data:p.length}},"response")}return this._parse(s,u)},_parse:function(t,e){return g.mapRows(this._toPojo(t),e)},_getWindowLocationHref:function(){return window.location.href},_toPojo:function(t){return t}}},function(t,e,r){"use strict";function n(t,e,r){t=s(t),e=i(e);var n=t.length;r=void 0===r?n:o(u(r),0,n);var c=r;return(r-=e.length)>=0&&t.slice(r,c)==e}var o=r(137),i=r(7),u=r(138),s=r(6);t.exports=n},function(t,e,r){"use strict";function n(t,e,r){return t===t&&(void 0!==r&&(t=t<=r?t:r),void 0!==e&&(t=t>=e?t:e)),t}t.exports=n},function(t,e,r){"use strict";function n(t){var e=o(t),r=e%1;return e===e?r?e-r:e:0}var o=r(139);t.exports=n},function(t,e,r){"use strict";function n(t){if(!t)return 0===t?t:0;if((t=o(t))===i||t===-i){return(t<0?-1:1)*u}return t===t?t:0}var o=r(140),i=1/0,u=1.7976931348623157e308;t.exports=n},function(t,e,r){"use strict";function n(t){if("number"==typeof t)return t;if(i(t))return u;if(o(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=o(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(s,"");var r=a.test(t);return r||f.test(t)?p(t.slice(2),r?2:8):c.test(t)?u:+t}var o=r(4),i=r(15),u=NaN,s=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,f=/^0o[0-7]+$/i,p=parseInt;t.exports=n},function(t,e,r){"use strict";function n(t){return"string"==typeof t||!i(t)&&u(t)&&o(t)==s}var o=r(3),i=r(0),u=r(5),s="[object String]";t.exports=n},function(t,e,r){"use strict";function n(t,e,r){return r&&"number"!=typeof r&&s(t,e,r)&&(e=r=void 0),(r=void 0===r?p:r>>>0)?(t=f(t),t&&("string"==typeof e||null!=e&&!c(e))&&!(e=o(e))&&u(t)?i(a(t),0,r):t.split(e,r)):[]}var o=r(7),i=r(23),u=r(42),s=r(144),c=r(145),a=r(24),f=r(6),p=4294967295;t.exports=n},function(t,e,r){"use strict";function n(t,e,r){var n=-1,o=t.length;e<0&&(e=-e>o?0:o+e),r=r>o?o:r,r<0&&(r+=o),o=e>r?0:r-e>>>0,e>>>=0;for(var i=Array(o);++n<o;)i[n]=t[n+e];return i}t.exports=n},function(t,e,r){"use strict";function n(t,e,r){if(!c(r))return!1;var n=void 0===e?"undefined":o(e);return!!("number"==n?u(r)&&s(e,r.length):"string"==n&&e in r)&&i(r[e],t)}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=r(10),u=r(14),s=r(20),c=r(4);t.exports=n},function(t,e,r){"use strict";var n=r(146),o=r(36),i=r(37),u=i&&i.isRegExp,s=u?o(u):n;t.exports=s},function(t,e,r){"use strict";function n(t){return i(t)&&o(t)==u}var o=r(3),i=r(5),u="[object RegExp]";t.exports=n},function(t,e,r){"use strict";function n(t){return t.split("")}t.exports=n},function(t,e,r){"use strict";function n(t){return t.match(l)||[]}var o="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",u="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",c="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",a="(?:\\u200d(?:"+["[^\\ud800-\\udfff]",u,s].join("|")+")[\\ufe0e\\ufe0f]?"+c+")*",f="[\\ufe0e\\ufe0f]?"+c+a,p="(?:"+["[^\\ud800-\\udfff]"+o+"?",o,u,s,"[\\ud800-\\udfff]"].join("|")+")",l=RegExp(i+"(?="+i+")|"+p+f,"g");t.exports=n},function(t,e,r){"use strict";function n(t,e,r){if((t=c(t))&&(r||void 0===e))return t.replace(a,"");if(!t||!(e=o(e)))return t;var n=s(t),f=u(n,s(e))+1;return i(n,0,f).join("")}var o=r(7),i=r(23),u=r(150),s=r(24),c=r(6),a=/\s+$/;t.exports=n},function(t,e,r){"use strict";function n(t,e){for(var r=t.length;r--&&o(e,t[r],0)>-1;);return r}var o=r(43);t.exports=n},function(t,e,r){"use strict";function n(t,e,r,n){for(var o=t.length,i=r+(n?1:-1);n?i--:++i<o;)if(e(t[i],i,t))return i;return-1}t.exports=n},function(t,e,r){"use strict";function n(t){return t!==t}t.exports=n},function(t,e,r){"use strict";function n(t,e,r){for(var n=r-1,o=t.length;++n<o;)if(t[n]===e)return n;return-1}t.exports=n},function(t,e,r){"use strict";function n(t,e,r){if((t=c(t))&&(r||void 0===e))return t.replace(a,"");if(!t||!(e=o(e)))return t;var n=s(t),f=u(n,s(e));return i(n,f).join("")}var o=r(7),i=r(23),u=r(155),s=r(24),c=r(6),a=/^\s+/;t.exports=n},function(t,e,r){"use strict";function n(t,e){for(var r=-1,n=t.length;++r<n&&o(e,t[r],0)>-1;);return r}var o=r(43);t.exports=n},function(t,e,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o={stringify:function(t){function e(t){return encodeURI(t.replace(/([=:&@_;\/])/g,"/$1"))}function r(t){if("number"==typeof t||!0===t||!1===t||null===t)return":"+t;if(t instanceof Array){for(var o=[],i=0;i<t.length;++i)o.push(r(t[i]));return"@"+o.join("&")+";"}if("object"===(void 0===t?"undefined":n(t))){var o=[];for(var u in t)o.push(e(u)+r(t[u]));return"_"+o.join("&")+";"}return"="+e((null!==t?void 0!==t?t:"undefined":"null").toString())}return r(t).replace(/;+$/g,"")},parse:function(t){function e(){for(var e="";n!==t.length;++n){if("/"===t.charAt(n)){if((n+=1)===t.length){e+=";";break}}else if(t.charAt(n).match(/[=:&@_;]/))break;e+=t.charAt(n)}return e}function r(){var o=t.charAt(n++);if("="===o)return e();if(":"===o){var i=e();return"true"===i||"false"!==i&&(i=parseFloat(i),isNaN(i)?null:i)}if("@"===o){var u=[];t:if(!(n>=t.length||";"===t.charAt(n)))for(;;){if(u.push(r()),n>=t.length||";"===t.charAt(n))break t;n+=1}return n+=1,u}if("_"===o){var u={};t:if(!(n>=t.length||";"===t.charAt(n)))for(;;){var s=e();if(u[s]=r(),n>=t.length||";"===t.charAt(n))break t;n+=1}return n+=1,u}throw"Unexpected char "+o}var n=0;return t=decodeURI(t),r()}};e.stringify=o.stringify,e.parse=o.parse},function(t,e,r){"use strict";function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.map(function(t){return Object.keys(t).forEach(function(r){t[r]=o(t[r],e[r])}),t})}function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;return(0,c.default)(t)?t.map(function(t){return o(t,e)}):e(t)}function i(t){if(""===t||null===t)return null;if(!t.trim)return t;if(null==t.trim().match(/^[0-9.,]+$/))return t;var e=parseFloat(t);return isNaN(e)||!isFinite(e)?t:e}function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.url,r=void 0===e?"":e,n=t.json,o=void 0!==n&&n,i={};return o&&(i["Content-Type"]="text/plain; charset=UTF-8"),fetch(r,{method:"GET",headers:i}).then(function(t){if(!t.ok)throw Error(t.statusText);return t}).then(function(t){return o?t.json():t.text()})}Object.defineProperty(e,"__esModule",{value:!0}),e.ajax=e.mapRows=void 0;var s=r(0),c=function(t){return t&&t.__esModule?t:{default:t}}(s);r(158),e.mapRows=n,e.ajax=u},function(t,e,r){"use strict";!function(t){function e(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function r(t){return"string"!=typeof t&&(t=String(t)),t}function n(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return b.iterable&&(e[Symbol.iterator]=function(){return e}),e}function o(t){this.map={},t instanceof o?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function i(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function u(t){return new Promise(function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}})}function s(t){var e=new FileReader,r=u(e);return e.readAsArrayBuffer(t),r}function c(t){var e=new FileReader,r=u(e);return e.readAsText(t),r}function a(t){for(var e=new Uint8Array(t),r=new Array(e.length),n=0;n<e.length;n++)r[n]=String.fromCharCode(e[n]);return r.join("")}function f(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function p(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(b.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(b.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(b.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(b.arrayBuffer&&b.blob&&m(t))this._bodyArrayBuffer=f(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!b.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!x(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=f(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):b.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},b.blob&&(this.blob=function(){var t=i(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?i(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var t=i(this);if(t)return t;if(this._bodyBlob)return c(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(a(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},b.formData&&(this.formData=function(){return this.text().then(d)}),this.json=function(){return this.text().then(JSON.parse)},this}function l(t){var e=t.toUpperCase();return g.indexOf(e)>-1?e:t}function y(t,e){e=e||{};var r=e.body;if(t instanceof y){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new o(t.headers)),this.method=t.method,this.mode=t.mode,r||null==t._bodyInit||(r=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new o(e.headers)),this.method=l(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function d(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var r=t.split("="),n=r.shift().replace(/\+/g," "),o=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(n),decodeURIComponent(o))}}),e}function h(t){var e=new o;return t.split(/\r?\n/).forEach(function(t){var r=t.split(":"),n=r.shift().trim();if(n){var o=r.join(":").trim();e.append(n,o)}}),e}function v(t,e){e||(e={}),this.type="default",this.status="status"in e?e.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new o(e.headers),this.url=e.url||"",this._initBody(t)}if(!t.fetch){var b={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(b.arrayBuffer)var _=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],m=function(t){return t&&DataView.prototype.isPrototypeOf(t)},x=ArrayBuffer.isView||function(t){return t&&_.indexOf(Object.prototype.toString.call(t))>-1};o.prototype.append=function(t,n){t=e(t),n=r(n);var o=this.map[t];this.map[t]=o?o+","+n:n},o.prototype.delete=function(t){delete this.map[e(t)]},o.prototype.get=function(t){return t=e(t),this.has(t)?this.map[t]:null},o.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},o.prototype.set=function(t,n){this.map[e(t)]=r(n)},o.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},o.prototype.keys=function(){var t=[];return this.forEach(function(e,r){t.push(r)}),n(t)},o.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),n(t)},o.prototype.entries=function(){var t=[];return this.forEach(function(e,r){t.push([r,e])}),n(t)},b.iterable&&(o.prototype[Symbol.iterator]=o.prototype.entries);var g=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];y.prototype.clone=function(){return new y(this,{body:this._bodyInit})},p.call(y.prototype),p.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new o(this.headers),url:this.url})},v.error=function(){var t=new v(null,{status:0,statusText:""});return t.type="error",t};var j=[301,302,303,307,308];v.redirect=function(t,e){if(-1===j.indexOf(e))throw new RangeError("Invalid status code");return new v(null,{status:e,headers:{location:t}})},t.Headers=o,t.Request=y,t.Response=v,t.fetch=function(t,e){return new Promise(function(r,n){var o=new y(t,e),i=new XMLHttpRequest;i.onload=function(){var t={status:i.status,statusText:i.statusText,headers:h(i.getAllResponseHeaders()||"")};t.url="responseURL"in i?i.responseURL:t.headers.get("X-Request-URL");var e="response"in i?i.response:i.responseText;r(new v(e,t))},i.onerror=function(){n(new TypeError("Network request failed"))},i.ontimeout=function(){n(new TypeError("Network request failed"))},i.open(o.method,o.url,!0),"include"===o.credentials&&(i.withCredentials=!0),"responseType"in i&&b.blob&&(i.responseType="blob"),o.headers.forEach(function(t,e){i.setRequestHeader(e,t)}),i.send(void 0===o._bodyInit?null:o._bodyInit)})},t.fetch.polyfill=!0}}("undefined"!=typeof self?self:void 0)}]);</script>
<script>var ConfigBubbleChart = { 
  "state": {
    "entities": {
      "dim": "geo",
      "filter": {
        "geo": {"un_state": true}
      },
      "show": {}
    },
    "entities_colorlegend": {
      "dim": "world_4region"
    },
    "time": {
      "dim": "time"
    },
    "marker": {
      "space": ["entities", "time"],
      "label": {
        "use": "property",
        "which": "name"
      },
      "axis_y": {
        "use": "indicator",
        "which": "life_expectancy_years",
        "zoomedMin": 19,
        "zoomedMax": 86,
        "domainMin": 0,
        "domainMax": 100
      },
      "axis_x": {
        "use": "indicator",
        "scaleType": "log",
        "domainMax": 180000,
        "domainMin": 300,
        "zoomedMax": 150000,
        "zoomedMin": 400,
        "which": "income_per_person_gdppercapita_ppp_inflation_adjusted"
      },
      "size": {
        "use": "indicator",
        "which": "population_total",
        "domainMin": 15,
        "domainMax": 1400000000,
        "scaleType": "linear",
        "allow": {
          "scales": ["linear"]
        }
      },
      "color": {
        "use": "property",
        "which": "world_4region",
        "scaleType": "ordinal",
        "syncModels": ["marker_colorlegend"]
      }
    },
    "marker_colorlegend":{
      "space": ["entities_colorlegend"],
      "opacityRegular": 0.8,
      "opacityHighlightDim": 0.3,
      "label": {
        "use": "property",
        "which": "name"
      },
      "hook_rank": {
        "use": "property",
        "which": "rank"
      },
      "hook_geoshape": {
        "use": "property",
        "which": "shape_lores_svg"
      }
    }
  },
  "ui": {
    "treemenu": {
      "folderStrategyByDataset": {
        "data": "spread",
        "data_wdi": "folder:other_datasets"
      }
    },
    "datawarning": {
      "doubtDomain": [1800, 1950, 2015],
      "doubtRange": [1.0, 0.3, 0.2]
    },
    "chart": {
      "decorations": {
        "enabled": true,
        "xAxisGroups": {
          "income_per_person_gdppercapita_ppp_inflation_adjusted": [
            {"min": null, "max": 2650, "label": "incomegroups/level1"},
            {"min": 2650, "max": 8000, "label": "incomegroups/level2"},
            {"min": 8000, "max": 24200, "label": "incomegroups/level3"},
            {"min": 24200, "max": null, "label": "incomegroups/level4"}
          ]
        }
      }
     },
    "splash": true
  }
};</script>
<script>/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// identity function for calling harmony imports with the correct context
/******/ 	__webpack_require__.i = function(value) { return value; };
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 8);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

__webpack_require__(5);

var _component = __webpack_require__(1);

var _component2 = _interopRequireDefault(_component);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var VERSION_INFO = { version: "2.1.3", build: 1531651329743 };

exports.default = Vizabi.Tool.extend("BubbleChart", {

  /**
   * Initializes the tool (Bubble Chart Tool).
   * Executed once before any template is rendered.
   * @param {Object} placeholder Placeholder element for the tool
   * @param {Object} external_model Model as given by the external page
   */
  init: function init(placeholder, external_model) {

    this.name = "bubblechart";

    //specifying components
    this.components = [{
      component: _component2.default,
      placeholder: ".vzb-tool-viz",
      model: ["state.time", "state.marker", "locale", "ui"] //pass models to component
    }, {
      component: Vizabi.Component.get("timeslider"),
      placeholder: ".vzb-tool-timeslider",
      model: ["state.time", "state.marker", "ui"]
    }, {
      component: Vizabi.Component.get("dialogs"),
      placeholder: ".vzb-tool-dialogs",
      model: ["state", "ui", "locale"]
    }, {
      component: Vizabi.Component.get("buttonlist"),
      placeholder: ".vzb-tool-buttonlist",
      model: ["state", "ui", "locale"]
    }, {
      component: Vizabi.Component.get("treemenu"),
      placeholder: ".vzb-tool-treemenu",
      model: ["state.marker", "state.time", "locale", "ui"]
    }, {
      component: Vizabi.Component.get("datawarning"),
      placeholder: ".vzb-tool-datawarning",
      model: ["locale"]
    }, {
      component: Vizabi.Component.get("datanotes"),
      placeholder: ".vzb-tool-datanotes",
      model: ["state.marker", "locale"]
    }, {
      component: Vizabi.Component.get("steppedspeedslider"),
      placeholder: ".vzb-tool-stepped-speed-slider",
      model: ["state.time", "locale"]
    }];

    this._super(placeholder, external_model);
  },
  validate: function validate(model) {
    model = this.model || model;

    this._super(model);

    if (model.ui.chart.lockNonSelected && (!model.ui.splash || model.state.time.splash === false)) {
      var time = model.state.time.parse("" + model.ui.chart.lockNonSelected);
      if (time < model.state.time.start) model.ui.chart.lockNonSelected = model.state.time.formatDate(model.state.time.start);
      if (time > model.state.time.end) model.ui.chart.lockNonSelected = model.state.time.formatDate(model.state.time.end);
    }
  },


  /**
   * Determines the default model of this tool
   */
  default_model: {
    state: {
      time: {
        "autoconfig": {
          "type": "time"
        }
      },
      entities: {
        "autoconfig": {
          "type": "entity_domain",
          "excludeIDs": ["tag"]
        }
      },
      entities_colorlegend: {
        "autoconfig": {
          "type": "entity_domain",
          "excludeIDs": ["tag"]
        }
      },
      marker: {
        limit: 5000,
        space: ["entities", "time"],
        axis_x: {
          use: "indicator",
          "autoconfig": {
            index: 0,
            type: "measure"
          }
        },
        axis_y: {
          use: "indicator",
          "autoconfig": {
            index: 1,
            type: "measure"
          }
        },
        label: {
          use: "property",
          "autoconfig": {
            "includeOnlyIDs": ["name"],
            "type": "string"
          }
        },
        size: {
          "autoconfig": {
            index: 2,
            type: "measure"
          }
        },
        color: {
          syncModels: ["marker_colorlegend"],
          "autoconfig": {}
        },
        size_label: {
          use: "constant",
          which: "_default",
          scaleType: "ordinal",
          _important: false,
          extent: [0, 0.33],
          allow: {
            names: ["_default"]
          }
        }
      },
      "marker_colorlegend": {
        "space": ["entities_colorlegend"],
        "label": {
          "use": "property",
          "which": "name"
        },
        "hook_rank": {
          "use": "property",
          "which": "rank"
        },
        "hook_geoshape": {
          "use": "property",
          "which": "shape_lores_svg"
        }
      }
    },
    locale: {},
    ui: {
      chart: {
        decorations: {
          enabled: true,
          xAxisGroups: null
        },
        superhighlightOnMinimapHover: true,
        whenHovering: {
          showProjectionLineX: true,
          showProjectionLineY: true,
          higlightValueX: true,
          higlightValueY: true
        },
        labels: {
          dragging: true,
          removeLabelBox: false
        },
        margin: {
          left: 0,
          top: 0
        },
        trails: true,
        lockNonSelected: 0
      },
      datawarning: {
        doubtDomain: [],
        doubtRange: []
      },
      show_ticks: true,
      presentation: false,
      panWithArrow: false,
      adaptMinMaxZoom: false,
      cursorMode: "arrow",
      zoomOnScrolling: false,
      buttons: ["colors", "find", "zoom", "trails", "lock", "moreoptions", "fullscreen", "presentation"],
      dialogs: {
        popup: ["colors", "find", "size", "zoom", "moreoptions"],
        sidebar: ["colors", "find", "size", "zoom"],
        moreoptions: ["opacity", "speed", "axes", "size", "colors", "label", "zoom", "presentation", "about"]
      }
    }
  },

  versionInfo: VERSION_INFO
});

/***/ }),
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _trail = __webpack_require__(3);

var _trail2 = _interopRequireDefault(_trail);

var _panzoom = __webpack_require__(2);

var _panzoom2 = _interopRequireDefault(_panzoom);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var _Vizabi = Vizabi,
    utils = _Vizabi.utils;
var _Vizabi$helpers = Vizabi.helpers,
    Exporter = _Vizabi$helpers.svgexport,
    Labels = _Vizabi$helpers.labels,
    axisSmart = _Vizabi$helpers['d3.axisWithLabelPicker'],
    DynamicBackground = _Vizabi$helpers['d3.dynamicBackground'];
var _Vizabi$iconset = Vizabi.iconset,
    iconWarn = _Vizabi$iconset.warn,
    iconQuestion = _Vizabi$iconset.question;


// BUBBLE CHART COMPONENT
var BubbleChart = Vizabi.Component.extend("bubblechart", {

  /**
   * Initializes the component (Bubble Chart).
   * Executed once before any template is rendered.
   * @param {Object} config The config passed to the component
   * @param {Object} context The component's parent
   */
  init: function init(config, context) {
    var _this2 = this;

    var _this = this;
    this.name = "bubblechart";
    this.template = __webpack_require__(6);

    //define expected models for this component
    this.model_expects = [{
      name: "time",
      type: "time"
    }, {
      name: "marker",
      type: "marker"
    }, {
      name: "locale",
      type: "locale"
    }, {
      name: "ui",
      type: "ui"
    }];

    this.model_binds = {
      "change:time.playing": function changeTimePlaying(evt, original) {
        if (utils.isTouchDevice() && _this.model.time.playing && _this.someHighlighted) {
          _this.model.marker.clearHighlighted();
        }
      },
      "change:time.start": function changeTimeStart(evt, original) {
        if (!_this._readyOnce || _this.model.time.splash) return;
        if (["color", "axis_x", "axis_y"].filter(function (hook) {
          return _this.model.marker[hook].which == _this.model.time.dim;
        }).length) {
          _this.ready();
          return;
        };
        _this._trails.create().then(function () {
          _this._trails.run(["findVisible", "reveal", "opacityHandler"]);
        });
      },
      "change:time.end": function changeTimeEnd(evt, original) {
        if (!_this._readyOnce || _this.model.time.splash) return;
        if (["color", "axis_x", "axis_y"].filter(function (hook) {
          return _this.model.marker[hook].which == _this.model.time.dim;
        }).length) {
          _this.ready();
          return;
        };
        _this._trails.create().then(function () {
          _this._trails.run(["findVisible", "reveal", "opacityHandler"]);
        });
      },
      "change:time.record": function changeTimeRecord() {
        //console.log("change time record");
        if (_this.model.time.record) {
          _this._export.open(this.element, this.name);
        } else {
          _this._export.reset();
        }
      },
      "change:ui.chart.trails": function changeUiChartTrails(evt) {
        //console.log("EVENT change:time:trails");
        if (!_this._readyOnce) return;
        _this._trails.toggle(_this.model.ui.chart.trails);
        _this.redrawDataPoints();
      },
      "change:ui.chart.lockNonSelected": function changeUiChartLockNonSelected(evt) {
        if (!_this._readyOnce) return;
        //console.log("EVENT change:time:lockNonSelected");
        _this.redrawDataPoints(500);
      },
      "change:ui.chart.decorations": function changeUiChartDecorations(evt) {
        if (!_this._readyOnce) return;
        _this._updateDecorations(500);
      },

      "change:marker": function changeMarker(evt, path) {
        // bubble size change is processed separately
        if (!_this._readyOnce) return;
        if (path.indexOf("scaleType") > -1) {
          _this.ready();
          return;
        }

        if (path.indexOf("marker.color") !== -1) return;
        if (path.indexOf("marker.size") !== -1) return;
        if (path.indexOf("marker.size_label") !== -1) return;

        if (path.indexOf("domainMin") > -1 || path.indexOf("domainMax") > -1) {
          if (!_this.yScale || !_this.xScale) return; //abort if building of the scale is in progress
          _this.updateSize();
          _this.updateMarkerSizeLimits();
          _this._trails.run("findVisible");
          _this.redrawDataPoints();
          _this._trails.run("resize", null, 500);
        } else if (path.indexOf("zoomedMin") > -1 || path.indexOf("zoomedMax") > -1) {
          if (_this.draggingNow) return;

          //avoid zooming again if values didn't change.
          //also prevents infinite loop on forced URL update from zoom.stop()
          if (utils.approxEqual(_this._zoomedXYMinMax.axis_x.zoomedMin, _this.model.marker.axis_x.zoomedMin, 0.01) && utils.approxEqual(_this._zoomedXYMinMax.axis_x.zoomedMax, _this.model.marker.axis_x.zoomedMax, 0.01) && utils.approxEqual(_this._zoomedXYMinMax.axis_y.zoomedMin, _this.model.marker.axis_y.zoomedMin, 0.01) && utils.approxEqual(_this._zoomedXYMinMax.axis_y.zoomedMax, _this.model.marker.axis_y.zoomedMax, 0.01)) return;
          var playAfterZoom = false;
          if (_this.model.time.playing) {
            playAfterZoom = true;
            _this.model.time.pause(true);
          }
          _this._trails.run("abortAnimation");
          _this._panZoom.zoomToMaxMin(_this.model.marker.axis_x.getZoomedMin(), _this.model.marker.axis_x.getZoomedMax(), _this.model.marker.axis_y.getZoomedMin(), _this.model.marker.axis_y.getZoomedMax(), 500 /*duration*/, "don't feed these zoom values back to state");
          if (playAfterZoom) {
            _this.model.time.postponePause = false;
          }
        }

        //console.log("EVENT change:marker", evt);
      },
      "change:marker.select": function changeMarkerSelect(evt, path) {
        if (!_this._readyOnce || !_this.entityBubbles) return;
        //console.log("EVENT change:marker:select");

        //disable trails if too many items get selected at once
        //otherwise it's too much waiting time
        if ((evt.source._val || []).length - (evt.source._previousVal || []).length > 50) _this.model.ui.chart.trails = false;

        _this.selectDataPoints();
        _this.redrawDataPoints();
        _this._trails.create().then(function () {
          _this._trails.run(["findVisible", "reveal", "opacityHandler"]);
        });
        _this.updateBubbleOpacity();
        _this._updateDoubtOpacity();
      },
      "change:marker.superHighlight": function changeMarkerSuperHighlight(evt, path) {
        if (_this2._readyOnce) {
          _this2._blinkSuperHighlighted();
        }
      },
      "change:marker.highlight": function changeMarkerHighlight(evt, path) {
        if (!_this._readyOnce) return;
        //path have values if trail is highlighted
        if (path != "highlight") {
          if (path !== null) {
            var titles = _this._formatSTitleValues(path.size, path.color);
            _this._updateSTitle(titles[0], titles[1]);
          } else {
            _this._updateSTitle();
          }
          return;
        }
        //console.log("EVENT change:marker:highlight");
        _this.highlightDataPoints();
      },
      "change:time.value": function changeTimeValue() {
        if (_this.model.time.splash || !_this._readyOnce || !_this.entityBubbles) return;
        if (!_this.calculationQueue) {
          // collect timestamp that we request
          _this.calculationQueue = [_this.model.time.value.toString()];
        } else {
          _this.calculationQueue.push(_this.model.time.value.toString());
        }
        (function (time) {
          // isolate timestamp
          //_this._bubblesInteract().mouseout();
          _this.model.marker.getFrame(time, function (frame, time) {
            if (!_this._frameIsValid(frame)) return utils.warn("change:time.value: empty data received from marker.getFrame(). doing nothing");
            var index = _this.calculationQueue.indexOf(time.toString()); //
            if (index == -1) {
              // we was receive more recent frame before so we pass this frame
              return;
            }
            _this.calculationQueue.splice(0, index + 1); // remove timestamps that added to queue before current timestamp
            _this.frameChanged(frame, time);
          });
        })(_this.model.time.value);
      },
      "change:ui.adaptMinMaxZoom": function changeUiAdaptMinMaxZoom() {
        //console.log("EVENT change:ui:adaptMinMaxZoom");
        if (_this.model.ui.adaptMinMaxZoom) {
          _this._panZoom.expandCanvas(500);
        } else {
          _this._panZoom.reset();
        }
      },
      "change:marker.size.extent": function changeMarkerSizeExtent(evt, path) {
        //console.log("EVENT change:marker:size:max");
        if (!_this._readyOnce) return;
        _this.updateMarkerSizeLimits();
        _this.redrawDataPointsOnlySize();
        _this._trails.run("resize");
      },
      "change:marker.color": function changeMarkerColor(evt, path) {
        if (!_this._readyOnce) return;
        //console.log("EVENT change:marker:color:palette");
        _this.redrawDataPointsOnlyColors();
        _this._trails.run("recolor");
      },
      // 'change:marker.color.palette': function(evt, path) {
      //   if(!_this._readyOnce) return;
      //   //console.log("EVENT change:marker:color:palette");
      //   _this.redrawDataPointsOnlyColors();
      //   _this._trails.run("recolor");
      // },
      "change:marker.opacitySelectDim": function changeMarkerOpacitySelectDim() {
        _this.updateBubbleOpacity();
      },
      "change:marker.opacityRegular": function changeMarkerOpacityRegular() {
        _this.updateBubbleOpacity();
        _this._trails.run("opacityHandler");
      },
      "change:ui.cursorMode": function changeUiCursorMode() {
        var svg = _this.chartSvg;
        if (_this.model.ui.cursorMode === "plus") {
          svg.classed("vzb-zoomin", true);
          svg.classed("vzb-zoomout", false);
          svg.classed("vzb-panhand", false);
        } else if (_this.model.ui.cursorMode === "minus") {
          svg.classed("vzb-zoomin", false);
          svg.classed("vzb-zoomout", true);
          svg.classed("vzb-panhand", false);
        } else if (_this.model.ui.cursorMode === "hand") {
          svg.classed("vzb-zoomin", false);
          svg.classed("vzb-zoomout", false);
          svg.classed("vzb-panhand", true);
        } else {
          svg.classed("vzb-zoomin", false);
          svg.classed("vzb-zoomout", false);
          svg.classed("vzb-panhand", false);
        }
      },
      "change:marker.space": function changeMarkerSpace() {
        if (_this.someHighlighted) {
          _this.model.marker.clearHighlighted();
        }
        if (_this.someSelected) {
          _this.model.marker.clearSelected();
        }
      },
      "ready": function ready() {
        // if(_this.model.marker.color.scaleType === 'time') {
        //   _this.model.marker.color.scale = null;
        //   utils.defer(function() {
        //     _this.trigger('ready');
        //   });
        // }
      }
    };

    this._super(config, context);

    this.xScale = null;
    this.yScale = null;
    this.sScale = null;
    this.cScale = null;

    this.xAxis = axisSmart("bottom");
    this.yAxis = axisSmart("left");

    _this.COLOR_BLACKISH = "#333";
    _this.COLOR_WHITEISH = "#fdfdfd";

    this.isCanvasPreviouslyExpanded = false;
    this.draggingNow = null;

    this._trails = new _trail2.default(this);
    this._panZoom = new _panzoom2.default(this);
    this._export = new Exporter(this);
    this._export.prefix("vzb-bc-").deleteClasses(["vzb-bc-bubbles-crop", "vzb-hidden", "vzb-bc-year", "vzb-bc-zoom-rect", "vzb-bc-projection-x", "vzb-bc-projection-y", "vzb-bc-axis-c-title"]);
    this._labels = new Labels(this);
    this._labels.config({
      CSS_PREFIX: "vzb-bc",
      LABELS_CONTAINER_CLASS: "vzb-bc-labels",
      LINES_CONTAINER_CLASS: "vzb-bc-bubbles",
      LINES_CONTAINER_SELECTOR_PREFIX: "bubble-"
    });
  },
  _rangeBump: function _rangeBump(arg, undo) {
    var bump = this.activeProfile.maxRadiusPx / 2;
    undo = undo ? -1 : 1;
    if (utils.isArray(arg) && arg.length > 1) {
      var z1 = arg[0];
      var z2 = arg[arg.length - 1];

      //the sign of bump depends on the direction of the scale
      if (z1 < z2) {
        z1 += bump * undo;
        z2 -= bump * undo;
        // if the scale gets inverted because of bump, set it to avg between z1 and z2
        if (z1 > z2) z1 = z2 = (z1 + z2) / 2;
      } else if (z1 > z2) {
        z1 -= bump * undo;
        z2 += bump * undo;
        // if the scale gets inverted because of bump, set it to avg between z1 and z2
        if (z1 < z2) z1 = z2 = (z1 + z2) / 2;
      } else {
        // rangeBump error: the input scale range has 0 length. that sucks but we keep cool
      }
      return [z1, z2];
    }
    utils.warn("rangeBump error: input is not an array or empty");
  },


  /**
   * Executes right after the template is in place, but the model is not yet ready
   */
  readyOnce: function readyOnce() {
    var _this = this;
    this._readyOnce = false;
    this.scrollableAncestor = utils.findScrollableAncestor(this.element);
    this.element = d3.select(this.element);

    // reference elements
    this.chartSvg = this.element.select("svg");
    this.graph = this.element.select(".vzb-bc-graph");
    this.yAxisElContainer = this.graph.select(".vzb-bc-axis-y");
    this.yAxisEl = this.yAxisElContainer.select("g");

    this.xAxisElContainer = this.graph.select(".vzb-bc-axis-x");
    this.xAxisEl = this.xAxisElContainer.select("g");

    this.ySubTitleEl = this.graph.select(".vzb-bc-axis-y-subtitle");
    this.xSubTitleEl = this.graph.select(".vzb-bc-axis-x-subtitle");
    this.yTitleEl = this.graph.select(".vzb-bc-axis-y-title");
    this.xTitleEl = this.graph.select(".vzb-bc-axis-x-title");
    this.sTitleEl = this.graph.select(".vzb-bc-axis-s-title");
    this.cTitleEl = this.graph.select(".vzb-bc-axis-c-title");
    this.yearEl = this.graph.select(".vzb-bc-year");

    this.year = new DynamicBackground(this.yearEl);

    this.yInfoEl = this.graph.select(".vzb-bc-axis-y-info");
    this.xInfoEl = this.graph.select(".vzb-bc-axis-x-info");
    this.dataWarningEl = this.graph.select(".vzb-data-warning");

    this.projectionX = this.graph.select(".vzb-bc-projection-x");
    this.projectionY = this.graph.select(".vzb-bc-projection-y");
    this.decorationsEl = this.graph.select(".vzb-bc-decorations");
    this.lineEqualXY = this.decorationsEl.select(".vzb-bc-line-equal-xy");
    this.xAxisGroupsEl = this.decorationsEl.select(".vzb-bc-x-axis-groups");

    this.trailsContainer = this.graph.select(".vzb-bc-trails");
    this.bubbleContainerCrop = this.graph.select(".vzb-bc-bubbles-crop");
    this.zoomSelection = this.graph.select(".vzb-zoom-selection");
    this.labelsContainerCrop = this.graph.select(".vzb-bc-labels-crop");
    this.bubbleContainer = this.graph.select(".vzb-bc-bubbles");
    this.labelsContainer = this.graph.select(".vzb-bc-labels");
    this.linesContainer = this.graph.select(".vzb-bc-lines");
    this.zoomRect = this.element.select(".vzb-bc-zoom-rect");
    this.eventArea = this.element.select(".vzb-bc-eventarea");

    this.entityBubbles = null;
    this.bubbleCrown = this.element.select(".vzb-bc-bubble-crown");
    //set filter
    this.bubbleCrown.selectAll(".vzb-crown-glow").attr("filter", "url(" + location.pathname + "#vzb-glow-filter)");
    this.tooltipMobile = this.element.select(".vzb-tooltip-mobile");
    //component events
    this.on("resize", function () {
      //console.log("EVENT: resize");
      //return if updatesize exists with error
      _this._trails.run("abortAnimation");
      if (_this.updateSize()) return;
      _this.updateMarkerSizeLimits();
      _this._labels.updateSize();
      (function (xMin, xMax, yMin, yMax) {
        _this._panZoom.zoomer.dontFeedToState = true;
        _this._panZoom.rerun(); // includes redraw data points and trail resize
        _this._panZoom.zoomToMaxMin(xMin, xMax, yMin, yMax, 0, true);
      })(_this._zoomedXYMinMax.axis_x.zoomedMin, _this._zoomedXYMinMax.axis_x.zoomedMax, _this._zoomedXYMinMax.axis_y.zoomedMin, _this._zoomedXYMinMax.axis_y.zoomedMax);
    });

    //keyboard listeners
    d3.select("body").on("keydown", function () {
      if (_this.model.ui.cursorMode !== "arrow" && _this.model.ui.cursorMode !== "hand") return;
      if (d3.event.metaKey || d3.event.ctrlKey) _this.element.select("svg").classed("vzb-zoomin", true);
    }).on("keyup", function () {
      if (_this.model.ui.cursorMode !== "arrow" && _this.model.ui.cursorMode !== "hand") return;
      if (!d3.event.metaKey && !d3.event.ctrlKey) _this.element.select("svg").classed("vzb-zoomin", false);
    })
    //this is for the case when user would press ctrl and move away from the browser tab or window
    //keyup event would happen somewhere else and won't be captured, so zoomin class would get stuck
    .on("mouseenter", function () {
      if (_this.model.ui.cursorMode !== "arrow" && _this.model.ui.cursorMode !== "hand") return;
      if (!d3.event.metaKey && !d3.event.ctrlKey) _this.element.select("svg").classed("vzb-zoomin", false);
    });

    this.root.on("resetZoom", function () {
      _this._panZoom.reset(null, 500);
    });

    this._panZoom.zoomSelection(this.bubbleContainerCrop);
    this.bubbleContainerCrop.call(this._panZoom.dragRectangle).call(this._panZoom.zoomer).on("dblclick.zoom", null).on("mouseup", function () {
      _this.draggingNow = false;
    }).on("click", function () {
      var cursor = _this.model.ui.cursorMode;
      if (!d3.event.defaultPrevented && cursor !== "arrow" && cursor !== "hand") {
        _this._panZoom.zoomByIncrement(cursor, 500);
      }
    });

    this.TIMEDIM = this.model.time.getDimension();
    this.KEYS = utils.unique(this.model.marker._getAllDimensions({ exceptType: "time" }));
    this.KEY = this.KEYS.join(",");
    this.dataKeys = this.model.marker.getDataKeysPerHook();

    this.updateUIStrings();

    this.wScale = d3.scaleLinear().domain(this.model.ui.datawarning.doubtDomain).range(this.model.ui.datawarning.doubtRange);

    this._labels.readyOnce();

    _this._readyOnce = true;
  },
  _frameIsValid: function _frameIsValid(frame) {
    return !(!frame || Object.keys(frame.axis_y).length === 0 || Object.keys(frame.axis_x).length === 0 || Object.keys(frame.size).length === 0);
  },
  ready: function ready() {
    var _this = this;
    this.KEYS = utils.unique(this.model.marker._getAllDimensions({ exceptType: "time" }));
    this.KEY = this.KEYS.join(",");
    this.dataKeys = this.model.marker.getDataKeysPerHook();

    this.updateUIStrings();
    var endTime = this.model.time.end;
    this.updateIndicators();
    this.updateTime();
    if (!_this.model.time.splash) {
      _this._trails.create();
    }
    this.model.marker.getFrame(this.model.time.value, function (frame, time) {
      // TODO: temporary fix for case when after data loading time changed on validation
      if (time.toString() != _this.model.time.value.toString()) {
        utils.defer(function () {
          _this.ready();
        });
        return;
      }
      if (!_this._frameIsValid(frame)) return utils.warn("ready: empty data received from marker.getFrame(). doing nothing");

      _this.frame = frame;
      _this.updateSize();
      _this.updateMarkerSizeLimits();
      _this.updateEntities();
      _this._labels.ready();
      _this.redrawDataPoints();
      _this.selectDataPoints();
      _this.updateBubbleOpacity();
      _this._updateDoubtOpacity();
      _this.zoomToMarkerMaxMin(); // includes redraw data points and trail resize
      if (!_this.model.time.splash) {
        _this._trails.run(["findVisible", "reveal", "opacityHandler"]);
      }
      if (_this.model.ui.adaptMinMaxZoom) _this._panZoom.expandCanvas();
    });
  },


  /*
   * Zoom to the min and max values given in the URL axes markers.
   */
  zoomToMarkerMaxMin: function zoomToMarkerMaxMin() {
    /*
     * Reset just the zoom values without triggering a zoom event. This ensures
     * a clean zoom state for the subsequent zoom event.
     */
    this._panZoom.resetZoomState();

    var xAxis = this.model.marker.axis_x;
    var yAxis = this.model.marker.axis_y;

    var xDomain = xAxis.getScale().domain();
    var yDomain = yAxis.getScale().domain();

    /*
     * The axes may return null when there is no value given for the zoomed
     * min and max values. In that case, fall back to the axes' domain values.
     */
    var zoomedMinX = xAxis.getZoomedMin();
    var zoomedMaxX = xAxis.getZoomedMax();
    var zoomedMinY = yAxis.getZoomedMin();
    var zoomedMaxY = yAxis.getZoomedMax();

    //by default this will apply no transition and feed values back to state
    this._panZoom.zoomToMaxMin(zoomedMinX, zoomedMaxX, zoomedMinY, zoomedMaxY, 0, "don't feed these zoom values back to state");
  },


  /*
   * UPDATE INDICATORS
   */
  updateIndicators: function updateIndicators() {
    var _this = this;

    //scales
    this.yScale = this.model.marker.axis_y.getScale();
    this.xScale = this.model.marker.axis_x.getScale();
    this.sScale = this.model.marker.size.getScale();
    this.cScale = this.model.marker.color.getScale();
    this._labels.setScales(this.xScale, this.yScale);

    this.yAxis.tickFormat(_this.model.marker.axis_y.getTickFormatter());
    this.xAxis.tickFormat(_this.model.marker.axis_x.getTickFormatter());
  },
  frameChanged: function frameChanged(frame, time) {
    //    if (time.toString() != this.model.time.value.toString()) return; // frame is outdated
    this.frame = frame;
    this.updateTime();

    this._updateDoubtOpacity();
    this._trails.run("findVisible");
    if (this.model.ui.adaptMinMaxZoom) {
      this._panZoom.expandCanvas();
    } else {
      this.redrawDataPoints();
    }
    this._trails.run("reveal", null, this.duration);
    this.tooltipMobile.classed("vzb-hidden", true);
    this._reorderEntities();
  },
  _getSubtitle: function _getSubtitle(title, shortTitle) {
    var subtitle = title.replace(shortTitle, "");
    if (subtitle[0] === ",") subtitle = subtitle.slice(1);
    var regexpResult = /^\((.*)\)$|.*/.exec(subtitle.trim());
    return regexpResult[1] || regexpResult[0] || "";
  },
  updateUIStrings: function updateUIStrings() {
    var _this = this;
    var layoutProfile = this.getLayoutProfile();

    var conceptPropsY = _this.model.marker.axis_y.getConceptprops();
    var conceptPropsX = _this.model.marker.axis_x.getConceptprops();
    var conceptPropsS = _this.model.marker.size.getConceptprops();
    var conceptPropsC = _this.model.marker.color.getConceptprops();
    this.translator = this.model.locale.getTFunction();

    this.strings = {
      title: {
        Y: conceptPropsY.name,
        X: conceptPropsX.name,
        S: conceptPropsS.name,
        C: conceptPropsC.name
      },
      title_short: {
        Y: conceptPropsY.name_short,
        X: conceptPropsX.name_short,
        S: conceptPropsS.name_short,
        C: conceptPropsC.name_short
      },
      subtitle: {
        Y: this._getSubtitle(conceptPropsY.name, conceptPropsY.name_short),
        X: this._getSubtitle(conceptPropsX.name, conceptPropsX.name_short),
        S: conceptPropsS.name_short,
        C: conceptPropsC.name_short
      },
      unit: {
        Y: conceptPropsY.unit || "",
        X: conceptPropsX.unit || "",
        S: conceptPropsS.unit || "",
        C: conceptPropsC.unit || ""
      }
    };

    var ySubTitle = this.ySubTitleEl.selectAll("text").data([0]);
    ySubTitle.enter().append("text");
    var xSubTitle = this.xSubTitleEl.selectAll("text").data([0]);
    xSubTitle.enter().append("text");

    var yTitle = this.yTitleEl.selectAll("text").data([0]);
    yTitle.enter().append("text");
    yTitle
    //.attr("y", "-6px")
    .on("click", function () {
      _this.parent.findChildByName("gapminder-treemenu").markerID("axis_y").alignX(_this.model.locale.isRTL() ? "right" : "left").alignY("top").updateView().toggle();
    });

    var xTitle = this.xTitleEl.selectAll("text").data([0]);
    xTitle.enter().append("text");
    xTitle.on("click", function () {
      _this.parent.findChildByName("gapminder-treemenu").markerID("axis_x").alignX(_this.model.locale.isRTL() ? "right" : "left").alignY("bottom").updateView().toggle();
    });

    var sTitle = this.sTitleEl.selectAll("text").data([0]);
    sTitle.enter().append("text");
    sTitle.attr("text-anchor", "end");

    utils.setIcon(this.dataWarningEl, iconWarn).select("svg").attr("width", "0px").attr("height", "0px");
    this.dataWarningEl.append("text").attr("text-anchor", "end").text(this.translator("hints/dataWarning"));

    utils.setIcon(this.yInfoEl, iconQuestion).select("svg").attr("width", "0px").attr("height", "0px").style('opacity', Number(Boolean(conceptPropsY.description || conceptPropsY.sourceLink)));

    utils.setIcon(this.xInfoEl, iconQuestion).select("svg").attr("width", "0px").attr("height", "0px").style('opacity', Number(Boolean(conceptPropsX.description || conceptPropsX.sourceLink)));

    //TODO: move away from UI strings, maybe to ready or ready once
    this.yInfoEl.on("click", function () {
      _this.parent.findChildByName("gapminder-datanotes").pin();
    });
    this.yInfoEl.on("mouseover", function () {
      var rect = this.getBBox();
      var coord = utils.makeAbsoluteContext(this, this.farthestViewportElement)(rect.x - 10, rect.y + rect.height + 10);
      var toolRect = _this.root.element.getBoundingClientRect();
      var chartRect = _this.element.node().getBoundingClientRect();
      _this.parent.findChildByName("gapminder-datanotes").setHook("axis_y").show().setPos(coord.x + chartRect.left - toolRect.left, coord.y);
    });
    this.yInfoEl.on("mouseout", function () {
      _this.parent.findChildByName("gapminder-datanotes").hide();
    });
    this.xInfoEl.on("click", function () {
      _this.parent.findChildByName("gapminder-datanotes").pin();
    });
    this.xInfoEl.on("mouseover", function () {
      if (_this.model.time.dragging) return;
      var rect = this.getBBox();
      var coord = utils.makeAbsoluteContext(this, this.farthestViewportElement)(rect.x - 10, rect.y + rect.height + 10);
      var toolRect = _this.root.element.getBoundingClientRect();
      var chartRect = _this.element.node().getBoundingClientRect();
      _this.parent.findChildByName("gapminder-datanotes").setHook("axis_x").show().setPos(coord.x + chartRect.left - toolRect.left, coord.y);
    });
    this.xInfoEl.on("mouseout", function () {
      if (_this.model.time.dragging) return;
      _this.parent.findChildByName("gapminder-datanotes").hide();
    });
    this.dataWarningEl.on("click", function () {
      _this.parent.findChildByName("gapminder-datawarning").toggle();
    }).on("mouseover", function () {
      _this._updateDoubtOpacity(1);
    }).on("mouseout", function () {
      _this._updateDoubtOpacity();
    });
  },
  _updateDoubtOpacity: function _updateDoubtOpacity(opacity) {
    if (opacity == null) opacity = this.wScale(+this.model.time.formatDate(this.time));
    if (this.someSelected) opacity = 1;
    this.dataWarningEl.style("opacity", opacity);
  },


  /*
   * UPDATE ENTITIES:
   * Ideally should only update when show parameters change or data changes
   */
  updateEntities: function updateEntities() {
    var _this = this;
    var dataKeys = this.dataKeys = this.model.marker.getDataKeysPerHook();
    var KEYS = this.KEYS;
    var KEY = this.KEY;
    var TIMEDIM = this.TIMEDIM;

    var getKeys = function getKeys(prefix) {
      prefix = prefix || "";
      return _this.model.marker.getKeys().map(function (d) {
        var pointer = Object.assign({}, d);
        //pointer[KEY] = d[KEY];
        pointer[TIMEDIM] = endTime;
        pointer.sortValue = _this.frame.size[utils.getKey(d, dataKeys.size)] || 0;
        pointer[KEY] = prefix + utils.getKey(d, KEYS);
        return pointer;
      }).sort(function (a, b) {
        return b.sortValue - a.sortValue;
      });
    };

    // get array of GEOs, sorted by the size hook
    // that makes larger bubbles go behind the smaller ones
    var endTime = this.model.time.end;
    var markers = getKeys.call(this);
    this.model.marker.setVisible(markers);

    //unselecting bubbles with no data is used for the scenario when
    //some bubbles are selected and user would switch indicator.
    //bubbles would disappear but selection would stay
    if (!this.model.time.splash) {
      this.unselectBubblesWithNoData(markers);
    }
    this.entityBubbles = this.bubbleContainer.selectAll("circle.vzb-bc-entity").data(this.model.marker.getVisible(), function (d) {
      return d[KEY];
    }); // trails have not keys

    //exit selection
    this.entityBubbles.exit().remove();

    //enter selection -- init circles
    this.entityBubbles = this.entityBubbles.enter().append("circle").attr("class", function (d) {
      return "vzb-bc-entity " + "bubble-" + d[KEY];
    }).on("mouseover", function (d, i) {
      if (utils.isTouchDevice() || _this.model.ui.cursorMode !== "arrow" && _this.model.ui.cursorMode !== "hand") return;
      _this._bubblesInteract().mouseover(d, i);
    }).on("mouseout", function (d, i) {
      if (utils.isTouchDevice() || _this.model.ui.cursorMode !== "arrow" && _this.model.ui.cursorMode !== "hand") return;

      _this._bubblesInteract().mouseout(d, i);
    }).on("click", function (d, i) {
      if (utils.isTouchDevice() || _this.model.ui.cursorMode !== "arrow" && _this.model.ui.cursorMode !== "hand") return;

      _this._bubblesInteract().click(d, i);
    }).onTap(function (d, i) {
      d3.event.stopPropagation();
      _this._bubblesInteract().click(d, i);
    }).onLongTap(function (d, i) {}).merge(this.entityBubbles);

    this._reorderEntities();
  },
  unselectBubblesWithNoData: function unselectBubblesWithNoData(entities) {
    var _this = this;
    var KEYS = this.KEYS;
    var KEY = this.KEY;
    if (!this.model.marker.select.length) return;

    var _select = [];
    var keys = entities.map(function (d) {
      return d[KEY];
    });

    this.model.marker.select.forEach(function (d) {
      if (keys.indexOf(utils.getKey(d, KEYS)) !== -1) _select.push(d);
    });

    if (_select.length !== _this.model.marker.select.length) _this.model.marker.select = _select;
  },
  _reorderEntities: function _reorderEntities() {
    var _this = this;
    var dataKeys = this.dataKeys;
    var KEY = this.KEY;
    this.bubbleContainer.selectAll(".vzb-bc-entity").sort(function (a, b) {
      var sizeA = _this.frame.size[utils.getKey(a, dataKeys.size)];
      var sizeB = _this.frame.size[utils.getKey(b, dataKeys.size)];

      if (typeof sizeA === "undefined" && typeof sizeB !== "undefined") return -1;
      if (typeof sizeA !== "undefined" && typeof sizeB === "undefined") return 1;
      if (sizeA != sizeB) return d3.descending(sizeA, sizeB);
      if (a[KEY] != b[KEY]) return d3.ascending(a[KEY], b[KEY]);
      if (typeof a.trailStartTime !== "undefined" || typeof b.trailStartTime !== "undefined") return typeof a.trailStartTime !== "undefined" ? -1 : 1; // only lines has trailStartTime
      if (typeof a.status !== "undefined" || typeof b.status !== "undefined") return typeof a.status !== "undefined" ? -1 : 1; // only trails has attribute status
      return d3.descending(sizeA, sizeB);
    });
  },
  _bubblesInteract: function _bubblesInteract() {
    var _this = this;
    var KEY = this.KEY;
    var TIMEDIM = this.TIMEDIM;

    return {
      mouseover: function mouseover(d, i) {
        _this.model.marker.highlightMarker(d);

        _this._labels.showCloseCross(d, true);
      },
      mouseout: function mouseout(d, i) {
        _this.model.marker.clearHighlighted();

        _this._labels.showCloseCross(d, false);
      },
      click: function click(d, i) {
        if (_this.draggingNow) return;
        var isSelected = _this.model.marker.isSelected(d);
        _this.model.marker.selectMarker(d);
        //return to highlighted state
        if (!utils.isTouchDevice()) {
          if (isSelected) _this.model.marker.highlightMarker(d);
          _this.highlightDataPoints();
        }
      }
    };
  },


  /*
   * UPDATE TIME:
   * Ideally should only update when time or data changes
   */
  updateTime: function updateTime() {
    var _this = this;

    this.time_1 = this.time == null ? this.model.time.value : this.time;
    this.time = this.model.time.value;
    this.duration = this.model.time.playing && this.time - this.time_1 > 0 ? this.model.time.delayAnimations : 0;
    this.year.setText(this.model.time.formatDate(this.time, "ui"), this.duration);
  },


  /*
   * RESIZE:
   * Executed whenever the container is resized
   */
  updateSize: function updateSize() {
    var chartSvg = this.chartSvg;

    var svgWidth = utils.px2num(chartSvg.style("width"));
    var svgHeight = utils.px2num(chartSvg.style("height"));
    var marginScaleH = function marginScaleH(marginMin) {
      var ratio = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
      return marginMin + svgHeight * ratio;
    };
    var marginScaleW = function marginScaleW(marginMin) {
      var ratio = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
      return marginMin + svgWidth * ratio;
    };

    var profiles = {
      small: {
        margin: { top: 30, bottom: 35, left: 30, right: 10 },
        leftMarginRatio: 1,
        padding: 2,
        minRadiusPx: 0.5,
        maxRadiusEm: this.model.ui.chart.maxRadiusEm || 0.05,
        infoElHeight: 16,
        yAxisTitleBottomMargin: 6,
        xAxisTitleBottomMargin: 4
      },
      medium: {
        margin: { top: 15, bottom: 40, left: 40, right: 15 },
        leftMarginRatio: 1.6,
        padding: 2,
        minRadiusPx: 1,
        maxRadiusEm: this.model.ui.chart.maxRadiusEm || 0.05,
        infoElHeight: 20,
        yAxisTitleBottomMargin: 3,
        xAxisTitleBottomMargin: 4
      },
      large: {
        margin: { top: 15, bottom: marginScaleH(30, 0.03), left: marginScaleW(31, 0.015), right: 20 },
        leftMarginRatio: 1.8,
        padding: 2,
        minRadiusPx: 1,
        maxRadiusEm: this.model.ui.chart.maxRadiusEm || 0.05,
        infoElHeight: 22,
        yAxisTitleBottomMargin: 3, //marginScaleH(4, 0.01),
        xAxisTitleBottomMargin: marginScaleH(0, 0.01),
        hideSTitle: true
      }
    };

    var presentationProfileChanges = {
      medium: {
        margin: { top: 20, bottom: 55, left: 50, right: 20 },
        yAxisTitleBottomMargin: 3,
        xAxisTitleBottomMargin: 4,
        infoElHeight: 26
      },
      large: {
        margin: { top: 30, bottom: marginScaleH(45, 0.03), left: marginScaleW(35, 0.025), right: 30 },
        yAxisTitleBottomMargin: 3, //marginScaleH(4, 0.01),
        xAxisTitleBottomMargin: marginScaleH(-10, 0.01),
        infoElHeight: 32,
        hideSTitle: true
      }
    };

    var _this = this;

    this.activeProfile = this.getActiveProfile(profiles, presentationProfileChanges);
    var layoutProfile = this.getLayoutProfile();
    var containerWH = this.root.getVizWidthHeight();
    this.activeProfile.maxRadiusPx = Math.max(this.activeProfile.minRadiusPx, this.activeProfile.maxRadiusEm * utils.hypotenuse(containerWH.width, containerWH.height));

    var margin = this.activeProfile.margin;
    var infoElHeight = this.activeProfile.infoElHeight;

    //labels
    _this._labels.setCloseCrossHeight(_this.activeProfile.infoElHeight * 1.2);
    _this._labels.setTooltipFontSize(_this.activeProfile.infoElHeight + "px");

    //stage
    this.height = parseInt(this.element.style("height"), 10) - margin.top - margin.bottom || 0;
    this.width = parseInt(this.element.style("width"), 10) - margin.left * this.activeProfile.leftMarginRatio - margin.right || 0;

    if (this.height <= 0 || this.width <= 0) {
      this.height = 0;
      this.width = 0;
      utils.warn("Bubble chart updateSize(): vizabi container is too little or has display:none");
    }

    //graph group is shifted according to margins (while svg element is at 100 by 100%)
    this.graph.attr("transform", "translate(" + margin.left * this.activeProfile.leftMarginRatio + "," + margin.top + ")");

    this.year.resize(this.width, this.height);
    this.eventArea.attr("width", this.width).attr("height", Math.max(0, this.height));

    //update scales to the new range
    if (this.model.marker.axis_y.scaleType !== "ordinal") {
      this.yScale.range(this._rangeBump([this.height, 0]));
    } else {
      this.yScale.rangePoints([this.height, 0], _this.activeProfile.padding).range();
    }
    if (this.model.marker.axis_x.scaleType !== "ordinal") {
      this.xScale.range(this._rangeBump([0, this.width]));
    } else {
      this.xScale.rangePoints([0, this.width], _this.activeProfile.padding).range();
    }

    //apply scales to axes and redraw
    this.yAxis.scale(this.yScale).tickSizeInner(-this.width).tickSizeOuter(0).tickPadding(6).tickSizeMinor(-this.width, 0).labelerOptions({
      scaleType: this.model.marker.axis_y.scaleType,
      toolMargin: margin,
      limitMaxTickNumber: 6,
      bump: this.activeProfile.maxRadiusPx / 2,
      viewportLength: this.height,
      formatter: this.model.marker.axis_y.getTickFormatter()
    });

    this.xAxis.scale(this.xScale).tickSizeInner(-this.height).tickSizeOuter(0).tickPadding(6).tickSizeMinor(-this.height, 0).labelerOptions({
      scaleType: this.model.marker.axis_x.scaleType,
      toolMargin: margin,
      bump: this.activeProfile.maxRadiusPx / 2,
      viewportLength: this.width,
      formatter: this.model.marker.axis_x.getTickFormatter()
    });

    this.bubbleContainerCrop.attr("width", this.width).attr("height", Math.max(0, this.height));

    this.labelsContainerCrop.attr("width", this.width).attr("height", Math.max(0, this.height));

    this.xAxisElContainer.attr("width", this.width + 1).attr("height", this.activeProfile.margin.bottom + this.height).attr("y", -1).attr("x", -1);
    this.xAxisEl.attr("transform", "translate(1," + (1 + this.height) + ")");

    this.yAxisElContainer.attr("width", this.activeProfile.margin.left + this.width).attr("height", Math.max(0, this.height)).attr("x", -this.activeProfile.margin.left);
    this.yAxisEl.attr("transform", "translate(" + (this.activeProfile.margin.left - 1) + "," + 0 + ")");

    this.yAxisEl.call(this.yAxis);
    this.xAxisEl.call(this.xAxis);

    this.projectionX.attr("y1", _this.yScale.range()[0] + this.activeProfile.maxRadiusPx / 2);
    this.projectionY.attr("x2", _this.xScale.range()[0] - this.activeProfile.maxRadiusPx / 2);

    // reduce font size if the caption doesn't fit
    this._updateSTitle();
    this.sTitleEl.attr("transform", "translate(" + this.width + "," + 20 + ") rotate(-90)");

    if (layoutProfile !== "small") {
      this.ySubTitleEl.select("text").attr("dy", infoElHeight * 0.6).text(this.strings.subtitle.Y);
      this.xSubTitleEl.select("text").attr("dy", -infoElHeight * 0.3).text(this.strings.subtitle.X);

      this.yTitleEl.select("text").text(this.strings.title_short.Y + " ").append("tspan").style("font-size", infoElHeight * 0.7 + "px").text("▼");
      this.xTitleEl.select("text").text(this.strings.title_short.X + " ").append("tspan").style("font-size", infoElHeight * 0.7 + "px").text("▼");
    } else {
      this.ySubTitleEl.select("text").text("");
      this.xSubTitleEl.select("text").text("");

      var yTitleText = this.yTitleEl.select("text").text(this.strings.title.Y);
      if (yTitleText.node().getBBox().width > this.width) yTitleText.text(this.strings.title_short.Y);

      var xTitleText = this.xTitleEl.select("text").text(this.strings.title.X);
      if (xTitleText.node().getBBox().width > this.width - 100) xTitleText.text(this.strings.title_short.X);
    }

    var isRTL = this.model.locale.isRTL();
    this.ySubTitleEl.style("font-size", infoElHeight * 0.8 + "px").attr("transform", "translate(" + 0 + "," + 0 + ") rotate(-90)");
    this.xSubTitleEl.style("font-size", infoElHeight * 0.8 + "px").attr("transform", "translate(" + this.width + "," + this.height + ")");

    this.yTitleEl.style("font-size", infoElHeight + "px").attr("transform", layoutProfile !== "small" ? "translate(" + (-margin.left - this.activeProfile.yAxisTitleBottomMargin) + "," + this.height * 0.5 + ") rotate(-90)" : "translate(" + (isRTL ? this.width : 10 - this.activeProfile.margin.left) + ", -" + this.activeProfile.yAxisTitleBottomMargin + ")");

    this.xTitleEl.style("font-size", infoElHeight + "px").attr("transform", layoutProfile !== "small" ? "translate(" + this.width * 0.5 + "," + (this.height + margin.bottom - this.activeProfile.xAxisTitleBottomMargin) + ")" : "translate(" + (isRTL ? this.width : 0) + "," + (this.height + margin.bottom - this.activeProfile.xAxisTitleBottomMargin) + ")");

    this.xAxisGroupsEl.style("font-size", infoElHeight * 0.8 + "px");

    if (this.yInfoEl.select("svg").node()) {
      var titleBBox = this.yTitleEl.node().getBBox();
      var t = utils.transform(this.yTitleEl.node());
      var hTranslate = isRTL ? titleBBox.x + t.translateX - infoElHeight * 1.4 : titleBBox.x + t.translateX + titleBBox.width + infoElHeight * 0.4;
      var vTranslate = isRTL ? t.translateY + infoElHeight * 1.4 + titleBBox.width * 0.5 : t.translateY - infoElHeight * 0.4 - titleBBox.width * 0.5;

      this.yInfoEl.select("svg").attr("width", infoElHeight + "px").attr("height", infoElHeight + "px");
      this.yInfoEl.attr("transform", layoutProfile !== "small" ? "translate(" + (t.translateX - infoElHeight * 0.8) + "," + vTranslate + ") rotate(-90)" : "translate(" + hTranslate + "," + (t.translateY - infoElHeight * 0.8) + ")");
    }

    if (this.xInfoEl.select("svg").node()) {
      var _titleBBox = this.xTitleEl.node().getBBox();
      var _t = utils.transform(this.xTitleEl.node());
      var _hTranslate = isRTL ? _titleBBox.x + _t.translateX - infoElHeight * 1.4 : _titleBBox.x + _t.translateX + _titleBBox.width + infoElHeight * 0.4;

      this.xInfoEl.select("svg").attr("width", infoElHeight + "px").attr("height", infoElHeight + "px");
      this.xInfoEl.attr("transform", "translate(" + _hTranslate + "," + (_t.translateY - infoElHeight * 0.8) + ")");
    }

    this._resizeDataWarning();

    this.model.ui.chart.margin.set("left", margin.left * this.activeProfile.leftMarginRatio, false, false);
  },
  _updateDecorations: function _updateDecorations(duration) {
    var _this = this;

    // x axis groups used for incomes
    var showxAxisGroups = this.model.ui.chart.decorations.xAxisGroups && this.model.ui.chart.decorations.xAxisGroups[this.model.marker.axis_x.which] && this.model.ui.chart.decorations.enabled && this.getLayoutProfile() !== "small";

    this.xAxisGroupsEl.classed("vzb-invisible", !showxAxisGroups);
    if (showxAxisGroups) {
      var axisGroupsData = this.model.ui.chart.decorations.xAxisGroups[this.model.marker.axis_x.which];
      var xAxisGroups = this.xAxisGroupsEl.selectAll(".vzb-bc-x-axis-group").data(axisGroupsData);

      xAxisGroups.exit().remove();
      xAxisGroups = xAxisGroups.enter().append("g").attr("class", "vzb-bc-x-axis-group").each(function () {
        var view = d3.select(this);
        view.append("text").attr("class", "vzb-bc-x-axis-group-line").text("◆").style("text-anchor", "middle");
        view.append("text").attr("class", "vzb-bc-x-axis-group-text");
      }).merge(xAxisGroups);

      var xAxisGroups_calcs = [];
      var useShorterLabels = false;

      // first pass: calculate label text sizes and margins
      xAxisGroups.each(function (d, i) {
        var view = d3.select(this);

        var text = view.select("text.vzb-bc-x-axis-group-text").text(_this.translator(d.label));

        var calcs = { min: d.min, max: d.max };

        calcs.textHeight = text.node().getBBox().height;
        calcs.textWidth = text.node().getBBox().width;

        calcs.boundaryMinX_px = _this.xScale(d.min || d.min === 0 ? d.min : d3.min(_this.xScale.domain()));
        calcs.boundaryMaxX_px = _this.xScale(d.max || d.max === 0 ? d.max : d3.max(_this.xScale.domain()));

        calcs.centerX_px = (calcs.boundaryMinX_px + calcs.boundaryMaxX_px) / 2;
        calcs.marginX_px = (Math.abs(calcs.boundaryMinX_px - calcs.boundaryMaxX_px) - calcs.textWidth) / 2;

        if (calcs.marginX_px - calcs.textHeight < 0) useShorterLabels = true;

        xAxisGroups_calcs[i] = calcs;
      });

      // second pass: if at least one of labels doesn't fit, switch to compact mode and recalculate text sizes and margins
      if (useShorterLabels) {
        xAxisGroups.each(function (d, i) {
          var view = d3.select(this);

          var text = view.select("text.vzb-bc-x-axis-group-text").text(_this.translator(d.label_short));

          var calcs = xAxisGroups_calcs[i];

          calcs.textWidth = text.node().getBBox().width;
          calcs.marginX_px = (Math.abs(calcs.boundaryMinX_px - calcs.boundaryMaxX_px) - calcs.textWidth) / 2;

          xAxisGroups_calcs[i] = calcs;
        });
      }

      // third pass: actually put labels in places
      xAxisGroups.each(function (d, i) {
        var view = d3.select(this);

        var isFirst = i == 0;
        var isLast = i == xAxisGroups_calcs.length - 1;
        var calcs = xAxisGroups_calcs[i];
        var minMargin = calcs.textHeight / 4;
        var x = calcs.centerX_px;

        if (isFirst) x = xAxisGroups_calcs[i + 1].boundaryMinX_px - Math.max(xAxisGroups_calcs[i + 1].marginX_px, minMargin);
        if (isLast) x = xAxisGroups_calcs[i - 1].boundaryMaxX_px + Math.max(xAxisGroups_calcs[i - 1].marginX_px, minMargin);

        var text = view.select("text.vzb-bc-x-axis-group-text").transition().duration(duration || 0).style("text-anchor", isFirst ? "end" : isLast ? "start" : "middle").attr("dy", "-0.2em").attr("y", calcs.textHeight).attr("x", x);

        view.select("text.vzb-bc-x-axis-group-line").classed("vzb-invisible", isLast).transition().duration(duration || 0).attr("dy", "-0.2em").attr("y", calcs.textHeight * 0.9).attr("x", calcs.boundaryMaxX_px);
      });
    }

    // diagonal line that is used when the same idicator ID is used for both axis X and Y
    var showLineEqualXY = this.model.marker.axis_x.which == this.model.marker.axis_y.which && this.model.ui.chart.decorations.enabled && this.getLayoutProfile() !== "small";

    this.lineEqualXY.classed("vzb-invisible", !showLineEqualXY);
    if (showLineEqualXY) {
      var min = d3.min(this.yScale.domain().concat(this.xScale.domain()));
      var max = d3.max(this.yScale.domain().concat(this.xScale.domain()));

      this.lineEqualXY.transition().duration(duration || 0).attr("y1", this.yScale(min)).attr("y2", this.yScale(max)).attr("x1", this.xScale(min)).attr("x2", this.xScale(max));
    }
  },
  _resizeDataWarning: function _resizeDataWarning() {
    // reset font size to remove jumpy measurement
    var dataWarningText = this.dataWarningEl.select("text").style("font-size", null);

    // reduce font size if the caption doesn't fit
    var dataWarningWidth = dataWarningText.node().getBBox().width + dataWarningText.node().getBBox().height * 3;
    var remainingWidth = this.width - this.xTitleEl.node().getBBox().width - this.activeProfile.infoElHeight;
    var font = parseInt(dataWarningText.style("font-size")) * remainingWidth / dataWarningWidth;
    dataWarningText.style("font-size", dataWarningWidth > remainingWidth ? font + "px" : null);

    // position the warning icon
    var warnBB = dataWarningText.node().getBBox();
    this.dataWarningEl.select("svg").attr("width", warnBB.height * 0.75).attr("height", warnBB.height * 0.75).attr("x", -warnBB.width - warnBB.height * 1.2).attr("y", -warnBB.height * 0.65);

    this.dataWarningEl.attr("transform", "translate(" + (this.model.locale.isRTL() ? warnBB.width + warnBB.height : this.width) + "," + (this.height + this.activeProfile.margin.bottom - this.activeProfile.xAxisTitleBottomMargin) + ")");
  },
  updateMarkerSizeLimits: function updateMarkerSizeLimits() {
    var _this = this;
    var extent = this.model.marker.size.extent || [0, 1];

    if (!this.activeProfile) return utils.warn("updateMarkerSizeLimits() is called before ready(). This can happen if events get unfrozen and getFrame() still didn't return data");

    var minRadius = this.activeProfile.minRadiusPx;
    var maxRadius = this.activeProfile.maxRadiusPx;

    var minArea = utils.radiusToArea(Math.max(maxRadius * extent[0], minRadius));
    var maxArea = utils.radiusToArea(Math.max(maxRadius * extent[1], minRadius));

    var range = minArea === maxArea ? [minArea, maxArea] : d3.range(minArea, maxArea, (maxArea - minArea) / this.sScale.domain().length).concat(maxArea);

    this.sScale.range(range);
  },
  redrawDataPointsOnlyColors: function redrawDataPointsOnlyColors() {
    var _this = this;
    if (!this.entityBubbles) return utils.warn("redrawDataPointsOnlyColors(): no entityBubbles defined. likely a premature call, fix it!");

    var valuesNow = void 0;
    var dataKeys = this.dataKeys = this.model.marker.getDataKeysPerHook();
    var KEYS = this.KEYS;
    var KEY = this.KEY;

    var time = this.model.time.value;

    if (this.model.ui.chart.lockNonSelected && this.someSelected) {
      time = this.model.time.parse("" + this.model.ui.chart.lockNonSelected);
    }
    this.model.marker.getFrame(time, function (valuesLocked) {
      if (!_this._frameIsValid(valuesLocked)) return utils.warn("redrawDataPointsOnlyColor: empty data received from marker.getFrame(). doing nothing");

      valuesNow = _this.frame;
      _this.entityBubbles.each(function (d, index) {

        var selected = _this.model.marker.isSelected(d);

        var valueC = selected ? valuesNow.color[utils.getKey(d, dataKeys.color)] : valuesLocked.color[utils.getKey(d, dataKeys.color)];

        var scaledC = valueC != null ? _this.cScale(valueC) : _this.COLOR_WHITEISH;

        d3.select(this).style("fill", scaledC);

        //update lines of labels
        if (selected) {

          var select = utils.find(_this.model.marker.select, function (f) {
            return utils.getKey(f, KEYS) == d[KEY];
          });

          var trailStartTime = _this.model.time.parse("" + select.trailStartTime);

          _this.model.marker.getFrame(trailStartTime, function (valuesTrailStart) {
            if (!valuesTrailStart) return utils.warn("redrawDataPointsOnlyColor: empty data received from marker.getFrames(). doing nothing");

            var cache = {};
            if (!_this.model.ui.chart.trails || trailStartTime - _this.time == 0) {
              cache.scaledC0 = scaledC;
            } else {
              var _valueC = valuesTrailStart.color[utils.getKey(d, dataKeys.color)];
              cache.scaledC0 = _valueC != null ? _this.cScale(_valueC) : _this.COLOR_WHITEISH;
            }

            _this._labels.updateLabelOnlyColor(d, index, cache);
          });
        }
      });
    });
  },
  redrawDataPointsOnlySize: function redrawDataPointsOnlySize() {
    var _this = this;

    var valuesNow = void 0;
    var dataKeys = this.dataKeys = this.model.marker.getDataKeysPerHook();
    var KEYS = this.KEYS;
    var KEY = this.KEY;

    var time = this.model.time.value;

    if (this.model.ui.chart.lockNonSelected && this.someSelected) {
      time = this.model.time.parse("" + this.model.ui.chart.lockNonSelected);
    }
    this.model.marker.getFrame(time, function (valuesLocked) {
      if (!_this._frameIsValid(valuesLocked)) return utils.warn("redrawDataPointsOnlySize: empty data received from marker.getFrame(). doing nothing");

      valuesNow = _this.frame;
      _this.entityBubbles.each(function (d, index) {

        var selected = _this.model.marker.isSelected(d);

        var valueS = selected ? valuesNow.size[utils.getKey(d, dataKeys.size)] : valuesLocked.size[utils.getKey(d, dataKeys.size)];
        if (valueS == null) return;

        var scaledS = utils.areaToRadius(_this.sScale(valueS));
        d3.select(this).attr("r", scaledS);

        //update lines of labels
        if (selected) {

          var select = utils.find(_this.model.marker.select, function (f) {
            return utils.getKey(f, KEYS) == d[KEY];
          });

          var trailStartTime = _this.model.time.parse("" + select.trailStartTime);

          _this.model.marker.getFrame(trailStartTime, function (valuesTrailStart) {
            if (!valuesTrailStart) return utils.warn("redrawDataPointsOnlySize: empty data received from marker.getFrames(). doing nothing");

            var cache = {};
            if (!_this.model.ui.chart.trails || trailStartTime - _this.time == 0) {
              cache.scaledS0 = scaledS;
            } else {
              cache.scaledS0 = utils.areaToRadius(_this.sScale(valuesTrailStart.size[utils.getKey(d, dataKeys.size)]));
            }

            _this._labels.updateLabelOnlyPosition(d, index, cache);
          });
        }
      });
    });
  },


  /*
   * REDRAW DATA POINTS:
   * Here plotting happens
   * debouncing to improve performance: events might trigger it more than 1x
   */
  redrawDataPoints: function redrawDataPoints(duration) {
    var _this = this;
    var KEY = this.KEY;
    if (duration == null) duration = _this.duration;

    if (this.model.ui.chart.lockNonSelected && this.someSelected) {
      var time = this.model.time.parse("" + this.model.ui.chart.lockNonSelected);

      //get values for locked frames
      this.model.marker.getFrame(time, function (lockedFrame) {
        if (!lockedFrame) return utils.warn("redrawDataPoints: empty data received from marker.getFrames(). doing nothing");

        // each bubble
        _this.entityBubbles.each(function (d, index) {
          var frame = _this.model.marker.isSelected(d) ? _this.frame : lockedFrame;
          _this._updateBubble(d, frame, index, d3.select(this), duration);
        });
      });
    } else {
      // each bubble
      _this.entityBubbles.each(function (d, index) {
        _this._updateBubble(d, _this.frame, index, d3.select(this), duration);
      });
    }

    this._updateDecorations(duration);
  },


  //redraw Data Points
  _updateBubble: function _updateBubble(d, values, index, view, duration) {
    var _this = this;
    var dataKeys = this.dataKeys;

    var showhide = false;

    var valueY = values.axis_y[utils.getKey(d, dataKeys.axis_y)];
    var valueX = values.axis_x[utils.getKey(d, dataKeys.axis_x)];
    var valueS = values.size[utils.getKey(d, dataKeys.size)];
    var valueL = values.label[utils.getKey(d, dataKeys.label)];
    var valueC = values.color[utils.getKey(d, dataKeys.color)];
    var valueLST = values.size_label[utils.getKey(d, dataKeys.size_label)];

    // check if fetching data succeeded
    if (!valueY && valueY !== 0 || !valueX && valueX !== 0 || !valueS && valueS !== 0) {
      // if entity is missing data it should hide
      if (!d.hidden) {
        d.hidden = true;
        showhide = true;
      }

      if (showhide) {
        if (duration) {
          var opacity = view.style("opacity");
          view.transition().duration(duration).ease(d3.easeExp).style("opacity", 0).on("end", function () {
            //to avoid transition from null state add class with a delay
            view.classed("vzb-invisible", d.hidden);
            view.style("opacity", opacity);
          });
        } else {
          //immediately hide the bubble
          view.classed("vzb-invisible", d.hidden);
        }
      }
    } else {
      if (d.hidden || view.classed("vzb-invisible")) {
        d.hidden = false;
        showhide = true;
      }

      // if entity has all the data we update the visuals
      var scaledS = utils.areaToRadius(_this.sScale(valueS));

      view.style("fill", valueC != null ? _this.cScale(valueC) : _this.COLOR_WHITEISH);

      if (duration) {
        if (showhide) {
          var _opacity = view.style("opacity");
          view.classed("vzb-invisible", d.hidden);
          view.style("opacity", 0).attr("cy", _this.yScale(valueY)).attr("cx", _this.xScale(valueX)).attr("r", scaledS).transition().duration(duration).ease(d3.easeExp).style("opacity", _opacity);
        } else {
          view.transition().duration(duration).ease(d3.easeLinear).attr("cy", _this.yScale(valueY)).attr("cx", _this.xScale(valueX)).attr("r", scaledS);
        }
      } else {

        //interrupt the ongoing transition and immediately do the visual updates
        view.interrupt().attr("cy", _this.yScale(valueY)).attr("cx", _this.xScale(valueX)).attr("r", scaledS).transition();

        //show entity if it was hidden
        if (showhide) view.classed("vzb-invisible", d.hidden);
      }

      if (this.model.time.record) _this._export.write({
        type: "circle",
        id: d[KEY],
        time: this.model.time.value.getUTCFullYear(),
        fill: valueC != null ? _this.cScale(valueC) : _this.COLOR_WHITEISH,
        cx: _this.xScale(valueX),
        cy: _this.yScale(valueY),
        r: scaledS
      });
    } // data exists
    _this._updateLabel(d, index, values, valueX, valueY, valueS, valueC, valueL, valueLST, duration, showhide);
  },
  _updateLabel: function _updateLabel(d, index, values, valueX, valueY, valueS, valueC, valueL, valueLST, duration, showhide) {
    var _this = this;
    var KEYS = this.KEYS;
    var KEY = this.KEY;

    // only for selected markers
    if (_this.model.marker.isSelected(d)) {

      var cache = {};

      var select = utils.find(_this.model.marker.select, function (f) {
        return utils.getKey(f, KEYS) == d[KEY];
      });

      var time = _this.model.time.formatDate(_this.time);
      if (!this.model.ui.chart.trails || select.trailStartTime == time || select.trailStartTime == null) {
        if (this.model.ui.chart.trails && select.trailStartTime == null) select.trailStartTime = time; // need only when trailStartTime == null

        cache.labelX0 = valueX;
        cache.labelY0 = valueY;
        cache.scaledC0 = valueC != null ? _this.cScale(valueC) : _this.COLOR_WHITEISH, cache.scaledS0 = valueS || valueS === 0 ? utils.areaToRadius(_this.sScale(valueS)) : null;
      }

      var trailStartTime = _this.model.time.parse("" + select.trailStartTime);

      var labelText = _this._getLabelText(values, d, select.trailStartTime);

      if (showhide && d.hidden && _this.model.ui.chart.trails && trailStartTime && trailStartTime < _this.time) showhide = false;
      if (d.hidden && !_this.model.ui.chart.trails) showhide = true;

      this._labels.updateLabel(d, index, cache, valueX, valueY, valueS, valueC, labelText, valueLST, duration, showhide);
    }
  },
  _getLabelText: function _getLabelText(values, d, time) {
    return this.model.marker.getCompoundLabelText(d, values) + (time && this.model.time.start - this.model.time.end !== 0 ? " " + time : "");
  },
  _setTooltip: function _setTooltip(tooltipText, x, y, s, c, d) {
    if (tooltipText) {
      var labelValues = {};
      if (d) {
        var dataKeys = this.dataKeys;
        var values = this.frame;
        labelValues.valueY = values.axis_y[utils.getKey(d, dataKeys.axis_y)];
        labelValues.valueX = values.axis_x[utils.getKey(d, dataKeys.axis_x)];
        labelValues.valueS = values.size[utils.getKey(d, dataKeys.size)];
        labelValues.valueC = values.color[utils.getKey(d, dataKeys.color)];
        labelValues.valueLST = values.size_label[utils.getKey(d, dataKeys.size_label)];
        labelValues.labelText = this._getLabelText(values, d, this.model.time.formatDate(this.time));
      }

      var tooltipCache = {};
      tooltipCache.labelX0 = this.xScale.invert(x);
      tooltipCache.labelY0 = this.yScale.invert(y);
      tooltipCache.scaledS0 = s;
      tooltipCache.scaledC0 = null;

      this._labels.setTooltip(d, tooltipText, tooltipCache, labelValues);
    } else {
      this._labels.setTooltip();
    }
  },
  _formatSTitleValues: function _formatSTitleValues(titleS, titleC) {
    var _this = this;
    var unitS = this.strings.unit.S;
    var unitC = this.strings.unit.C;

    var formatterS = this.model.marker.size.getTickFormatter();
    var formatterC = this.model.marker.color.getTickFormatter();

    //resolve labels for colors via the color legend
    if (this.model.marker.color.isDiscrete() && this.model.marker.color.use !== "constant" && titleC && this.model.marker.color.getColorlegendMarker()) {
      titleC = this.model.marker.color.getColorlegendMarker().label.getItems()[titleC] || "";
    }

    return [formatterS(titleS) + " " + unitS, titleC || titleC === 0 ? formatterC(titleC) + " " + unitC : this.translator("hints/nodata")];
  },
  _updateSTitle: function _updateSTitle(titleS, titleC) {

    // vertical text about size and color
    if (this.activeProfile.hideSTitle && this.model.ui.dialogs.sidebar.indexOf("colors") > -1 && this.model.ui.dialogs.sidebar.indexOf("size") > -1) {
      this.sTitleEl.classed("vzb-invisible", true);
      return;
    }
    if (this.sTitleEl.classed("vzb-invisible")) {
      this.sTitleEl.classed("vzb-invisible", false);
    }
    var sTitleContentON = this.model.marker.size.use !== "constant";
    var cTitleContentON = this.model.marker.color.use !== "constant";
    var sTitleText = this.sTitleEl.select("text")
    // reset font size to remove jumpy measurement
    .style("font-size", null).text((sTitleContentON ? this.translator("buttons/size") + ": " + (titleS ? titleS : this.strings.title.S) : "") + (sTitleContentON && cTitleContentON ? ", " : "") + (cTitleContentON ? this.translator("buttons/colors") + ": " + (titleC ? titleC : this.strings.title.C) : ""));
    var sTitleWidth = sTitleText.node().getBBox().width;
    var remainigHeight = this.height - 30;
    var font = parseInt(sTitleText.style("font-size")) * remainigHeight / sTitleWidth;
    sTitleText.style("font-size", sTitleWidth > remainigHeight ? font + "px" : null);
  },
  selectDataPoints: function selectDataPoints() {
    var _this = this;
    var KEY = this.KEY;

    if (utils.isTouchDevice()) {
      _this.model.marker.clearHighlighted();
      _this._labels.showCloseCross(null, false);
    } else {
      //hide tooltip
      _this._setTooltip();
      _this._setBubbleCrown();
    }

    _this.someSelected = _this.model.marker.select.length > 0;
    _this.nonSelectedOpacityZero = false;
  },
  _setBubbleCrown: function _setBubbleCrown(x, y, r, glow, skipInnerFill) {
    if (x != null) {
      this.bubbleCrown.classed("vzb-hidden", false);
      this.bubbleCrown.select(".vzb-crown").attr("cx", x).attr("cy", y).attr("r", r).attr("fill", skipInnerFill ? "none" : glow);
      this.bubbleCrown.selectAll(".vzb-crown-glow").attr("cx", x).attr("cy", y).attr("r", r + 10).attr("stroke", glow);
    } else {
      this.bubbleCrown.classed("vzb-hidden", true);
    }
  },


  /*
   * Shows and hides axis projections
   */
  _axisProjections: function _axisProjections(d) {
    var _this = this;
    var TIMEDIM = this.TIMEDIM;
    var dataKeys = this.dataKeys;

    if (d != null) {

      this.model.marker.getFrame(d[TIMEDIM], function (values) {
        var valueY = values.axis_y[utils.getKey(d, dataKeys.axis_y)];
        var valueX = values.axis_x[utils.getKey(d, dataKeys.axis_x)];
        var valueS = values.size[utils.getKey(d, dataKeys.size)];
        var radius = utils.areaToRadius(_this.sScale(valueS));

        if (!valueY && valueY !== 0 || !valueX && valueX !== 0 || !valueS && valueS !== 0) return;

        if (_this.model.ui.chart.whenHovering.showProjectionLineX && _this.xScale(valueX) > 0 && _this.xScale(valueX) < _this.width && _this.yScale(valueY) + radius < _this.height) {
          _this.projectionX.style("opacity", 1).attr("y2", _this.yScale(valueY) + radius).attr("x1", _this.xScale(valueX)).attr("x2", _this.xScale(valueX));
        }

        if (_this.model.ui.chart.whenHovering.showProjectionLineY && _this.yScale(valueY) > 0 && _this.yScale(valueY) < _this.height && _this.xScale(valueX) - radius > 0) {
          _this.projectionY.style("opacity", 1).attr("y1", _this.yScale(valueY)).attr("y2", _this.yScale(valueY)).attr("x1", _this.xScale(valueX) - radius);
        }

        if (_this.model.ui.chart.whenHovering.higlightValueX) _this.xAxisEl.call(_this.xAxis.highlightValue(valueX));

        if (_this.model.ui.chart.whenHovering.higlightValueY) _this.yAxisEl.call(_this.yAxis.highlightValue(valueY));
      });
    } else {

      this.projectionX.style("opacity", 0);
      this.projectionY.style("opacity", 0);
      this.xAxisEl.call(this.xAxis.highlightValue("none"));
      this.yAxisEl.call(this.yAxis.highlightValue("none"));
    }
  },


  /*
   * Highlights all hovered bubbles
   */
  highlightDataPoints: function highlightDataPoints() {
    var _this = this;
    var TIMEDIM = this.TIMEDIM;
    var dataKeys = this.dataKeys;
    var KEYS = this.KEYS;
    var KEY = this.KEY;

    this.someHighlighted = this.model.marker.highlight.length > 0;

    this.updateBubbleOpacity();

    if (this.model.marker.highlight.length === 1) {
      var d = utils.clone(this.model.marker.highlight[0]);
      d[KEY] = utils.getKey(d, KEYS);

      if (_this.model.ui.chart.lockNonSelected && _this.someSelected && !_this.model.marker.isSelected(d)) {
        d[TIMEDIM] = _this.model.time.parse("" + _this.model.ui.chart.lockNonSelected);
      } else {
        d[TIMEDIM] = _this.model.time.parse("" + d.trailStartTime) || _this.time;
      }

      _this.model.marker.getFrame(d[TIMEDIM], function (values) {
        if (!values) return;
        var x = _this.xScale(values.axis_x[utils.getKey(d, dataKeys.axis_x)]);
        var y = _this.yScale(values.axis_y[utils.getKey(d, dataKeys.axis_y)]);
        var s = utils.areaToRadius(_this.sScale(values.size[utils.getKey(d, dataKeys.size)]));
        var c = values.color[utils.getKey(d, dataKeys.color)] != null ? _this.cScale(values.color[utils.getKey(d, dataKeys.color)]) : _this.COLOR_WHITEISH;
        var entityOutOfView = false;

        var titles = _this._formatSTitleValues(values.size[utils.getKey(d, dataKeys.size)], values.color[utils.getKey(d, dataKeys.color)]);
        _this._updateSTitle(titles[0], titles[1]);
        if (x + s < 0 || x - s > _this.width || y + s < 0 || y - s > _this.height) {
          entityOutOfView = true;
        }

        //show tooltip
        var text = "";
        var hoverTrail = false;
        if (_this.model.marker.isSelected(d) && _this.model.ui.chart.trails) {
          text = _this.model.time.formatDate(_this.time);
          var _selectedData = utils.find(_this.model.marker.select, function (f) {
            return utils.getKey(f, KEYS) == d[KEY];
          });
          hoverTrail = text !== _selectedData.trailStartTime && !d3.select(d3.event.target).classed("bubble-" + d[KEY]);
          text = text !== _selectedData.trailStartTime && _this.time === d[TIMEDIM] ? text : "";
        } else {
          text = _this.model.marker.isSelected(d) ? "" : _this._getLabelText(values, d);
        }

        _this._labels.highlight(null, false);
        _this._labels.highlight(d, true);
        if (_this.model.marker.isSelected(d)) {
          var skipCrownInnerFill = !d.trailStartTime || d.trailStartTime == _this.model.time.formatDate(_this.time);
          _this._setBubbleCrown(x, y, s, c, skipCrownInnerFill);
        }

        if (!entityOutOfView && !hoverTrail) {
          _this._axisProjections(d);
        }

        //set tooltip and show axis projections
        if (text && !entityOutOfView && !hoverTrail) {
          _this._setTooltip(text, x, y, s + 3, c, d);
        }

        var selectedData = utils.find(_this.model.marker.select, function (f) {
          return utils.getKey(f, KEYS) == d[KEY];
        });
        if (selectedData) {
          var clonedSelectedData = utils.clone(selectedData);
          //change opacity to OPACITY_HIGHLT = 1.0;
          clonedSelectedData.opacity = 1.0;
          _this._trails.run(["opacityHandler"], clonedSelectedData);
        }
      });
    } else {
      this._axisProjections();
      this._trails.run(["opacityHandler"]);
      //hide tooltip
      _this._updateSTitle();
      this._setTooltip();
      this._setBubbleCrown();
      this._labels.highlight(null, false);
    }
  },
  _blinkSuperHighlighted: function _blinkSuperHighlighted() {
    var _this3 = this;

    this.entityBubbles.classed("vzb-super-highlighted", function (d) {
      return _this3.model.marker.isSuperHighlighted(d);
    });
  },
  updateBubbleOpacity: function updateBubbleOpacity(duration) {
    var _this = this;
    //if(!duration)duration = 0;

    var OPACITY_HIGHLT = 1.0;
    var OPACITY_HIGHLT_DIM = this.model.marker.opacityHighlightDim;
    var OPACITY_SELECT = 1.0;
    var OPACITY_REGULAR = this.model.marker.opacityRegular;
    var OPACITY_SELECT_DIM = this.model.marker.opacitySelectDim;

    this.entityBubbles
    //.transition().duration(duration)
    .style("opacity", function (d) {

      if (_this.someHighlighted) {
        //highlight or non-highlight
        if (_this.model.marker.isHighlighted(d)) return OPACITY_HIGHLT;
      }

      if (_this.someSelected) {
        //selected or non-selected
        return _this.model.marker.isSelected(d) ? OPACITY_SELECT : OPACITY_SELECT_DIM;
      }

      if (_this.someHighlighted) return OPACITY_HIGHLT_DIM;

      return OPACITY_REGULAR;
    });

    var nonSelectedOpacityZero = _this.model.marker.opacitySelectDim < 0.01;

    // when pointer events need update...
    if (nonSelectedOpacityZero != this.nonSelectedOpacityZero) {
      this.entityBubbles.style("pointer-events", function (d) {
        return !_this.someSelected || !nonSelectedOpacityZero || _this.model.marker.isSelected(d) ? "visible" : "none";
      });
    }

    this.nonSelectedOpacityZero = _this.model.marker.opacitySelectDim < 0.01;
  }
});

exports.default = BubbleChart;

/***/ }),
/* 2 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
var _Vizabi = Vizabi,
    utils = _Vizabi.utils;


var PanZoom = Vizabi.Class.extend({
  init: function init(context) {
    this.context = context;

    this.dragRectangle = d3.drag();
    this.zoomer = d3.zoom();

    // this.dragLock = false;

    this.dragRectangle.subject(this.dragSubject()).on("start", this.drag().start).on("drag", this.drag().go).on("end", this.drag().stop);

    this.zoomer.filter(this.zoomFilter()).scaleExtent([0.0625, +Infinity]).on("start", this.zoom().start).on("zoom", this.zoom().go).on("end", this.zoom().stop);

    this.zoomer.ratioX = 1;
    this.zoomer.ratioY = 1;

    context._zoomedXYMinMax = {
      axis_x: { zoomedMin: null, zoomedMax: null },
      axis_y: { zoomedMin: null, zoomedMax: null }
    };
  },
  dragSubject: function dragSubject() {
    var _this = this.context;
    var self = this;

    return function (d) {
      /*
       * Do not drag if the Ctrl key, Meta key, or plus cursor mode is
       * not enabled. Also do not drag if zoom-pinching on touchmove
       * events.
       */
      if (!(d3.event.sourceEvent.ctrlKey || d3.event.sourceEvent.metaKey || _this.ui.cursorMode === "plus") || _this.ui.cursorMode === "minus" || (d3.event.sourceEvent.type === "touchmove" || d3.event.sourceEvent.type === "touchstart") && (d3.event.sourceEvent.touches.length > 1 || d3.event.sourceEvent.targetTouches.length > 1)) {
        return null;
      }

      return {
        x: d3.mouse(this)[0],
        y: d3.mouse(this)[1]
      };
    };
  },
  drag: function drag() {
    var _this = this.context;
    var self = this;

    return {
      start: function start(d, i) {
        /*
         * Do not drag if the Ctrl key, Meta key, or plus cursor mode is
         * not enabled. Also do not drag if zoom-pinching on touchmove
         * events.
         */
        //   if(!(d3.event.sourceEvent.ctrlKey || d3.event.sourceEvent.metaKey ||
        //          _this.ui.cursorMode === "plus") ||
        //          (d3.event.sourceEvent.type === "touchmove" || d3.event.sourceEvent.type === "touchstart") &&
        //          (d3.event.sourceEvent.touches.length > 1 || d3.event.sourceEvent.targetTouches.length > 1)) {
        //         return;
        //     }

        // self.dragLock = true;
        this.origin = {
          x: d3.mouse(this)[0],
          y: d3.mouse(this)[1]
        };
        _this.zoomRect.classed("vzb-invisible", false);
      },
      go: function go(d, i) {
        /*
         * Cancel drag if drag lock is false, or when zoom-pinching via
         * touchmove events.
         */
        // if (!self.dragLock || (d3.event.sourceEvent.type === "touchmove" || d3.event.sourceEvent.type === "touchstart") &&
        //             (d3.event.sourceEvent.touches.length > 1 || d3.event.sourceEvent.targetTouches.length > 1)) {
        //   self.dragLock = false;

        //   _this.zoomRect
        //     .attr("width", 0)
        //     .attr("height", 0)
        //     .classed("vzb-invisible", true);

        //   return;
        // }

        var origin = this.origin;
        var mouse = {
          x: d3.event.x,
          y: d3.event.y
        };

        _this.zoomRect.attr("x", Math.min(mouse.x, origin.x)).attr("y", Math.min(mouse.y, origin.y)).attr("width", Math.abs(mouse.x - origin.x)).attr("height", Math.abs(mouse.y - origin.y));
      },
      stop: function stop(e) {
        // if (!self.dragLock) return;
        // self.dragLock = false;

        _this.zoomRect.attr("width", 0).attr("height", 0).classed("vzb-invisible", true);

        this.target = {
          x: d3.mouse(this)[0],
          y: d3.mouse(this)[1]
        };
        if (Math.abs(this.origin.x - this.target.x) < 10 || Math.abs(this.origin.y - this.target.y) < 10) return;

        /*
         * Only compensate for dragging when the Ctrl key or Meta key
         * are pressed, or if the cursorMode is not in plus mode.
         */
        var compensateDragging = d3.event.sourceEvent.ctrlKey || d3.event.sourceEvent.metaKey || _this.ui.cursorMode === "plus";

        self._zoomOnRectangle(d3.select(this), this.origin.x, this.origin.y, this.target.x, this.target.y, compensateDragging, 500);
      }
    };
  },
  zoomFilter: function zoomFilter() {
    var _this = this.context;
    var self = this;

    return function (d) {
      var event = d3.event;

      if (event.ctrlKey || event.metaKey) return false;

      // Cancel drag lock when zoom-pinching via touchmove events.
      if ((event.type === "touchmove" || event.type === "touchstart") && (event.touches.length > 1 || event.targetTouches.length > 1)) return true;

      if ((event.type === "wheel" || event.type === "mousewheel") && _this.ui.zoomOnScrolling) {
        // if (_this.scrollableAncestor) {
        //   _this.scrollableAncestor.scrollTop -= (event.deltaY || -event.wheelDelta);
        // }
        // d3.event.scale = null;
        //zoomer.scale(this.savedScale);
        return true;
      }

      if ((event.type === "mousedown" || event.type === "touchstart") && _this.ui.cursorMode !== "plus" && _this.ui.cursorMode !== "minus" && (_this.ui.panWithArrow || _this.ui.cursorMode === "hand")) return true;

      return false;
    };
  },
  zoom: function zoom() {
    var _this = this.context;
    var zoomer = this.zoomer;
    var self = this;

    return {
      start: function start() {
        //this.savedScale = zoomer.scale;
        if (_this.ui.cursorMode !== "plus" && _this.ui.cursorMode !== "minus") {
          _this.chartSvg.classed("vzb-zooming", true);
        }

        _this.model._data.marker.clearHighlighted();
        _this._setTooltip();
      },
      go: function go() {

        var sourceEvent = d3.event.sourceEvent;

        //if (sourceEvent != null && (sourceEvent.ctrlKey || sourceEvent.metaKey)) return;

        // Cancel drag lock when zoom-pinching via touchmove events.
        // if (sourceEvent !== null &&
        //             (sourceEvent.type === "touchmove" || sourceEvent.type === "touchstart") &&
        //             (sourceEvent.touches.length > 1 || sourceEvent.targetTouches.length > 1)) {
        //   self.dragLock = false;
        // }

        //if (self.dragLock) return;

        //send the event to the page if fully zoomed our or page not scrolled into view
        //
        //                    if(d3.event.scale == 1)
        //
        //                    if(utils.getViewportPosition(_this.element.node()).y < 0 && d3.event.scale > 1) {
        //                        _this.scrollableAncestor.scrollTop += d3.event.sourceEvent.deltaY;
        //                        return;
        //                    }
        /*
         * Do not zoom on the chart if the scroll event is a wheel
         * scroll. Instead, redirect the scroll event to the scrollable
         * ancestor
         */
        // if (sourceEvent != null && (sourceEvent.type === "wheel" || sourceEvent.type === "mousewheel") &&
        //             !_this.ui.zoomOnScrolling) {
        //   if (_this.scrollableAncestor) {
        //     _this.scrollableAncestor.scrollTop += (sourceEvent.deltaY || -sourceEvent.wheelDelta);
        //   }
        //   d3.event.scale = null;
        //             //zoomer.scale(this.savedScale);
        //   this.quitZoom = true;
        //   return;
        // }
        // this.quitZoom = false;

        //_this.model._data.marker.clearHighlighted();
        //_this._setTooltip();

        //var transform = d3.zoomTransform(self.zoomSelection.node())
        //  .translate(, )
        //.scale(d3.event.transform.k);
        var zoom = d3.event.transform.k;

        var pan = [d3.event.transform.x, d3.event.transform.y]; //d3.event.translate;
        var ratioY = zoomer.ratioY;
        var ratioX = zoomer.ratioX;

        _this.draggingNow = true;

        //value protections and fallbacks
        if (isNaN(zoom) || zoom == null) zoom = zoomer.scale;
        if (isNaN(zoom) || zoom == null) zoom = 1;

        //TODO: this is a patch to fix #221. A proper code review of zoom and zoomOnRectangle logic is needed
        /*
         * Mouse wheel and touchmove events set the zoom value
         * independently of axis ratios. If the zoom event was triggered
         * by a mouse wheel event scrolling down or touchmove event with
         * more than 1 contact that sets zoom to 1, then set the axis
         * ratios to 1 as well, which will fully zoom out.
         */
        if (zoom === 1 && sourceEvent !== null && ((sourceEvent.type === "wheel" || sourceEvent.type === "mousewheel") && (sourceEvent.deltaY || -sourceEvent.wheelDelta) > 0 || sourceEvent.type === "touchmove" && sourceEvent.touches.length > 1)) {
          zoomer.ratioX = 1;
          ratioX = 1;
          zoomer.ratioY = 1;
          ratioY = 1;
        }

        //                if(isNaN(pan[0]) || isNaN(pan[1]) || pan[0] == null || pan[1] == null) pan = zoomer.translate();
        if (isNaN(pan[0]) || isNaN(pan[1]) || pan[0] == null || pan[1] == null) pan = [0, 0];

        // limit the zooming, so that it never goes below min value of zoom for any of the axes
        var minZoomScale = zoomer.scaleExtent()[0];
        if (zoom * ratioY < minZoomScale) {
          ratioY = minZoomScale / zoom;
          zoomer.ratioY = ratioY;
        }
        if (zoom * ratioX < minZoomScale) {
          ratioX = minZoomScale / zoom;
          zoomer.ratioX = ratioX;
        }

        var zoomXOut = zoom * ratioX < 1;
        var zoomYOut = zoom * ratioY < 1;

        //limit the panning, so that we are never outside the possible range
        if (!zoomXOut) {
          if (pan[0] > 0) pan[0] = 0;
          if (pan[0] < (1 - zoom * ratioX) * _this.width) pan[0] = (1 - zoom * ratioX) * _this.width;
        } else {
          if (pan[0] < 0) pan[0] = 0;
          if (pan[0] > (1 - zoom * ratioX) * _this.width) pan[0] = (1 - zoom * ratioX) * _this.width;
        }

        if (!zoomYOut) {
          if (pan[1] > 0) pan[1] = 0;
          if (pan[1] < (1 - zoom * ratioY) * _this.height) pan[1] = (1 - zoom * ratioY) * _this.height;
        } else {
          if (pan[1] < 0) pan[1] = 0;
          if (pan[1] > (1 - zoom * ratioY) * _this.height) pan[1] = (1 - zoom * ratioY) * _this.height;
        }

        //limit zoom translate
        self.zoomSelection.property("__zoom", d3.zoomIdentity.translate(pan[0], pan[1]).scale(zoom));

        var xPanOffset = _this.width * zoom * ratioX;
        var yPanOffset = _this.height * zoom * ratioY;

        var xRange = [0 * zoom * ratioX + pan[0], xPanOffset + pan[0]];
        var yRange = [yPanOffset + pan[1], 0 * zoom * ratioY + pan[1]];

        var xRangeBumped = _this._rangeBump(xRange);
        var yRangeBumped = _this._rangeBump(yRange);

        /*
         * Shift xRange and yRange by the difference between the bumped
         * ranges, which is scaled by the zoom factor. This accounts for
         * the range bump, which controls a gutter around the
         * bubblechart, while correctly zooming.
         */
        var xRangeMinOffset = (xRangeBumped[0] - xRange[0]) * zoom * ratioX;
        var xRangeMaxOffset = (xRangeBumped[1] - xRange[1]) * zoom * ratioX;

        var yRangeMinOffset = (yRangeBumped[0] - yRange[0]) * zoom * ratioY;
        var yRangeMaxOffset = (yRangeBumped[1] - yRange[1]) * zoom * ratioY;

        xRange[0] += xRangeMinOffset;
        xRange[1] += xRangeMaxOffset;

        yRange[0] += yRangeMinOffset;
        yRange[1] += yRangeMaxOffset;

        // Calculate the maximum xRange and yRange available.
        var xRangeBounds = [0, _this.width];
        var yRangeBounds = [_this.height, 0];

        var xRangeBoundsBumped = _this._rangeBump(xRangeBounds);
        var yRangeBoundsBumped = _this._rangeBump(yRangeBounds);

        /*
         * Set the pan to account for the range bump by subtracting
         * offsets and preventing panning past the range bump gutter.
         */
        if (!zoomXOut) {
          if (xRange[0] > xRangeBoundsBumped[0]) pan[0] = xRangeBoundsBumped[0] - xRangeMinOffset;
          if (xRange[1] < xRangeBoundsBumped[1]) pan[0] = xRangeBoundsBumped[1] - xRangeMaxOffset - xPanOffset;
        } else {
          if (xRange[0] < xRangeBoundsBumped[0]) pan[0] = xRangeBoundsBumped[0] - xRangeMinOffset;
          if (xRange[1] > xRangeBoundsBumped[1]) pan[0] = xRangeBoundsBumped[1] - xRangeMaxOffset - xPanOffset;
        }

        if (!zoomYOut) {
          if (yRange[0] < yRangeBoundsBumped[0]) pan[1] = yRangeBoundsBumped[0] - yRangeMinOffset - yPanOffset;
          if (yRange[1] > yRangeBoundsBumped[1]) pan[1] = yRangeBoundsBumped[1] - yRangeMaxOffset;
        } else {
          if (yRange[0] > yRangeBoundsBumped[0]) pan[1] = yRangeBoundsBumped[0] - yRangeMinOffset - yPanOffset;
          if (yRange[1] < yRangeBoundsBumped[1]) pan[1] = yRangeBoundsBumped[1] - yRangeMaxOffset;
        }

        //zoomer.translate = pan;
        //self.zoomSelection.property("__zoom", d3.zoomIdentity.translate(pan[0], pan[1]).scale(zoom));

        /*
         * Clamp the xRange and yRange by the amount that the bounds
         * that are range bumped.
         *
         * Additionally, take the amount clamped on the end of the range
         * and either subtract or add it to the range's other end. This
         * prevents visible stretching of the range when only panning.
         */
        if (!zoomXOut) {
          if (xRange[0] > xRangeBoundsBumped[0]) {
            xRange[1] -= Math.abs(xRange[0] - xRangeBoundsBumped[0]);
            xRange[0] = xRangeBoundsBumped[0];
          }

          if (xRange[1] < xRangeBoundsBumped[1]) {
            xRange[0] += Math.abs(xRange[1] - xRangeBoundsBumped[1]);
            xRange[1] = xRangeBoundsBumped[1];
          }
        } else {
          if (xRange[0] < xRangeBoundsBumped[0]) {
            xRange[1] += Math.abs(xRange[0] - xRangeBoundsBumped[0]);
            xRange[0] = xRangeBoundsBumped[0];
          }

          if (xRange[1] > xRangeBoundsBumped[1]) {
            xRange[0] -= Math.abs(xRange[1] - xRangeBoundsBumped[1]);
            xRange[1] = xRangeBoundsBumped[1];
          }
        }

        if (!zoomYOut) {
          if (yRange[0] < yRangeBoundsBumped[0]) {
            yRange[1] += Math.abs(yRange[0] - yRangeBoundsBumped[0]);
            yRange[0] = yRangeBoundsBumped[0];
          }

          if (yRange[1] > yRangeBoundsBumped[1]) {
            yRange[0] -= Math.abs(yRange[1] - yRangeBoundsBumped[1]);
            yRange[1] = yRangeBoundsBumped[1];
          }
        } else {
          if (yRange[0] > yRangeBoundsBumped[0]) {
            yRange[1] -= Math.abs(yRange[0] - yRangeBoundsBumped[0]);
            yRange[0] = yRangeBoundsBumped[0];
          }

          if (yRange[1] < yRangeBoundsBumped[1]) {
            yRange[0] += Math.abs(yRange[1] - yRangeBoundsBumped[1]);
            yRange[1] = yRangeBoundsBumped[1];
          }
        }

        if (_this.model.marker.axis_x.scaleType === "ordinal") {
          _this.xScale.rangeBands(xRange);
        } else {
          _this.xScale.range(xRange);
        }

        if (_this.model.marker.axis_y.scaleType === "ordinal") {
          _this.yScale.rangeBands(yRange);
        } else {
          _this.yScale.range(yRange);
        }

        var formatter = function formatter(n) {
          return utils.isDate(n) ? n : +n.toFixed(2);
        };

        var zoomedXRange = xRangeBoundsBumped;
        var zoomedYRange = yRangeBoundsBumped;

        /*
         * Set the zoomed min/max to the correct value depending on if the
         * min/max values lie within the range bound regions.
         */
        /*
         if(!zoomXOut) {
         zoomedXRange[0] = xRangeBounds[0] > xRange[0] ? xRangeBounds[0] : xRange[0];
         zoomedXRange[1] = xRangeBounds[1] < xRange[1] ? xRangeBounds[1] : xRange[1];
         }
          if(!zoomYOut) {
         zoomedYRange[0] = yRangeBounds[0] < yRange[0] ? yRangeBounds[0] : yRange[0];
         zoomedYRange[1] = yRangeBounds[1] > yRange[1] ? yRangeBounds[1] : yRange[1];
         }
         */

        _this._zoomedXYMinMax = {
          axis_x: {
            zoomedMin: formatter(_this.xScale.invert(zoomedXRange[0])),
            zoomedMax: formatter(_this.xScale.invert(zoomedXRange[1]))
          },
          axis_y: {
            zoomedMin: formatter(_this.yScale.invert(zoomedYRange[0])),
            zoomedMax: formatter(_this.yScale.invert(zoomedYRange[1]))
          }
        };

        if (!zoomer.dontFeedToState) _this.model.marker.set(_this._zoomedXYMinMax, null, false /*avoid storing it in URL*/);

        var optionsY = _this.yAxis.labelerOptions();
        var optionsX = _this.xAxis.labelerOptions();
        optionsY.limitMaxTickNumber = zoom * ratioY < 1.5 ? 8 : zoom * ratioY * 8;
        optionsX.limitMaxTickNumber = zoom * ratioX < 1.5 ? 8 : zoom * ratioX * 8;
        optionsY.transitionDuration = zoomer.duration;
        optionsX.transitionDuration = zoomer.duration;

        _this.xAxisEl.call(_this.xAxis.labelerOptions(optionsX));
        _this.yAxisEl.call(_this.yAxis.labelerOptions(optionsY));
        _this.redrawDataPoints(zoomer.duration);
        _this._trails.run("resize", null, zoomer.duration);

        zoomer.duration = 0;
      },
      stop: function stop() {
        _this.chartSvg.classed("vzb-zooming", false);

        _this.draggingNow = false;

        // if (this.quitZoom) return;

        //Force the update of the URL and history, with the same values
        if (!zoomer.dontFeedToState) _this.model.marker.set(_this._zoomedXYMinMax, true, true);
        zoomer.dontFeedToState = null;
      }
    };
  },
  expandCanvas: function expandCanvas(duration) {
    var _this = this.context;
    if (!duration) duration = _this.duration;

    //d3 extent returns min and max of the input array as [min, max]
    var mmX = d3.extent(utils.values(_this.frame.axis_x));
    var mmY = d3.extent(utils.values(_this.frame.axis_y));

    //protection agains unreasonable min-max results -- abort function
    if (!mmX[0] && mmX[0] !== 0 || !mmX[1] && mmX[1] !== 0 || !mmY[0] && mmY[0] !== 0 || !mmY[1] && mmY[1] !== 0) {
      return utils.warn("panZoom.expandCanvas: X or Y min/max are broken. Aborting with no action");
    }
    /*
     * Use a range bumped scale to correctly accommodate the range bump
     * gutter.
     */
    var suggestedFrame = {
      x1: _this.xScale(mmX[0]),
      y1: _this.yScale(mmY[0]),
      x2: _this.xScale(mmX[1]),
      y2: _this.yScale(mmY[1])
    };
    var xBounds = [0, _this.width];
    var yBounds = [_this.height, 0];

    // Get the current zoom frame based on the current dimensions.
    var frame = {
      x1: xBounds[0],
      x2: xBounds[1],
      y1: yBounds[0],
      y2: yBounds[1]
    };

    var TOLERANCE = 0.0;

    /*
     * If there is no current zoom frame, or if any of the suggested frame
     * points extend outside of the current zoom frame, then expand the
     * canvas.
     */
    if (!_this.isCanvasPreviouslyExpanded || suggestedFrame.x1 < frame.x1 * (1 - TOLERANCE) || suggestedFrame.x2 > frame.x2 * (1 + TOLERANCE) || suggestedFrame.y2 < frame.y2 * (1 - TOLERANCE) || suggestedFrame.y1 > frame.y1 * (1 + TOLERANCE)) {
      /*
       * If there is already a zoom frame, then clamp the suggested frame
       * points to only zoom out and expand the canvas.
       *
       * If any of x1, x2, y1, or y2 is within the current frame
       * boundaries, then clamp them to the frame boundaries. If any of
       * the above values will translate into a data value that is outside
       * of the possible data range, then clamp them to the frame
       * coordinate that corresponds to the maximum data value that can
       * be displayed.
       */
      if (_this.isCanvasPreviouslyExpanded) {
        /*
         * Calculate bounds and bumped scale for calculating the data boundaries
         * to which the suggested frame points need to be clamped.
         */
        var xBoundsBumped = _this._rangeBump(xBounds);
        var yBoundsBumped = _this._rangeBump(yBounds);

        if (suggestedFrame.x1 > xBoundsBumped[0]) suggestedFrame.x1 = xBoundsBumped[0];
        if (suggestedFrame.x2 < xBoundsBumped[1]) suggestedFrame.x2 = xBoundsBumped[1];
        if (suggestedFrame.y1 < yBoundsBumped[0]) suggestedFrame.y1 = yBoundsBumped[0];
        if (suggestedFrame.y2 > yBoundsBumped[0]) suggestedFrame.y2 = yBoundsBumped[1];
      }

      _this.isCanvasPreviouslyExpanded = true;
      this._zoomOnRectangle(_this.element, suggestedFrame.x1, suggestedFrame.y1, suggestedFrame.x2, suggestedFrame.y2, false, duration);
    } else {
      _this.redrawDataPoints(duration);
    }
  },
  zoomToMaxMin: function zoomToMaxMin(zoomedMinX, zoomedMaxX, zoomedMinY, zoomedMaxY, duration, dontFeedToState) {
    var _this = this.context;
    var minX = zoomedMinX;
    var maxX = zoomedMaxX;
    var minY = zoomedMinY;
    var maxY = zoomedMaxY;

    var xDomain = _this.xScale.domain();
    var yDomain = _this.yScale.domain();

    /*
     * Prevent zoomout if only one of zoom edges set outside domain
     */
    if (minX < xDomain[0] && maxX < xDomain[1]) minX = xDomain[0];
    if (minX > xDomain[0] && maxX > xDomain[1]) maxX = xDomain[1];
    if (minY < yDomain[0] && maxY < yDomain[1]) minY = yDomain[0];
    if (minY > yDomain[0] && maxY > yDomain[1]) maxY = yDomain[1];

    var xRange = [_this.xScale(minX), _this.xScale(maxX)];
    var yRange = [_this.yScale(minY), _this.yScale(maxY)];

    this._zoomOnRectangle(_this.element, xRange[0], yRange[0], xRange[1], yRange[1], false, duration, dontFeedToState);
  },
  _zoomOnRectangle: function _zoomOnRectangle(element, zoomedX1, zoomedY1, zoomedX2, zoomedY2, compensateDragging, duration, dontFeedToState) {
    var _this = this.context;
    var zoomer = this.zoomer;
    var transform = d3.zoomTransform(this.zoomSelection.node());

    var x1 = zoomedX1;
    var y1 = zoomedY1;
    var x2 = zoomedX2;
    var y2 = zoomedY2;

    /*
     * When dragging to draw a rectangle, the translate vector has (x2 - x1)
     * added to zoomer.translate()[0], and (y2 - 1) added to
     * zoomer.translate()[1].
     *
     * We need to compensate for this addition when
     * zooming with a rectangle, because zooming with a rectangle will
     * update the translate vector with new values based on the rectangle
     * dimensions.
     */
    if (compensateDragging) {
      transform.translate(x1 - x2, y1 - y2);
      // zoomer.translate([
      //     zoomer.translate()[0] + x1 - x2,
      //     zoomer.translate()[1] + y1 - y2
      // ]);
    }

    var xRangeBounds = [0, _this.width];
    var yRangeBounds = [_this.height, 0];

    var xRangeBoundsBumped = _this._rangeBump(xRangeBounds);
    var yRangeBoundsBumped = _this._rangeBump(yRangeBounds);

    var minZoom = zoomer.scaleExtent()[0];
    var maxZoom = zoomer.scaleExtent()[1];
    var zoom = void 0,
        ratioX = void 0,
        ratioY = void 0;

    if (x1 == x2 || y1 == y2 || xRangeBoundsBumped[0] == xRangeBoundsBumped[1] || yRangeBoundsBumped[0] == yRangeBoundsBumped[1]) {
      return utils.warn("_zoomOnRectangle(): can not proceed because this may result in infinity zooms");
    }

    if (Math.abs(x1 - x2) > Math.abs(y1 - y2)) {
      zoom = Math.abs(yRangeBoundsBumped[0] - yRangeBoundsBumped[1]) / Math.abs(y1 - y2) * transform.k;

      /*
       * Clamp the zoom scalar to the maximum zoom allowed before
       * calculating the next ratioX and ratioY.
       */
      if (zoom < minZoom) {
        zoomer.ratioY *= zoom / transform.k;
        zoom = minZoom;
      }
      if (zoom > maxZoom) zoom = maxZoom;

      ratioX = Math.abs(xRangeBoundsBumped[0] - xRangeBoundsBumped[1]) / Math.abs(x1 - x2) * transform.k / zoom * zoomer.ratioX;
      ratioY = zoomer.ratioY;
    } else {
      zoom = Math.abs(xRangeBoundsBumped[0] - xRangeBoundsBumped[1]) / Math.abs(x1 - x2) * transform.k;

      /*
       * Clamp the zoom scalar to the maximum zoom allowed before
       * calculating the next ratioX and ratioY.
       */
      if (zoom < minZoom) {
        zoomer.ratioX *= zoom / transform.k;
        zoom = minZoom;
      }
      if (zoom > maxZoom) zoom = maxZoom;

      ratioY = Math.abs(yRangeBoundsBumped[0] - yRangeBoundsBumped[1]) / Math.abs(y1 - y2) * transform.k / zoom * zoomer.ratioY;
      ratioX = zoomer.ratioX;
    }

    var pan = [(transform.x - Math.min(x1, x2)) / transform.k / zoomer.ratioX * zoom * ratioX + (xRangeBoundsBumped[0] - xRangeBounds[0]), (transform.y - Math.min(y1, y2)) / transform.k / zoomer.ratioY * zoom * ratioY + (yRangeBoundsBumped[1] - yRangeBounds[1])];

    zoomer.dontFeedToState = dontFeedToState;
    //zoomer.scale(zoom);
    zoomer.ratioY = ratioY || 1; //NaN defaults to 1
    zoomer.ratioX = ratioX || 1; //NaN defaults to 1
    //zoomer.translate(pan);
    zoomer.duration = duration ? duration : 0;

    //zoomer.event(element);
    this.zoomSelection.call(zoomer.transform, d3.zoomIdentity.translate(pan[0], pan[1]).scale(zoom));
  },


  /*
   * Incrementally zoom in or out and pan the view so that it never looses the point where click happened
   * this function is a modified d3's own zoom behavior on double click
   * for the original code see https://github.com/mbostock/d3/blob/master/src/behavior/zoom.js
   * function dblclicked() and what it refers to
   */
  zoomByIncrement: function zoomByIncrement(direction, duration) {
    var _this = this.context;
    var transform = d3.zoomTransform(this.zoomSelection.node());

    var ratio = transform.k;
    var pan = [transform.x, transform.y];

    var mouse = d3.mouse(this.zoomSelection.node());
    var k = Math.log(ratio) / Math.LN2;

    //change factor direction based on the input. default is no direction supplied
    if (direction == "plus" || !direction) k = Math.floor(k) + 1;
    if (direction == "minus") k = Math.ceil(k) - 1;

    //decode panning
    var locus = [(mouse[0] - pan[0]) / ratio, (mouse[1] - pan[1]) / ratio];

    //recalculate zoom ratio
    var scaleExtent = this.zoomer.scaleExtent();
    if (ratio == scaleExtent[0]) {
      this.zoomer.ratioY = 1;
      this.zoomer.ratioX = 1;
    }
    ratio = Math.max(scaleExtent[0], Math.min(scaleExtent[1], Math.pow(2, k)));

    //recalculate panning
    locus = [locus[0] * ratio + pan[0], locus[1] * ratio + pan[1]];
    pan[0] += mouse[0] - locus[0];
    pan[1] += mouse[1] - locus[1];

    //save changes to the zoom behavior and run the event
    //this.zoomer.scale(ratio);
    //this.zoomer.translate([pan[0], pan[1]]);
    this.zoomer.duration = duration || 0;
    //this.zoomer.event(_this.element);
    this.zoomSelection.call(this.zoomer.transform, d3.zoomIdentity.translate(pan[0], pan[1]).scale(ratio));
  },


  /*
   * Reset zoom values without triggering a zoom event.
   */
  resetZoomState: function resetZoomState(element) {
    //this.zoomer.scaleTo(element, 1);
    this.zoomer.ratioY = 1;
    this.zoomer.ratioX = 1;
    //this.zoomer.translate([0, 0]);
    (element || this.zoomSelection).property("__zoom", d3.zoomIdentity);
  },
  reset: function reset(element, duration) {
    var _this = this.context;
    _this.isCanvasPreviouslyExpanded = false;

    //this.zoomer.scale(1);
    this.zoomer.ratioY = 1;
    this.zoomer.ratioX = 1;
    //this.zoomer.translate([0, 0]);
    this.zoomer.duration = duration || 0;
    //this.zoomer.event(element || _this.element);
    (element || this.zoomSelection).call(this.zoomer.transform, d3.zoomIdentity);
  },
  rerun: function rerun(element) {
    var _this = this.context;
    //this.zoomer.event(element || _this.element);
    (element || this.zoomSelection).call(this.zoomer.scaleBy, 1);
  },
  zoomSelection: function zoomSelection(element) {
    this.zoomSelection = element;
  }
});

exports.default = PanZoom;

/***/ }),
/* 3 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _css = __webpack_require__(4);

var _css2 = _interopRequireDefault(_css);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var _Vizabi = Vizabi,
    utils = _Vizabi.utils;


var Trail = Vizabi.Class.extend({
  init: function init(context) {
    this.context = context;
    this._isCreated = null;
    this.actionsQueue = {};
    this.entityTrails = {};
    this.trailsData = [];
    this.trailsInProgress = {};
    this.activePromises = {};
    this.trailTransitions = {};
    this.delayedIterations = {};
    this.drawingQueue = {};
  },
  toggle: function toggle(arg) {
    var _context = this.context;
    if (arg) {

      _context._trails.create().then(function () {
        _context._trails.run(["findVisible", "reveal", "opacityHandler"]);
      });
    } else {
      _context._trails.run("remove");
      _context.model.marker.select.forEach(function (d) {
        delete d.trailStartTime;
      });
    }
  },
  create: function create(selection) {
    var _context = this.context;
    var _this = this;
    var KEYS = _context.KEYS;
    var KEY = _context.KEY;
    var dataKeys = _context.dataKeys;
    var TIMEDIM = _context.TIMEDIM;
    this._isCreated = new Promise(function (resolve, reject) {
      //quit if the function is called accidentally
      if (!_context.model.ui.chart.trails) return;

      var timePoints = _context.model.time.getAllSteps();

      //work with marker.select (all selected entities), if no particular selection is specified
      var promises = [];
      selection = selection == null ? _context.model.marker.select : [selection];
      _this._clearActions(selection);
      _this.trailsData = _context.model.marker.select.map(function (d) {
        var r = {
          status: "created",
          selectedEntityData: d
        };
        KEYS.forEach(function (key) {
          return r[key] = d[key];
        });
        r[KEY] = utils.getKey(d, KEYS);
        return r;
      });
      _this.trailTransitions = {};
      var _trails = _context.bubbleContainer.selectAll("g.vzb-bc-entity.entity-trail").data(_this.trailsData, function (d) {
        return d[KEY];
      });

      _trails.exit().remove();
      _trails.enter().insert("g", function (d) {
        return this.querySelector(".bubble-" + (0, _css2.default)(d[KEY]));
      }).attr("class", function (d) {
        return "vzb-bc-entity entity-trail trail-" + d[KEY];
      }).merge(_trails).each(function (d, index) {
        // used for prevent move trail start time forward when we have empty values at end of time range
        var trail = this;
        promises.push(new Promise(function (resolve, reject) {
          var trailSegmentData = timePoints.map(function (m) {
            return {
              t: m,
              key: d[KEY]
            };
          });
          var entityTrails = d3.select(trail).selectAll("g").data(trailSegmentData).classed("vzb-invisible", true);

          entityTrails.exit().remove();

          _this.entityTrails[d[KEY]] = entityTrails.enter().append("g").attr("class", "vzb-bc-trailsegment vzb-invisible").on("mouseover", function (segment, index) {
            if (utils.isTouchDevice()) return;

            var pointer = {};
            pointer[KEY] = segment.key;
            pointer[TIMEDIM] = segment.t;

            _context._axisProjections(pointer);
            _context._labels.highlight(d, true);
            var text = _context.model.time.formatDate(segment.t);
            var selectedData = utils.find(_context.model.marker.select, function (f) {
              return utils.getKey(f, KEYS) == d[KEY];
            });
            _context.model.marker.getFrame(pointer[TIMEDIM], function (values) {
              var x = _context.xScale(values.axis_x[utils.getKey(d, dataKeys.axis_x)]);
              var y = _context.yScale(values.axis_y[utils.getKey(d, dataKeys.axis_y)]);
              var s = utils.areaToRadius(_context.sScale(values.size[utils.getKey(d, dataKeys.size)]));
              var c = values.color[utils.getKey(d, dataKeys.color)] != null ? _context.cScale(values.color[utils.getKey(d, dataKeys.color)]) : _context.COLOR_WHITEISH;
              if (text !== selectedData.trailStartTime) {
                _context._setTooltip(text, x, y, s + 3, c);
              }
              _context._setBubbleCrown(x, y, s, c);
              _context.model.marker.getModelObject("highlight").trigger("change", {
                "size": values.size[utils.getKey(d, dataKeys.size)],
                "color": values.color[utils.getKey(d, dataKeys.color)]
              });
            });
            //change opacity to OPACITY_HIGHLT = 1.0;
            d3.select(this).style("opacity", 1.0);
          }).on("mouseout", function (segment, index) {
            if (utils.isTouchDevice()) return;
            _context._axisProjections();
            _context._setTooltip();
            _context._setBubbleCrown();
            _context._labels.highlight(null, false);
            _context.model.marker.getModelObject("highlight").trigger("change", null);
            d3.select(this).style("opacity", _context.model.marker.opacityRegular);
          }).each(function (segment, index) {
            var view = d3.select(this);
            view.append("circle");
            view.append("line");
          }).merge(entityTrails);
          resolve();
        }));
      });
      if (promises.length > 0) {
        Promise.all(promises).then(function (segments) {
          resolve(true);
        });
      } else {
        resolve(true);
      }
    });
    return this._isCreated;
  },


  /**
   * add actions for each selected entities
   * @param selections
   * @param actions
   * @private
   */
  _addActions: function _addActions(selections, actions) {
    var _context = this.context;
    var _this = this;
    var KEYS = _context.KEYS;

    selections.forEach(function (d) {
      var key = utils.getKey(d, KEYS);
      if (!_this.actionsQueue[key]) _this.actionsQueue[key] = [];
      _this.actionsQueue[key] = [].concat(_this.actionsQueue[key].filter(function (value) {
        return actions.indexOf(value) == -1;
      }), actions);
    });
  },
  _clearActions: function _clearActions(selections) {
    var _context = this.context;
    var _this = this;
    var KEYS = _context.KEYS;

    selections.forEach(function (d) {
      var key = utils.getKey(d, KEYS);
      if (!_this.actionsQueue[key]) _this.actionsQueue[key] = [];
      _this.actionsQueue[key] = [];
      _this.drawingQueue[key] = {};
      _this.delayedIterations[key] = {};
      if (!_this.activePromises[key]) _this.activePromises[key] = [];
      utils.forEach(_this.activePromises[key], function (promise, key) {
        if (promise.status === "pending") promise.reject();
      });
      _this.trailsInProgress[key] = null;
      _this.activePromises[key] = [];
    });
  },
  _getNextAction: function _getNextAction(key) {
    return this.actionsQueue[key].shift();
  },
  run: function run(actions, selection, duration) {
    var _context = this.context;
    var _this = this;
    var KEY = _context.KEY;
    if (!this._isCreated || _context.model.time.splash) return;
    if (typeof actions === "string") actions = [actions];

    this._isCreated.then(function () {
      //quit if function is called accidentally
      if ((!_context.model.ui.chart.trails || !_context.model.marker.select.length) && actions != "remove") return;

      if (!duration) duration = 0;

      //work with marker.select (all selected entities), if no particular selection is specified
      selection = selection == null ? _context.model.marker.select : [selection];
      for (var i = 0; i < actions.length; i++) {
        if (["resize", "recolor", "remove"].indexOf(actions[i]) != -1) {
          (function () {
            var action = actions.splice(i, 1).pop();
            --i;
            _this.trailsData.forEach(function (d) {
              var trail = _this.entityTrails[d[KEY]];
              _context._trails["_" + action](trail, duration, d);
            });
          })();
        }
      }
      if (actions.length == 0) {
        return;
      }
      _this._addActions(selection, actions);
      _this.trailsData.forEach(function (d) {
        if (actions.indexOf("findVisible") != -1) {
          _this.drawingQueue[d[KEY]] = {};
          _this.delayedIterations[d[KEY]] = {};
        }
        var trail = _this.entityTrails[d[KEY]];
        //do all the actions over "trail"
        var executeSequential = function executeSequential(index) {
          // some function can be async, but we should run next when previous completed
          var action = _this._getNextAction(d[KEY]);
          if (action) {
            _this.trailsInProgress[d[KEY]] = action;
            var response = _context._trails["_" + action](trail, duration, d);
            if (response && response instanceof Promise) {
              response.then(function () {
                _this.trailsInProgress[d[KEY]] = null;
                executeSequential(index + 1);
              }, function () {
                _this.trailsInProgress[d[KEY]] = null;
              });
            } else {
              _this.trailsInProgress[d[KEY]] = null;
              executeSequential(index + 1);
            }
          }
        };
        if (!_this.trailsInProgress[d[KEY]]) {
          executeSequential(0);
        }
      });
    });
  },
  _remove: function _remove(trail, duration, d) {
    this.actionsQueue[d[this.context.KEY]] = [];
    if (trail) {
      // TODO: in some reason run twice
      d3.select(this.entityTrails[d[this.context.KEY]].node().parentNode).remove();
      this.entityTrails[d[this.context.KEY]] = null;
    }
  },
  _resize: function _resize(trail, duration, d) {
    var _context = this.context;
    if (_context.model.time.splash) {
      return;
    }
    //    this._isCreated.then(function() {
    var updateLabel = false;

    trail.each(function (segment, index) {

      if (segment.valueY == null || segment.valueX == null || segment.valueS == null) return;

      var view = d3.select(this);
      if (duration) {
        view.select("circle").transition().duration(duration).ease(d3.easeLinear).attr("cy", _context.yScale(segment.valueY)).attr("cx", _context.xScale(segment.valueX)).attr("r", utils.areaToRadius(_context.sScale(segment.valueS)));
      } else {
        view.select("circle").interrupt().attr("cy", _context.yScale(segment.valueY)).attr("cx", _context.xScale(segment.valueX)).attr("r", utils.areaToRadius(_context.sScale(segment.valueS))).transition();
      }

      if (!updateLabel && !segment.transparent) {
        updateLabel = true;
        _context._labels.updateLabelOnlyPosition(d, null, { "scaledS0": utils.areaToRadius(_context.sScale(segment.valueS)) });
      }

      if (!segment.next) return;
      var next = segment.next;
      if (next == null) return;
      if (next.valueY == null || next.valueX == null) return;

      var lineLength = Math.sqrt(Math.pow(_context.xScale(segment.valueX) - _context.xScale(next.valueX), 2) + Math.pow(_context.yScale(segment.valueY) - _context.yScale(next.valueY), 2));
      if (duration) {
        view.select("line").transition().duration(duration).ease(d3.easeLinear).attr("x1", _context.xScale(next.valueX)).attr("y1", _context.yScale(next.valueY)).attr("x2", _context.xScale(segment.valueX)).attr("y2", _context.yScale(segment.valueY)).attr("stroke-dasharray", lineLength).attr("stroke-dashoffset", utils.areaToRadius(_context.sScale(segment.valueS)));
      } else {
        view.select("line").interrupt().attr("x1", _context.xScale(next.valueX)).attr("y1", _context.yScale(next.valueY)).attr("x2", _context.xScale(segment.valueX)).attr("y2", _context.yScale(segment.valueY)).attr("stroke-dasharray", lineLength).attr("stroke-dashoffset", utils.areaToRadius(_context.sScale(segment.valueS))).transition();
      }
    });
  },
  _recolor: function _recolor(trail, duration, d) {
    var _context = this.context;

    trail.each(function (segment, index) {

      var view = d3.select(this);

      var strokeColor = _context.model.marker.color.which == "geo.world_4region" ?
      //use predefined shades for color palette for "geo.world_4region" (hardcoded)
      _context.model.marker.color.getColorShade({
        colorID: segment.valueC,
        shadeID: "shade"
      }) :
      //otherwise use color of the bubble with a fallback to bubble stroke color (blackish)
      segment.valueC != null ? _context.cScale(segment.valueC) : _context.COLOR_BLACKISH;

      view.select("circle")
      //.transition().duration(duration).ease(d3.easeLinear)
      .style("fill", segment.valueC != null ? _context.cScale(segment.valueC) : _context.COLOR_WHITEISH);
      view.select("line")
      //.transition().duration(duration).ease(d3.easeLinear)
      .style("stroke", strokeColor);
    });
  },
  _opacityHandler: function _opacityHandler(trail, duration, d) {
    var _context = this.context;

    trail.each(function (segment, index) {

      var view = d3.select(this);

      view
      //.transition().duration(duration).ease(d3.easeLinear)
      .style("opacity", d.opacity || _context.model.marker.opacityRegular);
    });
  },
  _findVisible: function _findVisible(trail, duration, d) {
    var _context = this.context;
    var _this = this;
    var KEY = _context.KEY;
    var dataKeys = _context.dataKeys;
    return new Promise(function (resolve, reject) {
      new Promise(function (resolve1, reject1) {
        if (!d.limits) {
          _context.model.marker.getEntityLimits(d[KEY]).then(function (limits) {
            d.limits = limits;
            resolve1();
          });
        } else {
          resolve1();
        }
      }).then(function () {
        if (!d.selectedEntityData.trailStartTime) {
          d.selectedEntityData.trailStartTime = _context.model.time.formatDate(_context.time);
        }
        var trailStartTime = _context.model.time.parse("" + d.selectedEntityData.trailStartTime);
        if (_context.time - trailStartTime < 0 || d.limits.min - trailStartTime > 0) {
          if (_context.time - trailStartTime < 0) {
            // move trail start time with trail label back if need
            d.selectedEntityData.trailStartTime = _context.model.time.formatDate(d3.max([_context.time, d.limits.min]));
            trailStartTime = _context.model.time.parse("" + d.selectedEntityData.trailStartTime);
          } else {
            // move trail start time with trail label to start time if need
            d.selectedEntityData.trailStartTime = _context.model.time.formatDate(d.limits.min);
            trailStartTime = _context.model.time.parse("" + d.selectedEntityData.trailStartTime);
          }
          var cache = _context._labels.cached[d[KEY]];
          var valueS = _context.frame.size[utils.getKey(d, dataKeys.size)];
          var valueC = _context.frame.color[utils.getKey(d, dataKeys.color)];
          cache.labelX0 = _context.frame.axis_x[utils.getKey(d, dataKeys.axis_x)];
          cache.labelY0 = _context.frame.axis_y[utils.getKey(d, dataKeys.axis_y)];
          cache.scaledS0 = valueS || valueS === 0 ? utils.areaToRadius(_context.sScale(valueS)) : null;
          cache.scaledC0 = valueC != null ? _context.cScale(valueC) : _context.COLOR_WHITEISH;
          _context._updateLabel(d, 0, _context.frame, cache.labelX0, cache.labelY0, valueS, valueC, _context.frame.label[utils.getKey(d, dataKeys.label)], _context.frame.size_label[utils.getKey(d, dataKeys.size_label)], 0, true);
        }
        trail.each(function (segment, index) {
          // segment is transparent if it is after current time or before trail StartTime
          var segmentVisibility = segment.transparent;
          segment.transparent = d.selectedEntityData.trailStartTime == null || segment.t - _context.time > 0 || trailStartTime - segment.t > 0
          //no trail segment should be visible if leading bubble is shifted backwards, beyond start time
          || d.selectedEntityData.trailStartTime - _context.model.time.formatDate(_context.time) >= 0;
          // always update nearest 2 points
          if (segmentVisibility != segment.transparent || Math.abs(_context.model.time.formatDate(segment.t) - _context.model.time.formatDate(_context.time)) < 2) segment.visibilityChanged = true; // segment changed, so need to update it
          if (segment.transparent) {
            d3.select(trail._groups[0][index]).classed("vzb-invisible", segment.transparent);
          }
        });
        _this.drawingQueue[d[KEY]] = {};
        _this.delayedIterations[d[KEY]] = {};
        resolve();
      });
    });
  },
  _abortAnimation: function _abortAnimation() {
    var _context = this.context;
    var _this = this;
    var KEY = _context.KEY;
    _this.trailsData.forEach(function (d) {
      if (_this.trailTransitions[d[KEY]]) {
        _this.trailTransitions[d[KEY]].select("line").interrupt().transition();
      }
    });
  },
  _reveal: function _reveal(trail, duration, d) {
    var _context = this.context;
    if (_context.model.time.playing) duration = _context.model.time.delay;
    var _this = this;
    var KEYS = _context.KEYS;
    var KEY = _context.KEY;
    var dataKeys = _context.dataKeys;
    d.status = "reveal";
    var trailStartTime = _context.model.time.parse("" + d.selectedEntityData.trailStartTime);
    var generateTrailSegment = function generateTrailSegment(trail, index, nextIndex, level) {
      return new Promise(function (resolve, reject) {
        var view = d3.select(trail._groups[0][index]);

        var segment = view.datum();

        //console.log(d[KEY] + " transparent: " + segment.transparent + " vis_changed:" + segment.visibilityChanged);
        if (nextIndex - index == 1) {
          if (segment.transparent) {
            view.classed("vzb-invisible", segment.transparent);
            return resolve();
          } else if (!segment.visibilityChanged) {
            // pass segment if it is not changed
            return resolve();
          }
        }
        _context.model.marker.getFrame(segment.t, function (frame) {
          if (d.status != "reveal") return resolve();
          if (!frame) return resolve();
          segment.valueY = frame.axis_y[utils.getKey(d, dataKeys.axis_y)];
          segment.valueX = frame.axis_x[utils.getKey(d, dataKeys.axis_x)];
          segment.valueS = frame.size[utils.getKey(d, dataKeys.size)];
          segment.valueC = frame.color[utils.getKey(d, dataKeys.color)];

          if (segment.valueY == null || segment.valueX == null || segment.valueS == null) {
            return resolve();
          }

          // fix label position if it not in correct place
          if (trailStartTime && trailStartTime.toString() == segment.t.toString()) {
            var cache = _context._labels.cached[d[KEY]];
            cache.labelX0 = segment.valueX;
            cache.labelY0 = segment.valueY;
            var valueS = segment.valueS;
            cache.scaledS0 = valueS || valueS === 0 ? utils.areaToRadius(_context.sScale(valueS)) : null;
            cache.scaledC0 = segment.valueC != null ? _context.cScale(segment.valueC) : _context.COLOR_WHITEISH;
            _context._updateLabel(d, index, frame, segment.valueX, segment.valueY, segment.valueS, segment.valueC, frame.label[utils.getKey(d, dataKeys.label)], frame.size_label[utils.getKey(d, dataKeys.size_label)], 0, true);
          }
          view.select("circle")
          //.transition().duration(duration).ease(d3.easeLinear)
          .attr("cy", _context.yScale(segment.valueY)).attr("cx", _context.xScale(segment.valueX)).attr("r", utils.areaToRadius(_context.sScale(segment.valueS))).style("fill", segment.valueC != null ? _context.cScale(segment.valueC) : _context.COLOR_WHITEISH);

          view.select("line").attr("x2", _context.xScale(segment.valueX)).attr("y2", _context.yScale(segment.valueY)).attr("x1", _context.xScale(segment.valueX)).attr("y1", _context.yScale(segment.valueY));

          // last point should have data for line but it is invisible
          if (_context.time - segment.t > 0) {
            segment.visibilityChanged = false;
            view.classed("vzb-invisible", segment.transparent);
          } else {
            view.classed("vzb-invisible", true);
          }

          if (!trail._groups[0][nextIndex] || _context.time.toString() == segment.t.toString()) {
            return resolve();
          }

          var next = d3.select(trail._groups[0][nextIndex]);
          var nextSegment = next.datum();
          nextSegment.previous = segment;
          segment.next = nextSegment;
          var nextTime = nextSegment.t;
          if (_context.time - nextSegment.t < 0) {
            // time is not equal start of year
            segment.visibilityChanged = true; // redraw needed next time because line not have full length
            nextTime = _context.time;
          }
          _context.model.marker.getFrame(nextTime, function (nextFrame) {
            if (d.status != "reveal") return resolve();
            if (!nextFrame || segment.valueY == null || segment.valueX == null || segment.valueS == null) {
              return resolve();
            }

            if (nextFrame.axis_x[utils.getKey(d, dataKeys.axis_x)] == null || nextFrame.axis_y[utils.getKey(d, dataKeys.axis_y)] == null) {
              return resolve();
            }

            nextSegment.valueY = nextFrame.axis_y[utils.getKey(d, dataKeys.axis_y)];
            nextSegment.valueX = nextFrame.axis_x[utils.getKey(d, dataKeys.axis_x)];
            nextSegment.valueS = nextFrame.size[utils.getKey(d, dataKeys.size)];
            nextSegment.valueC = nextFrame.color[utils.getKey(d, dataKeys.color)];

            _this.trailTransitions[d[KEY]] = view;
            var strokeColor = _context.model.marker.color.which == "geo.world_4region" ?
            //use predefined shades for color palette for "geo.world_4region" (hardcoded)
            _context.model.marker.color.getColorShade({
              colorID: segment.valueC,
              shadeID: "shade"
            }) :
            //otherwise use color of the bubble with a fallback to bubble stroke color (blackish)
            segment.valueC != null ? _context.cScale(segment.valueC) : _context.COLOR_BLACKISH;

            var lineLength = Math.sqrt(Math.pow(_context.xScale(segment.valueX) - _context.xScale(nextSegment.valueX), 2) + Math.pow(_context.yScale(segment.valueY) - _context.yScale(nextSegment.valueY), 2));
            view.select("line").attr("stroke-dasharray", lineLength).attr("stroke-dashoffset", utils.areaToRadius(_context.sScale(segment.valueS))).style("stroke", strokeColor).transition().duration(duration).ease(d3.easeLinear).attr("x1", _context.xScale(nextSegment.valueX)).attr("y1", _context.yScale(nextSegment.valueY)).attr("x2", _context.xScale(segment.valueX)).attr("y2", _context.yScale(segment.valueY));
            if (nextIndex - index > 1) {
              addNewIntervals(index, nextIndex);
              return resolve();
            }
            return resolve();
          });
        });
      });
    };
    var addPointBetween = function addPointBetween(previousIndex, nextIndex, index) {
      return new Promise(function (resolve, reject) {
        var previous = d3.select(trail._groups[0][previousIndex]);
        var next = d3.select(trail._groups[0][nextIndex]);
        var view = d3.select(trail._groups[0][index]);
        var previousSegment = previous.datum();
        var nextSegment = next.datum();
        var segment = view.datum();

        if (!previousSegment.previous && !previousSegment.next || !nextSegment.previous && !nextSegment.next) {
          // segment data cleared by create action
          return resolve();
        }

        _context.model.marker.getFrame(segment.t, function (frame) {
          if (d.status != "reveal") return resolve();
          if (!frame || typeof frame.axis_x === "undefined" || frame.axis_x[utils.getKey(d, dataKeys.axis_x)] == null || typeof frame.axis_y === "undefined" || frame.axis_y[utils.getKey(d, dataKeys.axis_y)] == null) {
            utils.warn("Frame for trail missed: " + segment.t);
            return resolve();
          }
          segment.valueY = frame.axis_y[utils.getKey(d, dataKeys.axis_y)];
          segment.valueX = frame.axis_x[utils.getKey(d, dataKeys.axis_x)];
          segment.valueS = frame.size[utils.getKey(d, dataKeys.size)];
          segment.valueC = frame.color[utils.getKey(d, dataKeys.color)];

          segment.previous = previousSegment;
          segment.next = nextSegment;
          previousSegment.next = segment;
          nextSegment.previous = segment;

          if (segment.valueY == null || segment.valueX == null || segment.valueS == null) {
            utils.warn("Data for trail point missed: " + segment.t);
            return resolve();
          }

          var strokeColor = _context.model.marker.color.which == "geo.world_4region" ?
          //use predefined shades for color palette for "geo.world_4region" (hardcoded)
          _context.model.marker.color.getColorShade({
            colorID: segment.valueC,
            shadeID: "shade"
          }) :
          //otherwise use color of the bubble with a fallback to bubble stroke color (blackish)
          segment.valueC != null ? _context.cScale(segment.valueC) : _context.COLOR_BLACKISH;

          var firstLineLength = Math.sqrt(Math.pow(_context.xScale(previousSegment.valueX) - _context.xScale(segment.valueX), 2) + Math.pow(_context.yScale(previousSegment.valueY) - _context.yScale(segment.valueX), 2));

          previous.select("line").transition().duration(duration).ease(d3.easeLinear).attr("x1", _context.xScale(segment.valueX)).attr("y1", _context.yScale(segment.valueY)).attr("x2", _context.xScale(previousSegment.valueX)).attr("y2", _context.yScale(previousSegment.valueY)).attr("stroke-dasharray", firstLineLength).attr("stroke-dashoffset", utils.areaToRadius(_context.sScale(previousSegment.valueS))).style("stroke", strokeColor);

          view.classed("vzb-invisible", segment.transparent);

          if (!segment.transparent) {
            view.select("circle")
            //.transition().duration(duration).ease(d3.easeLinear)
            .attr("cy", _context.yScale(segment.valueY)).attr("cx", _context.xScale(segment.valueX)).attr("r", utils.areaToRadius(_context.sScale(segment.valueS))).style("fill", segment.valueC != null ? _context.cScale(segment.valueC) : _context.COLOR_WHITEISH);

            var secondLineLength = Math.sqrt(Math.pow(_context.xScale(segment.valueX) - _context.xScale(nextSegment.valueX), 2) + Math.pow(_context.yScale(segment.valueY) - _context.yScale(nextSegment.valueY), 2));

            view.select("line").transition().duration(duration).ease(d3.easeLinear).attr("x1", _context.xScale(nextSegment.valueX)).attr("y1", _context.yScale(nextSegment.valueY)).attr("x2", _context.xScale(segment.valueX)).attr("y2", _context.yScale(segment.valueY)).attr("stroke-dasharray", secondLineLength).attr("stroke-dashoffset", utils.areaToRadius(_context.sScale(segment.valueS))).style("stroke", strokeColor);
          }
          addNewIntervals(previousIndex, index, nextIndex);
          resolve();
        });
      });
    };
    var addNewIntervals = function addNewIntervals(previousIndex, index, nextIndex) {
      var mediumIndex = void 0;
      if (index - previousIndex > 1) {
        mediumIndex = getPointBetween(previousIndex, index);
        _this.delayedIterations[d[KEY]][previousIndex] = {
          first: previousIndex,
          next: index,
          medium: mediumIndex
        };
      }
      if (nextIndex && nextIndex - index > 1) {
        mediumIndex = getPointBetween(index, nextIndex);
        _this.delayedIterations[d[KEY]][index] = {
          first: index,
          next: nextIndex,
          medium: mediumIndex
        };
      }
    };
    var getPointBetween = function getPointBetween(previous, next) {
      return Math.round(previous + (next - previous) / 2);
    };

    var _generateKeys = function _generateKeys(d, trail, div) {
      var response = [];
      var min = 0,
          max = 0;
      var maxValue = d3.min([d.limits.max, _context.time]);
      var minValue = d3.max([d.limits.min, _context.model.time.parse("" + d.selectedEntityData.trailStartTime)]);
      utils.forEach(trail._groups[0], function (segment, index) {
        var data = segment.__data__;
        if (data.t - minValue == 0) {
          min = index;
        } else if (data.t - maxValue == 0) {
          max = index;
        } else {
          if (data.t > minValue && data.t < maxValue) {
            if (_context.model.time.formatDate(data.t) % div == 0 || data.next && data.previous) {
              response.push(index);
            }
          }
        }
      });
      response.unshift(min);
      if (max > 0) {
        response.push(max);
      }
      return response;
    };

    var processPoints = function processPoints() {
      return new Promise(function (resolve, reject) {
        var processPoint = function processPoint() {
          var pointIndex = Object.keys(_this.drawingQueue[d[KEY]])[Math.floor(Math.random() * Object.keys(_this.drawingQueue[d[KEY]]).length)];
          var point = JSON.parse(JSON.stringify(_this.drawingQueue[d[KEY]][pointIndex]));
          delete _this.drawingQueue[d[KEY]][pointIndex];
          addPointBetween(point.first, point.next, point.medium).then(function () {
            if (Object.keys(_this.drawingQueue[d[KEY]]).length > 0) {
              processPoint();
            } else {
              resolve();
            }
          });
        };
        if (Object.keys(_this.drawingQueue[d[KEY]]).length > 0) {
          processPoint(_this.drawingQueue[d[KEY]]);
        } else {
          resolve();
        }
      });
    };

    return new Promise(function (resolve, reject) {
      /**
       * iteration for each point from first segment to last
       * @param trail
       * @param index
       */
      var generateTrails = function generateTrails(trail, index) {
        if (index < 0 || index >= trail._groups[0].length) {
          return resolve();
        }
        generateTrailSegment(trail, index, index + 1).then(function () {
          generateTrails(trail, index + 1);
        }, function () {
          return resolve();
        });
      };

      /**
       * recursive iteration for drawing point between points calculated in previous step
       */
      var processPointsBetween = function processPointsBetween() {
        processPoints().then(function () {
          if (Object.keys(_this.delayedIterations[d[KEY]]).length == 0) {
            return resolve();
          }
          _this.drawingQueue[d[KEY]] = _this.delayedIterations[d[KEY]];
          _this.delayedIterations[d[KEY]] = {};
          processPointsBetween();
        }, function () {
          return resolve();
        });
      };

      if (_context.model.marker.framesAreReady()) {
        generateTrails(trail, 0);
      } else {
        _this.delayedIterations[d[KEY]] = {};
        _this.drawingQueue[d[KEY]] = {};
        var trailKeys = _generateKeys(d, trail, 50);
        var segments = [];
        if (trailKeys.length <= 1) {
          return resolve();
        }

        _this.delayedIterations[d[KEY]] = {};
        for (var i = 0; i < trailKeys.length - 1; i++) {
          segments.push(generateTrailSegment(trail, trailKeys[i], trailKeys[i + 1], 1));
        }
        Promise.all(segments).then(function () {
          if (Object.keys(_this.delayedIterations[d[KEY]]).length == 0) {
            resolve();
          } else {
            _this.drawingQueue[d[KEY]] = _this.delayedIterations[d[KEY]];
            _this.delayedIterations[d[KEY]] = {};
            processPointsBetween();
          }
        }, function () {
          resolve();
        });
      }
    });
  }
});

exports.default = Trail;

/***/ }),
/* 4 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
;(function(root, factory) {
	// https://github.com/umdjs/umd/blob/master/returnExports.js
	if (true) {
		// For Node.js.
		module.exports = factory(root);
	} else if (typeof define == 'function' && define.amd) {
		// For AMD. Register as an anonymous module.
		define([], factory.bind(root, root));
	} else {
		// For browser globals (not exposing the function separately).
		factory(root);
	}
}(typeof global != 'undefined' ? global : this, function(root) {

	if (root.CSS && root.CSS.escape) {
		return root.CSS.escape;
	}

	// https://drafts.csswg.org/cssom/#serialize-an-identifier
	var cssEscape = function(value) {
		if (arguments.length == 0) {
			throw new TypeError('`CSS.escape` requires an argument.');
		}
		var string = String(value);
		var length = string.length;
		var index = -1;
		var codeUnit;
		var result = '';
		var firstCodeUnit = string.charCodeAt(0);
		while (++index < length) {
			codeUnit = string.charCodeAt(index);
			// Note: there’s no need to special-case astral symbols, surrogate
			// pairs, or lone surrogates.

			// If the character is NULL (U+0000), then the REPLACEMENT CHARACTER
			// (U+FFFD).
			if (codeUnit == 0x0000) {
				result += '\uFFFD';
				continue;
			}

			if (
				// If the character is in the range [\1-\1F] (U+0001 to U+001F) or is
				// U+007F, […]
				(codeUnit >= 0x0001 && codeUnit <= 0x001F) || codeUnit == 0x007F ||
				// If the character is the first character and is in the range [0-9]
				// (U+0030 to U+0039), […]
				(index == 0 && codeUnit >= 0x0030 && codeUnit <= 0x0039) ||
				// If the character is the second character and is in the range [0-9]
				// (U+0030 to U+0039) and the first character is a `-` (U+002D), […]
				(
					index == 1 &&
					codeUnit >= 0x0030 && codeUnit <= 0x0039 &&
					firstCodeUnit == 0x002D
				)
			) {
				// https://drafts.csswg.org/cssom/#escape-a-character-as-code-point
				result += '\\' + codeUnit.toString(16) + ' ';
				continue;
			}

			if (
				// If the character is the first character and is a `-` (U+002D), and
				// there is no second character, […]
				index == 0 &&
				length == 1 &&
				codeUnit == 0x002D
			) {
				result += '\\' + string.charAt(index);
				continue;
			}

			// If the character is not handled by one of the above rules and is
			// greater than or equal to U+0080, is `-` (U+002D) or `_` (U+005F), or
			// is in one of the ranges [0-9] (U+0030 to U+0039), [A-Z] (U+0041 to
			// U+005A), or [a-z] (U+0061 to U+007A), […]
			if (
				codeUnit >= 0x0080 ||
				codeUnit == 0x002D ||
				codeUnit == 0x005F ||
				codeUnit >= 0x0030 && codeUnit <= 0x0039 ||
				codeUnit >= 0x0041 && codeUnit <= 0x005A ||
				codeUnit >= 0x0061 && codeUnit <= 0x007A
			) {
				// the character itself
				result += string.charAt(index);
				continue;
			}

			// Otherwise, the escaped character.
			// https://drafts.csswg.org/cssom/#escape-a-character
			result += '\\' + string.charAt(index);

		}
		return result;
	};

	if (!root.CSS) {
		root.CSS = {};
	}

	root.CSS.escape = cssEscape;
	return cssEscape;

}));

/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(7)))

/***/ }),
/* 5 */
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin

/***/ }),
/* 6 */
/***/ (function(module, exports) {

module.exports = "<!-- Bubble Chart Component -->\n<div class=\"vzb-bubblechart\">\n    <svg class=\"vzb-bubblechart-svg vzb-export\">\n        <g class=\"vzb-bc-graph\">\n            <g class=\"vzb-bc-year\"></g>\n\n            <svg class=\"vzb-bc-axis-x\"><g></g></svg>\n            <svg class=\"vzb-bc-axis-y\"><g></g></svg>\n            <line class=\"vzb-bc-projection-x\"></line>\n            <line class=\"vzb-bc-projection-y\"></line>\n\n            <svg class=\"vzb-bc-bubbles-crop\">\n                <g class=\"vzb-zoom-selection\"></g>\n                <g class=\"vzb-bc-decorations\">\n                    <line class=\"vzb-bc-line-equal-xy vzb-invisible\"></line>\n                    <g class=\"vzb-bc-x-axis-groups\"></g>\n                </g>\n                <rect class=\"vzb-bc-eventarea\"></rect>\n                <g class=\"vzb-bc-trails\"></g>\n                <g class=\"vzb-bc-bubbles\"></g>\n                <g class=\"vzb-bc-lines\"></g>\n                <g class=\"vzb-bc-bubble-crown vzb-hidden\">\n                    <circle class=\"vzb-crown-glow\"></circle>\n                    <circle class=\"vzb-crown\"></circle>\n                </g>\n            </svg>\n\n            <g class=\"vzb-bc-axis-y-subtitle\"></g>\n            <g class=\"vzb-bc-axis-x-subtitle\"></g>\n            <g class=\"vzb-bc-axis-y-title\"></g>\n            <g class=\"vzb-bc-axis-x-title\"></g>\n            <g class=\"vzb-bc-axis-s-title\"></g>\n            <g class=\"vzb-bc-axis-c-title\"></g>\n\n            <g class=\"vzb-bc-axis-y-info vzb-noexport\"></g>\n            <g class=\"vzb-bc-axis-x-info vzb-noexport\"></g>\n\n            <svg class=\"vzb-bc-labels-crop\">\n                <g class=\"vzb-bc-labels\"></g>\n            </svg>\n\n            <g class=\"vzb-data-warning vzb-noexport\">\n                <svg></svg>\n                <text></text>\n            </g>\n\n            <rect class=\"vzb-bc-zoom-rect\"></rect>\n        </g>\n    </svg>\n    <svg>\n        <defs>\n            <filter id=\"vzb-glow-filter\" x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\">\n                <feGaussianBlur in=\"SourceGraphic\" stdDeviation=\"2\"></feGaussianBlur>\n            </filter>\n        </defs>\n    </svg>\n    <!-- This could possibly be another component -->\n    <div class=\"vzb-tooltip vzb-hidden vzb-tooltip-mobile\"></div>\n</div>\n";

/***/ }),
/* 7 */
/***/ (function(module, exports) {

var g;

// This works in non-strict mode
g = (function() {
	return this;
})();

try {
	// This works if eval is allowed (see CSP)
	g = g || Function("return this")() || (1,eval)("this");
} catch(e) {
	// This works if the window reference is available
	if(typeof window === "object")
		g = window;
}

// g can still be undefined, but nothing to do about it...
// We return undefined, instead of nothing here, so it's
// easier to handle this case. if(!global) { ...}

module.exports = g;


/***/ }),
/* 8 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(0);


/***/ })
/******/ ]);
//# sourceMappingURL=bubblechart.js.map</script>
</head>
<body>
<div id="placeholder" height="400px">

</div>
<script>
var wsReader = WsReader.WsReader.getReader();
Vizabi.Reader.extend("waffle", wsReader);

ConfigBubbleChart.locale = {
  "id": "en",
  "filePath": "//s3-eu-west-1.amazonaws.com/static.gapminderdev.org/vizabi/develop/assets/translation/"
};

ConfigBubbleChart.data = {
  "reader": "waffle",
  "path": "https://waffle-server-dev.gapminderdev.org/api/ddf/ql"
};

Vizabi("BubbleChart", document.getElementById("placeholder"), ConfigBubbleChart);
</script>
</body>
<aside>
SHOWING A FREE VIZUALIZATION FROM GAPMINDER.ORG, CC-BY LICENSE
</aside>
<p><br></p>
<p>Dal 4 all’8 Febbraio 2019, studenti, familiari e amici delle scuole coinvolte hanno avuto la possibilità di rispondere ad un questionario di dieci domande sulla conoscenza degli aspetti socio-economici del mondo di oggi.</p>
<p>Abbiamo raccolto 645 risposte al questionario. Com’è andata?</p>
<p><a href="docs/questionario.html"><strong>IL QUESTIONARIO</strong></a></p>
<p>Per i risultati dell’esperimento sull’effetto ancoraggio:</p>
<p><a href="docs/ancoraggio.html"><strong>L’EFFETTO ANCORAGGIO</strong></a></p>
<p>Per le slides:</p>
<p><a href="docs/slides.html"><strong>SLIDES</strong></a></p>
<p>Per il laboratorio:</p>
<p><a href="docs/laboratorio.html"><strong>LABORATORIO</strong></a></p>
<h1 id="le-scuole-coinvolte">Le scuole coinvolte</h1>
<table>
<thead>
<tr class="header">
<th>Scuola</th>
<th>Comune</th>
<th>Studenti partecipanti</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Liceo Scientifico E. Amaldi</td>
<td>Alzano Lombardo</td>
<td>91</td>
</tr>
<tr class="even">
<td>Liceo Scientifico P. Frisi</td>
<td>Monza</td>
<td>27</td>
</tr>
<tr class="odd">
<td>Liceo Scientifico G. Marconi</td>
<td>Milano</td>
<td>8</td>
</tr>
<tr class="even">
<td>Liceo Scientifico L. Mascheroni</td>
<td>Bergamo</td>
<td>52</td>
</tr>
<tr class="odd">
<td>Istituto di Istruzione Superiore L. Galvani</td>
<td>Milano</td>
<td>49</td>
</tr>
<tr class="even">
<td>Liceo Classico e Linguistico A. Manzoni</td>
<td>Lecco</td>
<td>1</td>
</tr>
<tr class="odd">
<td>Liceo Scientifico A. Einstein</td>
<td>Milano</td>
<td>27</td>
</tr>
</tbody>
</table>
<h1 id="il-pls-di-statistica">Il PLS di Statistica</h1>
<p>L’Università degli Studi di Milano-Bicocca aderisce da anni all’iniziativa del Piano delle Lauree Scientifiche (PLS) promossa dal Ministero dell’Università e dell’Istruzione (MIUR). Il PLS è stato creato per diffondere la conoscenza delle discipline scientifiche, inizialmente incluse nel progetto in numero relativamente ridotto, solo nel 2010 è entrata ufficialmente la disciplina Statistica dando luogo all’attività di Matematica-Statistica e dal 2015 la Statistica ha acquisito completa autonomia.</p>
<p>I due Corsi di laurea triennale di Statistica dell’Ateneo Milano-Bicocca, convenendo sulla necessità di una maggiore conoscenza della Statistica nelle Scuole secondarie di secondo grado, propongono attività diversificate all’interno del PLS.</p>
<h1 id="i-laboratori-passati">I laboratori passati</h1>
<p>Il Piano Lauree Scientifiche di Statistica propone come attività centrale i <em>laboratori didattici</em>. Negli anni passati i laboratori hanno affrontato il tema del gioco d’azzardo con l’obiettivo di presentare e discutere gli aspetti di natura matematica, probabilistica e statistica legati ai diversi giochi proposti.</p>
<ul>
<li><p>Laboratorio “<em>Il gioco e il caso</em>”: condiviso con i corsi di Matematica, prevede un laboratorio probabilistico sul tema del gioco d’azzardo e un laboratorio statistico di analisi di questionari preventivamente somministrati.</p></li>
<li><p>Laboratorio “<em>La statistica e il gioco</em>”: è programmato su un biennio e prevede in un primo anno l’introduzione all’analisi statistica del fenomeno attraverso somministrazione di questionari, nel secondo anno simulazioni di gioco d’azzardo.</p></li>
</ul>
<p>Le diverse attività di laboratorio sono rivolte a studenti delle scuole secondarie di secondo grado dalla II classe. Obiettivo di questa azione è rendere maggiormente consapevoli gli studenti delle scuole secondarie, delle implicazioni probabilistiche del gioco d’azzardo e della diffusione di tale fenomeno oltre a fornire strumenti di base statistici per interpretare un fenomeno.</p>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>


<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom"></div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<!--/radix_placeholder_navigation_after_body-->

</body>

</html>
